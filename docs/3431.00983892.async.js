var hg=Object.defineProperty;var fg=(vt,be,i)=>be in vt?hg(vt,be,{enumerable:!0,configurable:!0,writable:!0,value:i}):vt[be]=i;var Qn=(vt,be,i)=>(fg(vt,typeof be!="symbol"?be+"":be,i),i);var ua=(vt,be,i)=>new Promise((c,F)=>{var g=$=>{try{S(i.next($))}catch(N){F(N)}},A=$=>{try{S(i.throw($))}catch(N){F(N)}},S=$=>$.done?c($.value):Promise.resolve($.value).then(g,A);S((i=i.apply(vt,be)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[3431,516],{36529:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};be.Z=i},32156:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};be.Z=i},10011:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};be.Z=i},8640:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};be.Z=i},5672:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};be.Z=i},49476:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};be.Z=i},82565:function(vt,be){"use strict";var i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};be.Z=i},5833:function(){"use strict"},42553:function(){"use strict"},89027:function(){"use strict"},729:function(vt,be,i){"use strict";i.d(be,{f:function(){return $}});var c=i(57689),F=i(84234),g=i(97581),A=i(1584),S=function(N,x){var O=typeof Symbol=="function"&&N[Symbol.iterator];if(!O)return N;var p=O.call(N),a,d=[],f;try{for(;(x===void 0||x-- >0)&&!(a=p.next()).done;)d.push(a.value)}catch(s){f={error:s}}finally{try{a&&!a.done&&(O=p.return)&&O.call(p)}finally{if(f)throw f.error}}return d};function $(N){function x(O,p){var a;try{a=N()}catch(_){console.error(_)}var d=function(b){return p!=null&&p.serializer?p==null?void 0:p.serializer(b):JSON.stringify(b)},f=function(b){return p!=null&&p.deserializer?p==null?void 0:p.deserializer(b):JSON.parse(b)};function s(){try{var _=a==null?void 0:a.getItem(O);if(_)return f(_)}catch(b){console.error(b)}return(0,A.mf)(p==null?void 0:p.defaultValue)?p==null?void 0:p.defaultValue():p==null?void 0:p.defaultValue}var r=S((0,c.useState)(function(){return s()}),2),m=r[0],C=r[1];(0,g.Z)(function(){C(s())},[O]);var u=function(b){var E=(0,A.mf)(b)?b(m):b;if(C(E),(0,A.G7)(E))a==null||a.removeItem(O);else try{a==null||a.setItem(O,d(E))}catch(D){console.error(D)}};return[m,(0,F.Z)(u)]}return x}},49911:function(vt,be,i){"use strict";var c=i(729),F=i(865),g=(0,c.f)(function(){return F.Z?localStorage:void 0});be.Z=g},93001:function(vt,be,i){"use strict";var c=i(57689),F=i(13942);be.Z=()=>{const[g,A]=c.useState(!1);return c.useEffect(()=>{A((0,F.fk)())},[]),g}},49094:function(vt,be,i){"use strict";i.d(be,{u:function(){return a},Z:function(){return m}});var c=i(84875),F=i.n(c),g=i(41834),A=i(57689),S=i(54834),$=i(93001),N=i(45325);function x(C){let{className:u,direction:_,index:b,marginDirection:E,children:D,split:w,wrap:I}=C;const{horizontalSize:M,verticalSize:K,latestIndex:z,supportFlexGap:Q}=A.useContext(a);let Y={};return Q||(_==="vertical"?b<z&&(Y={marginBottom:M/(w?2:1)}):Y=Object.assign(Object.assign({},b<z&&{[E]:M/(w?2:1)}),I&&{paddingBottom:K})),D==null?null:A.createElement(A.Fragment,null,A.createElement("div",{className:u,style:Y},D),b<z&&w&&A.createElement("span",{className:`${u}-split`,style:Y},w))}var O=i(728),p=function(C,u){var _={};for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&u.indexOf(b)<0&&(_[b]=C[b]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,b=Object.getOwnPropertySymbols(C);E<b.length;E++)u.indexOf(b[E])<0&&Object.prototype.propertyIsEnumerable.call(C,b[E])&&(_[b[E]]=C[b[E]]);return _};const a=A.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),d={small:8,middle:16,large:24};function f(C){return typeof C=="string"?d[C]:C||0}const r=C=>{const{getPrefixCls:u,space:_,direction:b}=A.useContext(S.E_),{size:E=(_==null?void 0:_.size)||"small",align:D,className:w,rootClassName:I,children:M,direction:K="horizontal",prefixCls:z,split:Q,style:Y,wrap:H=!1}=C,P=p(C,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap"]),X=(0,$.Z)(),[q,U]=A.useMemo(()=>(Array.isArray(E)?E:[E,E]).map(se=>f(se)),[E]),L=(0,g.Z)(M,{keepEmpty:!0}),B=D===void 0&&K==="horizontal"?"center":D,j=u("space",z),[G,y]=(0,O.Z)(j),pe=F()(j,y,`${j}-${K}`,{[`${j}-rtl`]:b==="rtl",[`${j}-align-${B}`]:B},w,I),ye=`${j}-item`,me=b==="rtl"?"marginLeft":"marginRight";let Se=0;const _e=L.map((se,Re)=>{se!=null&&(Se=Re);const $e=se&&se.key||`${ye}-${Re}`;return A.createElement(x,{className:ye,key:$e,direction:K,index:Re,marginDirection:me,split:Q,wrap:H},se)}),he=A.useMemo(()=>({horizontalSize:q,verticalSize:U,latestIndex:Se,supportFlexGap:X}),[q,U,Se,X]);if(L.length===0)return null;const le={};return H&&(le.flexWrap="wrap",X||(le.marginBottom=-U)),X&&(le.columnGap=q,le.rowGap=U),G(A.createElement("div",Object.assign({className:pe,style:Object.assign(Object.assign({},le),Y)},P),A.createElement(a.Provider,{value:he},_e)))};r.Compact=N.ZP;var m=r},97e3:function(vt,be,i){self.MonacoEnvironment=function(c){function F(g){return g.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(g,A){var S=i.p,$=(S?F(S)+"/":"")+c[A];if(/^((http:)|(https:)|(file:)|(\/\/))/.test($)){var N=String(window.location),x=N.substr(0,N.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if($.substring(0,x.length)!==x){/^(\/\/)/.test($)&&($=window.location.protocol+$);var O="/*"+A+'*/importScripts("'+$+'");',p=new Blob([O],{type:"application/javascript"});return URL.createObjectURL(p)}}return $}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),i(86112),i(40680),i(59700),i(66631),i(19949),i(66821),i(36459),i(93775),i(64763),i(33041),i(40876),i(14053),i(16774),i(75410),i(35565),i(21841),i(51760),i(98976),i(65484),i(78375),i(96880),i(34561),i(11350),i(14185),i(82976),i(5214),i(33474),i(12893),i(47638),i(99230),i(8346),i(99660),i(13796),i(57181),i(51403),i(40281),i(96172),i(31890),i(94642),i(70873),i(30348),i(43475),i(99913),i(46413),i(81010),i(44369),i(86730),i(31254),i(68572),i(98008),i(50301),i(47740),i(57086),i(71450),i(32391),i(18943),i(32416),i(70063),i(30113),i(58015),vt.exports=i(25954),i(16847),i(81878),i(9413),i(58659),i(99484),i(92965),i(96028),i(47090),i(57684),i(59293),i(77761),i(98854),i(46616),i(8421),i(49651),i(34517),i(2855),i(49346),i(59001),i(68271),i(6637),i(65780),i(48324),i(84108),i(3058),i(97759),i(89663),i(66792),i(47491),i(39854),i(21292),i(42974),i(61943),i(15124),i(92286),i(77874),i(7236),i(97813),i(86502),i(42632),i(9045),i(59463),i(96651),i(51279),i(62833),i(31285),i(98341),i(80641),i(67743),i(29153),i(46764),i(67630),i(3045),i(13603),i(32477),i(1786),i(63888),i(50283),i(95774),i(88672),i(92643),i(24166),i(73518),i(75885),i(23088),i(39914),i(19089),i(50425),i(29259),i(50017),i(66567),i(62469),i(43555),i(56066),i(8740),i(7969),i(11723),i(63742),i(60877),i(57054),i(50073),i(22815)},26766:function(vt,be,i){"use strict";i.r(be),i.d(be,{PixelRatio:function(){return x},addMatchMediaChangeListener:function(){return N},getZoomFactor:function(){return O},isAndroid:function(){return C},isChrome:function(){return f},isElectron:function(){return m},isFirefox:function(){return a},isSafari:function(){return s},isStandalone:function(){return _},isWebKit:function(){return d},isWebkitWebView:function(){return r}});var c=i(94162),F=i(52357);class g{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}g.INSTANCE=new g;class A extends F.JT{constructor(){super(),this._onDidChange=this._register(new c.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(E){var D;(D=this._mediaQueryList)===null||D===void 0||D.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),E&&this._onDidChange.fire()}}class S extends F.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new c.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const E=this._register(new A);this._register(E.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const E=document.createElement("canvas").getContext("2d"),D=window.devicePixelRatio||1,w=E.webkitBackingStorePixelRatio||E.mozBackingStorePixelRatio||E.msBackingStorePixelRatio||E.oBackingStorePixelRatio||E.backingStorePixelRatio||1;return D/w}}class ${constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,F.dk)(new S)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function N(b,E){typeof b=="string"&&(b=window.matchMedia(b)),b.addEventListener("change",E)}const x=new $;function O(){return g.INSTANCE.getZoomFactor()}const p=navigator.userAgent,a=p.indexOf("Firefox")>=0,d=p.indexOf("AppleWebKit")>=0,f=p.indexOf("Chrome")>=0,s=!f&&p.indexOf("Safari")>=0,r=!f&&!s&&d,m=p.indexOf("Electron/")>=0,C=p.indexOf("Android")>=0;let u=!1;if(window.matchMedia){const b=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),E=window.matchMedia("(display-mode: fullscreen)");u=b.matches,N(b,({matches:D})=>{u&&E.matches||(u=D)})}function _(){return u}},78215:function(vt,be,i){"use strict";i.d(be,{D:function(){return g}});var c=i(26766),F=i(41420);const g={clipboard:{writeText:F.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:F.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>F.tY||c.isStandalone()?0:navigator.keyboard||c.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},2020:function(vt,be,i){"use strict";i.d(be,{g:function(){return F}});var c=i(70112);const F={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:c.v.text}},16563:function(vt,be,i){"use strict";i.d(be,{$:function(){return ge},$Z:function(){return ve},Ay:function(){return me},Ce:function(){return dt},Cp:function(){return we},D6:function(){return K},Dx:function(){return M},FK:function(){return U},Fx:function(){return G},GQ:function(){return u},I8:function(){return X},If:function(){return L},OO:function(){return ye},PO:function(){return a},R3:function(){return ot},Re:function(){return je},Ro:function(){return Q},Uh:function(){return Oe},Uw:function(){return d},V3:function(){return He},XT:function(){return Ut},_0:function(){return xe},_F:function(){return ut},_h:function(){return kt},_q:function(){return Ft},cl:function(){return J},dS:function(){return _e},dp:function(){return H},eg:function(){return Et},fk:function(){return Re},go:function(){return ct},h:function(){return St},i:function(){return P},jL:function(){return w},jg:function(){return j},jt:function(){return mt},lI:function(){return D},mc:function(){return et},mu:function(){return C},nm:function(){return s},sQ:function(){return Dt},tw:function(){return Ce},uN:function(){return $e},uU:function(){return y},vL:function(){return ae},vY:function(){return Se},w:function(){return q},wY:function(){return bt},wn:function(){return B},xQ:function(){return Y},zB:function(){return ne}});var c=i(26766),F=i(78215),g=i(87415),A=i(74580),S=i(50505),$=i(94162),N=i(68912),x=i(52357),O=i(571),p=i(41420);function a(Ct){for(;Ct.firstChild;)Ct.firstChild.remove()}function d(Ct){var _t;return(_t=Ct==null?void 0:Ct.isConnected)!==null&&_t!==void 0?_t:!1}class f{constructor(_t,Kt,Zt,li){this._node=_t,this._type=Kt,this._handler=Zt,this._options=li||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function s(Ct,_t,Kt,Zt){return new f(Ct,_t,Kt,Zt)}function r(Ct){return function(_t){return Ct(new A.n(_t))}}function m(Ct){return function(_t){return Ct(new g.y(_t))}}const C=function(_t,Kt,Zt,li){let ri=Zt;return Kt==="click"||Kt==="mousedown"?ri=r(Zt):(Kt==="keydown"||Kt==="keypress"||Kt==="keyup")&&(ri=m(Zt)),s(_t,Kt,ri,li)},u=function(_t,Kt,Zt){const li=r(Kt);return b(_t,li,Zt)},_=function(_t,Kt,Zt){const li=r(Kt);return E(_t,li,Zt)};function b(Ct,_t,Kt){return s(Ct,p.gn&&F.D.pointerEvents?Ce.POINTER_DOWN:Ce.MOUSE_DOWN,_t,Kt)}function E(Ct,_t,Kt){return s(Ct,platform.isIOS&&BrowserFeatures.pointerEvents?Ce.POINTER_UP:Ce.MOUSE_UP,_t,Kt)}let D,w;class I{constructor(_t,Kt=0){this._runner=_t,this.priority=Kt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_t){(0,S.dL)(_t)}}static sort(_t,Kt){return Kt.priority-_t.priority}}(function(){let Ct=[],_t=null,Kt=!1,Zt=!1;const li=()=>{for(Kt=!1,_t=Ct,Ct=[],Zt=!0;_t.length>0;)_t.sort(I.sort),_t.shift().execute();Zt=!1};w=(ri,Ui=0)=>{const on=new I(ri,Ui);return Ct.push(on),Kt||(Kt=!0,requestAnimationFrame(li)),on},D=(ri,Ui)=>{if(Zt){const on=new I(ri,Ui);return _t.push(on),on}else return w(ri,Ui)}})();function M(Ct){return document.defaultView.getComputedStyle(Ct,null)}function K(Ct){if(Ct!==document.body)return new Q(Ct.clientWidth,Ct.clientHeight);if(p.gn&&window.visualViewport)return new Q(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Q(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Q(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Q(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class z{static convertToPixels(_t,Kt){return parseFloat(Kt)||0}static getDimension(_t,Kt,Zt){const li=M(_t),ri=li?li.getPropertyValue(Kt):"0";return z.convertToPixels(_t,ri)}static getBorderLeftWidth(_t){return z.getDimension(_t,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_t){return z.getDimension(_t,"border-right-width","borderRightWidth")}static getBorderTopWidth(_t){return z.getDimension(_t,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_t){return z.getDimension(_t,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_t){return z.getDimension(_t,"padding-left","paddingLeft")}static getPaddingRight(_t){return z.getDimension(_t,"padding-right","paddingRight")}static getPaddingTop(_t){return z.getDimension(_t,"padding-top","paddingTop")}static getPaddingBottom(_t){return z.getDimension(_t,"padding-bottom","paddingBottom")}static getMarginLeft(_t){return z.getDimension(_t,"margin-left","marginLeft")}static getMarginTop(_t){return z.getDimension(_t,"margin-top","marginTop")}static getMarginRight(_t){return z.getDimension(_t,"margin-right","marginRight")}static getMarginBottom(_t){return z.getDimension(_t,"margin-bottom","marginBottom")}}class Q{constructor(_t,Kt){this.width=_t,this.height=Kt}with(_t=this.width,Kt=this.height){return _t!==this.width||Kt!==this.height?new Q(_t,Kt):this}static is(_t){return typeof _t=="object"&&typeof _t.height=="number"&&typeof _t.width=="number"}static lift(_t){return _t instanceof Q?_t:new Q(_t.width,_t.height)}static equals(_t,Kt){return _t===Kt?!0:!_t||!Kt?!1:_t.width===Kt.width&&_t.height===Kt.height}}Q.None=new Q(0,0);function Y(Ct){let _t=Ct.offsetParent,Kt=Ct.offsetTop,Zt=Ct.offsetLeft;for(;(Ct=Ct.parentNode)!==null&&Ct!==document.body&&Ct!==document.documentElement;){Kt-=Ct.scrollTop;const li=pe(Ct)?null:M(Ct);li&&(Zt-=li.direction!=="rtl"?Ct.scrollLeft:-Ct.scrollLeft),Ct===_t&&(Zt+=z.getBorderLeftWidth(Ct),Kt+=z.getBorderTopWidth(Ct),Kt+=Ct.offsetTop,Zt+=Ct.offsetLeft,_t=Ct.offsetParent)}return{left:Zt,top:Kt}}function H(Ct,_t,Kt){typeof _t=="number"&&(Ct.style.width=`${_t}px`),typeof Kt=="number"&&(Ct.style.height=`${Kt}px`)}function P(Ct){const _t=Ct.getBoundingClientRect();return{left:_t.left+window.scrollX,top:_t.top+window.scrollY,width:_t.width,height:_t.height}}function X(Ct){let _t=Ct,Kt=1;do{const Zt=M(_t).zoom;Zt!=null&&Zt!=="1"&&(Kt*=Zt),_t=_t.parentElement}while(_t!==null&&_t!==document.documentElement);return Kt}function q(Ct){const _t=z.getMarginLeft(Ct)+z.getMarginRight(Ct);return Ct.offsetWidth+_t}function U(Ct){const _t=z.getBorderLeftWidth(Ct)+z.getBorderRightWidth(Ct),Kt=z.getPaddingLeft(Ct)+z.getPaddingRight(Ct);return Ct.offsetWidth-_t-Kt}function L(Ct){const _t=z.getBorderTopWidth(Ct)+z.getBorderBottomWidth(Ct),Kt=z.getPaddingTop(Ct)+z.getPaddingBottom(Ct);return Ct.offsetHeight-_t-Kt}function B(Ct){const _t=z.getMarginTop(Ct)+z.getMarginBottom(Ct);return Ct.offsetHeight+_t}function j(Ct,_t){for(;Ct;){if(Ct===_t)return!0;Ct=Ct.parentNode}return!1}function G(Ct,_t,Kt){for(;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;){if(Ct.classList.contains(_t))return Ct;if(Kt){if(typeof Kt=="string"){if(Ct.classList.contains(Kt))return null}else if(Ct===Kt)return null}Ct=Ct.parentNode}return null}function y(Ct,_t,Kt){return!!G(Ct,_t,Kt)}function pe(Ct){return Ct&&!!Ct.host&&!!Ct.mode}function ye(Ct){return!!me(Ct)}function me(Ct){for(;Ct.parentNode;){if(Ct===document.body)return null;Ct=Ct.parentNode}return pe(Ct)?Ct:null}function Se(){let Ct=document.activeElement;for(;Ct!=null&&Ct.shadowRoot;)Ct=Ct.shadowRoot.activeElement;return Ct}function _e(Ct=document.getElementsByTagName("head")[0]){const _t=document.createElement("style");return _t.type="text/css",_t.media="screen",Ct.appendChild(_t),_t}let he=null;function le(){return he||(he=_e()),he}function se(Ct){var _t,Kt;return!((_t=Ct==null?void 0:Ct.sheet)===null||_t===void 0)&&_t.rules?Ct.sheet.rules:!((Kt=Ct==null?void 0:Ct.sheet)===null||Kt===void 0)&&Kt.cssRules?Ct.sheet.cssRules:[]}function Re(Ct,_t,Kt=le()){!Kt||!_t||Kt.sheet.insertRule(Ct+"{"+_t+"}",0)}function $e(Ct,_t=le()){if(!_t)return;const Kt=se(_t),Zt=[];for(let li=0;li<Kt.length;li++)Kt[li].selectorText.indexOf(Ct)!==-1&&Zt.push(li);for(let li=Zt.length-1;li>=0;li--)_t.sheet.deleteRule(Zt[li])}function je(Ct){return typeof HTMLElement=="object"?Ct instanceof HTMLElement:Ct&&typeof Ct=="object"&&Ct.nodeType===1&&typeof Ct.nodeName=="string"}const Ce={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:c.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:c.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:c.isWebKit?"webkitAnimationIteration":"animationiteration"};function J(Ct){const _t=Ct;return!!(_t&&typeof _t.preventDefault=="function"&&typeof _t.stopPropagation=="function")}const ne={stop:(Ct,_t)=>(Ct.preventDefault(),_t&&Ct.stopPropagation(),Ct)};function ae(Ct){const _t=[];for(let Kt=0;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;Kt++)_t[Kt]=Ct.scrollTop,Ct=Ct.parentNode;return _t}function xe(Ct,_t){for(let Kt=0;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;Kt++)Ct.scrollTop!==_t[Kt]&&(Ct.scrollTop=_t[Kt]),Ct=Ct.parentNode}class Ke extends x.JT{static hasFocusWithin(_t){const Kt=me(_t),Zt=Kt?Kt.activeElement:document.activeElement;return j(Zt,_t)}constructor(_t){super(),this._onDidFocus=this._register(new $.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new $.Q5),this.onDidBlur=this._onDidBlur.event;let Kt=Ke.hasFocusWithin(_t),Zt=!1;const li=()=>{Zt=!1,Kt||(Kt=!0,this._onDidFocus.fire())},ri=()=>{Kt&&(Zt=!0,window.setTimeout(()=>{Zt&&(Zt=!1,Kt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ke.hasFocusWithin(_t)!==Kt&&(Kt?ri():li())},this._register(s(_t,Ce.FOCUS,li,!0)),this._register(s(_t,Ce.BLUR,ri,!0)),this._register(s(_t,Ce.FOCUS_IN,()=>this._refreshStateHandler())),this._register(s(_t,Ce.FOCUS_OUT,()=>this._refreshStateHandler()))}}function ct(Ct){return new Ke(Ct)}function ot(Ct,..._t){if(Ct.append(..._t),_t.length===1&&typeof _t[0]!="string")return _t[0]}function dt(Ct,_t){return Ct.insertBefore(_t,Ct.firstChild),_t}function et(Ct,..._t){Ct.innerText="",ot(Ct,..._t)}const Fe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Le;(function(Ct){Ct.HTML="http://www.w3.org/1999/xhtml",Ct.SVG="http://www.w3.org/2000/svg"})(Le||(Le={}));function Te(Ct,_t,Kt,...Zt){const li=Fe.exec(_t);if(!li)throw new Error("Bad use of emmet");const ri=li[1]||"div";let Ui;return Ct!==Le.HTML?Ui=document.createElementNS(Ct,ri):Ui=document.createElement(ri),li[3]&&(Ui.id=li[3]),li[4]&&(Ui.className=li[4].replace(/\./g," ").trim()),Kt&&Object.entries(Kt).forEach(([on,Qi])=>{typeof Qi!="undefined"&&(/^on\w+$/.test(on)?Ui[on]=Qi:on==="selected"?Qi&&Ui.setAttribute(on,"true"):Ui.setAttribute(on,Qi))}),Ui.append(...Zt),Ui}function ge(Ct,_t,...Kt){return Te(Le.HTML,Ct,_t,...Kt)}ge.SVG=function(Ct,_t,...Kt){return Te(Le.SVG,Ct,_t,...Kt)};function ve(...Ct){for(const _t of Ct)_t.style.display="",_t.removeAttribute("aria-hidden")}function we(...Ct){for(const _t of Ct)_t.style.display="none",_t.setAttribute("aria-hidden","true")}function Oe(Ct){const _t=window.devicePixelRatio*Ct;return Math.max(1,Math.floor(_t))/window.devicePixelRatio}function He(Ct){window.open(Ct,"_blank","noopener")}function mt(Ct){const _t=()=>{Ct(),Kt=w(_t)};let Kt=w(_t);return(0,x.OF)(()=>Kt.dispose())}O.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function bt(Ct){return Ct?`url('${O.Gi.uriToBrowserUri(Ct).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function kt(Ct){return`'${Ct.replace(/'/g,"%27")}'`}function Ut(Ct,_t){if(Ct!==void 0){const Kt=Ct.match(/^\s*var\((.+)\)$/);if(Kt){const Zt=Kt[1].split(",",2);return Zt.length===2&&(_t=Ut(Zt[1].trim(),_t)),`var(${Zt[0]}, ${_t})`}return Ct}return _t}function ut(Ct,_t=!1){const Kt=document.createElement("a");return N.v5("afterSanitizeAttributes",Zt=>{for(const li of["href","src"])if(Zt.hasAttribute(li)){const ri=Zt.getAttribute(li);if(li==="href"&&ri.startsWith("#"))continue;if(Kt.href=ri,!Ct.includes(Kt.protocol.replace(/:$/,""))){if(_t&&li==="src"&&Kt.href.startsWith("data:"))continue;Zt.removeAttribute(li)}}}),(0,x.OF)(()=>{N.ok("afterSanitizeAttributes")})}const Dt=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),ft=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Ft extends $.Q5{constructor(){super(),this._subscriptions=new x.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(s(window,"keydown",_t=>{if(_t.defaultPrevented)return;const Kt=new g.y(_t);if(!(Kt.keyCode===6&&_t.repeat)){if(_t.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_t.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_t.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_t.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Kt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_t.altKey,this._keyStatus.ctrlKey=_t.ctrlKey,this._keyStatus.metaKey=_t.metaKey,this._keyStatus.shiftKey=_t.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_t,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(s(window,"keyup",_t=>{_t.defaultPrevented||(!_t.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_t.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_t.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_t.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_t.altKey,this._keyStatus.ctrlKey=_t.ctrlKey,this._keyStatus.metaKey=_t.metaKey,this._keyStatus.shiftKey=_t.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_t,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(s(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(s(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(s(document.body,"mousemove",_t=>{_t.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(s(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ft.instance||(Ft.instance=new Ft),Ft.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Et extends x.JT{constructor(_t,Kt){super(),this.element=_t,this.callbacks=Kt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(s(this.element,Ce.DRAG_ENTER,_t=>{this.counter++,this.dragStartTime=_t.timeStamp,this.callbacks.onDragEnter(_t)})),this._register(s(this.element,Ce.DRAG_OVER,_t=>{var Kt,Zt;_t.preventDefault(),(Zt=(Kt=this.callbacks).onDragOver)===null||Zt===void 0||Zt.call(Kt,_t,_t.timeStamp-this.dragStartTime)})),this._register(s(this.element,Ce.DRAG_LEAVE,_t=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(_t))})),this._register(s(this.element,Ce.DRAG_END,_t=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(_t)})),this._register(s(this.element,Ce.DROP,_t=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(_t)}))}}const Ze=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function St(Ct,..._t){let Kt,Zt;Array.isArray(_t[0])?(Kt={},Zt=_t[0]):(Kt=_t[0]||{},Zt=_t[1]);const li=Ze.exec(Ct);if(!li||!li.groups)throw new Error("Bad use of h");const ri=li.groups.tag||"div",Ui=document.createElement(ri);li.groups.id&&(Ui.id=li.groups.id);const on=[];if(li.groups.class)for(const un of li.groups.class.split("."))un!==""&&on.push(un);if(Kt.className!==void 0)for(const un of Kt.className.split("."))un!==""&&on.push(un);on.length>0&&(Ui.className=on.join(" "));const Qi={};if(li.groups.name&&(Qi[li.groups.name]=Ui),Zt)for(const un of Zt)un instanceof HTMLElement?Ui.appendChild(un):typeof un=="string"?Ui.append(un):(Object.assign(Qi,un),Ui.appendChild(un.root));for(const[un,Sn]of Object.entries(Kt))if(un!=="className")if(un==="style")for(const[bn,Cn]of Object.entries(Sn))Ui.style.setProperty(jt(bn),typeof Cn=="number"?Cn+"px":""+Cn);else un==="tabIndex"?Ui.tabIndex=Sn:Ui.setAttribute(jt(un),Sn.toString());return Qi.root=Ui,Qi}function jt(Ct){return Ct.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},68912:function(vt,be,i){"use strict";i.d(be,{Nw:function(){return xe},ok:function(){return et},v5:function(){return dt}});function c(Te){if(Array.isArray(Te)){for(var ge=0,ve=Array(Te.length);ge<Te.length;ge++)ve[ge]=Te[ge];return ve}else return Array.from(Te)}var F=Object.hasOwnProperty,g=Object.setPrototypeOf,A=Object.isFrozen,S=Object.getPrototypeOf,$=Object.getOwnPropertyDescriptor,N=Object.freeze,x=Object.seal,O=Object.create,p=typeof Reflect!="undefined"&&Reflect,a=p.apply,d=p.construct;a||(a=function(ge,ve,we){return ge.apply(ve,we)}),N||(N=function(ge){return ge}),x||(x=function(ge){return ge}),d||(d=function(ge,ve){return new(Function.prototype.bind.apply(ge,[null].concat(c(ve))))});var f=w(Array.prototype.forEach),s=w(Array.prototype.pop),r=w(Array.prototype.push),m=w(String.prototype.toLowerCase),C=w(String.prototype.match),u=w(String.prototype.replace),_=w(String.prototype.indexOf),b=w(String.prototype.trim),E=w(RegExp.prototype.test),D=I(TypeError);function w(Te){return function(ge){for(var ve=arguments.length,we=Array(ve>1?ve-1:0),Oe=1;Oe<ve;Oe++)we[Oe-1]=arguments[Oe];return a(Te,ge,we)}}function I(Te){return function(){for(var ge=arguments.length,ve=Array(ge),we=0;we<ge;we++)ve[we]=arguments[we];return d(Te,ve)}}function M(Te,ge){g&&g(Te,null);for(var ve=ge.length;ve--;){var we=ge[ve];if(typeof we=="string"){var Oe=m(we);Oe!==we&&(A(ge)||(ge[ve]=Oe),we=Oe)}Te[we]=!0}return Te}function K(Te){var ge=O(null),ve=void 0;for(ve in Te)a(F,Te,[ve])&&(ge[ve]=Te[ve]);return ge}function z(Te,ge){for(;Te!==null;){var ve=$(Te,ge);if(ve){if(ve.get)return w(ve.get);if(typeof ve.value=="function")return w(ve.value)}Te=S(Te)}function we(Oe){return console.warn("fallback value for",Oe),null}return we}var Q=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=N(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),X=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),q=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=N(["#text"]),L=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),y=x(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pe=x(/<%[\s\S]*|[\s\S]*%>/gm),ye=x(/^data-[\-\w.\u00B7-\uFFFF]/),me=x(/^aria-[\-\w]+$/),Se=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_e=x(/^(?:\w+script|data):/i),he=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function se(Te){if(Array.isArray(Te)){for(var ge=0,ve=Array(Te.length);ge<Te.length;ge++)ve[ge]=Te[ge];return ve}else return Array.from(Te)}var Re=function(){return typeof window=="undefined"?null:window},$e=function(ge,ve){if((typeof ge=="undefined"?"undefined":le(ge))!=="object"||typeof ge.createPolicy!="function")return null;var we=null,Oe="data-tt-policy-suffix";ve.currentScript&&ve.currentScript.hasAttribute(Oe)&&(we=ve.currentScript.getAttribute(Oe));var He="dompurify"+(we?"#"+we:"");try{return ge.createPolicy(He,{createHTML:function(bt){return bt}})}catch(mt){return console.warn("TrustedTypes policy "+He+" could not be created."),null}};function je(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Re(),ge=function(ii){return je(ii)};if(ge.version="2.3.1",ge.removed=[],!Te||!Te.document||Te.document.nodeType!==9)return ge.isSupported=!1,ge;var ve=Te.document,we=Te.document,Oe=Te.DocumentFragment,He=Te.HTMLTemplateElement,mt=Te.Node,bt=Te.Element,kt=Te.NodeFilter,Ut=Te.NamedNodeMap,ut=Ut===void 0?Te.NamedNodeMap||Te.MozNamedAttrMap:Ut,Dt=Te.Text,ft=Te.Comment,Ft=Te.DOMParser,Et=Te.trustedTypes,Ze=bt.prototype,St=z(Ze,"cloneNode"),jt=z(Ze,"nextSibling"),Ct=z(Ze,"childNodes"),_t=z(Ze,"parentNode");if(typeof He=="function"){var Kt=we.createElement("template");Kt.content&&Kt.content.ownerDocument&&(we=Kt.content.ownerDocument)}var Zt=$e(Et,ve),li=Zt&&Ni?Zt.createHTML(""):"",ri=we,Ui=ri.implementation,on=ri.createNodeIterator,Qi=ri.createDocumentFragment,un=ri.getElementsByTagName,Sn=ve.importNode,bn={};try{bn=K(we).documentMode?we.documentMode:{}}catch(qi){}var Cn={};ge.isSupported=typeof _t=="function"&&Ui&&typeof Ui.createHTMLDocument!="undefined"&&bn!==9;var Fi=y,On=pe,rn=ye,pn=me,ui=_e,Mt=he,At=Se,Wt=null,qt=M({},[].concat(se(Q),se(Y),se(H),se(X),se(U))),at=null,Ve=M({},[].concat(se(L),se(B),se(j),se(G))),ze=null,Ae=null,Ge=!0,st=!0,rt=!1,xt=!1,Vt=!1,Gt=!1,ai=!1,Si=!1,hi=!1,Di=!0,Ni=!1,yi=!0,Zi=!0,Ri=!1,Dn={},Bi=null,ln=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,fe=M({},["audio","video","img","source","image","track"]),De=null,ie=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ie="http://www.w3.org/1998/Math/MathML",We="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",lt=nt,Pt=!1,$t=null,ti=we.createElement("form"),Qt=function(ii){$t&&$t===ii||((!ii||(typeof ii=="undefined"?"undefined":le(ii))!=="object")&&(ii={}),ii=K(ii),Wt="ALLOWED_TAGS"in ii?M({},ii.ALLOWED_TAGS):qt,at="ALLOWED_ATTR"in ii?M({},ii.ALLOWED_ATTR):Ve,De="ADD_URI_SAFE_ATTR"in ii?M(K(ie),ii.ADD_URI_SAFE_ATTR):ie,Ht="ADD_DATA_URI_TAGS"in ii?M(K(fe),ii.ADD_DATA_URI_TAGS):fe,Bi="FORBID_CONTENTS"in ii?M({},ii.FORBID_CONTENTS):ln,ze="FORBID_TAGS"in ii?M({},ii.FORBID_TAGS):{},Ae="FORBID_ATTR"in ii?M({},ii.FORBID_ATTR):{},Dn="USE_PROFILES"in ii?ii.USE_PROFILES:!1,Ge=ii.ALLOW_ARIA_ATTR!==!1,st=ii.ALLOW_DATA_ATTR!==!1,rt=ii.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=ii.SAFE_FOR_TEMPLATES||!1,Vt=ii.WHOLE_DOCUMENT||!1,Si=ii.RETURN_DOM||!1,hi=ii.RETURN_DOM_FRAGMENT||!1,Di=ii.RETURN_DOM_IMPORT!==!1,Ni=ii.RETURN_TRUSTED_TYPE||!1,ai=ii.FORCE_BODY||!1,yi=ii.SANITIZE_DOM!==!1,Zi=ii.KEEP_CONTENT!==!1,Ri=ii.IN_PLACE||!1,At=ii.ALLOWED_URI_REGEXP||At,lt=ii.NAMESPACE||nt,xt&&(st=!1),hi&&(Si=!0),Dn&&(Wt=M({},[].concat(se(U))),at=[],Dn.html===!0&&(M(Wt,Q),M(at,L)),Dn.svg===!0&&(M(Wt,Y),M(at,B),M(at,G)),Dn.svgFilters===!0&&(M(Wt,H),M(at,B),M(at,G)),Dn.mathMl===!0&&(M(Wt,X),M(at,j),M(at,G))),ii.ADD_TAGS&&(Wt===qt&&(Wt=K(Wt)),M(Wt,ii.ADD_TAGS)),ii.ADD_ATTR&&(at===Ve&&(at=K(at)),M(at,ii.ADD_ATTR)),ii.ADD_URI_SAFE_ATTR&&M(De,ii.ADD_URI_SAFE_ATTR),ii.FORBID_CONTENTS&&(Bi===ln&&(Bi=K(Bi)),M(Bi,ii.FORBID_CONTENTS)),Zi&&(Wt["#text"]=!0),Vt&&M(Wt,["html","head","body"]),Wt.table&&(M(Wt,["tbody"]),delete ze.tbody),N&&N(ii),$t=ii)},Jt=M({},["mi","mo","mn","ms","mtext"]),di=M({},["foreignobject","desc","title","annotation-xml"]),Ci=M({},Y);M(Ci,H),M(Ci,P);var gi=M({},X);M(gi,q);var Ei=function(ii){var Oi=_t(ii);(!Oi||!Oi.tagName)&&(Oi={namespaceURI:nt,tagName:"template"});var Vi=m(ii.tagName),yn=m(Oi.tagName);if(ii.namespaceURI===We)return Oi.namespaceURI===nt?Vi==="svg":Oi.namespaceURI===Ie?Vi==="svg"&&(yn==="annotation-xml"||Jt[yn]):Boolean(Ci[Vi]);if(ii.namespaceURI===Ie)return Oi.namespaceURI===nt?Vi==="math":Oi.namespaceURI===We?Vi==="math"&&di[yn]:Boolean(gi[Vi]);if(ii.namespaceURI===nt){if(Oi.namespaceURI===We&&!di[yn]||Oi.namespaceURI===Ie&&!Jt[yn])return!1;var An=M({},["title","style","font","a","script"]);return!gi[Vi]&&(An[Vi]||!Ci[Vi])}return!1},Pi=function(ii){r(ge.removed,{element:ii});try{ii.parentNode.removeChild(ii)}catch(Oi){try{ii.outerHTML=li}catch(Vi){ii.remove()}}},tn=function(ii,Oi){try{r(ge.removed,{attribute:Oi.getAttributeNode(ii),from:Oi})}catch(Vi){r(ge.removed,{attribute:null,from:Oi})}if(Oi.removeAttribute(ii),ii==="is"&&!at[ii])if(Si||hi)try{Pi(Oi)}catch(Vi){}else try{Oi.setAttribute(ii,"")}catch(Vi){}},an=function(ii){var Oi=void 0,Vi=void 0;if(ai)ii="<remove></remove>"+ii;else{var yn=C(ii,/^[\r\n\t ]+/);Vi=yn&&yn[0]}var An=Zt?Zt.createHTML(ii):ii;if(lt===nt)try{Oi=new Ft().parseFromString(An,"text/html")}catch(Hn){}if(!Oi||!Oi.documentElement){Oi=Ui.createDocument(lt,"template",null);try{Oi.documentElement.innerHTML=Pt?"":An}catch(Hn){}}var Kn=Oi.body||Oi.documentElement;return ii&&Vi&&Kn.insertBefore(we.createTextNode(Vi),Kn.childNodes[0]||null),lt===nt?un.call(Oi,Vt?"html":"body")[0]:Vt?Oi.documentElement:Kn},nn=function(ii){return on.call(ii.ownerDocument||ii,ii,kt.SHOW_ELEMENT|kt.SHOW_COMMENT|kt.SHOW_TEXT,null,!1)},cn=function(ii){return ii instanceof Dt||ii instanceof ft?!1:typeof ii.nodeName!="string"||typeof ii.textContent!="string"||typeof ii.removeChild!="function"||!(ii.attributes instanceof ut)||typeof ii.removeAttribute!="function"||typeof ii.setAttribute!="function"||typeof ii.namespaceURI!="string"||typeof ii.insertBefore!="function"},En=function(ii){return(typeof mt=="undefined"?"undefined":le(mt))==="object"?ii instanceof mt:ii&&(typeof ii=="undefined"?"undefined":le(ii))==="object"&&typeof ii.nodeType=="number"&&typeof ii.nodeName=="string"},Rn=function(ii,Oi,Vi){Cn[ii]&&f(Cn[ii],function(yn){yn.call(ge,Oi,Vi,$t)})},ps=function(ii){var Oi=void 0;if(Rn("beforeSanitizeElements",ii,null),cn(ii)||C(ii.nodeName,/[\u0080-\uFFFF]/))return Pi(ii),!0;var Vi=m(ii.nodeName);if(Rn("uponSanitizeElement",ii,{tagName:Vi,allowedTags:Wt}),!En(ii.firstElementChild)&&(!En(ii.content)||!En(ii.content.firstElementChild))&&E(/<[/\w]/g,ii.innerHTML)&&E(/<[/\w]/g,ii.textContent)||Vi==="select"&&E(/<template/i,ii.innerHTML))return Pi(ii),!0;if(!Wt[Vi]||ze[Vi]){if(Zi&&!Bi[Vi]){var yn=_t(ii)||ii.parentNode,An=Ct(ii)||ii.childNodes;if(An&&yn)for(var Kn=An.length,Hn=Kn-1;Hn>=0;--Hn)yn.insertBefore(St(An[Hn],!0),jt(ii))}return Pi(ii),!0}return ii instanceof bt&&!Ei(ii)||(Vi==="noscript"||Vi==="noembed")&&E(/<\/no(script|embed)/i,ii.innerHTML)?(Pi(ii),!0):(xt&&ii.nodeType===3&&(Oi=ii.textContent,Oi=u(Oi,Fi," "),Oi=u(Oi,On," "),ii.textContent!==Oi&&(r(ge.removed,{element:ii.cloneNode()}),ii.textContent=Oi)),Rn("afterSanitizeElements",ii,null),!1)},mn=function(ii,Oi,Vi){if(yi&&(Oi==="id"||Oi==="name")&&(Vi in we||Vi in ti))return!1;if(!(st&&!Ae[Oi]&&E(rn,Oi))){if(!(Ge&&E(pn,Oi))){if(!at[Oi]||Ae[Oi])return!1;if(!De[Oi]){if(!E(At,u(Vi,Mt,""))){if(!((Oi==="src"||Oi==="xlink:href"||Oi==="href")&&ii!=="script"&&_(Vi,"data:")===0&&Ht[ii])){if(!(rt&&!E(ui,u(Vi,Mt,"")))){if(Vi)return!1}}}}}}return!0},Xn=function(ii){var Oi=void 0,Vi=void 0,yn=void 0,An=void 0;Rn("beforeSanitizeAttributes",ii,null);var Kn=ii.attributes;if(Kn){var Hn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:at};for(An=Kn.length;An--;){Oi=Kn[An];var $n=Oi,ss=$n.name,Lt=$n.namespaceURI;if(Vi=b(Oi.value),yn=m(ss),Hn.attrName=yn,Hn.attrValue=Vi,Hn.keepAttr=!0,Hn.forceKeepAttr=void 0,Rn("uponSanitizeAttribute",ii,Hn),Vi=Hn.attrValue,!Hn.forceKeepAttr&&(tn(ss,ii),!!Hn.keepAttr)){if(E(/\/>/i,Vi)){tn(ss,ii);continue}xt&&(Vi=u(Vi,Fi," "),Vi=u(Vi,On," "));var T=ii.nodeName.toLowerCase();if(mn(T,yn,Vi))try{Lt?ii.setAttributeNS(Lt,ss,Vi):ii.setAttribute(ss,Vi),s(ge.removed)}catch(ee){}}}Rn("afterSanitizeAttributes",ii,null)}},us=function qi(ii){var Oi=void 0,Vi=nn(ii);for(Rn("beforeSanitizeShadowDOM",ii,null);Oi=Vi.nextNode();)Rn("uponSanitizeShadowNode",Oi,null),!ps(Oi)&&(Oi.content instanceof Oe&&qi(Oi.content),Xn(Oi));Rn("afterSanitizeShadowDOM",ii,null)};return ge.sanitize=function(qi,ii){var Oi=void 0,Vi=void 0,yn=void 0,An=void 0,Kn=void 0;if(Pt=!qi,Pt&&(qi="<!-->"),typeof qi!="string"&&!En(qi)){if(typeof qi.toString!="function")throw D("toString is not a function");if(qi=qi.toString(),typeof qi!="string")throw D("dirty is not a string, aborting")}if(!ge.isSupported){if(le(Te.toStaticHTML)==="object"||typeof Te.toStaticHTML=="function"){if(typeof qi=="string")return Te.toStaticHTML(qi);if(En(qi))return Te.toStaticHTML(qi.outerHTML)}return qi}if(Gt||Qt(ii),ge.removed=[],typeof qi=="string"&&(Ri=!1),!Ri)if(qi instanceof mt)Oi=an("<!---->"),Vi=Oi.ownerDocument.importNode(qi,!0),Vi.nodeType===1&&Vi.nodeName==="BODY"||Vi.nodeName==="HTML"?Oi=Vi:Oi.appendChild(Vi);else{if(!Si&&!xt&&!Vt&&qi.indexOf("<")===-1)return Zt&&Ni?Zt.createHTML(qi):qi;if(Oi=an(qi),!Oi)return Si?null:li}Oi&&ai&&Pi(Oi.firstChild);for(var Hn=nn(Ri?qi:Oi);yn=Hn.nextNode();)yn.nodeType===3&&yn===An||ps(yn)||(yn.content instanceof Oe&&us(yn.content),Xn(yn),An=yn);if(An=null,Ri)return qi;if(Si){if(hi)for(Kn=Qi.call(Oi.ownerDocument);Oi.firstChild;)Kn.appendChild(Oi.firstChild);else Kn=Oi;return Di&&(Kn=Sn.call(ve,Kn,!0)),Kn}var $n=Vt?Oi.outerHTML:Oi.innerHTML;return xt&&($n=u($n,Fi," "),$n=u($n,On," ")),Zt&&Ni?Zt.createHTML($n):$n},ge.setConfig=function(qi){Qt(qi),Gt=!0},ge.clearConfig=function(){$t=null,Gt=!1},ge.isValidAttribute=function(qi,ii,Oi){$t||Qt({});var Vi=m(qi),yn=m(ii);return mn(Vi,yn,Oi)},ge.addHook=function(qi,ii){typeof ii=="function"&&(Cn[qi]=Cn[qi]||[],r(Cn[qi],ii))},ge.removeHook=function(qi){Cn[qi]&&s(Cn[qi])},ge.removeHooks=function(qi){Cn[qi]&&(Cn[qi]=[])},ge.removeAllHooks=function(){Cn={}},ge}var Ce=je(),J=null;const ne=Ce.version,ae=Ce.isSupported,xe=Ce.sanitize,Ke=Ce.setConfig,ct=Ce.clearConfig,ot=Ce.isValidAttribute,dt=Ce.addHook,et=Ce.removeHook,Fe=Ce.removeHooks,Le=Ce.removeAllHooks},25396:function(vt,be,i){"use strict";i.d(be,{Y:function(){return F}});var c=i(94162);class F{get event(){return this.emitter.event}constructor(A,S,$){const N=x=>this.emitter.fire(x);this.emitter=new c.Q5({onWillAddFirstListener:()=>A.addEventListener(S,N,$),onDidRemoveLastListener:()=>A.removeEventListener(S,N,$)})}dispose(){this.emitter.dispose()}}},56693:function(vt,be,i){"use strict";i.d(be,{X:function(){return g},Z:function(){return c}});class c{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const $=F(S);this._maxWidth!==$&&(this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const $=F(S);this._width!==$&&(this._width=$,this.domNode.style.width=this._width)}setHeight(S){const $=F(S);this._height!==$&&(this._height=$,this.domNode.style.height=this._height)}setTop(S){const $=F(S);this._top!==$&&(this._top=$,this.domNode.style.top=this._top)}setLeft(S){const $=F(S);this._left!==$&&(this._left=$,this.domNode.style.left=this._left)}setBottom(S){const $=F(S);this._bottom!==$&&(this._bottom=$,this.domNode.style.bottom=this._bottom)}setRight(S){const $=F(S);this._right!==$&&(this._right=$,this.domNode.style.right=this._right)}setPaddingLeft(S){const $=F(S);this._paddingLeft!==$&&(this._paddingLeft=$,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const $=F(S);this._fontSize!==$&&(this._fontSize=$,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const $=F(S);this._lineHeight!==$&&(this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const $=F(S);this._letterSpacing!==$&&(this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,$){this.domNode.classList.toggle(S,$),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,$){this.domNode.setAttribute(S,$)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}function F(A){return typeof A=="number"?`${A}px`:A}function g(A){return new c(A)}},42683:function(vt,be,i){"use strict";i.d(be,{BO:function(){return g},IY:function(){return F},az:function(){return A}});var c=i(16563);function F(p,a={}){const d=A(a);return d.textContent=p,d}function g(p,a={}){const d=A(a);return $(d,N(p,!!a.renderCodeSegments),a.actionHandler,a.renderCodeSegments),d}function A(p){const a=p.inline?"span":"div",d=document.createElement(a);return p.className&&(d.className=p.className),d}class S{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function $(p,a,d,f){let s;if(a.type===2)s=document.createTextNode(a.content||"");else if(a.type===3)s=document.createElement("b");else if(a.type===4)s=document.createElement("i");else if(a.type===7&&f)s=document.createElement("code");else if(a.type===5&&d){const r=document.createElement("a");d.disposables.add(c.mu(r,"click",m=>{d.callback(String(a.index),m)})),s=r}else a.type===8?s=document.createElement("br"):a.type===1&&(s=p);s&&p!==s&&p.appendChild(s),s&&Array.isArray(a.children)&&a.children.forEach(r=>{$(s,r,d,f)})}function N(p,a){const d={type:1,children:[]};let f=0,s=d;const r=[],m=new S(p);for(;!m.eos();){let C=m.next();const u=C==="\\"&&O(m.peek(),a)!==0;if(u&&(C=m.next()),!u&&x(C,a)&&C===m.peek()){m.advance(),s.type===2&&(s=r.pop());const _=O(C,a);if(s.type===_||s.type===5&&_===6)s=r.pop();else{const b={type:_,children:[]};_===5&&(b.index=f,f++),s.children.push(b),r.push(s),s=b}}else if(C===`
`)s.type===2&&(s=r.pop()),s.children.push({type:8});else if(s.type!==2){const _={type:2,content:C};s.children.push(_),r.push(s),s=_}else s.content+=C}return s.type===2&&(s=r.pop()),r.length,d}function x(p,a){return O(p,a)!==0}function O(p,a){switch(p){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}},69782:function(vt,be,i){"use strict";i.d(be,{C:function(){return g}});var c=i(16563),F=i(52357);class g{constructor(){this._hooks=new F.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const N=this._onStopCallback;this._onStopCallback=null,S&&N&&N($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,$,N,x,O){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=x,this._onStopCallback=O;let p=S;try{S.setPointerCapture($),this._hooks.add((0,F.OF)(()=>{try{S.releasePointerCapture($)}catch(a){}}))}catch(a){p=window}this._hooks.add(c.nm(p,c.tw.POINTER_MOVE,a=>{if(a.buttons!==N){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(c.nm(p,c.tw.POINTER_UP,a=>this.stopMonitoring(!0)))}}},87415:function(vt,be,i){"use strict";i.d(be,{y:function(){return p}});var c=i(26766),F=i(42528),g=i(4526),A=i(41420);function S(a){if(a.charCode){const f=String.fromCharCode(a.charCode).toUpperCase();return F.kL.fromString(f)}const d=a.keyCode;if(d===3)return 7;if(c.isFirefox){if(d===59)return 80;if(d===107)return 81;if(d===109)return 83;if(A.dz&&d===224)return 57}else if(c.isWebKit){if(d===91)return 57;if(A.dz&&d===93)return 57;if(!A.dz&&d===92)return 57}return F.H_[d]||0}const $=A.dz?256:2048,N=512,x=1024,O=A.dz?2048:256;class p{constructor(d){this._standardKeyboardEventBrand=!0;const f=d;this.browserEvent=f,this.target=f.target,this.ctrlKey=f.ctrlKey,this.shiftKey=f.shiftKey,this.altKey=f.altKey,this.metaKey=f.metaKey,this.altGraphKey=f.getModifierState("AltGraph"),this.keyCode=S(f),this.code=f.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(d){return this._asKeybinding===d}_computeKeybinding(){let d=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode);let f=0;return this.ctrlKey&&(f|=$),this.altKey&&(f|=N),this.shiftKey&&(f|=x),this.metaKey&&(f|=O),f|=d,f}_computeKeyCodeChord(){let d=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode),new g.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,d)}}},32595:function(vt,be,i){"use strict";i.d(be,{a:function(){return y}});var c=i(16563),F=i(68912),g=i(25396),A=i(42683),S=i(87415),$=i(74580),N=i(20915),x=i(50505),O=i(94162),p=i(69549),a=i(87683),d=i(59089),f=i(48911),s=i(52357);let r={};(function(){function se(Re,$e){$e(r)}se.amd=!0,function(Re,$e){typeof exports=="object"?$e(exports):typeof se=="function"&&se.amd?se(["exports"],$e):(Re=typeof globalThis!="undefined"?globalThis:Re||self,$e(Re.marked={}))}(this,function(Re){"use strict";function $e(at,Ve){for(var ze=0;ze<Ve.length;ze++){var Ae=Ve[ze];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(at,Ae.key,Ae)}}function je(at,Ve,ze){return Ve&&$e(at.prototype,Ve),ze&&$e(at,ze),Object.defineProperty(at,"prototype",{writable:!1}),at}function Ce(at,Ve){if(at){if(typeof at=="string")return J(at,Ve);var ze=Object.prototype.toString.call(at).slice(8,-1);if(ze==="Object"&&at.constructor&&(ze=at.constructor.name),ze==="Map"||ze==="Set")return Array.from(at);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return J(at,Ve)}}function J(at,Ve){(Ve==null||Ve>at.length)&&(Ve=at.length);for(var ze=0,Ae=new Array(Ve);ze<Ve;ze++)Ae[ze]=at[ze];return Ae}function ne(at,Ve){var ze=typeof Symbol!="undefined"&&at[Symbol.iterator]||at["@@iterator"];if(ze)return(ze=ze.call(at)).next.bind(ze);if(Array.isArray(at)||(ze=Ce(at))||Ve&&at&&typeof at.length=="number"){ze&&(at=ze);var Ae=0;return function(){return Ae>=at.length?{done:!0}:{done:!1,value:at[Ae++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ae(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Re.defaults=ae();function xe(at){Re.defaults=at}var Ke=/[&<>"']/,ct=/[&<>"']/g,ot=/[<>"']|&(?!#?\w+;)/,dt=/[<>"']|&(?!#?\w+;)/g,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fe=function(Ve){return et[Ve]};function Le(at,Ve){if(Ve){if(Ke.test(at))return at.replace(ct,Fe)}else if(ot.test(at))return at.replace(dt,Fe);return at}var Te=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ge(at){return at.replace(Te,function(Ve,ze){return ze=ze.toLowerCase(),ze==="colon"?":":ze.charAt(0)==="#"?ze.charAt(1)==="x"?String.fromCharCode(parseInt(ze.substring(2),16)):String.fromCharCode(+ze.substring(1)):""})}var ve=/(^|[^\[])\^/g;function we(at,Ve){at=typeof at=="string"?at:at.source,Ve=Ve||"";var ze={replace:function(Ge,st){return st=st.source||st,st=st.replace(ve,"$1"),at=at.replace(Ge,st),ze},getRegex:function(){return new RegExp(at,Ve)}};return ze}var Oe=/[^\w:]/g,He=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function mt(at,Ve,ze){if(at){var Ae;try{Ae=decodeURIComponent(ge(ze)).replace(Oe,"").toLowerCase()}catch(Ge){return null}if(Ae.indexOf("javascript:")===0||Ae.indexOf("vbscript:")===0||Ae.indexOf("data:")===0)return null}Ve&&!He.test(ze)&&(ze=Dt(Ve,ze));try{ze=encodeURI(ze).replace(/%25/g,"%")}catch(Ge){return null}return ze}var bt={},kt=/^[^:]+:\/*[^/]*$/,Ut=/^([^:]+:)[\s\S]*$/,ut=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Dt(at,Ve){bt[" "+at]||(kt.test(at)?bt[" "+at]=at+"/":bt[" "+at]=Ze(at,"/",!0)),at=bt[" "+at];var ze=at.indexOf(":")===-1;return Ve.substring(0,2)==="//"?ze?Ve:at.replace(Ut,"$1")+Ve:Ve.charAt(0)==="/"?ze?Ve:at.replace(ut,"$1")+Ve:at+Ve}var ft={exec:function(){}};function Ft(at){for(var Ve=1,ze,Ae;Ve<arguments.length;Ve++){ze=arguments[Ve];for(Ae in ze)Object.prototype.hasOwnProperty.call(ze,Ae)&&(at[Ae]=ze[Ae])}return at}function Et(at,Ve){var ze=at.replace(/\|/g,function(st,rt,xt){for(var Vt=!1,Gt=rt;--Gt>=0&&xt[Gt]==="\\";)Vt=!Vt;return Vt?"|":" |"}),Ae=ze.split(/ \|/),Ge=0;if(Ae[0].trim()||Ae.shift(),Ae.length>0&&!Ae[Ae.length-1].trim()&&Ae.pop(),Ae.length>Ve)Ae.splice(Ve);else for(;Ae.length<Ve;)Ae.push("");for(;Ge<Ae.length;Ge++)Ae[Ge]=Ae[Ge].trim().replace(/\\\|/g,"|");return Ae}function Ze(at,Ve,ze){var Ae=at.length;if(Ae===0)return"";for(var Ge=0;Ge<Ae;){var st=at.charAt(Ae-Ge-1);if(st===Ve&&!ze)Ge++;else if(st!==Ve&&ze)Ge++;else break}return at.slice(0,Ae-Ge)}function St(at,Ve){if(at.indexOf(Ve[1])===-1)return-1;for(var ze=at.length,Ae=0,Ge=0;Ge<ze;Ge++)if(at[Ge]==="\\")Ge++;else if(at[Ge]===Ve[0])Ae++;else if(at[Ge]===Ve[1]&&(Ae--,Ae<0))return Ge;return-1}function jt(at){at&&at.sanitize&&!at.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ct(at,Ve){if(Ve<1)return"";for(var ze="";Ve>1;)Ve&1&&(ze+=at),Ve>>=1,at+=at;return ze+at}function _t(at,Ve,ze,Ae){var Ge=Ve.href,st=Ve.title?Le(Ve.title):null,rt=at[1].replace(/\\([\[\]])/g,"$1");if(at[0].charAt(0)!=="!"){Ae.state.inLink=!0;var xt={type:"link",raw:ze,href:Ge,title:st,text:rt,tokens:Ae.inlineTokens(rt)};return Ae.state.inLink=!1,xt}return{type:"image",raw:ze,href:Ge,title:st,text:Le(rt)}}function Kt(at,Ve){var ze=at.match(/^(\s+)(?:```)/);if(ze===null)return Ve;var Ae=ze[1];return Ve.split(`
`).map(function(Ge){var st=Ge.match(/^\s+/);if(st===null)return Ge;var rt=st[0];return rt.length>=Ae.length?Ge.slice(Ae.length):Ge}).join(`
`)}var Zt=function(){function at(ze){this.options=ze||Re.defaults}var Ve=at.prototype;return Ve.space=function(Ae){var Ge=this.rules.block.newline.exec(Ae);if(Ge&&Ge[0].length>0)return{type:"space",raw:Ge[0]}},Ve.code=function(Ae){var Ge=this.rules.block.code.exec(Ae);if(Ge){var st=Ge[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ge[0],codeBlockStyle:"indented",text:this.options.pedantic?st:Ze(st,`
`)}}},Ve.fences=function(Ae){var Ge=this.rules.block.fences.exec(Ae);if(Ge){var st=Ge[0],rt=Kt(st,Ge[3]||"");return{type:"code",raw:st,lang:Ge[2]?Ge[2].trim():Ge[2],text:rt}}},Ve.heading=function(Ae){var Ge=this.rules.block.heading.exec(Ae);if(Ge){var st=Ge[2].trim();if(/#$/.test(st)){var rt=Ze(st,"#");(this.options.pedantic||!rt||/ $/.test(rt))&&(st=rt.trim())}return{type:"heading",raw:Ge[0],depth:Ge[1].length,text:st,tokens:this.lexer.inline(st)}}},Ve.hr=function(Ae){var Ge=this.rules.block.hr.exec(Ae);if(Ge)return{type:"hr",raw:Ge[0]}},Ve.blockquote=function(Ae){var Ge=this.rules.block.blockquote.exec(Ae);if(Ge){var st=Ge[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Ge[0],tokens:this.lexer.blockTokens(st,[]),text:st}}},Ve.list=function(Ae){var Ge=this.rules.block.list.exec(Ae);if(Ge){var st,rt,xt,Vt,Gt,ai,Si,hi,Di,Ni,yi,Zi,Ri=Ge[1].trim(),Dn=Ri.length>1,Bi={type:"list",raw:"",ordered:Dn,start:Dn?+Ri.slice(0,-1):"",loose:!1,items:[]};Ri=Dn?"\\d{1,9}\\"+Ri.slice(-1):"\\"+Ri,this.options.pedantic&&(Ri=Dn?Ri:"[*+-]");for(var ln=new RegExp("^( {0,3}"+Ri+")((?:[	 ][^\\n]*)?(?:\\n|$))");Ae&&(Zi=!1,!(!(Ge=ln.exec(Ae))||this.rules.block.hr.test(Ae)));){if(st=Ge[0],Ae=Ae.substring(st.length),hi=Ge[2].split(`
`,1)[0],Di=Ae.split(`
`,1)[0],this.options.pedantic?(Vt=2,yi=hi.trimLeft()):(Vt=Ge[2].search(/[^ ]/),Vt=Vt>4?1:Vt,yi=hi.slice(Vt),Vt+=Ge[1].length),ai=!1,!hi&&/^ *$/.test(Di)&&(st+=Di+`
`,Ae=Ae.substring(Di.length+1),Zi=!0),!Zi)for(var Ht=new RegExp("^ {0,"+Math.min(3,Vt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),fe=new RegExp("^ {0,"+Math.min(3,Vt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),De=new RegExp("^ {0,"+Math.min(3,Vt-1)+"}(?:```|~~~)"),ie=new RegExp("^ {0,"+Math.min(3,Vt-1)+"}#");Ae&&(Ni=Ae.split(`
`,1)[0],hi=Ni,this.options.pedantic&&(hi=hi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(De.test(hi)||ie.test(hi)||Ht.test(hi)||fe.test(Ae)));){if(hi.search(/[^ ]/)>=Vt||!hi.trim())yi+=`
`+hi.slice(Vt);else if(!ai)yi+=`
`+hi;else break;!ai&&!hi.trim()&&(ai=!0),st+=Ni+`
`,Ae=Ae.substring(Ni.length+1)}Bi.loose||(Si?Bi.loose=!0:/\n *\n *$/.test(st)&&(Si=!0)),this.options.gfm&&(rt=/^\[[ xX]\] /.exec(yi),rt&&(xt=rt[0]!=="[ ] ",yi=yi.replace(/^\[[ xX]\] +/,""))),Bi.items.push({type:"list_item",raw:st,task:!!rt,checked:xt,loose:!1,text:yi}),Bi.raw+=st}Bi.items[Bi.items.length-1].raw=st.trimRight(),Bi.items[Bi.items.length-1].text=yi.trimRight(),Bi.raw=Bi.raw.trimRight();var Ie=Bi.items.length;for(Gt=0;Gt<Ie;Gt++){this.lexer.state.top=!1,Bi.items[Gt].tokens=this.lexer.blockTokens(Bi.items[Gt].text,[]);var We=Bi.items[Gt].tokens.filter(function(lt){return lt.type==="space"}),nt=We.every(function(lt){for(var Pt=lt.raw.split(""),$t=0,ti=ne(Pt),Qt;!(Qt=ti()).done;){var Jt=Qt.value;if(Jt===`
`&&($t+=1),$t>1)return!0}return!1});!Bi.loose&&We.length&&nt&&(Bi.loose=!0,Bi.items[Gt].loose=!0)}return Bi}},Ve.html=function(Ae){var Ge=this.rules.block.html.exec(Ae);if(Ge){var st={type:"html",raw:Ge[0],pre:!this.options.sanitizer&&(Ge[1]==="pre"||Ge[1]==="script"||Ge[1]==="style"),text:Ge[0]};if(this.options.sanitize){var rt=this.options.sanitizer?this.options.sanitizer(Ge[0]):Le(Ge[0]);st.type="paragraph",st.text=rt,st.tokens=this.lexer.inline(rt)}return st}},Ve.def=function(Ae){var Ge=this.rules.block.def.exec(Ae);if(Ge){Ge[3]&&(Ge[3]=Ge[3].substring(1,Ge[3].length-1));var st=Ge[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:st,raw:Ge[0],href:Ge[2],title:Ge[3]}}},Ve.table=function(Ae){var Ge=this.rules.block.table.exec(Ae);if(Ge){var st={type:"table",header:Et(Ge[1]).map(function(Si){return{text:Si}}),align:Ge[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ge[3]&&Ge[3].trim()?Ge[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(st.header.length===st.align.length){st.raw=Ge[0];var rt=st.align.length,xt,Vt,Gt,ai;for(xt=0;xt<rt;xt++)/^ *-+: *$/.test(st.align[xt])?st.align[xt]="right":/^ *:-+: *$/.test(st.align[xt])?st.align[xt]="center":/^ *:-+ *$/.test(st.align[xt])?st.align[xt]="left":st.align[xt]=null;for(rt=st.rows.length,xt=0;xt<rt;xt++)st.rows[xt]=Et(st.rows[xt],st.header.length).map(function(Si){return{text:Si}});for(rt=st.header.length,Vt=0;Vt<rt;Vt++)st.header[Vt].tokens=this.lexer.inline(st.header[Vt].text);for(rt=st.rows.length,Vt=0;Vt<rt;Vt++)for(ai=st.rows[Vt],Gt=0;Gt<ai.length;Gt++)ai[Gt].tokens=this.lexer.inline(ai[Gt].text);return st}}},Ve.lheading=function(Ae){var Ge=this.rules.block.lheading.exec(Ae);if(Ge)return{type:"heading",raw:Ge[0],depth:Ge[2].charAt(0)==="="?1:2,text:Ge[1],tokens:this.lexer.inline(Ge[1])}},Ve.paragraph=function(Ae){var Ge=this.rules.block.paragraph.exec(Ae);if(Ge){var st=Ge[1].charAt(Ge[1].length-1)===`
`?Ge[1].slice(0,-1):Ge[1];return{type:"paragraph",raw:Ge[0],text:st,tokens:this.lexer.inline(st)}}},Ve.text=function(Ae){var Ge=this.rules.block.text.exec(Ae);if(Ge)return{type:"text",raw:Ge[0],text:Ge[0],tokens:this.lexer.inline(Ge[0])}},Ve.escape=function(Ae){var Ge=this.rules.inline.escape.exec(Ae);if(Ge)return{type:"escape",raw:Ge[0],text:Le(Ge[1])}},Ve.tag=function(Ae){var Ge=this.rules.inline.tag.exec(Ae);if(Ge)return!this.lexer.state.inLink&&/^<a /i.test(Ge[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ge[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ge[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ge[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ge[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ge[0]):Le(Ge[0]):Ge[0]}},Ve.link=function(Ae){var Ge=this.rules.inline.link.exec(Ae);if(Ge){var st=Ge[2].trim();if(!this.options.pedantic&&/^</.test(st)){if(!/>$/.test(st))return;var rt=Ze(st.slice(0,-1),"\\");if((st.length-rt.length)%2===0)return}else{var xt=St(Ge[2],"()");if(xt>-1){var Vt=Ge[0].indexOf("!")===0?5:4,Gt=Vt+Ge[1].length+xt;Ge[2]=Ge[2].substring(0,xt),Ge[0]=Ge[0].substring(0,Gt).trim(),Ge[3]=""}}var ai=Ge[2],Si="";if(this.options.pedantic){var hi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ai);hi&&(ai=hi[1],Si=hi[3])}else Si=Ge[3]?Ge[3].slice(1,-1):"";return ai=ai.trim(),/^</.test(ai)&&(this.options.pedantic&&!/>$/.test(st)?ai=ai.slice(1):ai=ai.slice(1,-1)),_t(Ge,{href:ai&&ai.replace(this.rules.inline._escapes,"$1"),title:Si&&Si.replace(this.rules.inline._escapes,"$1")},Ge[0],this.lexer)}},Ve.reflink=function(Ae,Ge){var st;if((st=this.rules.inline.reflink.exec(Ae))||(st=this.rules.inline.nolink.exec(Ae))){var rt=(st[2]||st[1]).replace(/\s+/g," ");if(rt=Ge[rt.toLowerCase()],!rt||!rt.href){var xt=st[0].charAt(0);return{type:"text",raw:xt,text:xt}}return _t(st,rt,st[0],this.lexer)}},Ve.emStrong=function(Ae,Ge,st){st===void 0&&(st="");var rt=this.rules.inline.emStrong.lDelim.exec(Ae);if(rt&&!(rt[3]&&st.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var xt=rt[1]||rt[2]||"";if(!xt||xt&&(st===""||this.rules.inline.punctuation.exec(st))){var Vt=rt[0].length-1,Gt,ai,Si=Vt,hi=0,Di=rt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Di.lastIndex=0,Ge=Ge.slice(-1*Ae.length+Vt);(rt=Di.exec(Ge))!=null;)if(Gt=rt[1]||rt[2]||rt[3]||rt[4]||rt[5]||rt[6],!!Gt){if(ai=Gt.length,rt[3]||rt[4]){Si+=ai;continue}else if((rt[5]||rt[6])&&Vt%3&&!((Vt+ai)%3)){hi+=ai;continue}if(Si-=ai,!(Si>0)){if(ai=Math.min(ai,ai+Si+hi),Math.min(Vt,ai)%2){var Ni=Ae.slice(1,Vt+rt.index+ai);return{type:"em",raw:Ae.slice(0,Vt+rt.index+ai+1),text:Ni,tokens:this.lexer.inlineTokens(Ni)}}var yi=Ae.slice(2,Vt+rt.index+ai-1);return{type:"strong",raw:Ae.slice(0,Vt+rt.index+ai+1),text:yi,tokens:this.lexer.inlineTokens(yi)}}}}}},Ve.codespan=function(Ae){var Ge=this.rules.inline.code.exec(Ae);if(Ge){var st=Ge[2].replace(/\n/g," "),rt=/[^ ]/.test(st),xt=/^ /.test(st)&&/ $/.test(st);return rt&&xt&&(st=st.substring(1,st.length-1)),st=Le(st,!0),{type:"codespan",raw:Ge[0],text:st}}},Ve.br=function(Ae){var Ge=this.rules.inline.br.exec(Ae);if(Ge)return{type:"br",raw:Ge[0]}},Ve.del=function(Ae){var Ge=this.rules.inline.del.exec(Ae);if(Ge)return{type:"del",raw:Ge[0],text:Ge[2],tokens:this.lexer.inlineTokens(Ge[2])}},Ve.autolink=function(Ae,Ge){var st=this.rules.inline.autolink.exec(Ae);if(st){var rt,xt;return st[2]==="@"?(rt=Le(this.options.mangle?Ge(st[1]):st[1]),xt="mailto:"+rt):(rt=Le(st[1]),xt=rt),{type:"link",raw:st[0],text:rt,href:xt,tokens:[{type:"text",raw:rt,text:rt}]}}},Ve.url=function(Ae,Ge){var st;if(st=this.rules.inline.url.exec(Ae)){var rt,xt;if(st[2]==="@")rt=Le(this.options.mangle?Ge(st[0]):st[0]),xt="mailto:"+rt;else{var Vt;do Vt=st[0],st[0]=this.rules.inline._backpedal.exec(st[0])[0];while(Vt!==st[0]);rt=Le(st[0]),st[1]==="www."?xt="http://"+rt:xt=rt}return{type:"link",raw:st[0],text:rt,href:xt,tokens:[{type:"text",raw:rt,text:rt}]}}},Ve.inlineText=function(Ae,Ge){var st=this.rules.inline.text.exec(Ae);if(st){var rt;return this.lexer.state.inRawBlock?rt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(st[0]):Le(st[0]):st[0]:rt=Le(this.options.smartypants?Ge(st[0]):st[0]),{type:"text",raw:st[0],text:rt}}},at}(),li={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ft,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};li._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,li._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,li.def=we(li.def).replace("label",li._label).replace("title",li._title).getRegex(),li.bullet=/(?:[*+-]|\d{1,9}[.)])/,li.listItemStart=we(/^( *)(bull) */).replace("bull",li.bullet).getRegex(),li.list=we(li.list).replace(/bull/g,li.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+li.def.source+")").getRegex(),li._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",li._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,li.html=we(li.html,"i").replace("comment",li._comment).replace("tag",li._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),li.paragraph=we(li._paragraph).replace("hr",li.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",li._tag).getRegex(),li.blockquote=we(li.blockquote).replace("paragraph",li.paragraph).getRegex(),li.normal=Ft({},li),li.gfm=Ft({},li.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),li.gfm.table=we(li.gfm.table).replace("hr",li.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",li._tag).getRegex(),li.gfm.paragraph=we(li._paragraph).replace("hr",li.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",li.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",li._tag).getRegex(),li.pedantic=Ft({},li.normal,{html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",li._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ft,paragraph:we(li.normal._paragraph).replace("hr",li.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",li.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ri={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ft,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ft,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ri._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ri.punctuation=we(ri.punctuation).replace(/punctuation/g,ri._punctuation).getRegex(),ri.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ri.escapedEmSt=/\\\*|\\_/g,ri._comment=we(li._comment).replace("(?:-->|$)","-->").getRegex(),ri.emStrong.lDelim=we(ri.emStrong.lDelim).replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimAst=we(ri.emStrong.rDelimAst,"g").replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimUnd=we(ri.emStrong.rDelimUnd,"g").replace(/punct/g,ri._punctuation).getRegex(),ri._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ri._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ri._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ri.autolink=we(ri.autolink).replace("scheme",ri._scheme).replace("email",ri._email).getRegex(),ri._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ri.tag=we(ri.tag).replace("comment",ri._comment).replace("attribute",ri._attribute).getRegex(),ri._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ri._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ri._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ri.link=we(ri.link).replace("label",ri._label).replace("href",ri._href).replace("title",ri._title).getRegex(),ri.reflink=we(ri.reflink).replace("label",ri._label).replace("ref",li._label).getRegex(),ri.nolink=we(ri.nolink).replace("ref",li._label).getRegex(),ri.reflinkSearch=we(ri.reflinkSearch,"g").replace("reflink",ri.reflink).replace("nolink",ri.nolink).getRegex(),ri.normal=Ft({},ri),ri.pedantic=Ft({},ri.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",ri._label).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ri._label).getRegex()}),ri.gfm=Ft({},ri.normal,{escape:we(ri.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ri.gfm.url=we(ri.gfm.url,"i").replace("email",ri.gfm._extended_email).getRegex(),ri.breaks=Ft({},ri.gfm,{br:we(ri.br).replace("{2,}","*").getRegex(),text:we(ri.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ui(at){return at.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function on(at){var Ve="",ze,Ae,Ge=at.length;for(ze=0;ze<Ge;ze++)Ae=at.charCodeAt(ze),Math.random()>.5&&(Ae="x"+Ae.toString(16)),Ve+="&#"+Ae+";";return Ve}var Qi=function(){function at(ze){this.tokens=[],this.tokens.links=Object.create(null),this.options=ze||Re.defaults,this.options.tokenizer=this.options.tokenizer||new Zt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Ae={block:li.normal,inline:ri.normal};this.options.pedantic?(Ae.block=li.pedantic,Ae.inline=ri.pedantic):this.options.gfm&&(Ae.block=li.gfm,this.options.breaks?Ae.inline=ri.breaks:Ae.inline=ri.gfm),this.tokenizer.rules=Ae}at.lex=function(Ae,Ge){var st=new at(Ge);return st.lex(Ae)},at.lexInline=function(Ae,Ge){var st=new at(Ge);return st.inlineTokens(Ae)};var Ve=at.prototype;return Ve.lex=function(Ae){Ae=Ae.replace(/\r\n|\r/g,`
`),this.blockTokens(Ae,this.tokens);for(var Ge;Ge=this.inlineQueue.shift();)this.inlineTokens(Ge.src,Ge.tokens);return this.tokens},Ve.blockTokens=function(Ae,Ge){var st=this;Ge===void 0&&(Ge=[]),this.options.pedantic?Ae=Ae.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ae=Ae.replace(/^( *)(\t+)/gm,function(Si,hi,Di){return hi+"    ".repeat(Di.length)});for(var rt,xt,Vt,Gt;Ae;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Si){return(rt=Si.call({lexer:st},Ae,Ge))?(Ae=Ae.substring(rt.raw.length),Ge.push(rt),!0):!1}))){if(rt=this.tokenizer.space(Ae)){Ae=Ae.substring(rt.raw.length),rt.raw.length===1&&Ge.length>0?Ge[Ge.length-1].raw+=`
`:Ge.push(rt);continue}if(rt=this.tokenizer.code(Ae)){Ae=Ae.substring(rt.raw.length),xt=Ge[Ge.length-1],xt&&(xt.type==="paragraph"||xt.type==="text")?(xt.raw+=`
`+rt.raw,xt.text+=`
`+rt.text,this.inlineQueue[this.inlineQueue.length-1].src=xt.text):Ge.push(rt);continue}if(rt=this.tokenizer.fences(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.heading(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.hr(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.blockquote(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.list(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.html(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.def(Ae)){Ae=Ae.substring(rt.raw.length),xt=Ge[Ge.length-1],xt&&(xt.type==="paragraph"||xt.type==="text")?(xt.raw+=`
`+rt.raw,xt.text+=`
`+rt.raw,this.inlineQueue[this.inlineQueue.length-1].src=xt.text):this.tokens.links[rt.tag]||(this.tokens.links[rt.tag]={href:rt.href,title:rt.title});continue}if(rt=this.tokenizer.table(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.lheading(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(Vt=Ae,this.options.extensions&&this.options.extensions.startBlock&&function(){var Si=1/0,hi=Ae.slice(1),Di=void 0;st.options.extensions.startBlock.forEach(function(Ni){Di=Ni.call({lexer:this},hi),typeof Di=="number"&&Di>=0&&(Si=Math.min(Si,Di))}),Si<1/0&&Si>=0&&(Vt=Ae.substring(0,Si+1))}(),this.state.top&&(rt=this.tokenizer.paragraph(Vt))){xt=Ge[Ge.length-1],Gt&&xt.type==="paragraph"?(xt.raw+=`
`+rt.raw,xt.text+=`
`+rt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xt.text):Ge.push(rt),Gt=Vt.length!==Ae.length,Ae=Ae.substring(rt.raw.length);continue}if(rt=this.tokenizer.text(Ae)){Ae=Ae.substring(rt.raw.length),xt=Ge[Ge.length-1],xt&&xt.type==="text"?(xt.raw+=`
`+rt.raw,xt.text+=`
`+rt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xt.text):Ge.push(rt);continue}if(Ae){var ai="Infinite loop on byte: "+Ae.charCodeAt(0);if(this.options.silent){console.error(ai);break}else throw new Error(ai)}}return this.state.top=!0,Ge},Ve.inline=function(Ae,Ge){return Ge===void 0&&(Ge=[]),this.inlineQueue.push({src:Ae,tokens:Ge}),Ge},Ve.inlineTokens=function(Ae,Ge){var st=this;Ge===void 0&&(Ge=[]);var rt,xt,Vt,Gt=Ae,ai,Si,hi;if(this.tokens.links){var Di=Object.keys(this.tokens.links);if(Di.length>0)for(;(ai=this.tokenizer.rules.inline.reflinkSearch.exec(Gt))!=null;)Di.includes(ai[0].slice(ai[0].lastIndexOf("[")+1,-1))&&(Gt=Gt.slice(0,ai.index)+"["+Ct("a",ai[0].length-2)+"]"+Gt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ai=this.tokenizer.rules.inline.blockSkip.exec(Gt))!=null;)Gt=Gt.slice(0,ai.index)+"["+Ct("a",ai[0].length-2)+"]"+Gt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ai=this.tokenizer.rules.inline.escapedEmSt.exec(Gt))!=null;)Gt=Gt.slice(0,ai.index)+"++"+Gt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Ae;)if(Si||(hi=""),Si=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(yi){return(rt=yi.call({lexer:st},Ae,Ge))?(Ae=Ae.substring(rt.raw.length),Ge.push(rt),!0):!1}))){if(rt=this.tokenizer.escape(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.tag(Ae)){Ae=Ae.substring(rt.raw.length),xt=Ge[Ge.length-1],xt&&rt.type==="text"&&xt.type==="text"?(xt.raw+=rt.raw,xt.text+=rt.text):Ge.push(rt);continue}if(rt=this.tokenizer.link(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.reflink(Ae,this.tokens.links)){Ae=Ae.substring(rt.raw.length),xt=Ge[Ge.length-1],xt&&rt.type==="text"&&xt.type==="text"?(xt.raw+=rt.raw,xt.text+=rt.text):Ge.push(rt);continue}if(rt=this.tokenizer.emStrong(Ae,Gt,hi)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.codespan(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.br(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.del(Ae)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(rt=this.tokenizer.autolink(Ae,on)){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(!this.state.inLink&&(rt=this.tokenizer.url(Ae,on))){Ae=Ae.substring(rt.raw.length),Ge.push(rt);continue}if(Vt=Ae,this.options.extensions&&this.options.extensions.startInline&&function(){var yi=1/0,Zi=Ae.slice(1),Ri=void 0;st.options.extensions.startInline.forEach(function(Dn){Ri=Dn.call({lexer:this},Zi),typeof Ri=="number"&&Ri>=0&&(yi=Math.min(yi,Ri))}),yi<1/0&&yi>=0&&(Vt=Ae.substring(0,yi+1))}(),rt=this.tokenizer.inlineText(Vt,Ui)){Ae=Ae.substring(rt.raw.length),rt.raw.slice(-1)!=="_"&&(hi=rt.raw.slice(-1)),Si=!0,xt=Ge[Ge.length-1],xt&&xt.type==="text"?(xt.raw+=rt.raw,xt.text+=rt.text):Ge.push(rt);continue}if(Ae){var Ni="Infinite loop on byte: "+Ae.charCodeAt(0);if(this.options.silent){console.error(Ni);break}else throw new Error(Ni)}}return Ge},je(at,null,[{key:"rules",get:function(){return{block:li,inline:ri}}}]),at}(),un=function(){function at(ze){this.options=ze||Re.defaults}var Ve=at.prototype;return Ve.code=function(Ae,Ge,st){var rt=(Ge||"").match(/\S*/)[0];if(this.options.highlight){var xt=this.options.highlight(Ae,rt);xt!=null&&xt!==Ae&&(st=!0,Ae=xt)}return Ae=Ae.replace(/\n$/,"")+`
`,rt?'<pre><code class="'+this.options.langPrefix+Le(rt,!0)+'">'+(st?Ae:Le(Ae,!0))+`</code></pre>
`:"<pre><code>"+(st?Ae:Le(Ae,!0))+`</code></pre>
`},Ve.blockquote=function(Ae){return`<blockquote>
`+Ae+`</blockquote>
`},Ve.html=function(Ae){return Ae},Ve.heading=function(Ae,Ge,st,rt){if(this.options.headerIds){var xt=this.options.headerPrefix+rt.slug(st);return"<h"+Ge+' id="'+xt+'">'+Ae+"</h"+Ge+`>
`}return"<h"+Ge+">"+Ae+"</h"+Ge+`>
`},Ve.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ve.list=function(Ae,Ge,st){var rt=Ge?"ol":"ul",xt=Ge&&st!==1?' start="'+st+'"':"";return"<"+rt+xt+`>
`+Ae+"</"+rt+`>
`},Ve.listitem=function(Ae){return"<li>"+Ae+`</li>
`},Ve.checkbox=function(Ae){return"<input "+(Ae?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ve.paragraph=function(Ae){return"<p>"+Ae+`</p>
`},Ve.table=function(Ae,Ge){return Ge&&(Ge="<tbody>"+Ge+"</tbody>"),`<table>
<thead>
`+Ae+`</thead>
`+Ge+`</table>
`},Ve.tablerow=function(Ae){return`<tr>
`+Ae+`</tr>
`},Ve.tablecell=function(Ae,Ge){var st=Ge.header?"th":"td",rt=Ge.align?"<"+st+' align="'+Ge.align+'">':"<"+st+">";return rt+Ae+("</"+st+`>
`)},Ve.strong=function(Ae){return"<strong>"+Ae+"</strong>"},Ve.em=function(Ae){return"<em>"+Ae+"</em>"},Ve.codespan=function(Ae){return"<code>"+Ae+"</code>"},Ve.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ve.del=function(Ae){return"<del>"+Ae+"</del>"},Ve.link=function(Ae,Ge,st){if(Ae=mt(this.options.sanitize,this.options.baseUrl,Ae),Ae===null)return st;var rt='<a href="'+Le(Ae)+'"';return Ge&&(rt+=' title="'+Ge+'"'),rt+=">"+st+"</a>",rt},Ve.image=function(Ae,Ge,st){if(Ae=mt(this.options.sanitize,this.options.baseUrl,Ae),Ae===null)return st;var rt='<img src="'+Ae+'" alt="'+st+'"';return Ge&&(rt+=' title="'+Ge+'"'),rt+=this.options.xhtml?"/>":">",rt},Ve.text=function(Ae){return Ae},at}(),Sn=function(){function at(){}var Ve=at.prototype;return Ve.strong=function(Ae){return Ae},Ve.em=function(Ae){return Ae},Ve.codespan=function(Ae){return Ae},Ve.del=function(Ae){return Ae},Ve.html=function(Ae){return Ae},Ve.text=function(Ae){return Ae},Ve.link=function(Ae,Ge,st){return""+st},Ve.image=function(Ae,Ge,st){return""+st},Ve.br=function(){return""},at}(),bn=function(){function at(){this.seen={}}var Ve=at.prototype;return Ve.serialize=function(Ae){return Ae.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ve.getNextSafeSlug=function(Ae,Ge){var st=Ae,rt=0;if(this.seen.hasOwnProperty(st)){rt=this.seen[Ae];do rt++,st=Ae+"-"+rt;while(this.seen.hasOwnProperty(st))}return Ge||(this.seen[Ae]=rt,this.seen[st]=0),st},Ve.slug=function(Ae,Ge){Ge===void 0&&(Ge={});var st=this.serialize(Ae);return this.getNextSafeSlug(st,Ge.dryrun)},at}(),Cn=function(){function at(ze){this.options=ze||Re.defaults,this.options.renderer=this.options.renderer||new un,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Sn,this.slugger=new bn}at.parse=function(Ae,Ge){var st=new at(Ge);return st.parse(Ae)},at.parseInline=function(Ae,Ge){var st=new at(Ge);return st.parseInline(Ae)};var Ve=at.prototype;return Ve.parse=function(Ae,Ge){Ge===void 0&&(Ge=!0);var st="",rt,xt,Vt,Gt,ai,Si,hi,Di,Ni,yi,Zi,Ri,Dn,Bi,ln,Ht,fe,De,ie,Ie=Ae.length;for(rt=0;rt<Ie;rt++){if(yi=Ae[rt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[yi.type]&&(ie=this.options.extensions.renderers[yi.type].call({parser:this},yi),ie!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(yi.type))){st+=ie||"";continue}switch(yi.type){case"space":continue;case"hr":{st+=this.renderer.hr();continue}case"heading":{st+=this.renderer.heading(this.parseInline(yi.tokens),yi.depth,ge(this.parseInline(yi.tokens,this.textRenderer)),this.slugger);continue}case"code":{st+=this.renderer.code(yi.text,yi.lang,yi.escaped);continue}case"table":{for(Di="",hi="",Gt=yi.header.length,xt=0;xt<Gt;xt++)hi+=this.renderer.tablecell(this.parseInline(yi.header[xt].tokens),{header:!0,align:yi.align[xt]});for(Di+=this.renderer.tablerow(hi),Ni="",Gt=yi.rows.length,xt=0;xt<Gt;xt++){for(Si=yi.rows[xt],hi="",ai=Si.length,Vt=0;Vt<ai;Vt++)hi+=this.renderer.tablecell(this.parseInline(Si[Vt].tokens),{header:!1,align:yi.align[Vt]});Ni+=this.renderer.tablerow(hi)}st+=this.renderer.table(Di,Ni);continue}case"blockquote":{Ni=this.parse(yi.tokens),st+=this.renderer.blockquote(Ni);continue}case"list":{for(Zi=yi.ordered,Ri=yi.start,Dn=yi.loose,Gt=yi.items.length,Ni="",xt=0;xt<Gt;xt++)ln=yi.items[xt],Ht=ln.checked,fe=ln.task,Bi="",ln.task&&(De=this.renderer.checkbox(Ht),Dn?ln.tokens.length>0&&ln.tokens[0].type==="paragraph"?(ln.tokens[0].text=De+" "+ln.tokens[0].text,ln.tokens[0].tokens&&ln.tokens[0].tokens.length>0&&ln.tokens[0].tokens[0].type==="text"&&(ln.tokens[0].tokens[0].text=De+" "+ln.tokens[0].tokens[0].text)):ln.tokens.unshift({type:"text",text:De}):Bi+=De),Bi+=this.parse(ln.tokens,Dn),Ni+=this.renderer.listitem(Bi,fe,Ht);st+=this.renderer.list(Ni,Zi,Ri);continue}case"html":{st+=this.renderer.html(yi.text);continue}case"paragraph":{st+=this.renderer.paragraph(this.parseInline(yi.tokens));continue}case"text":{for(Ni=yi.tokens?this.parseInline(yi.tokens):yi.text;rt+1<Ie&&Ae[rt+1].type==="text";)yi=Ae[++rt],Ni+=`
`+(yi.tokens?this.parseInline(yi.tokens):yi.text);st+=Ge?this.renderer.paragraph(Ni):Ni;continue}default:{var We='Token with "'+yi.type+'" type was not found.';if(this.options.silent){console.error(We);return}else throw new Error(We)}}}return st},Ve.parseInline=function(Ae,Ge){Ge=Ge||this.renderer;var st="",rt,xt,Vt,Gt=Ae.length;for(rt=0;rt<Gt;rt++){if(xt=Ae[rt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[xt.type]&&(Vt=this.options.extensions.renderers[xt.type].call({parser:this},xt),Vt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(xt.type))){st+=Vt||"";continue}switch(xt.type){case"escape":{st+=Ge.text(xt.text);break}case"html":{st+=Ge.html(xt.text);break}case"link":{st+=Ge.link(xt.href,xt.title,this.parseInline(xt.tokens,Ge));break}case"image":{st+=Ge.image(xt.href,xt.title,xt.text);break}case"strong":{st+=Ge.strong(this.parseInline(xt.tokens,Ge));break}case"em":{st+=Ge.em(this.parseInline(xt.tokens,Ge));break}case"codespan":{st+=Ge.codespan(xt.text);break}case"br":{st+=Ge.br();break}case"del":{st+=Ge.del(this.parseInline(xt.tokens,Ge));break}case"text":{st+=Ge.text(xt.text);break}default:{var ai='Token with "'+xt.type+'" type was not found.';if(this.options.silent){console.error(ai);return}else throw new Error(ai)}}}return st},at}();function Fi(at,Ve,ze){if(typeof at=="undefined"||at===null)throw new Error("marked(): input parameter is undefined or null");if(typeof at!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(at)+", string expected");if(typeof Ve=="function"&&(ze=Ve,Ve=null),Ve=Ft({},Fi.defaults,Ve||{}),jt(Ve),ze){var Ae=Ve.highlight,Ge;try{Ge=Qi.lex(at,Ve)}catch(Gt){return ze(Gt)}var st=function(ai){var Si;if(!ai)try{Ve.walkTokens&&Fi.walkTokens(Ge,Ve.walkTokens),Si=Cn.parse(Ge,Ve)}catch(hi){ai=hi}return Ve.highlight=Ae,ai?ze(ai):ze(null,Si)};if(!Ae||Ae.length<3||(delete Ve.highlight,!Ge.length))return st();var rt=0;Fi.walkTokens(Ge,function(Gt){Gt.type==="code"&&(rt++,setTimeout(function(){Ae(Gt.text,Gt.lang,function(ai,Si){if(ai)return st(ai);Si!=null&&Si!==Gt.text&&(Gt.text=Si,Gt.escaped=!0),rt--,rt===0&&st()})},0))}),rt===0&&st();return}function xt(Gt){if(Gt.message+=`
Please report this to https://github.com/markedjs/marked.`,Ve.silent)return"<p>An error occurred:</p><pre>"+Le(Gt.message+"",!0)+"</pre>";throw Gt}try{var Vt=Qi.lex(at,Ve);if(Ve.walkTokens){if(Ve.async)return Promise.all(Fi.walkTokens(Vt,Ve.walkTokens)).then(function(){return Cn.parse(Vt,Ve)}).catch(xt);Fi.walkTokens(Vt,Ve.walkTokens)}return Cn.parse(Vt,Ve)}catch(Gt){xt(Gt)}}Fi.options=Fi.setOptions=function(at){return Ft(Fi.defaults,at),xe(Fi.defaults),Fi},Fi.getDefaults=ae,Fi.defaults=Re.defaults,Fi.use=function(){for(var at=arguments.length,Ve=new Array(at),ze=0;ze<at;ze++)Ve[ze]=arguments[ze];var Ae=Ft.apply(void 0,[{}].concat(Ve)),Ge=Fi.defaults.extensions||{renderers:{},childTokens:{}},st;Ve.forEach(function(rt){if(rt.extensions&&(st=!0,rt.extensions.forEach(function(Vt){if(!Vt.name)throw new Error("extension name required");if(Vt.renderer){var Gt=Ge.renderers?Ge.renderers[Vt.name]:null;Gt?Ge.renderers[Vt.name]=function(){for(var ai=arguments.length,Si=new Array(ai),hi=0;hi<ai;hi++)Si[hi]=arguments[hi];var Di=Vt.renderer.apply(this,Si);return Di===!1&&(Di=Gt.apply(this,Si)),Di}:Ge.renderers[Vt.name]=Vt.renderer}if(Vt.tokenizer){if(!Vt.level||Vt.level!=="block"&&Vt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ge[Vt.level]?Ge[Vt.level].unshift(Vt.tokenizer):Ge[Vt.level]=[Vt.tokenizer],Vt.start&&(Vt.level==="block"?Ge.startBlock?Ge.startBlock.push(Vt.start):Ge.startBlock=[Vt.start]:Vt.level==="inline"&&(Ge.startInline?Ge.startInline.push(Vt.start):Ge.startInline=[Vt.start]))}Vt.childTokens&&(Ge.childTokens[Vt.name]=Vt.childTokens)})),rt.renderer&&function(){var Vt=Fi.defaults.renderer||new un,Gt=function(hi){var Di=Vt[hi];Vt[hi]=function(){for(var Ni=arguments.length,yi=new Array(Ni),Zi=0;Zi<Ni;Zi++)yi[Zi]=arguments[Zi];var Ri=rt.renderer[hi].apply(Vt,yi);return Ri===!1&&(Ri=Di.apply(Vt,yi)),Ri}};for(var ai in rt.renderer)Gt(ai);Ae.renderer=Vt}(),rt.tokenizer&&function(){var Vt=Fi.defaults.tokenizer||new Zt,Gt=function(hi){var Di=Vt[hi];Vt[hi]=function(){for(var Ni=arguments.length,yi=new Array(Ni),Zi=0;Zi<Ni;Zi++)yi[Zi]=arguments[Zi];var Ri=rt.tokenizer[hi].apply(Vt,yi);return Ri===!1&&(Ri=Di.apply(Vt,yi)),Ri}};for(var ai in rt.tokenizer)Gt(ai);Ae.tokenizer=Vt}(),rt.walkTokens){var xt=Fi.defaults.walkTokens;Ae.walkTokens=function(Vt){var Gt=[];return Gt.push(rt.walkTokens.call(this,Vt)),xt&&(Gt=Gt.concat(xt.call(this,Vt))),Gt}}st&&(Ae.extensions=Ge),Fi.setOptions(Ae)})},Fi.walkTokens=function(at,Ve){for(var ze=[],Ae=function(){var xt=st.value;switch(ze=ze.concat(Ve.call(Fi,xt)),xt.type){case"table":{for(var Vt=ne(xt.header),Gt;!(Gt=Vt()).done;){var ai=Gt.value;ze=ze.concat(Fi.walkTokens(ai.tokens,Ve))}for(var Si=ne(xt.rows),hi;!(hi=Si()).done;)for(var Di=hi.value,Ni=ne(Di),yi;!(yi=Ni()).done;){var Zi=yi.value;ze=ze.concat(Fi.walkTokens(Zi.tokens,Ve))}break}case"list":{ze=ze.concat(Fi.walkTokens(xt.items,Ve));break}default:Fi.defaults.extensions&&Fi.defaults.extensions.childTokens&&Fi.defaults.extensions.childTokens[xt.type]?Fi.defaults.extensions.childTokens[xt.type].forEach(function(Ri){ze=ze.concat(Fi.walkTokens(xt[Ri],Ve))}):xt.tokens&&(ze=ze.concat(Fi.walkTokens(xt.tokens,Ve)))}},Ge=ne(at),st;!(st=Ge()).done;)Ae();return ze},Fi.parseInline=function(at,Ve){if(typeof at=="undefined"||at===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof at!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(at)+", string expected");Ve=Ft({},Fi.defaults,Ve||{}),jt(Ve);try{var ze=Qi.lexInline(at,Ve);return Ve.walkTokens&&Fi.walkTokens(ze,Ve.walkTokens),Cn.parseInline(ze,Ve)}catch(Ae){if(Ae.message+=`
Please report this to https://github.com/markedjs/marked.`,Ve.silent)return"<p>An error occurred:</p><pre>"+Le(Ae.message+"",!0)+"</pre>";throw Ae}},Fi.Parser=Cn,Fi.parser=Cn.parse,Fi.Renderer=un,Fi.TextRenderer=Sn,Fi.Lexer=Qi,Fi.lexer=Qi.lex,Fi.Tokenizer=Zt,Fi.Slugger=bn,Fi.parse=Fi;var On=Fi.options,rn=Fi.setOptions,pn=Fi.use,ui=Fi.walkTokens,Mt=Fi.parseInline,At=Fi,Wt=Cn.parse,qt=Qi.lex;Re.Lexer=Qi,Re.Parser=Cn,Re.Renderer=un,Re.Slugger=bn,Re.TextRenderer=Sn,Re.Tokenizer=Zt,Re.getDefaults=ae,Re.lexer=qt,Re.marked=Fi,Re.options=On,Re.parse=At,Re.parseInline=Mt,Re.parser=Wt,Re.setOptions=rn,Re.use=pn,Re.walkTokens=ui,Object.defineProperty(Re,"__esModule",{value:!0})})})();var m=r.Lexer||exports.Lexer,C=r.Parser||exports.Parser,u=r.Renderer||exports.Renderer,_=r.Slugger||exports.Slugger,b=r.TextRenderer||exports.TextRenderer,E=r.Tokenizer||exports.Tokenizer,D=r.getDefaults||exports.getDefaults,w=r.lexer||exports.lexer,I=r.marked||exports.marked,M=r.options||exports.options,K=r.parse||exports.parse,z=r.parseInline||exports.parseInline,Q=r.parser||exports.parser,Y=r.setOptions||exports.setOptions,H=r.use||exports.use,P=r.walkTokens||exports.walkTokens,X=i(13540),q=i(571),U=i(60060),L=i(17349),B=i(30613),j=i(39508);const G=Object.freeze({image:(se,Re,$e)=>{let je=[],Ce=[];return se&&({href:se,dimensions:je}=(0,p.v1)(se),Ce.push(`src="${(0,p.d9)(se)}"`)),$e&&Ce.push(`alt="${(0,p.d9)($e)}"`),Re&&Ce.push(`title="${(0,p.d9)(Re)}"`),je.length&&(Ce=Ce.concat(je)),"<img "+Ce.join(" ")+">"},paragraph:se=>`<p>${se}</p>`,link:(se,Re,$e)=>typeof se!="string"?"":(se===$e&&($e=(0,p.oR)($e)),Re=typeof Re=="string"?(0,p.d9)((0,p.oR)(Re)):"",se=(0,p.oR)(se),se=se.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${se}" title="${Re||se}">${$e}</a>`)});function y(se,Re={},$e={}){var je;const Ce=new s.SL;let J=!1;const ne=(0,A.az)(Re),ae=function(Le){let Te;try{Te=(0,X.Q)(decodeURIComponent(Le))}catch(ge){}return Te?(Te=(0,U.rs)(Te,ge=>{if(se.uris&&se.uris[ge])return j.o.revive(se.uris[ge])}),encodeURIComponent(JSON.stringify(Te))):Le},xe=function(Le,Te){const ge=se.uris&&se.uris[Le];let ve=j.o.revive(ge);return Te?Le.startsWith(q.lg.data+":")?Le:(ve||(ve=j.o.parse(Le)),q.Gi.uriToBrowserUri(ve).toString(!0)):!ve||j.o.parse(Le).toString()===ve.toString()?Le:(ve.query&&(ve=ve.with({query:ae(ve.query)})),ve.toString())},Ke=new I.Renderer;Ke.image=G.image,Ke.link=G.link,Ke.paragraph=G.paragraph;const ct=[];if(Re.codeBlockRenderer&&(Ke.code=(Le,Te)=>{const ge=d.a.nextId(),ve=Re.codeBlockRenderer(pe(Te),Le);return ct.push(ve.then(we=>[ge,we])),`<div class="code" data-code="${ge}">${(0,B.YU)(Le)}</div>`}),Re.actionHandler){const Le=function(ve){let we=ve.target;if(!(we.tagName!=="A"&&(we=we.parentElement,!we||we.tagName!=="A")))try{let Oe=we.dataset.href;Oe&&(se.baseUri&&(Oe=ye(j.o.from(se.baseUri),Oe)),Re.actionHandler.callback(Oe,ve))}catch(Oe){(0,x.dL)(Oe)}finally{ve.preventDefault()}},Te=Re.actionHandler.disposables.add(new g.Y(ne,"click")),ge=Re.actionHandler.disposables.add(new g.Y(ne,"auxclick"));Re.actionHandler.disposables.add(O.ju.any(Te.event,ge.event)(ve=>{const we=new $.n(ve);!we.leftButton&&!we.middleButton||Le(we)})),Re.actionHandler.disposables.add(c.nm(ne,"keydown",ve=>{const we=new S.y(ve);!we.equals(10)&&!we.equals(3)||Le(we)}))}se.supportHtml||($e.sanitizer=Le=>(se.isTrusted?Le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Le:"",$e.sanitize=!0,$e.silent=!0),$e.renderer=Ke;let ot=(je=se.value)!==null&&je!==void 0?je:"";ot.length>1e5&&(ot=`${ot.substr(0,1e5)}\u2026`),se.supportThemeIcons&&(ot=(0,a.f$)(ot));let dt=I.parse(ot,$e);se.supportThemeIcons&&(dt=(0,N.T)(dt).map(Te=>typeof Te=="string"?Te:Te.outerHTML).join(""));const Fe=new DOMParser().parseFromString(me(se,dt),"text/html");if(Fe.body.querySelectorAll("img").forEach(Le=>{const Te=Le.getAttribute("src");if(Te){let ge=Te;try{se.baseUri&&(ge=ye(j.o.from(se.baseUri),ge))}catch(ve){}Le.src=xe(ge,!0)}}),Fe.body.querySelectorAll("a").forEach(Le=>{const Te=Le.getAttribute("href");if(Le.setAttribute("href",""),!Te||/^data:|javascript:/i.test(Te)||/^command:/i.test(Te)&&!se.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Te))Le.replaceWith(...Le.childNodes);else{let ge=xe(Te,!1);se.baseUri&&(ge=ye(j.o.from(se.baseUri),Te)),Le.dataset.href=ge}}),ne.innerHTML=me(se,Fe.body.innerHTML),ct.length>0&&Promise.all(ct).then(Le=>{var Te,ge;if(J)return;const ve=new Map(Le),we=ne.querySelectorAll("div[data-code]");for(const Oe of we){const He=ve.get((Te=Oe.dataset.code)!==null&&Te!==void 0?Te:"");He&&c.mc(Oe,He)}(ge=Re.asyncRenderCallback)===null||ge===void 0||ge.call(Re)}),Re.asyncRenderCallback)for(const Le of ne.getElementsByTagName("img")){const Te=Ce.add(c.nm(Le,"load",()=>{Te.dispose(),Re.asyncRenderCallback()}))}return{element:ne,dispose:()=>{J=!0,Ce.dispose()}}}function pe(se){if(!se)return"";const Re=se.split(/[\s+|:|,|\{|\?]/,1);return Re.length?Re[0]:se}function ye(se,Re){return/^\w[\w\d+.-]*:/.test(Re)?Re:se.path.endsWith("/")?(0,L.i3)(se,Re).toString():(0,L.i3)((0,L.XX)(se),Re).toString()}function me(se,Re){const{config:$e,allowedSchemes:je}=_e(se);F.v5("uponSanitizeAttribute",(J,ne)=>{if(ne.attrName==="style"||ne.attrName==="class"){if(J.tagName==="SPAN"){if(ne.attrName==="style"){ne.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(ne.attrValue);return}else if(ne.attrName==="class"){ne.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ne.attrValue);return}}ne.keepAttr=!1;return}});const Ce=c._F(je);try{return F.Nw(Re,Object.assign(Object.assign({},$e),{RETURN_TRUSTED_TYPE:!0}))}finally{F.ok("uponSanitizeAttribute"),Ce.dispose()}}const Se=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function _e(se){const Re=[q.lg.http,q.lg.https,q.lg.mailto,q.lg.data,q.lg.file,q.lg.vscodeFileResource,q.lg.vscodeRemote,q.lg.vscodeRemoteResource];return se.isTrusted&&Re.push(q.lg.command),{config:{ALLOWED_TAGS:[...c.sQ],ALLOWED_ATTR:Se,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Re}}const he=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),le=new f.o(()=>{const se=new I.Renderer;return se.code=Re=>Re,se.blockquote=Re=>Re,se.html=Re=>"",se.heading=(Re,$e,je)=>Re+`
`,se.hr=()=>"",se.list=(Re,$e)=>Re,se.listitem=Re=>Re+`
`,se.paragraph=Re=>Re+`
`,se.table=(Re,$e)=>Re+$e+`
`,se.tablerow=Re=>Re,se.tablecell=(Re,$e)=>Re+" ",se.strong=Re=>Re,se.em=Re=>Re,se.codespan=Re=>Re,se.br=()=>`
`,se.del=Re=>Re,se.image=(Re,$e,je)=>"",se.text=Re=>Re,se.link=(Re,$e,je)=>je,se})},74580:function(vt,be,i){"use strict";i.d(be,{n:function(){return N},q:function(){return x}});var c=i(26766);let F=!1,g=null;function A(O){if(!O.parent||O.parent===O)return null;try{const p=O.location,a=O.parent.location;if(p.origin!=="null"&&a.origin!=="null"&&p.origin!==a.origin)return F=!0,null}catch(p){return F=!0,null}return O.parent}class S{static getSameOriginWindowChain(){if(!g){g=[];let p=window,a;do a=A(p),a?g.push({window:p,iframeElement:p.frameElement||null}):g.push({window:p,iframeElement:null}),p=a;while(p)}return g.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(p,a){if(!a||p===a)return{top:0,left:0};let d=0,f=0;const s=this.getSameOriginWindowChain();for(const r of s){if(d+=r.window.scrollY,f+=r.window.scrollX,r.window===a||!r.iframeElement)break;const m=r.iframeElement.getBoundingClientRect();d+=m.top,f+=m.left}return{top:d,left:f}}}var $=i(41420);class N{constructor(p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=p.clientY+document.body.scrollTop+document.documentElement.scrollTop);const a=S.getPositionOfChildWindowRelativeToAncestorWindow(self,p.view);this.posx-=a.left,this.posy-=a.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class x{constructor(p,a=0,d=0){if(this.browserEvent=p||null,this.target=p?p.target||p.targetNode||p.srcElement:null,this.deltaY=d,this.deltaX=a,p){const f=p,s=p;if(typeof f.wheelDeltaY!="undefined")this.deltaY=f.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS!="undefined"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(p.type==="wheel"){const r=p;r.deltaMode===r.DOM_DELTA_LINE?c.isFirefox&&!$.dz?this.deltaY=-p.deltaY/3:this.deltaY=-p.deltaY:this.deltaY=-p.deltaY/40}if(typeof f.wheelDeltaX!="undefined")c.isSafari&&$.ED?this.deltaX=-(f.wheelDeltaX/120):this.deltaX=f.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS!="undefined"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-p.detail/3;else if(p.type==="wheel"){const r=p;r.deltaMode===r.DOM_DELTA_LINE?c.isFirefox&&!$.dz?this.deltaX=-p.deltaX/3:this.deltaX=-p.deltaX:this.deltaX=-p.deltaX/40}this.deltaY===0&&this.deltaX===0&&p.wheelDelta&&(this.deltaY=p.wheelDelta/120)}}preventDefault(){var p;(p=this.browserEvent)===null||p===void 0||p.preventDefault()}stopPropagation(){var p;(p=this.browserEvent)===null||p===void 0||p.stopPropagation()}}},96425:function(vt,be,i){"use strict";i.d(be,{B:function(){return c}});var c;(function(F){const g={total:0,min:Number.MAX_VALUE,max:0},A=Object.assign({},g),S=Object.assign({},g),$=Object.assign({},g);let N=0;const x={keydown:0,input:0,render:0};function O(){_(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),x.keydown=1,queueMicrotask(p)}F.onKeyDown=O;function p(){x.keydown===1&&(performance.mark("keydown/end"),x.keydown=2)}function a(){performance.mark("input/start"),x.input=1,u()}F.onBeforeInput=a;function d(){x.input===0&&a(),queueMicrotask(f)}F.onInput=d;function f(){x.input===1&&(performance.mark("input/end"),x.input=2)}function s(){_()}F.onKeyUp=s;function r(){_()}F.onSelectionChange=r;function m(){x.keydown===2&&x.input===2&&x.render===0&&(performance.mark("render/start"),x.render=1,queueMicrotask(C),u())}F.onRenderStart=m;function C(){x.render===1&&(performance.mark("render/end"),x.render=2)}function u(){setTimeout(_)}function _(){x.keydown===2&&x.input===2&&x.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),b("keydown",g),b("input",A),b("render",S),b("inputlatency",$),N++,E())}function b(M,K){const z=performance.getEntriesByName(M)[0].duration;K.total+=z,K.min=Math.min(K.min,z),K.max=Math.max(K.max,z)}function E(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),x.keydown=0,x.input=0,x.render=0}function D(){if(N===0)return;const M={keydown:w(g),input:w(A),render:w(S),total:w($),sampleCount:N};return I(g),I(A),I(S),I($),N=0,M}F.getAndClearMeasurements=D;function w(M){return{average:M.total/N,max:M.max,min:M.min}}function I(M){M.total=0,M.min=Number.MAX_VALUE,M.max=0}})(c||(c={}))},92759:function(vt,be,i){"use strict";i.d(be,{o:function(){return x},t:function(){return N}});var c=i(16563),F=i(16842),g=i(69398),A=i(52357),S=i(23345),$=function(O,p,a,d){var f=arguments.length,s=f<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,a):d,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(O,p,a,d);else for(var m=O.length-1;m>=0;m--)(r=O[m])&&(s=(f<3?r(s):f>3?r(p,a,s):r(p,a))||s);return f>3&&s&&Object.defineProperty(p,a,s),s},N;(function(O){O.Tap="-monaco-gesturetap",O.Change="-monaco-gesturechange",O.Start="-monaco-gesturestart",O.End="-monaco-gesturesend",O.Contextmenu="-monaco-gesturecontextmenu"})(N||(N={}));class x extends A.JT{constructor(){super(),this.dispatched=!1,this.targets=new S.S,this.ignoreTargets=new S.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(c.nm(document,"touchstart",p=>this.onTouchStart(p),{passive:!1})),this._register(c.nm(document,"touchend",p=>this.onTouchEnd(p))),this._register(c.nm(document,"touchmove",p=>this.onTouchMove(p),{passive:!1}))}static addTarget(p){if(!x.isTouchDevice())return A.JT.None;x.INSTANCE||(x.INSTANCE=new x);const a=x.INSTANCE.targets.push(p);return(0,A.OF)(a)}static ignoreTarget(p){if(!x.isTouchDevice())return A.JT.None;x.INSTANCE||(x.INSTANCE=new x);const a=x.INSTANCE.ignoreTargets.push(p);return(0,A.OF)(a)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(p){const a=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let d=0,f=p.targetTouches.length;d<f;d++){const s=p.targetTouches.item(d);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:a,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[a],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};const r=this.newGestureEvent(N.Start,s.target);r.pageX=s.pageX,r.pageY=s.pageY,this.dispatchEvent(r)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}onTouchEnd(p){const a=Date.now(),d=Object.keys(this.activeTouches).length;for(let f=0,s=p.changedTouches.length;f<s;f++){const r=p.changedTouches.item(f);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const m=this.activeTouches[r.identifier],C=Date.now()-m.initialTimeStamp;if(C<x.HOLD_DELAY&&Math.abs(m.initialPageX-F.Gb(m.rollingPageX))<30&&Math.abs(m.initialPageY-F.Gb(m.rollingPageY))<30){const u=this.newGestureEvent(N.Tap,m.initialTarget);u.pageX=F.Gb(m.rollingPageX),u.pageY=F.Gb(m.rollingPageY),this.dispatchEvent(u)}else if(C>=x.HOLD_DELAY&&Math.abs(m.initialPageX-F.Gb(m.rollingPageX))<30&&Math.abs(m.initialPageY-F.Gb(m.rollingPageY))<30){const u=this.newGestureEvent(N.Contextmenu,m.initialTarget);u.pageX=F.Gb(m.rollingPageX),u.pageY=F.Gb(m.rollingPageY),this.dispatchEvent(u)}else if(d===1){const u=F.Gb(m.rollingPageX),_=F.Gb(m.rollingPageY),b=F.Gb(m.rollingTimestamps)-m.rollingTimestamps[0],E=u-m.rollingPageX[0],D=_-m.rollingPageY[0],w=[...this.targets].filter(I=>m.initialTarget instanceof Node&&I.contains(m.initialTarget));this.inertia(w,a,Math.abs(E)/b,E>0?1:-1,u,Math.abs(D)/b,D>0?1:-1,_)}this.dispatchEvent(this.newGestureEvent(N.End,m.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}newGestureEvent(p,a){const d=document.createEvent("CustomEvent");return d.initEvent(p,!1,!0),d.initialTarget=a,d.tapCount=0,d}dispatchEvent(p){if(p.type===N.Tap){const a=new Date().getTime();let d=0;a-this._lastSetTapCountTime>x.CLEAR_TAP_COUNT_TIME?d=1:d=2,this._lastSetTapCountTime=a,p.tapCount=d}else(p.type===N.Change||p.type===N.Contextmenu)&&(this._lastSetTapCountTime=0);if(p.initialTarget instanceof Node){for(const a of this.ignoreTargets)if(a.contains(p.initialTarget))return;for(const a of this.targets)a.contains(p.initialTarget)&&(a.dispatchEvent(p),this.dispatched=!0)}}inertia(p,a,d,f,s,r,m,C){this.handle=c.jL(()=>{const u=Date.now(),_=u-a;let b=0,E=0,D=!0;d+=x.SCROLL_FRICTION*_,r+=x.SCROLL_FRICTION*_,d>0&&(D=!1,b=f*d*_),r>0&&(D=!1,E=m*r*_);const w=this.newGestureEvent(N.Change);w.translationX=b,w.translationY=E,p.forEach(I=>I.dispatchEvent(w)),D||this.inertia(p,u,d,f,s+b,r,m,C+E)})}onTouchMove(p){const a=Date.now();for(let d=0,f=p.changedTouches.length;d<f;d++){const s=p.changedTouches.item(d);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}const r=this.activeTouches[s.identifier],m=this.newGestureEvent(N.Change,r.initialTarget);m.translationX=s.pageX-F.Gb(r.rollingPageX),m.translationY=s.pageY-F.Gb(r.rollingPageY),m.pageX=s.pageX,m.pageY=s.pageY,this.dispatchEvent(m),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(s.pageX),r.rollingPageY.push(s.pageY),r.rollingTimestamps.push(a)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}}x.SCROLL_FRICTION=-.005,x.HOLD_DELAY=700,x.CLEAR_TAP_COUNT_TIME=400,$([g.H],x,"isTouchDevice",null)},1794:function(vt,be,i){"use strict";i.d(be,{gU:function(){return z},YH:function(){return K},Lc:function(){return Q}});var c=i(26766),F=i(2020),g=i(16563),A=i(92759),S=i(71426),$=i(25396),N=i(87415),x=i(32595),O=i(2898),p=i(16842),a=i(94162),d=i(42528),f=i(52357),s=i(41420),r=i(15779);const m=g.$,C="selectOption.entry.template";class u{get templateId(){return C}renderTemplate(H){const P=Object.create(null);return P.root=H,P.text=g.R3(H,m(".option-text")),P.detail=g.R3(H,m(".option-detail")),P.decoratorRight=g.R3(H,m(".option-decorator-right")),P}renderElement(H,P,X){const q=X,U=H.text,L=H.detail,B=H.decoratorRight,j=H.isDisabled;q.text.textContent=U,q.detail.textContent=L||"",q.decoratorRight.innerText=B||"",j?q.root.classList.add("option-disabled"):q.root.classList.remove("option-disabled")}disposeTemplate(H){}}class _ extends f.JT{constructor(H,P,X,q,U){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=q,this.selectBoxOptions=U||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=_.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new a.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(X),this.selected=P||0,H&&this.setOptions(H,P),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return C}constructSelectDropDown(H){this.contextViewProvider=H,this.selectDropDownContainer=g.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=g.R3(this.selectDropDownContainer,m(".select-box-details-pane"));const P=g.R3(this.selectDropDownContainer,m(".select-box-dropdown-container-width-control")),X=g.R3(P,m(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",g.R3(X,this.widthControlElement),this._dropDownPosition=0,this.styleElement=g.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(g.nm(this.selectDropDownContainer,g.tw.DRAG_START,q=>{g.zB.stop(q,!0)}))}registerListeners(){this._register(g.mu(this.selectElement,"change",P=>{this.selected=P.target.selectedIndex,this._onDidSelect.fire({index:P.target.selectedIndex,selected:P.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(g.nm(this.selectElement,g.tw.CLICK,P=>{g.zB.stop(P),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(g.nm(this.selectElement,g.tw.MOUSE_DOWN,P=>{g.zB.stop(P)}));let H;this._register(g.nm(this.selectElement,"touchstart",P=>{H=this._isVisible})),this._register(g.nm(this.selectElement,"touchend",P=>{g.zB.stop(P),H?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(g.nm(this.selectElement,g.tw.KEY_DOWN,P=>{const X=new N.y(P);let q=!1;s.dz?(X.keyCode===18||X.keyCode===16||X.keyCode===10||X.keyCode===3)&&(q=!0):(X.keyCode===18&&X.altKey||X.keyCode===16&&X.altKey||X.keyCode===10||X.keyCode===3)&&(q=!0),q&&(this.showSelectDropDown(),g.zB.stop(P,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(H,P){p.fS(this.options,H)||(this.options=H,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((X,q)=>{this.selectElement.add(this.createOption(X.text,q,X.isDisabled)),typeof X.description=="string"&&(this._hasDetails=!0)})),P!==void 0&&(this.select(P),this._currentSelection=this.selected)}setOptionsList(){var H;(H=this.selectList)===null||H===void 0||H.splice(0,this.selectList.length,this.options)}select(H){H>=0&&H<this.options.length?this.selected=H:H>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(H){this.selectElement.tabIndex=H?0:-1}render(H){this.container=H,H.classList.add("select-container"),H.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const H=[];this.styles.listFocusBackground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(H.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),H.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&H.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),H.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),H.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=H.join(`
`)}styleSelectElement(){var H,P,X;const q=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",U=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",L=(X=this.styles.selectBorder)!==null&&X!==void 0?X:"";this.selectElement.style.backgroundColor=q,this.selectElement.style.color=U,this.selectElement.style.borderColor=L}styleList(){var H,P;const X=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",q=g.XT(this.styles.selectListBackground,X);this.selectDropDownListContainer.style.backgroundColor=q,this.selectionDetailsPane.style.backgroundColor=q;const U=(P=this.styles.focusBorder)!==null&&P!==void 0?P:"";this.selectDropDownContainer.style.outlineColor=U,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(H,P,X){const q=document.createElement("option");return q.value=H,q.text=H,q.disabled=!!X,q}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:H=>this.renderSelectDropDown(H,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:H=>this.renderSelectDropDown(H),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(H){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),H&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(H,P){return H.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(P),{dispose:()=>{try{H.removeChild(this.selectDropDownContainer)}catch(X){}}}}measureMaxDetailsHeight(){let H=0;return this.options.forEach((P,X)=>{this.updateDetail(X),this.selectionDetailsPane.offsetHeight>H&&(H=this.selectionDetailsPane.offsetHeight)}),H}layoutSelectDropDown(H){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const P=g.i(this.selectElement),X=getComputedStyle(this.selectElement),q=parseFloat(X.getPropertyValue("--dropdown-padding-top"))+parseFloat(X.getPropertyValue("--dropdown-padding-bottom")),U=window.innerHeight-P.top-P.height-(this.selectBoxOptions.minBottomMargin||0),L=P.top-_.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,B=this.selectElement.offsetWidth,j=this.setWidthControlElement(this.widthControlElement),G=Math.max(j,Math.round(B)).toString()+"px";this.selectDropDownContainer.style.width=G,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let y=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const pe=this._hasDetails?this._cachedMaxDetailsHeight:0,ye=y+q+pe,me=Math.floor((U-q-pe)/this.getHeight()),Se=Math.floor((L-q-pe)/this.getHeight());if(H)return P.top+P.height>window.innerHeight-22||P.top<_.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||me<1&&Se<1?!1:(me<_.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&Se>me&&this.options.length>me?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(P.top+P.height>window.innerHeight-22||P.top<_.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&me<1||this._dropDownPosition===1&&Se<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&me+Se<1)return this.hideSelectDropDown(!0),!1;ye>U&&(y=me*this.getHeight())}else ye>L&&(y=Se*this.getHeight());return this.selectList.layout(y),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=y+q+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=y+q+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=G,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(H){let P=0;if(H){let X=0,q=0;this.options.forEach((U,L)=>{const B=U.detail?U.detail.length:0,j=U.decoratorRight?U.decoratorRight.length:0,G=U.text.length+B+j;G>q&&(X=L,q=G)}),H.textContent=this.options[X].text+(this.options[X].decoratorRight?this.options[X].decoratorRight+" ":""),P=g.w(H)}return P}createSelectList(H){if(this.selectList)return;this.selectDropDownListContainer=g.R3(H,m(".select-box-dropdown-list-container")),this.listRenderer=new u,this.selectList=new O.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:q=>{let U=q.text;return q.detail&&(U+=`. ${q.detail}`),q.decoratorRight&&(U+=`. ${q.decoratorRight}`),q.description&&(U+=`. ${q.description}`),U},getWidgetAriaLabel:()=>(0,r.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const P=this._register(new $.Y(this.selectDropDownListContainer,"keydown")),X=a.ju.chain(P.event).filter(()=>this.selectList.length>0).map(q=>new N.y(q));this._register(X.filter(q=>q.keyCode===3).on(q=>this.onEnter(q),this)),this._register(X.filter(q=>q.keyCode===2).on(q=>this.onEnter(q),this)),this._register(X.filter(q=>q.keyCode===9).on(q=>this.onEscape(q),this)),this._register(X.filter(q=>q.keyCode===16).on(q=>this.onUpArrow(q),this)),this._register(X.filter(q=>q.keyCode===18).on(q=>this.onDownArrow(q),this)),this._register(X.filter(q=>q.keyCode===12).on(this.onPageDown,this)),this._register(X.filter(q=>q.keyCode===11).on(this.onPageUp,this)),this._register(X.filter(q=>q.keyCode===14).on(this.onHome,this)),this._register(X.filter(q=>q.keyCode===13).on(this.onEnd,this)),this._register(X.filter(q=>q.keyCode>=21&&q.keyCode<=56||q.keyCode>=80&&q.keyCode<=108).on(this.onCharacter,this)),this._register(g.nm(this.selectList.getHTMLElement(),g.tw.POINTER_UP,q=>this.onPointerUp(q))),this._register(this.selectList.onMouseOver(q=>typeof q.index!="undefined"&&this.selectList.setFocus([q.index]))),this._register(this.selectList.onDidChangeFocus(q=>this.onListFocus(q))),this._register(g.nm(this.selectDropDownContainer,g.tw.FOCUS_OUT,q=>{!this._isVisible||g.jg(q.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(H){if(!this.selectList.length)return;g.zB.stop(H);const P=H.target;if(!P||P.classList.contains("slider"))return;const X=P.closest(".monaco-list-row");if(!X)return;const q=Number(X.getAttribute("data-index")),U=X.classList.contains("option-disabled");q>=0&&q<this.options.length&&!U&&(this.selected=q,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(H,P){const X=U=>{for(let L=0;L<U.childNodes.length;L++){const B=U.childNodes.item(L);(B.tagName&&B.tagName.toLowerCase())==="img"?U.removeChild(B):X(B)}},q=(0,x.a)({value:H,supportThemeIcons:!0},{actionHandler:P});return q.element.classList.add("select-box-description-markdown"),X(q.element),q.element}onListFocus(H){!this._isVisible||!this._hasDetails||this.updateDetail(H.indexes[0])}updateDetail(H){var P,X;this.selectionDetailsPane.innerText="";const q=this.options[H],U=(P=q==null?void 0:q.description)!==null&&P!==void 0?P:"",L=(X=q==null?void 0:q.descriptionIsMarkdown)!==null&&X!==void 0?X:!1;if(U){if(L){const B=q.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(U,B))}else this.selectionDetailsPane.innerText=U;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(H){g.zB.stop(H),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(H){g.zB.stop(H),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(H){if(this.selected<this.options.length-1){g.zB.stop(H,!0);const P=this.options[this.selected+1].isDisabled;if(P&&this.options.length>this.selected+2)this.selected+=2;else{if(P)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(H){this.selected>0&&(g.zB.stop(H,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(H){g.zB.stop(H),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(H){g.zB.stop(H),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(H){g.zB.stop(H),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(H){g.zB.stop(H),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(H){const P=d.kL.toString(H.keyCode);let X=-1;for(let q=0;q<this.options.length-1;q++)if(X=(q+this.selected+1)%this.options.length,this.options[X].text.charAt(0).toUpperCase()===P&&!this.options[X].isDisabled){this.select(X),this.selectList.setFocus([X]),this.selectList.reveal(this.selectList.getFocus()[0]),g.zB.stop(H);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}_.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,_.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,_.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class b extends f.JT{constructor(H,P,X,q){super(),this.selected=0,this.selectBoxOptions=q||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new a.Q5),this.styles=X,this.registerListeners(),this.setOptions(H,P)}registerListeners(){this._register(A.o.addTarget(this.selectElement)),[A.t.Tap].forEach(H=>{this._register(g.nm(this.selectElement,H,P=>{this.selectElement.focus()}))}),this._register(g.mu(this.selectElement,"click",H=>{g.zB.stop(H,!0)})),this._register(g.mu(this.selectElement,"change",H=>{this.selectElement.title=H.target.value,this._onDidSelect.fire({index:H.target.selectedIndex,selected:H.target.value})})),this._register(g.mu(this.selectElement,"keydown",H=>{let P=!1;s.dz?(H.keyCode===18||H.keyCode===16||H.keyCode===10)&&(P=!0):(H.keyCode===18&&H.altKey||H.keyCode===10||H.keyCode===3)&&(P=!0),P&&H.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(H,P){(!this.options||!p.fS(this.options,H))&&(this.options=H,this.selectElement.options.length=0,this.options.forEach((X,q)=>{this.selectElement.add(this.createOption(X.text,q,X.isDisabled))})),P!==void 0&&this.select(P)}select(H){this.options.length===0?this.selected=0:H>=0&&H<this.options.length?this.selected=H:H>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(H){this.selectElement.tabIndex=H?0:-1}render(H){H.classList.add("select-container"),H.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var H,P,X;this.selectElement&&(this.selectElement.style.backgroundColor=(H=this.styles.selectBackground)!==null&&H!==void 0?H:"",this.selectElement.style.color=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",this.selectElement.style.borderColor=(X=this.styles.selectBorder)!==null&&X!==void 0?X:"")}createOption(H,P,X){const q=document.createElement("option");return q.value=H,q.text=H,q.disabled=!!X,q}}var E=i(89021);class D extends E.${constructor(H,P,X,q,U){super(),s.dz&&!(U!=null&&U.useCustomDrawn)?this.selectBoxDelegate=new b(H,P,q,U):this.selectBoxDelegate=new _(H,P,X,q,U),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(H,P){this.selectBoxDelegate.setOptions(H,P)}select(H){this.selectBoxDelegate.select(H)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(H){this.selectBoxDelegate.setFocusable(H)}render(H){this.selectBoxDelegate.render(H)}}var w=i(50453),I=i(67770),M=i(5833);class K extends f.JT{get action(){return this._action}constructor(H,P,X={}){super(),this.options=X,this._context=H||this,this._action=P,P instanceof w.aU&&this._register(P.onDidChange(q=>{this.element&&this.handleActionChangeEvent(q)}))}handleActionChangeEvent(H){H.enabled!==void 0&&this.updateEnabled(),H.checked!==void 0&&this.updateChecked(),H.class!==void 0&&this.updateClass(),H.label!==void 0&&(this.updateLabel(),this.updateTooltip()),H.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.Wi)),this._actionRunner}set actionRunner(H){this._actionRunner=H}isEnabled(){return this._action.enabled}setActionContext(H){this._context=H}render(H){const P=this.element=H;this._register(A.o.addTarget(H));const X=this.options&&this.options.draggable;X&&(H.draggable=!0,c.isFirefox&&this._register((0,g.nm)(H,g.tw.DRAG_START,q=>{var U;return(U=q.dataTransfer)===null||U===void 0?void 0:U.setData(F.g.TEXT,this._action.label)}))),this._register((0,g.nm)(P,A.t.Tap,q=>this.onClick(q,!0))),this._register((0,g.nm)(P,g.tw.MOUSE_DOWN,q=>{X||g.zB.stop(q,!0),this._action.enabled&&q.button===0&&P.classList.add("active")})),s.dz&&this._register((0,g.nm)(P,g.tw.CONTEXT_MENU,q=>{q.button===0&&q.ctrlKey===!0&&this.onClick(q)})),this._register((0,g.nm)(P,g.tw.CLICK,q=>{g.zB.stop(q,!0),this.options&&this.options.isMenu||this.onClick(q)})),this._register((0,g.nm)(P,g.tw.DBLCLICK,q=>{g.zB.stop(q,!0)})),[g.tw.MOUSE_UP,g.tw.MOUSE_OUT].forEach(q=>{this._register((0,g.nm)(P,q,U=>{g.zB.stop(U),P.classList.remove("active")}))})}onClick(H,P=!1){var X;g.zB.stop(H,!0);const q=I.Jp(this._context)?!((X=this.options)===null||X===void 0)&&X.useEventAsContext?H:{preserveFocus:P}:this._context;this.actionRunner.run(this._action,q)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(H){this.element&&(this.element.tabIndex=H?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var H;if(!this.element)return;const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(P):(this.customHover=(0,S.g)(this.options.hoverDelegate,this.element,P),this._store.add(this.customHover))):this.element.title=P}updateAriaLabel(){var H;if(this.element){const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.element.setAttribute("aria-label",P)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class z extends K{constructor(H,P,X){super(H,P,X),this.options=X,this.options.icon=X.icon!==void 0?X.icon:!1,this.options.label=X.label!==void 0?X.label:!0,this.cssClass=""}render(H){super.render(H),this.element&&(this.label=(0,g.R3)(this.element,(0,g.$)("a.action-label"))),this.label&&(this._action.id===w.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,g.R3)(this.element,(0,g.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(H){this.label&&(this.label.tabIndex=H?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let H=null;return this.action.tooltip?H=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(H=this.action.label,this.options.keybinding&&(H=r.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",H,this.options.keybinding))),H!=null?H:void 0}updateClass(){var H;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(H=this.label)===null||H===void 0||H.classList.remove("codicon")}updateEnabled(){var H,P;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(H=this.element)===null||H===void 0||H.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(P=this.element)===null||P===void 0||P.classList.add("disabled"))}updateAriaLabel(){var H;if(this.label){const P=(H=this.getTooltip())!==null&&H!==void 0?H:"";this.label.setAttribute("aria-label",P)}}updateChecked(){this.label&&(this.action.checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}class Q extends K{constructor(H,P,X,q,U,L,B){super(H,P),this.selectBox=new D(X,q,U,L,B),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(H){this.selectBox.select(H)}registerListeners(){this._register(this.selectBox.onDidSelect(H=>this.runAction(H.selected,H.index)))}runAction(H,P){this.actionRunner.run(this._action,this.getActionContext(H,P))}getActionContext(H,P){return H}setFocusable(H){this.selectBox.setFocusable(H)}focus(){var H;(H=this.selectBox)===null||H===void 0||H.focus()}blur(){var H;(H=this.selectBox)===null||H===void 0||H.blur()}render(H){this.selectBox.render(H)}}},38224:function(vt,be,i){"use strict";i.d(be,{o:function(){return p}});var c=i(16563),F=i(87415),g=i(1794),A=i(50453),S=i(94162),$=i(52357),N=i(67770),x=i(5833),O=function(a,d,f,s){function r(m){return m instanceof f?m:new f(function(C){C(m)})}return new(f||(f=Promise))(function(m,C){function u(E){try{b(s.next(E))}catch(D){C(D)}}function _(E){try{b(s.throw(E))}catch(D){C(D)}}function b(E){E.done?m(E.value):r(E.value).then(u,_)}b((s=s.apply(a,d||[])).next())})};class p extends $.JT{constructor(d,f={}){var s,r,m,C,u,_;super(),this._actionRunnerDisposables=this._register(new $.SL),this.viewItemDisposables=this._register(new $.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new S.Q5),this.onWillRun=this._onWillRun.event,this.options=f,this._context=(s=f.context)!==null&&s!==void 0?s:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(C=(m=this.options.triggerKeys)===null||m===void 0?void 0:m.keyDown)!==null&&C!==void 0?C:!1,keys:(_=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&_!==void 0?_:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new A.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(D=>this._onDidRun.fire(D))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(D=>this._onWillRun.fire(D))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",f.animated!==!1&&this.domNode.classList.add("animated");let b,E;switch(this._orientation){case 0:b=[15],E=[17];break;case 1:b=[16],E=[18],this.domNode.className+=" vertical";break}this._register(c.nm(this.domNode,c.tw.KEY_DOWN,D=>{const w=new F.y(D);let I=!0;const M=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;b&&(w.equals(b[0])||w.equals(b[1]))?I=this.focusPrevious():E&&(w.equals(E[0])||w.equals(E[1]))?I=this.focusNext():w.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():w.equals(14)?I=this.focusFirst():w.equals(13)?I=this.focusLast():w.equals(2)&&M instanceof g.YH&&M.trapsArrowNavigation?I=this.focusNext():this.isTriggerKeyEvent(w)?this._triggerKeys.keyDown?this.doTrigger(w):this.triggerKeyDown=!0:I=!1,I&&(w.preventDefault(),w.stopPropagation())})),this._register(c.nm(this.domNode,c.tw.KEY_UP,D=>{const w=new F.y(D);this.isTriggerKeyEvent(w)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(w)),w.preventDefault(),w.stopPropagation()):(w.equals(2)||w.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(c.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(c.vY()===this.domNode||!c.jg(c.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),d.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(d){if(this.focusable=d,this.focusable){const f=this.viewItems.find(s=>s instanceof g.YH&&s.isEnabled());f instanceof g.YH&&f.setFocusable(!0)}else this.viewItems.forEach(f=>{f instanceof g.YH&&f.setFocusable(!1)})}isTriggerKeyEvent(d){let f=!1;return this._triggerKeys.keys.forEach(s=>{f=f||d.equals(s)}),f}updateFocusedItem(){for(let d=0;d<this.actionsList.children.length;d++){const f=this.actionsList.children[d];if(c.jg(c.vY(),f)){this.focusedItem=d;break}}}get context(){return this._context}set context(d){this._context=d,this.viewItems.forEach(f=>f.setActionContext(d))}get actionRunner(){return this._actionRunner}set actionRunner(d){this._actionRunner=d,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(f=>this._onDidRun.fire(f))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(f=>this._onWillRun.fire(f))),this.viewItems.forEach(f=>f.actionRunner=d)}getContainer(){return this.domNode}getAction(d){var f;if(typeof d=="number")return(f=this.viewItems[d])===null||f===void 0?void 0:f.action;if(d instanceof HTMLElement){for(;d.parentElement!==this.actionsList;){if(!d.parentElement)return;d=d.parentElement}for(let s=0;s<this.actionsList.childNodes.length;s++)if(this.actionsList.childNodes[s]===d)return this.viewItems[s].action}}push(d,f={}){const s=Array.isArray(d)?d:[d];let r=N.hj(f.index)?f.index:null;s.forEach(m=>{const C=document.createElement("li");C.className="action-item",C.setAttribute("role","presentation");let u;const _=Object.assign({hoverDelegate:this.options.hoverDelegate},f);this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(m,_)),u||(u=new g.gU(this.context,m,_)),this.options.allowContextMenu||this.viewItemDisposables.set(u,c.nm(C,c.tw.CONTEXT_MENU,b=>{c.zB.stop(b,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(C),this.focusable&&u instanceof g.YH&&this.viewItems.length===0&&u.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(C),this.viewItems.push(u)):(this.actionsList.insertBefore(C,this.actionsList.children[r]),this.viewItems.splice(r,0,u),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,$.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),c.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(d){let f=!1,s;if(d===void 0?f=!0:typeof d=="number"?s=d:typeof d=="boolean"&&(f=d),f&&typeof this.focusedItem=="undefined"){const r=this.viewItems.findIndex(m=>m.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else s!==void 0&&(this.focusedItem=s),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(d){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const f=this.focusedItem;let s;do{if(!d&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=f,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,s=this.viewItems[this.focusedItem]}while(this.focusedItem!==f&&(this.options.focusOnlyEnabledItems&&!s.isEnabled()||s.action.id===A.Z0.ID));return this.updateFocus(),!0}focusPrevious(d){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const f=this.focusedItem;let s;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!d&&this.options.preventLoopNavigation)return this.focusedItem=f,!1;this.focusedItem=this.viewItems.length-1}s=this.viewItems[this.focusedItem]}while(this.focusedItem!==f&&(this.options.focusOnlyEnabledItems&&!s.isEnabled()||s.action.id===A.Z0.ID));return this.updateFocus(!0),!0}updateFocus(d,f,s=!1){var r;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:f}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const m=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(m){let C=!0;N.mf(m.focus)||(C=!1),this.options.focusOnlyEnabledItems&&N.mf(m.isEnabled)&&!m.isEnabled()&&(C=!1),m.action.id===A.Z0.ID&&(C=!1),C?(s||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(d),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:f}),this.previouslyFocusedItem=void 0)}}doTrigger(d){if(typeof this.focusedItem=="undefined")return;const f=this.viewItems[this.focusedItem];if(f instanceof g.YH){const s=f._context===null||f._context===void 0?d:f._context;this.run(f._action,s)}}run(d,f){return O(this,void 0,void 0,function*(){yield this._actionRunner.run(d,f)})}dispose(){this._context=void 0,this.viewItems=(0,$.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},26017:function(vt,be,i){"use strict";i.d(be,{Z9:function(){return p},wW:function(){return O},i7:function(){return a}});var c=i(16563),F=i(41420);const g=2e4;let A,S,$,N,x;function O(f){A=document.createElement("div"),A.className="monaco-aria-container";const s=()=>{const m=document.createElement("div");return m.className="monaco-alert",m.setAttribute("role","alert"),m.setAttribute("aria-atomic","true"),A.appendChild(m),m};S=s(),$=s();const r=()=>{const m=document.createElement("div");return m.className="monaco-status",m.setAttribute("role","complementary"),m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true"),A.appendChild(m),m};N=r(),x=r(),f.appendChild(A)}function p(f){A&&(S.textContent!==f?(c.PO($),d(S,f)):(c.PO(S),d($,f)))}function a(f){A&&(F.dz?p(f):N.textContent!==f?(c.PO(x),d(N,f)):(c.PO(N),d(x,f)))}function d(f,s){c.PO(f),s.length>g&&(s=s.substr(0,g)),f.textContent=s,f.style.visibility="hidden",f.style.visibility="visible"}},42409:function(){"use strict"},556:function(vt,be,i){"use strict";i.d(be,{Z:function(){return g}});var c=i(16563),F=i(30613);class g{constructor(S,$,N){this.options=$,this.styles=N,this.count=0,this.element=(0,c.R3)(S,(0,c.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,$;this.element.textContent=(0,F.WU)(this.countFormat,this.count),this.element.title=(0,F.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=($=this.styles.badgeForeground)!==null&&$!==void 0?$:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},13396:function(vt,be,i){"use strict";i.d(be,{C:function(){return O}});var c=i(16563),F=i(1794),g=i(87415),A=i(92759),S=i(50453),$=i(94162);class N extends S.Wi{constructor(a,d){super(),this._onDidChangeVisibility=this._register(new $.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,c.R3)(a,(0,c.$)(".monaco-dropdown")),this._label=(0,c.R3)(this._element,(0,c.$)(".dropdown-label"));let f=d.labelRenderer;f||(f=r=>(r.textContent=d.label||"",null));for(const r of[c.tw.CLICK,c.tw.MOUSE_DOWN,A.t.Tap])this._register((0,c.nm)(this.element,r,m=>c.zB.stop(m,!0)));for(const r of[c.tw.MOUSE_DOWN,A.t.Tap])this._register((0,c.nm)(this._label,r,m=>{m instanceof MouseEvent&&(m.detail>1||m.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,c.nm)(this._label,c.tw.KEY_UP,r=>{const m=new g.y(r);(m.equals(3)||m.equals(10))&&(c.zB.stop(r,!0),this.visible?this.hide():this.show())}));const s=f(this._label);s&&this._register(s),this._register(A.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class x extends N{constructor(a,d){super(a,d),this._actions=[],this._contextMenuProvider=d.contextMenuProvider,this.actions=d.actions||[],this.actionProvider=d.actionProvider,this.menuClassName=d.menuClassName||"",this.menuAsChild=!!d.menuAsChild}set menuOptions(a){this._menuOptions=a}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(a){this._actions=a}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(a,d)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(a,d):void 0,getKeyBinding:a=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(a):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class O extends F.YH{constructor(a,d,f,s=Object.create(null)){super(null,a,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new $.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=d,this.contextMenuProvider=f,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(a){this.actionItem=a;const d=r=>{this.element=(0,c.R3)(r,(0,c.$)("a.action-label"));let m=[];return typeof this.options.classNames=="string"?m=this.options.classNames.split(/\s+/g).filter(C=>!!C):this.options.classNames&&(m=this.options.classNames),m.find(C=>C==="icon")||m.push("codicon"),this.element.classList.add(...m),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},f=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:d,menuAsChild:this.options.menuAsChild,actions:f?this.menuActionsOrProvider:void 0,actionProvider:f?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new x(a,s)),this._register(this.dropdownMenu.onDidChangeVisibility(r=>{var m;(m=this.element)===null||m===void 0||m.setAttribute("aria-expanded",`${r}`),this._onDidChangeVisibility.fire(r)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const r=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return r.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let a=null;return this.action.tooltip?a=this.action.tooltip:this.action.label&&(a=this.action.label),a!=null?a:void 0}setActionContext(a){super.setActionContext(a),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=a:this.dropdownMenu.menuOptions={context:a})}show(){var a;(a=this.dropdownMenu)===null||a===void 0||a.show()}updateEnabled(){var a,d;const f=!this.action.enabled;(a=this.actionItem)===null||a===void 0||a.classList.toggle("disabled",f),(d=this.element)===null||d===void 0||d.classList.toggle("disabled",f)}}},79402:function(vt,be,i){"use strict";i.d(be,{V:function(){return p}});var c=i(16563),F=i(59306),g=i(806),A=i(89021),S=i(94162),$=i(42553),N=i(15779),x=i(52357);const O=N.NC("defaultLabel","input");class p extends A.${constructor(d,f,s){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new x.SL,this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Q5),this._onKeyUp=this._register(new S.Q5),this._onCaseSensitiveKeyDown=this._register(new S.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||O,this.showCommonFindToggles=!!s.showCommonFindToggles;const r=s.appendCaseSensitiveLabel||"",m=s.appendWholeWordsLabel||"",C=s.appendRegexLabel||"",u=s.history||[],_=!!s.flexibleHeight,b=!!s.flexibleWidth,E=s.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new g.pG(this.domNode,f,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:u,showHistoryHint:s.showHistoryHint,flexibleHeight:_,flexibleWidth:b,flexibleMaxHeight:E,inputBoxStyles:s.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new F.eH(Object.assign({appendTitle:C,isChecked:!1},s.toggleStyles))),this._register(this.regex.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(w=>{this._onRegexKeyDown.fire(w)})),this.wholeWords=this._register(new F.Qx(Object.assign({appendTitle:m,isChecked:!1},s.toggleStyles))),this._register(this.wholeWords.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new F.rk(Object.assign({appendTitle:r,isChecked:!1},s.toggleStyles))),this._register(this.caseSensitive.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(w=>{this._onCaseSensitiveKeyDown.fire(w)}));const D=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,w=>{if(w.equals(15)||w.equals(17)||w.equals(9)){const I=D.indexOf(document.activeElement);if(I>=0){let M=-1;w.equals(17)?M=(I+1)%D.length:w.equals(15)&&(I===0?M=D.length-1:M=I-1),w.equals(9)?(D[I].blur(),this.inputBox.focus()):M>=0&&D[M].focus(),c.zB.stop(w,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"block":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(s==null?void 0:s.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),d==null||d.appendChild(this.domNode),this._register(c.nm(this.inputBox.inputElement,"compositionstart",D=>{this.imeSessionInProgress=!0})),this._register(c.nm(this.inputBox.inputElement,"compositionend",D=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,D=>this._onKeyDown.fire(D)),this.onkeyup(this.inputBox.inputElement,D=>this._onKeyUp.fire(D)),this.oninput(this.inputBox.inputElement,D=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,D=>this._onMouseDown.fire(D))}get onDidChange(){return this.inputBox.onDidChange}enable(){var d,f,s;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(d=this.regex)===null||d===void 0||d.enable(),(f=this.wholeWords)===null||f===void 0||f.enable(),(s=this.caseSensitive)===null||s===void 0||s.enable();for(const r of this.additionalToggles)r.enable()}disable(){var d,f,s;this.domNode.classList.add("disabled"),this.inputBox.disable(),(d=this.regex)===null||d===void 0||d.disable(),(f=this.wholeWords)===null||f===void 0||f.disable(),(s=this.caseSensitive)===null||s===void 0||s.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(d){this.fixFocusOnOptionClickEnabled=d}setEnabled(d){d?this.enable():this.disable()}setAdditionalToggles(d){var f,s,r,m,C,u;for(const _ of this.additionalToggles)_.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new x.SL;for(const _ of d!=null?d:[])this.additionalTogglesDisposables.add(_),this.controls.appendChild(_.domNode),this.additionalTogglesDisposables.add(_.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(_);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=((s=(f=this.caseSensitive)===null||f===void 0?void 0:f.width())!==null&&s!==void 0?s:0)+((m=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&m!==void 0?m:0)+((u=(C=this.regex)===null||C===void 0?void 0:C.width())!==null&&u!==void 0?u:0)+this.additionalToggles.reduce((_,b)=>_+b.width(),0)}getValue(){return this.inputBox.value}setValue(d){this.inputBox.value!==d&&(this.inputBox.value=d)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var d,f;return(f=(d=this.caseSensitive)===null||d===void 0?void 0:d.checked)!==null&&f!==void 0?f:!1}setCaseSensitive(d){this.caseSensitive&&(this.caseSensitive.checked=d)}getWholeWords(){var d,f;return(f=(d=this.wholeWords)===null||d===void 0?void 0:d.checked)!==null&&f!==void 0?f:!1}setWholeWords(d){this.wholeWords&&(this.wholeWords.checked=d)}getRegex(){var d,f;return(f=(d=this.regex)===null||d===void 0?void 0:d.checked)!==null&&f!==void 0?f:!1}setRegex(d){this.regex&&(this.regex.checked=d,this.validate())}focusOnCaseSensitive(){var d;(d=this.caseSensitive)===null||d===void 0||d.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(d){this.inputBox.showMessage(d)}clearMessage(){this.inputBox.hideMessage()}}},59306:function(vt,be,i){"use strict";i.d(be,{Qx:function(){return x},eH:function(){return O},rk:function(){return N}});var c=i(27654),F=i(54195),g=i(15779);const A=g.NC("caseDescription","Match Case"),S=g.NC("wordsDescription","Match Whole Word"),$=g.NC("regexDescription","Use Regular Expression");class N extends c.Z{constructor(a){super({icon:F.l.caseSensitive,title:A+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class x extends c.Z{constructor(a){super({icon:F.l.wholeWord,title:S+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class O extends c.Z{constructor(a){super({icon:F.l.regex,title:$+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}},98290:function(vt,be,i){"use strict";i.d(be,{q:function(){return A}});var c=i(16563),F=i(20915),g=i(60060);class A{constructor($,N){var x;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(x=N==null?void 0:N.supportIcons)!==null&&x!==void 0?x:!1,this.domNode=c.R3($,c.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set($,N=[],x="",O){$||($=""),O&&($=A.escapeNewLines($,N)),!(this.didEverRender&&this.text===$&&this.title===x&&g.fS(this.highlights,N))&&(this.text=$,this.title=x,this.highlights=N,this.render())}render(){const $=[];let N=0;for(const x of this.highlights){if(x.end===x.start)continue;if(N<x.start){const a=this.text.substring(N,x.start);this.supportIcons?$.push(...(0,F.T)(a)):$.push(a),N=x.start}const O=this.text.substring(N,x.end),p=c.$("span.highlight",void 0,...this.supportIcons?(0,F.T)(O):[O]);x.extraClasses&&p.classList.add(...x.extraClasses),$.push(p),N=x.end}if(N<this.text.length){const x=this.text.substring(N);this.supportIcons?$.push(...(0,F.T)(x)):$.push(x)}c.mc(this.domNode,...$),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines($,N){let x=0,O=0;return $.replace(/\r\n|\r|\n/g,(p,a)=>{O=p===`\r
`?-1:0,a+=x;for(const d of N)d.end<=a||(d.start>=a&&(d.start+=O),d.end>=a&&(d.end+=O));return x+=O,"\u23CE"})}}},1918:function(vt,be,i){"use strict";i.d(be,{g:function(){return x}});var c=i(16563),F=i(98290),g=i(71426),A=i(52357),S=i(60060),$=i(81186);class N{constructor(f){this._element=f}get element(){return this._element}set textContent(f){this.disposed||f===this._textContent||(this._textContent=f,this._element.textContent=f)}set className(f){this.disposed||f===this._className||(this._className=f,this._element.className=f)}set empty(f){this.disposed||f===this._empty||(this._empty=f,this._element.style.marginLeft=f?"0":"")}dispose(){this.disposed=!0}}class x extends A.JT{constructor(f,s){super(),this.customHovers=new Map,this.creationOptions=s,this.domNode=this._register(new N(c.R3(f,c.$(".monaco-icon-label")))),this.labelContainer=c.R3(this.domNode.element,c.$(".monaco-icon-label-container"));const r=c.R3(this.labelContainer,c.$("span.monaco-icon-name-container"));s!=null&&s.supportHighlights||s!=null&&s.supportIcons?this.nameNode=new a(r,!!s.supportIcons):this.nameNode=new O(r),this.hoverDelegate=s==null?void 0:s.hoverDelegate}get element(){return this.domNode.element}setLabel(f,s,r){const m=["monaco-icon-label"],C=["monaco-icon-label-container"];if(r&&(r.extraClasses&&m.push(...r.extraClasses),r.italic&&m.push("italic"),r.strikethrough&&m.push("strikethrough"),r.disabledCommand&&C.push("disabled")),this.domNode.className=m.join(" "),this.labelContainer.className=C.join(" "),this.setupHover(r!=null&&r.descriptionTitle?this.labelContainer:this.element,r==null?void 0:r.title),this.nameNode.setLabel(f,r),s||this.descriptionNode){const u=this.getOrCreateDescriptionNode();u instanceof F.q?(u.set(s||"",r?r.descriptionMatches:void 0,void 0,r==null?void 0:r.labelEscapeNewLines),this.setupHover(u.element,r==null?void 0:r.descriptionTitle)):(u.textContent=s&&(r!=null&&r.labelEscapeNewLines)?F.q.escapeNewLines(s,[]):s||"",this.setupHover(u.element,(r==null?void 0:r.descriptionTitle)||""),u.empty=!s)}}setupHover(f,s){const r=this.customHovers.get(f);if(r&&(r.dispose(),this.customHovers.delete(f)),!s){f.removeAttribute("title");return}if(!this.hoverDelegate)(0,g.O)(f,s);else{const m=(0,g.g)(this.hoverDelegate,f,s);m&&this.customHovers.set(f,m)}}dispose(){super.dispose();for(const f of this.customHovers.values())f.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var f;if(!this.descriptionNode){const s=this._register(new N(c.R3(this.labelContainer,c.$("span.monaco-icon-description-container"))));!((f=this.creationOptions)===null||f===void 0)&&f.supportDescriptionHighlights?this.descriptionNode=new F.q(c.R3(s.element,c.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new N(c.R3(s.element,c.$("span.label-description"))))}return this.descriptionNode}}class O{constructor(f){this.container=f,this.label=void 0,this.singleLabel=void 0}setLabel(f,s){if(!(this.label===f&&(0,S.fS)(this.options,s)))if(this.label=f,this.options=s,typeof f=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=c.R3(this.container,c.$("a.label-name",{id:s==null?void 0:s.domId}))),this.singleLabel.textContent=f;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<f.length;r++){const m=f[r],C=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${r}`;c.R3(this.container,c.$("a.label-name",{id:C,"data-icon-label-count":f.length,"data-icon-label-index":r,role:"treeitem"},m)),r<f.length-1&&c.R3(this.container,c.$("span.label-separator",void 0,(s==null?void 0:s.separator)||"/"))}}}}function p(d,f,s){if(!s)return;let r=0;return d.map(m=>{const C={start:r,end:r+m.length},u=s.map(_=>$.e.intersect(C,_)).filter(_=>!$.e.isEmpty(_)).map(({start:_,end:b})=>({start:_-r,end:b-r}));return r=C.end+f.length,u})}class a{constructor(f,s){this.container=f,this.supportIcons=s,this.label=void 0,this.singleLabel=void 0}setLabel(f,s){if(!(this.label===f&&(0,S.fS)(this.options,s)))if(this.label=f,this.options=s,typeof f=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new F.q(c.R3(this.container,c.$("a.label-name",{id:s==null?void 0:s.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(f,s==null?void 0:s.matches,void 0,s==null?void 0:s.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=(s==null?void 0:s.separator)||"/",m=p(f,r,s==null?void 0:s.matches);for(let C=0;C<f.length;C++){const u=f[C],_=m?m[C]:void 0,b=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${C}`,E=c.$("a.label-name",{id:b,"data-icon-label-count":f.length,"data-icon-label-index":C,role:"treeitem"});new F.q(c.R3(this.container,E),{supportIcons:this.supportIcons}).set(u,_,void 0,s==null?void 0:s.labelEscapeNewLines),C<f.length-1&&c.R3(E,c.$("span.label-separator",void 0,r))}}}}},71426:function(vt,be,i){"use strict";i.d(be,{O:function(){return p},g:function(){return d}});var c=i(16563),F=i(39460),g=i(19713),A=i(69549),S=i(87683),$=i(52357),N=i(67770),x=i(15779),O=function(f,s,r,m){function C(u){return u instanceof r?u:new r(function(_){_(u)})}return new(r||(r=Promise))(function(u,_){function b(w){try{D(m.next(w))}catch(I){_(I)}}function E(w){try{D(m.throw(w))}catch(I){_(I)}}function D(w){w.done?u(w.value):C(w.value).then(b,E)}D((m=m.apply(f,s||[])).next())})};function p(f,s){(0,N.HD)(s)?f.title=(0,S.x$)(s):s!=null&&s.markdownNotSupportedFallback?f.title=s.markdownNotSupportedFallback:f.removeAttribute("title")}class a{constructor(s,r,m){this.hoverDelegate=s,this.target=r,this.fadeInAnimation=m}update(s,r,m){var C;return O(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let u;if(s===void 0||(0,N.HD)(s)||s instanceof HTMLElement)u=s;else if(!(0,N.mf)(s.markdown))u=(C=s.markdown)!==null&&C!==void 0?C:s.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,x.NC)("iconLabel.loading","Loading..."),r),this._cancellationTokenSource=new g.A;const _=this._cancellationTokenSource.token;if(u=yield s.markdown(_),u===void 0&&(u=s.markdownNotSupportedFallback),this.isDisposed||_.isCancellationRequested)return}this.show(u,r,m)})}show(s,r,m){const C=this._hoverWidget;if(this.hasContent(s)){const u=Object.assign({content:s,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!C},m);this._hoverWidget=this.hoverDelegate.showHover(u,r)}C==null||C.dispose()}hasContent(s){return s?(0,A.Fr)(s)?!!s.value:!0:!1}get isDisposed(){var s;return(s=this._hoverWidget)===null||s===void 0?void 0:s.isDisposed}dispose(){var s,r;(s=this._hoverWidget)===null||s===void 0||s.dispose(),(r=this._cancellationTokenSource)===null||r===void 0||r.dispose(!0),this._cancellationTokenSource=void 0}}function d(f,s,r,m){let C,u;const _=(I,M)=>{var K;const z=u!==void 0;I&&(u==null||u.dispose(),u=void 0),M&&(C==null||C.dispose(),C=void 0),z&&((K=f.onDidHideHover)===null||K===void 0||K.call(f))},b=(I,M,K)=>new F._F(()=>O(this,void 0,void 0,function*(){(!u||u.isDisposed)&&(u=new a(f,K||s,I>0),yield u.update(r,M,m))}),I),E=()=>{if(C)return;const I=new $.SL,M=Q=>_(!1,Q.fromElement===s);I.add(c.nm(s,c.tw.MOUSE_LEAVE,M,!0));const K=()=>_(!0,!0);I.add(c.nm(s,c.tw.MOUSE_DOWN,K,!0));const z={targetElements:[s],dispose:()=>{}};if(f.placement===void 0||f.placement==="mouse"){const Q=Y=>{z.x=Y.x+10,Y.target instanceof HTMLElement&&Y.target.classList.contains("action-label")&&_(!0,!0)};I.add(c.nm(s,c.tw.MOUSE_MOVE,Q,!0))}I.add(b(f.delay,!1,z)),C=I},D=c.nm(s,c.tw.MOUSE_OVER,E,!0);return{show:I=>{_(!1,!0),b(0,I)},hide:()=>{_(!0,!0)},update:(I,M)=>O(this,void 0,void 0,function*(){r=I,yield u==null?void 0:u.update(r,void 0,M)}),dispose:()=>{D.dispose(),_(!0,!0)}}}},20915:function(vt,be,i){"use strict";i.d(be,{T:function(){return A}});var c=i(16563),F=i(81189);const g=new RegExp(`(\\\\)?\\$\\((${F.k.iconNameExpression}(?:${F.k.iconModifierExpression})?)\\)`,"g");function A($){const N=new Array;let x,O=0,p=0;for(;(x=g.exec($))!==null;){p=x.index||0,O<p&&N.push($.substring(O,p)),O=(x.index||0)+x[0].length;const[,a,d]=x;N.push(a?`$(${d})`:S({id:d}))}return O<$.length&&N.push($.substring(O)),N}function S($){const N=c.$("span");return N.classList.add(...F.k.asClassNameArray($)),N}},806:function(vt,be,i){"use strict";i.d(be,{pG:function(){return r},g4:function(){return f}});var c=i(16563),F=i(25396),g=i(42683),A=i(38224),S=i(26017),$=i(66690),N=i(89021),x=i(94162);class O{constructor(C,u=0,_=C.length,b=u-1){this.items=C,this.start=u,this.end=_,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(C=[],u=10){this._initialize(C),this._limit=u,this._onChange()}getHistory(){return this._elements}add(C){this._history.delete(C),this._history.add(C),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()===this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(C){return this._history.has(C)}_onChange(){this._reduceToLimit();const C=this._elements;this._navigator=new O(C,0,C.length,C.length)}_reduceToLimit(){const C=this._elements;C.length>this._limit&&this._initialize(C.slice(C.length-this._limit))}_currentPosition(){const C=this._navigator.current();return C?this._elements.indexOf(C):-1}_initialize(C){this._history=new Set;for(const u of C)this._history.add(u)}get _elements(){const C=[];return this._history.forEach(u=>C.push(u)),C}}var a=i(15779);const d=c.$,f={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class s extends N.${constructor(C,u,_){var b;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new x.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new x.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=u,this.options=_,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(b=this.options.tooltip)!==null&&b!==void 0?b:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=c.R3(C,d(".monaco-inputbox.idle"));const E=this.options.flexibleHeight?"textarea":"input",D=c.R3(this.element,d(".ibwrapper"));if(this.input=c.R3(D,d(E+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=c.R3(D,d("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new $.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),c.R3(C,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(M=>this.input.scrollTop=M.scrollTop));const w=this._register(new F.Y(document,"selectionchange")),I=x.ju.filter(w.event,()=>{const M=document.getSelection();return(M==null?void 0:M.anchorNode)===D});this._register(I(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new A.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(C){this.placeholder=C,this.input.setAttribute("placeholder",C)}setTooltip(C){this.tooltip=C,this.input.title=C}setAriaLabel(C){this.ariaLabel=C,C?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(C){this.input.value!==C&&(this.input.value=C,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:c.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(C=null){this.input.select(),C&&(this.input.setSelectionRange(C.start,C.end),C.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(C){this.input.style.width=`calc(100% - ${C}px)`,this.mirror&&(this.mirror.style.paddingRight=C+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const C=this.cachedContentHeight,u=this.cachedHeight,_=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:C,height:u}),this.scrollableElement.setScrollPosition({scrollTop:_})}showMessage(C,u){this.message=C,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(C.type));const _=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${c.XT(_.border,"transparent")}`,this.message.content&&(this.hasFocus()||u)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let C=null;return this.validation&&(C=this.validation(this.value),C?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(C)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),C==null?void 0:C.type}stylesForType(C){const u=this.options.inputBoxStyles;switch(C){case 1:return{border:u.inputValidationInfoBorder,background:u.inputValidationInfoBackground,foreground:u.inputValidationInfoForeground};case 2:return{border:u.inputValidationWarningBorder,background:u.inputValidationWarningBackground,foreground:u.inputValidationWarningForeground};default:return{border:u.inputValidationErrorBorder,background:u.inputValidationErrorBackground,foreground:u.inputValidationErrorForeground}}}classForType(C){switch(C){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let C;const u=()=>C.style.width=c.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:b=>{var E,D;if(!this.message)return null;C=c.R3(b,d(".monaco-inputbox-container")),u();const w={inline:!0,className:"monaco-inputbox-message"},I=this.message.formatContent?(0,g.BO)(this.message.content,w):(0,g.IY)(this.message.content,w);I.classList.add(this.classForType(this.message.type));const M=this.stylesForType(this.message.type);return I.style.backgroundColor=(E=M.background)!==null&&E!==void 0?E:"",I.style.color=(D=M.foreground)!==null&&D!==void 0?D:"",I.style.border=M.border?`1px solid ${M.border}`:"",c.R3(C,I),null},onHide:()=>{this.state="closed"},layout:u});let _;this.message.type===3?_=a.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?_=a.NC("alertWarningMessage","Warning: {0}",this.message.content):_=a.NC("alertInfoMessage","Info: {0}",this.message.content),S.Z9(_),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const C=this.value,_=C.charCodeAt(C.length-1)===10?" ":"";(C+_).replace(/\u000c/g,"")?this.mirror.textContent=C+_:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var C,u,_;const b=this.options.inputBoxStyles,E=(C=b.inputBackground)!==null&&C!==void 0?C:"",D=(u=b.inputForeground)!==null&&u!==void 0?u:"",w=(_=b.inputBorder)!==null&&_!==void 0?_:"";this.element.style.backgroundColor=E,this.element.style.color=D,this.input.style.backgroundColor="inherit",this.input.style.color=D,this.element.style.border=`1px solid ${c.XT(w,"transparent")}`}layout(){if(!this.mirror)return;const C=this.cachedContentHeight;this.cachedContentHeight=c.wn(this.mirror),C!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(C){const u=this.inputElement,_=u.selectionStart,b=u.selectionEnd,E=u.value;_!==null&&b!==null&&(this.value=E.substr(0,_)+C+E.substr(b),u.setSelectionRange(_+1,_+1),this.layout())}dispose(){var C;this._hideMessage(),this.message=null,(C=this.actionbar)===null||C===void 0||C.dispose(),super.dispose()}}class r extends s{constructor(C,u,_){const b=a.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),E=` or \u21C5 ${b}`,D=` (\u21C5 ${b})`;super(C,u,_),this._onDidFocus=this._register(new x.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new x.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new p(_.history,100);const w=()=>{if(_.showHistoryHint&&_.showHistoryHint()&&!this.placeholder.endsWith(E)&&!this.placeholder.endsWith(D)&&this.history.getHistory().length){const I=this.placeholder.endsWith(")")?E:D,M=this.placeholder+I;_.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=M:this.setPlaceHolder(M)}};this.observer=new MutationObserver((I,M)=>{I.forEach(K=>{K.target.textContent||w()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>w()),this.onblur(this.input,()=>{const I=M=>{if(this.placeholder.endsWith(M)){const K=this.placeholder.slice(0,this.placeholder.length-M.length);return _.showPlaceholderOnFocus?this.placeholder=K:this.setPlaceHolder(K),!0}else return!1};I(D)||I(E)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(C){this.value&&(C||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let C=this.getNextValue();C&&(C=C===this.value?this.getNextValue():C),C&&(this.value=C,S.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let C=this.getPreviousValue();C&&(C=C===this.value?this.getPreviousValue():C),C&&(this.value=C,S.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let C=this.history.current();return C||(C=this.history.last(),this.history.next()),C}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},47258:function(vt,be,i){"use strict";i.d(be,{e:function(){return N},F:function(){return $}});var c=i(16563),F=i(88566),g=i(60060),A=i(15779);const S=c.$,$={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class N{constructor(O,p,a){this.os=p,this.keyElements=new Set,this.options=a||Object.create(null);const d=this.options.keybindingLabelForeground;this.domNode=c.R3(O,S(".monaco-keybinding")),d&&(this.domNode.style.color=d),this.didEverRender=!1,O.appendChild(this.domNode)}get element(){return this.domNode}set(O,p){this.didEverRender&&this.keybinding===O&&N.areSame(this.matches,p)||(this.keybinding=O,this.matches=p,this.render())}render(){var O;if(this.clear(),this.keybinding){const[p,a]=this.keybinding.getChords();p&&this.renderChord(this.domNode,p,this.matches?this.matches.firstPart:null),a&&(c.R3(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,a,this.matches?this.matches.chordPart:null));const d=(O=this.options.disableTitle)!==null&&O!==void 0&&O?void 0:this.keybinding.getAriaLabel()||void 0;d!==void 0?this.domNode.title=d:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){c.PO(this.domNode),this.keyElements.clear()}renderChord(O,p,a){const d=F.xo.modifierLabels[this.os];p.ctrlKey&&this.renderKey(O,d.ctrlKey,Boolean(a==null?void 0:a.ctrlKey),d.separator),p.shiftKey&&this.renderKey(O,d.shiftKey,Boolean(a==null?void 0:a.shiftKey),d.separator),p.altKey&&this.renderKey(O,d.altKey,Boolean(a==null?void 0:a.altKey),d.separator),p.metaKey&&this.renderKey(O,d.metaKey,Boolean(a==null?void 0:a.metaKey),d.separator);const f=p.keyLabel;f&&this.renderKey(O,f,Boolean(a==null?void 0:a.keyCode),"")}renderKey(O,p,a,d){c.R3(O,this.createKeyElement(p,a?".highlight":"")),d&&c.R3(O,S("span.monaco-keybinding-key-separator",void 0,d))}renderUnbound(O){c.R3(O,this.createKeyElement((0,A.NC)("unbound","Unbound")))}createKeyElement(O,p=""){const a=S("span.monaco-keybinding-key"+p,void 0,O);return this.keyElements.add(a),this.options.keybindingLabelBackground&&(a.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(a.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(a.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(a.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),a}static areSame(O,p){return O===p||!O&&!p?!0:!!O&&!!p&&(0,g.fS)(O.firstPart,p.firstPart)&&(0,g.fS)(O.chordPart,p.chordPart)}}},68668:function(vt,be,i){"use strict";i.d(be,{kX:function(){return I},Bv:function(){return Y}});var c=i(2020),F=i(16563),g=i(25396),A=i(92759),S=i(66690),$=i(16842),N=i(39460),x=i(69398),O=i(94162),p=i(52357),a=i(81186),d=i(61301);function f(H,P){const X=[];for(const q of P){if(H.start>=q.range.end)continue;if(H.end<q.range.start)break;const U=a.e.intersect(H,q.range);a.e.isEmpty(U)||X.push({range:U,size:q.size})}return X}function s({start:H,end:P},X){return{start:H+X,end:P+X}}function r(H){const P=[];let X=null;for(const q of H){const U=q.range.start,L=q.range.end,B=q.size;if(X&&B===X.size){X.range.end=L;continue}X={range:{start:U,end:L},size:B},P.push(X)}return P}function m(...H){return r(H.reduce((P,X)=>P.concat(X),[]))}class C{constructor(){this.groups=[],this._size=0}splice(P,X,q=[]){const U=q.length-X,L=f({start:0,end:P},this.groups),B=f({start:P+X,end:Number.POSITIVE_INFINITY},this.groups).map(G=>({range:s(G.range,U),size:G.size})),j=q.map((G,y)=>({range:{start:P+y,end:P+y+1},size:G.size}));this.groups=m(L,j,B),this._size=this.groups.reduce((G,y)=>G+y.size*(y.range.end-y.range.start),0)}get count(){const P=this.groups.length;return P?this.groups[P-1].range.end:0}get size(){return this._size}indexAt(P){if(P<0)return-1;let X=0,q=0;for(const U of this.groups){const L=U.range.end-U.range.start,B=q+L*U.size;if(P<B)return X+Math.floor((P-q)/U.size);X+=L,q=B}return X}indexAfter(P){return Math.min(this.indexAt(P)+1,this.count)}positionAt(P){if(P<0)return-1;let X=0,q=0;for(const U of this.groups){const L=U.range.end-U.range.start,B=q+L;if(P<B)return X+(P-q)*U.size;X+=L*U.size,q=B}return-1}}function u(H){var P;try{(P=H.parentElement)===null||P===void 0||P.removeChild(H)}catch(X){}}class _{constructor(P){this.renderers=P,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(P){let X=this.getTemplateCache(P).pop(),q=!1;if(X)q=this.transactionNodesPendingRemoval.has(X.domNode),q&&this.transactionNodesPendingRemoval.delete(X.domNode);else{const U=(0,F.$)(".monaco-list-row"),B=this.getRenderer(P).renderTemplate(U);X={domNode:U,templateId:P,templateData:B}}return{row:X,isReusingConnectedDomNode:q}}release(P){P&&this.releaseRow(P)}transact(P){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{P()}finally{for(const X of this.transactionNodesPendingRemoval)this.doRemoveNode(X);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(P){const{domNode:X,templateId:q}=P;X&&(this.inTransaction?this.transactionNodesPendingRemoval.add(X):this.doRemoveNode(X)),this.getTemplateCache(q).push(P)}doRemoveNode(P){P.classList.remove("scrolling"),u(P)}getTemplateCache(P){let X=this.cache.get(P);return X||(X=[],this.cache.set(P,X)),X}dispose(){this.cache.forEach((P,X)=>{for(const q of P)this.getRenderer(X).disposeTemplate(q.templateData),q.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(P){const X=this.renderers.get(P);if(!X)throw new Error(`No renderer found for ${P}`);return X}}var b=i(50505),E=function(H,P,X,q){var U=arguments.length,L=U<3?P:q===null?q=Object.getOwnPropertyDescriptor(P,X):q,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(H,P,X,q);else for(var j=H.length-1;j>=0;j--)(B=H[j])&&(L=(U<3?B(L):U>3?B(P,X,L):B(P,X))||L);return U>3&&L&&Object.defineProperty(P,X,L),L};const D={CurrentDragAndDropData:void 0},w={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(H){return[H]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class I{constructor(P){this.elements=P}update(){}getData(){return this.elements}}class M{constructor(P){this.elements=P}update(){}getData(){return this.elements}}class K{constructor(){this.types=[],this.files=[]}update(P){if(P.types&&this.types.splice(0,this.types.length,...P.types),P.files){this.files.splice(0,this.files.length);for(let X=0;X<P.files.length;X++){const q=P.files.item(X);q&&(q.size||q.type)&&this.files.push(q)}}}getData(){return{types:this.types,files:this.files}}}function z(H,P){return Array.isArray(H)&&Array.isArray(P)?(0,$.fS)(H,P):H===P}class Q{constructor(P){P!=null&&P.getSetSize?this.getSetSize=P.getSetSize.bind(P):this.getSetSize=(X,q,U)=>U,P!=null&&P.getPosInSet?this.getPosInSet=P.getPosInSet.bind(P):this.getPosInSet=(X,q)=>q+1,P!=null&&P.getRole?this.getRole=P.getRole.bind(P):this.getRole=X=>"listitem",P!=null&&P.isChecked?this.isChecked=P.isChecked.bind(P):this.isChecked=X=>{}}}class Y{get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(P){if(P!==this._horizontalScrolling){if(P&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=P,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const X of this.items)this.measureItemWidth(X);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,F.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(P,X,q,U=w){var L,B,j,G,y,pe,ye,me,Se,_e,he,le;if(this.virtualDelegate=X,this.domId=`list_id_${++Y.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new N.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=p.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=p.JT.None,this.onDragLeaveTimeout=p.JT.None,this.disposables=new p.SL,this._onDidChangeContentHeight=new O.Q5,this._horizontalScrolling=!1,U.horizontalScrolling&&U.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new C;for(const Re of q)this.renderers.set(Re.templateId,Re);this.cache=this.disposables.add(new _(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof U.mouseSupport=="boolean"?U.mouseSupport:!0),this._horizontalScrolling=(L=U.horizontalScrolling)!==null&&L!==void 0?L:w.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof U.additionalScrollHeight=="undefined"?0:U.additionalScrollHeight,this.accessibilityProvider=new Q(U.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((B=U.transformOptimization)!==null&&B!==void 0?B:w.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(A.o.addTarget(this.rowsContainer)),this.scrollable=new d.Rm({forceIntegerValues:!0,smoothScrollDuration:(j=U.smoothScrolling)!==null&&j!==void 0&&j?125:0,scheduleAtNextAnimationFrame:Re=>(0,F.jL)(Re)}),this.scrollableElement=this.disposables.add(new S.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(G=U.alwaysConsumeMouseWheel)!==null&&G!==void 0?G:w.alwaysConsumeMouseWheel,horizontal:1,vertical:(y=U.verticalScrollMode)!==null&&y!==void 0?y:w.verticalScrollMode,useShadows:(pe=U.useShadows)!==null&&pe!==void 0?pe:w.useShadows,mouseWheelScrollSensitivity:U.mouseWheelScrollSensitivity,fastScrollSensitivity:U.fastScrollSensitivity,scrollByPage:U.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),P.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,F.nm)(this.rowsContainer,A.t.Change,Re=>this.onTouchChange(Re))),this.disposables.add((0,F.nm)(this.scrollableElement.getDomNode(),"scroll",Re=>Re.target.scrollTop=0)),this.disposables.add((0,F.nm)(this.domNode,"dragover",Re=>this.onDragOver(this.toDragEvent(Re)))),this.disposables.add((0,F.nm)(this.domNode,"drop",Re=>this.onDrop(this.toDragEvent(Re)))),this.disposables.add((0,F.nm)(this.domNode,"dragleave",Re=>this.onDragLeave(this.toDragEvent(Re)))),this.disposables.add((0,F.nm)(this.domNode,"dragend",Re=>this.onDragEnd(Re))),this.setRowLineHeight=(ye=U.setRowLineHeight)!==null&&ye!==void 0?ye:w.setRowLineHeight,this.setRowHeight=(me=U.setRowHeight)!==null&&me!==void 0?me:w.setRowHeight,this.supportDynamicHeights=(Se=U.supportDynamicHeights)!==null&&Se!==void 0?Se:w.supportDynamicHeights,this.dnd=(_e=U.dnd)!==null&&_e!==void 0?_e:w.dnd,this.layout((he=U.initialSize)===null||he===void 0?void 0:he.height,(le=U.initialSize)===null||le===void 0?void 0:le.width)}updateOptions(P){P.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=P.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),P.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(P.smoothScrolling?125:0),P.horizontalScrolling!==void 0&&(this.horizontalScrolling=P.horizontalScrolling);let X;P.scrollByPage!==void 0&&(X=Object.assign(Object.assign({},X!=null?X:{}),{scrollByPage:P.scrollByPage})),P.mouseWheelScrollSensitivity!==void 0&&(X=Object.assign(Object.assign({},X!=null?X:{}),{mouseWheelScrollSensitivity:P.mouseWheelScrollSensitivity})),P.fastScrollSensitivity!==void 0&&(X=Object.assign(Object.assign({},X!=null?X:{}),{fastScrollSensitivity:P.fastScrollSensitivity})),X&&this.scrollableElement.updateOptions(X)}splice(P,X,q=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(P,X,q)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(P,X,q=[]){const U=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),L={start:P,end:P+X},B=a.e.intersect(U,L),j=new Map;for(let J=B.end-1;J>=B.start;J--){const ne=this.items[J];if(ne.dragStartDisposable.dispose(),ne.checkedDisposable.dispose(),ne.row){let ae=j.get(ne.templateId);ae||(ae=[],j.set(ne.templateId,ae));const xe=this.renderers.get(ne.templateId);xe&&xe.disposeElement&&xe.disposeElement(ne.element,J,ne.row.templateData,ne.size),ae.push(ne.row)}ne.row=null}const G={start:P+X,end:this.items.length},y=a.e.intersect(G,U),pe=a.e.relativeComplement(G,U),ye=q.map(J=>({id:String(this.itemId++),element:J,templateId:this.virtualDelegate.getTemplateId(J),size:this.virtualDelegate.getHeight(J),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(J),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:p.JT.None,checkedDisposable:p.JT.None}));let me;P===0&&X>=this.items.length?(this.rangeMap=new C,this.rangeMap.splice(0,0,ye),me=this.items,this.items=ye):(this.rangeMap.splice(P,X,ye),me=this.items.splice(P,X,...ye));const Se=q.length-X,_e=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),he=s(y,Se),le=a.e.intersect(_e,he);for(let J=le.start;J<le.end;J++)this.updateItemInDOM(this.items[J],J);const se=a.e.relativeComplement(he,_e);for(const J of se)for(let ne=J.start;ne<J.end;ne++)this.removeItemFromDOM(ne);const Re=pe.map(J=>s(J,Se)),je=[{start:P,end:P+q.length},...Re].map(J=>a.e.intersect(_e,J)),Ce=this.getNextToLastElement(je);for(const J of je)for(let ne=J.start;ne<J.end;ne++){const ae=this.items[ne],xe=j.get(ae.templateId),Ke=xe==null?void 0:xe.pop();this.insertItemInDOM(ne,Ce,Ke)}for(const J of j.values())for(const ne of J)this.cache.release(ne);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),me.map(J=>J.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,F.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let P=0;for(const X of this.items)typeof X.width!="undefined"&&(P=Math.max(P,X.width));this.scrollWidth=P,this.scrollableElement.setScrollDimensions({scrollWidth:P===0?0:P+10})}rerender(){if(this.supportDynamicHeights){for(const P of this.items)P.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const P=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),X=this.rangeMap.positionAt(P.start),q=this.rangeMap.positionAt(P.start+1);return q!==-1&&(q-X)/2+X<this.scrollTop?P.start+1:P.start}element(P){return this.items[P].element}domElement(P){const X=this.items[P].row;return X&&X.domNode}elementHeight(P){return this.items[P].size}elementTop(P){return this.rangeMap.positionAt(P)}indexAt(P){return this.rangeMap.indexAt(P)}indexAfter(P){return this.rangeMap.indexAfter(P)}layout(P,X){const q={height:typeof P=="number"?P:(0,F.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,q.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(q),typeof X!="undefined"&&(this.renderWidth=X,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof X=="number"?X:(0,F.FK)(this.domNode)})}render(P,X,q,U,L,B=!1){const j=this.getRenderRange(X,q),G=a.e.relativeComplement(j,P),y=a.e.relativeComplement(P,j),pe=this.getNextToLastElement(G);if(B){const ye=a.e.intersect(P,j);for(let me=ye.start;me<ye.end;me++)this.updateItemInDOM(this.items[me],me)}this.cache.transact(()=>{for(const ye of y)for(let me=ye.start;me<ye.end;me++)this.removeItemFromDOM(me);for(const ye of G)for(let me=ye.start;me<ye.end;me++)this.insertItemInDOM(me,pe)}),U!==void 0&&(this.rowsContainer.style.left=`-${U}px`),this.rowsContainer.style.top=`-${X}px`,this.horizontalScrolling&&L!==void 0&&(this.rowsContainer.style.width=`${Math.max(L,this.renderWidth)}px`),this.lastRenderTop=X,this.lastRenderHeight=q}insertItemInDOM(P,X,q){const U=this.items[P];let L=!1;if(!U.row)if(q)U.row=q;else{const pe=this.cache.alloc(U.templateId);U.row=pe.row,L=pe.isReusingConnectedDomNode}const B=this.accessibilityProvider.getRole(U.element)||"listitem";U.row.domNode.setAttribute("role",B);const j=this.accessibilityProvider.isChecked(U.element);if(typeof j=="boolean")U.row.domNode.setAttribute("aria-checked",String(!!j));else if(j){const pe=ye=>U.row.domNode.setAttribute("aria-checked",String(!!ye));pe(j.value),U.checkedDisposable=j.onDidChange(pe)}(L||!U.row.domNode.parentElement)&&(X?this.rowsContainer.insertBefore(U.row.domNode,X):this.rowsContainer.appendChild(U.row.domNode)),this.updateItemInDOM(U,P);const G=this.renderers.get(U.templateId);if(!G)throw new Error(`No renderer found for template id ${U.templateId}`);G==null||G.renderElement(U.element,P,U.row.templateData,U.size);const y=this.dnd.getDragURI(U.element);U.dragStartDisposable.dispose(),U.row.domNode.draggable=!!y,y&&(U.dragStartDisposable=(0,F.nm)(U.row.domNode,"dragstart",pe=>this.onDragStart(U.element,y,pe))),this.horizontalScrolling&&(this.measureItemWidth(U),this.eventuallyUpdateScrollWidth())}measureItemWidth(P){if(!P.row||!P.row.domNode)return;P.row.domNode.style.width="fit-content",P.width=(0,F.FK)(P.row.domNode);const X=window.getComputedStyle(P.row.domNode);X.paddingLeft&&(P.width+=parseFloat(X.paddingLeft)),X.paddingRight&&(P.width+=parseFloat(X.paddingRight)),P.row.domNode.style.width=""}updateItemInDOM(P,X){P.row.domNode.style.top=`${this.elementTop(X)}px`,this.setRowHeight&&(P.row.domNode.style.height=`${P.size}px`),this.setRowLineHeight&&(P.row.domNode.style.lineHeight=`${P.size}px`),P.row.domNode.setAttribute("data-index",`${X}`),P.row.domNode.setAttribute("data-last-element",X===this.length-1?"true":"false"),P.row.domNode.setAttribute("data-parity",X%2===0?"even":"odd"),P.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(P.element,X,this.length))),P.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(P.element,X))),P.row.domNode.setAttribute("id",this.getElementDomId(X)),P.row.domNode.classList.toggle("drop-target",P.dropTarget)}removeItemFromDOM(P){const X=this.items[P];if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){const q=this.renderers.get(X.templateId);q&&q.disposeElement&&q.disposeElement(X.element,P,X.row.templateData,X.size),this.cache.release(X.row),X.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(P,X){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:P,reuseAnimation:X})}get scrollTop(){return this.getScrollTop()}set scrollTop(P){this.setScrollTop(P)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"click")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseDblClick(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"dblclick")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseMiddleClick(){return O.ju.filter(O.ju.map(this.disposables.add(new g.Y(this.domNode,"auxclick")).event,P=>this.toMouseEvent(P),this.disposables),P=>P.browserEvent.button===1,this.disposables)}get onMouseDown(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"mousedown")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOver(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"mouseover")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOut(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"mouseout")).event,P=>this.toMouseEvent(P),this.disposables)}get onContextMenu(){return O.ju.any(O.ju.map(this.disposables.add(new g.Y(this.domNode,"contextmenu")).event,P=>this.toMouseEvent(P),this.disposables),O.ju.map(this.disposables.add(new g.Y(this.domNode,A.t.Contextmenu)).event,P=>this.toGestureEvent(P),this.disposables))}get onTouchStart(){return O.ju.map(this.disposables.add(new g.Y(this.domNode,"touchstart")).event,P=>this.toTouchEvent(P),this.disposables)}get onTap(){return O.ju.map(this.disposables.add(new g.Y(this.rowsContainer,A.t.Tap)).event,P=>this.toGestureEvent(P),this.disposables)}toMouseEvent(P){const X=this.getItemIndexFromEventTarget(P.target||null),q=typeof X=="undefined"?void 0:this.items[X],U=q&&q.element;return{browserEvent:P,index:X,element:U}}toTouchEvent(P){const X=this.getItemIndexFromEventTarget(P.target||null),q=typeof X=="undefined"?void 0:this.items[X],U=q&&q.element;return{browserEvent:P,index:X,element:U}}toGestureEvent(P){const X=this.getItemIndexFromEventTarget(P.initialTarget||null),q=typeof X=="undefined"?void 0:this.items[X],U=q&&q.element;return{browserEvent:P,index:X,element:U}}toDragEvent(P){const X=this.getItemIndexFromEventTarget(P.target||null),q=typeof X=="undefined"?void 0:this.items[X],U=q&&q.element;return{browserEvent:P,index:X,element:U}}onScroll(P){try{const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(X,P.scrollTop,P.height,P.scrollLeft,P.scrollWidth),this.supportDynamicHeights&&this._rerender(P.scrollTop,P.height,P.inSmoothScrolling)}catch(X){throw console.error("Got bad scroll event:",P),X}}onTouchChange(P){P.preventDefault(),P.stopPropagation(),this.scrollTop-=P.translationY}onDragStart(P,X,q){var U,L;if(!q.dataTransfer)return;const B=this.dnd.getDragElements(P);if(q.dataTransfer.effectAllowed="copyMove",q.dataTransfer.setData(c.g.TEXT,X),q.dataTransfer.setDragImage){let j;this.dnd.getDragLabel&&(j=this.dnd.getDragLabel(B,q)),typeof j=="undefined"&&(j=String(B.length));const G=(0,F.$)(".monaco-drag-image");G.textContent=j;const pe=(ye=>{for(;ye&&!ye.classList.contains("monaco-workbench");)ye=ye.parentElement;return ye||document.body})(this.domNode);pe.appendChild(G),q.dataTransfer.setDragImage(G,-10,-10),setTimeout(()=>pe.removeChild(G),0)}this.domNode.classList.add("dragging"),this.currentDragData=new I(B),D.CurrentDragAndDropData=new M(B),(L=(U=this.dnd).onDragStart)===null||L===void 0||L.call(U,this.currentDragData,q)}onDragOver(P){var X;if(P.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),D.CurrentDragAndDropData&&D.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(P.browserEvent),!P.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(D.CurrentDragAndDropData)this.currentDragData=D.CurrentDragAndDropData;else{if(!P.browserEvent.dataTransfer.types)return!1;this.currentDragData=new K}const q=this.dnd.onDragOver(this.currentDragData,P.element,P.index,P.browserEvent);if(this.canDrop=typeof q=="boolean"?q:q.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;P.browserEvent.dataTransfer.dropEffect=typeof q!="boolean"&&q.effect===0?"copy":"move";let U;if(typeof q!="boolean"&&q.feedback?U=q.feedback:typeof P.index=="undefined"?U=[-1]:U=[P.index],U=(0,$.EB)(U).filter(L=>L>=-1&&L<this.length).sort((L,B)=>L-B),U=U[0]===-1?[-1]:U,z(this.currentDragFeedback,U))return!0;if(this.currentDragFeedback=U,this.currentDragFeedbackDisposable.dispose(),U[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,p.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const L of U){const B=this.items[L];B.dropTarget=!0,(X=B.row)===null||X===void 0||X.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,p.OF)(()=>{var L;for(const B of U){const j=this.items[B];j.dropTarget=!1,(L=j.row)===null||L===void 0||L.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(P){var X,q;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,N.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((q=(X=this.dnd).onDragLeave)===null||q===void 0||q.call(X,this.currentDragData,P.element,P.index,P.browserEvent))}onDrop(P){if(!this.canDrop)return;const X=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,D.CurrentDragAndDropData=void 0,!(!X||!P.browserEvent.dataTransfer)&&(P.browserEvent.preventDefault(),X.update(P.browserEvent.dataTransfer),this.dnd.drop(X,P.element,P.index,P.browserEvent))}onDragEnd(P){var X,q;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,D.CurrentDragAndDropData=void 0,(q=(X=this.dnd).onDragEnd)===null||q===void 0||q.call(X,P)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=p.JT.None}setupDragAndDropScrollTopAnimation(P){if(!this.dragOverAnimationDisposable){const X=(0,F.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,F.jt)(this.animateDragAndDropScrollTop.bind(this,X))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,N.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=P.pageY}animateDragAndDropScrollTop(P){if(this.dragOverMouseY===void 0)return;const X=this.dragOverMouseY-P,q=this.renderHeight-35;X<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(X-35))):X>q&&(this.scrollTop+=Math.min(14,Math.floor(.3*(X-q))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(P){const X=this.scrollableElement.getDomNode();let q=P;for(;q instanceof HTMLElement&&q!==this.rowsContainer&&X.contains(q);){const U=q.getAttribute("data-index");if(U){const L=Number(U);if(!isNaN(L))return L}q=q.parentElement}}getRenderRange(P,X){return{start:this.rangeMap.indexAt(P),end:this.rangeMap.indexAfter(P+X-1)}}_rerender(P,X,q){const U=this.getRenderRange(P,X);let L,B;P===this.elementTop(U.start)?(L=U.start,B=0):U.end-U.start>1&&(L=U.start+1,B=this.elementTop(L)-P);let j=0;for(;;){const G=this.getRenderRange(P,X);let y=!1;for(let pe=G.start;pe<G.end;pe++){const ye=this.probeDynamicHeight(pe);ye!==0&&this.rangeMap.splice(pe,1,[this.items[pe]]),j+=ye,y=y||ye!==0}if(!y){j!==0&&this.eventuallyUpdateScrollDimensions();const pe=a.e.relativeComplement(U,G);for(const me of pe)for(let Se=me.start;Se<me.end;Se++)this.items[Se].row&&this.removeItemFromDOM(Se);const ye=a.e.relativeComplement(G,U);for(const me of ye)for(let Se=me.start;Se<me.end;Se++){const _e=Se+1,he=_e<this.items.length?this.items[_e].row:null,le=he?he.domNode:null;this.insertItemInDOM(Se,le)}for(let me=G.start;me<G.end;me++)this.items[me].row&&this.updateItemInDOM(this.items[me],me);if(typeof L=="number"){const me=this.scrollable.getFutureScrollPosition().scrollTop-P,Se=this.elementTop(L)-B+me;this.setScrollTop(Se,q)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(P){var X,q,U;const L=this.items[P];if(this.virtualDelegate.getDynamicHeight){const y=this.virtualDelegate.getDynamicHeight(L.element);if(y!==null){const pe=L.size;return L.size=y,L.lastDynamicHeightWidth=this.renderWidth,y-pe}}if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const B=L.size;if(L.row)return L.row.domNode.style.height="",L.size=L.row.domNode.offsetHeight,L.lastDynamicHeightWidth=this.renderWidth,L.size-B;const{row:j}=this.cache.alloc(L.templateId);j.domNode.style.height="",this.rowsContainer.appendChild(j.domNode);const G=this.renderers.get(L.templateId);if(!G)throw new b.he("Missing renderer for templateId: "+L.templateId);return G.renderElement(L.element,P,j.templateData,void 0),L.size=j.domNode.offsetHeight,(X=G.disposeElement)===null||X===void 0||X.call(G,L.element,P,j.templateData,void 0),(U=(q=this.virtualDelegate).setDynamicHeight)===null||U===void 0||U.call(q,L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(j.domNode),this.cache.release(j),L.size-B}getNextToLastElement(P){const X=P[P.length-1];if(!X)return null;const q=this.items[X.end];return!q||!q.row?null:q.row.domNode}getElementDomId(P){return`${this.domId}_${P}`}dispose(){var P;if(this.items){for(const X of this.items)if(X.row){const q=this.renderers.get(X.row.templateId);q&&((P=q.disposeElement)===null||P===void 0||P.call(q,X.element,-1,X.row.templateData,void 0),q.disposeTemplate(X.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,p.B9)(this.disposables)}}Y.InstanceCount=0,E([x.H],Y.prototype,"onMouseClick",null),E([x.H],Y.prototype,"onMouseDblClick",null),E([x.H],Y.prototype,"onMouseMiddleClick",null),E([x.H],Y.prototype,"onMouseDown",null),E([x.H],Y.prototype,"onMouseOver",null),E([x.H],Y.prototype,"onMouseOut",null),E([x.H],Y.prototype,"onContextMenu",null),E([x.H],Y.prototype,"onTouchStart",null),E([x.H],Y.prototype,"onTap",null)},2898:function(vt,be,i){"use strict";i.d(be,{wD:function(){return pe},aV:function(){return je},sx:function(){return y},AA:function(){return H},iK:function(){return Q},cK:function(){return K},hD:function(){return z},wn:function(){return B},Zo:function(){return L},uZ:function(){return ye}});var c=i(16563),F=i(25396),g=i(87415),A=i(92759),S=i(26017);class ${constructor(J){this.spliceables=J}splice(J,ne,ae){this.spliceables.forEach(xe=>xe.splice(J,ne,ae))}}var N=i(16842),x=i(39460),O=i(87799),p=i(69398),a=i(94162),d=i(61842),f=i(52357),s=i(88523),r=i(41420),m=i(67770),C=i(89027);class u extends Error{constructor(J,ne){super(`ListError [${J}] ${ne}`)}}var _=i(68668),b=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},E=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};class D{constructor(J){this.trait=J,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(J){return J}renderElement(J,ne,ae){const xe=this.renderedElements.findIndex(Ke=>Ke.templateData===ae);if(xe>=0){const Ke=this.renderedElements[xe];this.trait.unrender(ae),Ke.index=ne}else{const Ke={index:ne,templateData:ae};this.renderedElements.push(Ke)}this.trait.renderIndex(ne,ae)}splice(J,ne,ae){const xe=[];for(const Ke of this.renderedElements)Ke.index<J?xe.push(Ke):Ke.index>=J+ne&&xe.push({index:Ke.index+ae-ne,templateData:Ke.templateData});this.renderedElements=xe}renderIndexes(J){for(const{index:ne,templateData:ae}of this.renderedElements)J.indexOf(ne)>-1&&this.trait.renderIndex(ne,ae)}disposeTemplate(J){const ne=this.renderedElements.findIndex(ae=>ae.templateData===J);ne<0||this.renderedElements.splice(ne,1)}}class w{get name(){return this._trait}get renderer(){return new D(this)}constructor(J){this._trait=J,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new a.Q5,this.onChange=this._onChange.event}splice(J,ne,ae){var xe;ne=Math.max(0,Math.min(ne,this.length-J));const Ke=ae.length-ne,ct=J+ne,ot=[...this.sortedIndexes.filter(et=>et<J),...ae.map((et,Fe)=>et?Fe+J:-1).filter(et=>et!==-1),...this.sortedIndexes.filter(et=>et>=ct).map(et=>et+Ke)],dt=this.length+Ke;if(this.sortedIndexes.length>0&&ot.length===0&&dt>0){const et=(xe=this.sortedIndexes.find(Fe=>Fe>=J))!==null&&xe!==void 0?xe:dt-1;ot.push(Math.min(et,dt-1))}this.renderer.splice(J,ne,ae.length),this._set(ot,ot),this.length=dt}renderIndex(J,ne){ne.classList.toggle(this._trait,this.contains(J))}unrender(J){J.classList.remove(this._trait)}set(J,ne){return this._set(J,[...J].sort(le),ne)}_set(J,ne,ae){const xe=this.indexes,Ke=this.sortedIndexes;this.indexes=J,this.sortedIndexes=ne;const ct=_e(Ke,J);return this.renderer.renderIndexes(ct),this._onChange.fire({indexes:J,browserEvent:ae}),xe}get(){return this.indexes}contains(J){return(0,N.ry)(this.sortedIndexes,J,le)>=0}dispose(){(0,f.B9)(this._onChange)}}b([p.H],w.prototype,"renderer",null);class I extends w{constructor(J){super("selected"),this.setAriaSelected=J}renderIndex(J,ne){super.renderIndex(J,ne),this.setAriaSelected&&(this.contains(J)?ne.setAttribute("aria-selected","true"):ne.setAttribute("aria-selected","false"))}}class M{constructor(J,ne,ae){this.trait=J,this.view=ne,this.identityProvider=ae}splice(J,ne,ae){if(!this.identityProvider)return this.trait.splice(J,ne,ae.map(()=>!1));const xe=this.trait.get().map(ct=>this.identityProvider.getId(this.view.element(ct)).toString()),Ke=ae.map(ct=>xe.indexOf(this.identityProvider.getId(ct).toString())>-1);this.trait.splice(J,ne,Ke)}}function K(Ce){return Ce.tagName==="INPUT"||Ce.tagName==="TEXTAREA"}function z(Ce){return Ce.classList.contains("monaco-editor")?!0:Ce.classList.contains("monaco-list")||!Ce.parentElement?!1:z(Ce.parentElement)}function Q(Ce){return Ce.tagName==="A"&&Ce.classList.contains("monaco-button")||Ce.tagName==="DIV"&&Ce.classList.contains("monaco-button-dropdown")?!0:Ce.classList.contains("monaco-list")||!Ce.parentElement?!1:Q(Ce.parentElement)}class Y{get onKeyDown(){return this.disposables.add(a.ju.chain(this.disposables.add(new F.Y(this.view.domNode,"keydown")).event).filter(J=>!K(J.target)).map(J=>new g.y(J)))}constructor(J,ne,ae){this.list=J,this.view=ne,this.disposables=new f.SL,this.multipleSelectionDisposables=new f.SL,this.onKeyDown.filter(xe=>xe.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===9).on(this.onEscape,this,this.disposables),ae.multipleSelectionSupport!==!1&&this.onKeyDown.filter(xe=>(r.dz?xe.metaKey:xe.ctrlKey)&&xe.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(J){J.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),J.multipleSelectionSupport&&this.onKeyDown.filter(ne=>(r.dz?ne.metaKey:ne.ctrlKey)&&ne.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(this.list.getFocus(),J.browserEvent)}onUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPrevious(1,!1,J.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNext(1,!1,J.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPreviousPage(J.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onPageDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNextPage(J.browserEvent);const ne=this.list.getFocus()[0];this.list.setAnchor(ne),this.list.reveal(ne),this.view.domNode.focus()}onCtrlA(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection((0,N.w6)(this.list.length),J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(J){this.list.getSelection().length&&(J.preventDefault(),J.stopPropagation(),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}b([p.H],Y.prototype,"onKeyDown",null);var H;(function(Ce){Ce[Ce.Automatic=0]="Automatic",Ce[Ce.Trigger=1]="Trigger"})(H||(H={}));var P;(function(Ce){Ce[Ce.Idle=0]="Idle",Ce[Ce.Typing=1]="Typing"})(P||(P={}));const X=new class{mightProducePrintableCharacter(Ce){return Ce.ctrlKey||Ce.metaKey||Ce.altKey?!1:Ce.keyCode>=31&&Ce.keyCode<=56||Ce.keyCode>=21&&Ce.keyCode<=30||Ce.keyCode>=93&&Ce.keyCode<=102||Ce.keyCode>=80&&Ce.keyCode<=90}};class q{constructor(J,ne,ae,xe,Ke){this.list=J,this.view=ne,this.keyboardNavigationLabelProvider=ae,this.keyboardNavigationEventFilter=xe,this.delegate=Ke,this.enabled=!1,this.state=P.Idle,this.mode=H.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new f.SL,this.disposables=new f.SL,this.updateOptions(J.options)}updateOptions(J){var ne,ae;!((ne=J.typeNavigationEnabled)!==null&&ne!==void 0)||ne?this.enable():this.disable(),this.mode=(ae=J.typeNavigationMode)!==null&&ae!==void 0?ae:H.Automatic}enable(){if(this.enabled)return;let J=!1;const ne=this.enabledDisposables.add(a.ju.chain(this.enabledDisposables.add(new F.Y(this.view.domNode,"keydown")).event)).filter(Ke=>!K(Ke.target)).filter(()=>this.mode===H.Automatic||this.triggered).map(Ke=>new g.y(Ke)).filter(Ke=>J||this.keyboardNavigationEventFilter(Ke)).filter(Ke=>this.delegate.mightProducePrintableCharacter(Ke)).forEach(Ke=>c.zB.stop(Ke,!0)).map(Ke=>Ke.browserEvent.key).event,ae=a.ju.debounce(ne,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);a.ju.reduce(a.ju.any(ne,ae),(Ke,ct)=>ct===null?null:(Ke||"")+ct,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ae(this.onClear,this,this.enabledDisposables),ne(()=>J=!0,void 0,this.enabledDisposables),ae(()=>J=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var J;const ne=this.list.getFocus();if(ne.length>0&&ne[0]===this.previouslyFocused){const ae=(J=this.list.options.accessibilityProvider)===null||J===void 0?void 0:J.getAriaLabel(this.list.element(ne[0]));ae&&(0,S.Z9)(ae)}this.previouslyFocused=-1}onInput(J){if(!J){this.state=P.Idle,this.triggered=!1;return}const ne=this.list.getFocus(),ae=ne.length>0?ne[0]:0,xe=this.state===P.Idle?1:0;this.state=P.Typing;for(let Ke=0;Ke<this.list.length;Ke++){const ct=(ae+Ke+xe)%this.list.length,ot=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ct)),dt=ot&&ot.toString();if(typeof dt=="undefined"||(0,d.Ji)(J,dt)){this.previouslyFocused=ae,this.list.setFocus([ct]),this.list.reveal(ct);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class U{constructor(J,ne){this.list=J,this.view=ne,this.disposables=new f.SL,this.disposables.add(a.ju.chain(this.disposables.add(new F.Y(ne.domNode,"keydown")).event)).filter(xe=>!K(xe.target)).map(xe=>new g.y(xe)).filter(xe=>xe.keyCode===2&&!xe.ctrlKey&&!xe.metaKey&&!xe.shiftKey&&!xe.altKey).on(this.onTab,this,this.disposables)}onTab(J){if(J.target!==this.view.domNode)return;const ne=this.list.getFocus();if(ne.length===0)return;const ae=this.view.domElement(ne[0]);if(!ae)return;const xe=ae.querySelector("[tabIndex]");if(!xe||!(xe instanceof HTMLElement)||xe.tabIndex===-1)return;const Ke=window.getComputedStyle(xe);Ke.visibility==="hidden"||Ke.display==="none"||(J.preventDefault(),J.stopPropagation(),xe.focus())}dispose(){this.disposables.dispose()}}function L(Ce){return r.dz?Ce.browserEvent.metaKey:Ce.browserEvent.ctrlKey}function B(Ce){return Ce.browserEvent.shiftKey}function j(Ce){return Ce instanceof MouseEvent&&Ce.button===2}const G={isSelectionSingleChangeEvent:L,isSelectionRangeChangeEvent:B};class y{constructor(J){this.list=J,this.disposables=new f.SL,this._onPointer=new a.Q5,this.onPointer=this._onPointer.event,J.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||G),this.mouseSupport=typeof J.options.mouseSupport=="undefined"||!!J.options.mouseSupport,this.mouseSupport&&(J.onMouseDown(this.onMouseDown,this,this.disposables),J.onContextMenu(this.onContextMenu,this,this.disposables),J.onMouseDblClick(this.onDoubleClick,this,this.disposables),J.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(A.o.addTarget(J.getHTMLElement()))),a.ju.any(J.onMouseClick,J.onMouseMiddleClick,J.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(J){J.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,J.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||G))}isSelectionSingleChangeEvent(J){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(J):!1}isSelectionRangeChangeEvent(J){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(J):!1}isSelectionChangeEvent(J){return this.isSelectionSingleChangeEvent(J)||this.isSelectionRangeChangeEvent(J)}onMouseDown(J){z(J.browserEvent.target)||document.activeElement!==J.browserEvent.target&&this.list.domFocus()}onContextMenu(J){if(K(J.browserEvent.target)||z(J.browserEvent.target))return;const ne=typeof J.index=="undefined"?[]:[J.index];this.list.setFocus(ne,J.browserEvent)}onViewPointer(J){if(!this.mouseSupport||K(J.browserEvent.target)||z(J.browserEvent.target))return;const ne=J.index;if(typeof ne=="undefined"){this.list.setFocus([],J.browserEvent),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(J))return this.changeSelection(J);if(this.isSelectionChangeEvent(J))return this.changeSelection(J);this.list.setFocus([ne],J.browserEvent),this.list.setAnchor(ne),j(J.browserEvent)||this.list.setSelection([ne],J.browserEvent),this._onPointer.fire(J)}onDoubleClick(J){if(K(J.browserEvent.target)||z(J.browserEvent.target)||this.isSelectionChangeEvent(J))return;const ne=this.list.getFocus();this.list.setSelection(ne,J.browserEvent)}changeSelection(J){const ne=J.index;let ae=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(J)){if(typeof ae=="undefined"){const Fe=this.list.getFocus()[0];ae=Fe!=null?Fe:ne,this.list.setAnchor(ae)}const xe=Math.min(ae,ne),Ke=Math.max(ae,ne),ct=(0,N.w6)(xe,Ke+1),ot=this.list.getSelection(),dt=Se(_e(ot,[ae]),ae);if(dt.length===0)return;const et=_e(ct,he(ot,dt));this.list.setSelection(et,J.browserEvent),this.list.setFocus([ne],J.browserEvent)}else if(this.isSelectionSingleChangeEvent(J)){const xe=this.list.getSelection(),Ke=xe.filter(ct=>ct!==ne);this.list.setFocus([ne]),this.list.setAnchor(ne),xe.length===Ke.length?this.list.setSelection([...Ke,ne],J.browserEvent):this.list.setSelection(Ke,J.browserEvent)}}dispose(){this.disposables.dispose()}}class pe{constructor(J,ne){this.styleElement=J,this.selectorSuffix=ne}style(J){var ne,ae;const xe=this.selectorSuffix&&`.${this.selectorSuffix}`,Ke=[];J.listBackground&&Ke.push(`.monaco-list${xe} .monaco-list-rows { background: ${J.listBackground}; }`),J.listFocusBackground&&(Ke.push(`.monaco-list${xe}:focus .monaco-list-row.focused { background-color: ${J.listFocusBackground}; }`),Ke.push(`.monaco-list${xe}:focus .monaco-list-row.focused:hover { background-color: ${J.listFocusBackground}; }`)),J.listFocusForeground&&Ke.push(`.monaco-list${xe}:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`),J.listActiveSelectionBackground&&(Ke.push(`.monaco-list${xe}:focus .monaco-list-row.selected { background-color: ${J.listActiveSelectionBackground}; }`),Ke.push(`.monaco-list${xe}:focus .monaco-list-row.selected:hover { background-color: ${J.listActiveSelectionBackground}; }`)),J.listActiveSelectionForeground&&Ke.push(`.monaco-list${xe}:focus .monaco-list-row.selected { color: ${J.listActiveSelectionForeground}; }`),J.listActiveSelectionIconForeground&&Ke.push(`.monaco-list${xe}:focus .monaco-list-row.selected .codicon { color: ${J.listActiveSelectionIconForeground}; }`),J.listFocusAndSelectionBackground&&Ke.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.selected.focused { background-color: ${J.listFocusAndSelectionBackground}; }
			`),J.listFocusAndSelectionForeground&&Ke.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.selected.focused { color: ${J.listFocusAndSelectionForeground}; }
			`),J.listInactiveFocusForeground&&(Ke.push(`.monaco-list${xe} .monaco-list-row.focused { color:  ${J.listInactiveFocusForeground}; }`),Ke.push(`.monaco-list${xe} .monaco-list-row.focused:hover { color:  ${J.listInactiveFocusForeground}; }`)),J.listInactiveSelectionIconForeground&&Ke.push(`.monaco-list${xe} .monaco-list-row.focused .codicon { color:  ${J.listInactiveSelectionIconForeground}; }`),J.listInactiveFocusBackground&&(Ke.push(`.monaco-list${xe} .monaco-list-row.focused { background-color:  ${J.listInactiveFocusBackground}; }`),Ke.push(`.monaco-list${xe} .monaco-list-row.focused:hover { background-color:  ${J.listInactiveFocusBackground}; }`)),J.listInactiveSelectionBackground&&(Ke.push(`.monaco-list${xe} .monaco-list-row.selected { background-color:  ${J.listInactiveSelectionBackground}; }`),Ke.push(`.monaco-list${xe} .monaco-list-row.selected:hover { background-color:  ${J.listInactiveSelectionBackground}; }`)),J.listInactiveSelectionForeground&&Ke.push(`.monaco-list${xe} .monaco-list-row.selected { color: ${J.listInactiveSelectionForeground}; }`),J.listHoverBackground&&Ke.push(`.monaco-list${xe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${J.listHoverBackground}; }`),J.listHoverForeground&&Ke.push(`.monaco-list${xe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${J.listHoverForeground}; }`);const ct=(0,c.XT)(J.listFocusAndSelectionOutline,(0,c.XT)(J.listSelectionOutline,(ne=J.listFocusOutline)!==null&&ne!==void 0?ne:""));ct&&Ke.push(`.monaco-list${xe}:focus .monaco-list-row.focused.selected { outline: 1px solid ${ct}; outline-offset: -1px;}`),J.listFocusOutline&&Ke.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${xe}.last-focused .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
			`);const ot=(0,c.XT)(J.listSelectionOutline,(ae=J.listInactiveFocusOutline)!==null&&ae!==void 0?ae:"");ot&&Ke.push(`.monaco-list${xe} .monaco-list-row.focused.selected { outline: 1px dotted ${ot}; outline-offset: -1px; }`),J.listSelectionOutline&&Ke.push(`.monaco-list${xe} .monaco-list-row.selected { outline: 1px dotted ${J.listSelectionOutline}; outline-offset: -1px; }`),J.listInactiveFocusOutline&&Ke.push(`.monaco-list${xe} .monaco-list-row.focused { outline: 1px dotted ${J.listInactiveFocusOutline}; outline-offset: -1px; }`),J.listHoverOutline&&Ke.push(`.monaco-list${xe} .monaco-list-row:hover { outline: 1px dashed ${J.listHoverOutline}; outline-offset: -1px; }`),J.listDropBackground&&Ke.push(`
				.monaco-list${xe}.drop-target,
				.monaco-list${xe} .monaco-list-rows.drop-target,
				.monaco-list${xe} .monaco-list-row.drop-target { background-color: ${J.listDropBackground} !important; color: inherit !important; }
			`),J.tableColumnsBorder&&Ke.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${J.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),J.tableOddRowsBackgroundColor&&Ke.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${J.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Ke.join(`
`)}}const ye={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:O.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:O.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:O.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},me={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Se(Ce,J){const ne=Ce.indexOf(J);if(ne===-1)return[];const ae=[];let xe=ne-1;for(;xe>=0&&Ce[xe]===J-(ne-xe);)ae.push(Ce[xe--]);for(ae.reverse(),xe=ne;xe<Ce.length&&Ce[xe]===J+(xe-ne);)ae.push(Ce[xe++]);return ae}function _e(Ce,J){const ne=[];let ae=0,xe=0;for(;ae<Ce.length||xe<J.length;)if(ae>=Ce.length)ne.push(J[xe++]);else if(xe>=J.length)ne.push(Ce[ae++]);else if(Ce[ae]===J[xe]){ne.push(Ce[ae]),ae++,xe++;continue}else Ce[ae]<J[xe]?ne.push(Ce[ae++]):ne.push(J[xe++]);return ne}function he(Ce,J){const ne=[];let ae=0,xe=0;for(;ae<Ce.length||xe<J.length;)if(ae>=Ce.length)ne.push(J[xe++]);else if(xe>=J.length)ne.push(Ce[ae++]);else if(Ce[ae]===J[xe]){ae++,xe++;continue}else Ce[ae]<J[xe]?ne.push(Ce[ae++]):xe++;return ne}const le=(Ce,J)=>Ce-J;class se{constructor(J,ne){this._templateId=J,this.renderers=ne}get templateId(){return this._templateId}renderTemplate(J){return this.renderers.map(ne=>ne.renderTemplate(J))}renderElement(J,ne,ae,xe){let Ke=0;for(const ct of this.renderers)ct.renderElement(J,ne,ae[Ke++],xe)}disposeElement(J,ne,ae,xe){var Ke;let ct=0;for(const ot of this.renderers)(Ke=ot.disposeElement)===null||Ke===void 0||Ke.call(ot,J,ne,ae[ct],xe),ct+=1}disposeTemplate(J){let ne=0;for(const ae of this.renderers)ae.disposeTemplate(J[ne++])}}class Re{constructor(J){this.accessibilityProvider=J,this.templateId="a18n"}renderTemplate(J){return J}renderElement(J,ne,ae){const xe=this.accessibilityProvider.getAriaLabel(J);xe?ae.setAttribute("aria-label",xe):ae.removeAttribute("aria-label");const Ke=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(J);typeof Ke=="number"?ae.setAttribute("aria-level",`${Ke}`):ae.removeAttribute("aria-level")}disposeTemplate(J){}}class $e{constructor(J,ne){this.list=J,this.dnd=ne}getDragElements(J){const ne=this.list.getSelectedElements();return ne.indexOf(J)>-1?ne:[J]}getDragURI(J){return this.dnd.getDragURI(J)}getDragLabel(J,ne){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J,ne)}onDragStart(J,ne){var ae,xe;(xe=(ae=this.dnd).onDragStart)===null||xe===void 0||xe.call(ae,J,ne)}onDragOver(J,ne,ae,xe){return this.dnd.onDragOver(J,ne,ae,xe)}onDragLeave(J,ne,ae,xe){var Ke,ct;(ct=(Ke=this.dnd).onDragLeave)===null||ct===void 0||ct.call(Ke,J,ne,ae,xe)}onDragEnd(J){var ne,ae;(ae=(ne=this.dnd).onDragEnd)===null||ae===void 0||ae.call(ne,J)}drop(J,ne,ae,xe){this.dnd.drop(J,ne,ae,xe)}}class je{get onDidChangeFocus(){return a.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),J=>this.toListEvent(J),this.disposables)}get onDidChangeSelection(){return a.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),J=>this.toListEvent(J),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let J=!1;const ne=this.disposables.add(a.ju.chain(this.disposables.add(new F.Y(this.view.domNode,"keydown")).event)).map(Ke=>new g.y(Ke)).filter(Ke=>J=Ke.keyCode===58||Ke.shiftKey&&Ke.keyCode===68).map(Ke=>c.zB.stop(Ke,!0)).filter(()=>!1).event,ae=this.disposables.add(a.ju.chain(this.disposables.add(new F.Y(this.view.domNode,"keyup")).event)).forEach(()=>J=!1).map(Ke=>new g.y(Ke)).filter(Ke=>Ke.keyCode===58||Ke.shiftKey&&Ke.keyCode===68).map(Ke=>c.zB.stop(Ke,!0)).map(({browserEvent:Ke})=>{const ct=this.getFocus(),ot=ct.length?ct[0]:void 0,dt=typeof ot!="undefined"?this.view.element(ot):void 0,et=typeof ot!="undefined"?this.view.domElement(ot):this.view.domNode;return{index:ot,element:dt,anchor:et,browserEvent:Ke}}).event,xe=this.disposables.add(a.ju.chain(this.view.onContextMenu)).filter(Ke=>!J).map(({element:Ke,index:ct,browserEvent:ot})=>({element:Ke,index:ct,anchor:{x:ot.pageX+1,y:ot.pageY},browserEvent:ot})).event;return a.ju.any(ne,ae,xe)}get onKeyDown(){return this.disposables.add(new F.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return a.ju.signal(this.disposables.add(new F.Y(this.view.domNode,"focus",!0)).event)}constructor(J,ne,ae,xe,Ke=me){var ct,ot,dt,et;this.user=J,this._options=Ke,this.focus=new w("focused"),this.anchor=new w("anchor"),this.eventBufferer=new a.E7,this._ariaLabel="",this.disposables=new f.SL,this._onDidDispose=new a.Q5,this.onDidDispose=this._onDidDispose.event;const Fe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ct=this._options.accessibilityProvider)===null||ct===void 0?void 0:ct.getWidgetRole():"list";this.selection=new I(Fe!=="listbox");const Le=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ke.accessibilityProvider,this.accessibilityProvider&&(Le.push(new Re(this.accessibilityProvider)),(dt=(ot=this.accessibilityProvider).onDidChangeActiveDescendant)===null||dt===void 0||dt.call(ot,this.onDidChangeActiveDescendant,this,this.disposables)),xe=xe.map(ge=>new se(ge.templateId,[...Le,ge]));const Te=Object.assign(Object.assign({},Ke),{dnd:Ke.dnd&&new $e(this,Ke.dnd)});if(this.view=this.createListView(ne,ae,xe,Te),this.view.domNode.setAttribute("role",Fe),Ke.styleController)this.styleController=Ke.styleController(this.view.domId);else{const ge=(0,c.dS)(this.view.domNode);this.styleController=new pe(ge,this.view.domId)}if(this.spliceable=new $([new M(this.focus,this.view,Ke.identityProvider),new M(this.selection,this.view,Ke.identityProvider),new M(this.anchor,this.view,Ke.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new U(this,this.view)),(typeof Ke.keyboardSupport!="boolean"||Ke.keyboardSupport)&&(this.keyboardController=new Y(this,this.view,Ke),this.disposables.add(this.keyboardController)),Ke.keyboardNavigationLabelProvider){const ge=Ke.keyboardNavigationDelegate||X;this.typeNavigationController=new q(this,this.view,Ke.keyboardNavigationLabelProvider,(et=Ke.keyboardNavigationEventFilter)!==null&&et!==void 0?et:()=>!0,ge),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Ke),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(J,ne,ae,xe){return new _.Bv(J,ne,ae,xe)}createMouseController(J){return new y(this)}updateOptions(J={}){var ne,ae;this._options=Object.assign(Object.assign({},this._options),J),(ne=this.typeNavigationController)===null||ne===void 0||ne.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(J),(ae=this.keyboardController)===null||ae===void 0||ae.updateOptions(J),this.view.updateOptions(J)}get options(){return this._options}splice(J,ne,ae=[]){if(J<0||J>this.view.length)throw new u(this.user,`Invalid start index: ${J}`);if(ne<0)throw new u(this.user,`Invalid delete count: ${ne}`);ne===0&&ae.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(J,ne,ae))}rerender(){this.view.rerender()}element(J){return this.view.element(J)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(J){this.view.setScrollTop(J)}get scrollHeight(){return this.view.scrollHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(J){this._ariaLabel=J,this.view.domNode.setAttribute("aria-label",J)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(J,ne){this.view.layout(J,ne)}setSelection(J,ne){for(const ae of J)if(ae<0||ae>=this.length)throw new u(this.user,`Invalid index ${ae}`);this.selection.set(J,ne)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(J=>this.view.element(J))}setAnchor(J){if(typeof J=="undefined"){this.anchor.set([]);return}if(J<0||J>=this.length)throw new u(this.user,`Invalid index ${J}`);this.anchor.set([J])}getAnchor(){return(0,N.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const J=this.getAnchor();return typeof J=="undefined"?void 0:this.element(J)}setFocus(J,ne){for(const ae of J)if(ae<0||ae>=this.length)throw new u(this.user,`Invalid index ${ae}`);this.focus.set(J,ne)}focusNext(J=1,ne=!1,ae,xe){if(this.length===0)return;const Ke=this.focus.get(),ct=this.findNextIndex(Ke.length>0?Ke[0]+J:0,ne,xe);ct>-1&&this.setFocus([ct],ae)}focusPrevious(J=1,ne=!1,ae,xe){if(this.length===0)return;const Ke=this.focus.get(),ct=this.findPreviousIndex(Ke.length>0?Ke[0]-J:0,ne,xe);ct>-1&&this.setFocus([ct],ae)}focusNextPage(J,ne){return E(this,void 0,void 0,function*(){let ae=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ae=ae===0?0:ae-1;const xe=this.getFocus()[0];if(xe!==ae&&(xe===void 0||ae>xe)){const Ke=this.findPreviousIndex(ae,!1,ne);Ke>-1&&xe!==Ke?this.setFocus([Ke],J):this.setFocus([ae],J)}else{const Ke=this.view.getScrollTop();let ct=Ke+this.view.renderHeight;ae>xe&&(ct-=this.view.elementHeight(ae)),this.view.setScrollTop(ct),this.view.getScrollTop()!==Ke&&(this.setFocus([]),yield(0,x.Vs)(0),yield this.focusNextPage(J,ne))}})}focusPreviousPage(J,ne){return E(this,void 0,void 0,function*(){let ae;const xe=this.view.getScrollTop();xe===0?ae=this.view.indexAt(xe):ae=this.view.indexAfter(xe-1);const Ke=this.getFocus()[0];if(Ke!==ae&&(Ke===void 0||Ke>=ae)){const ct=this.findNextIndex(ae,!1,ne);ct>-1&&Ke!==ct?this.setFocus([ct],J):this.setFocus([ae],J)}else{const ct=xe;this.view.setScrollTop(xe-this.view.renderHeight),this.view.getScrollTop()!==ct&&(this.setFocus([]),yield(0,x.Vs)(0),yield this.focusPreviousPage(J,ne))}})}focusLast(J,ne){if(this.length===0)return;const ae=this.findPreviousIndex(this.length-1,!1,ne);ae>-1&&this.setFocus([ae],J)}focusFirst(J,ne){this.focusNth(0,J,ne)}focusNth(J,ne,ae){if(this.length===0)return;const xe=this.findNextIndex(J,!1,ae);xe>-1&&this.setFocus([xe],ne)}findNextIndex(J,ne=!1,ae){for(let xe=0;xe<this.length;xe++){if(J>=this.length&&!ne)return-1;if(J=J%this.length,!ae||ae(this.element(J)))return J;J++}return-1}findPreviousIndex(J,ne=!1,ae){for(let xe=0;xe<this.length;xe++){if(J<0&&!ne)return-1;if(J=(this.length+J%this.length)%this.length,!ae||ae(this.element(J)))return J;J--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(J=>this.view.element(J))}reveal(J,ne){if(J<0||J>=this.length)throw new u(this.user,`Invalid index ${J}`);const ae=this.view.getScrollTop(),xe=this.view.elementTop(J),Ke=this.view.elementHeight(J);if((0,m.hj)(ne)){const ct=Ke-this.view.renderHeight;this.view.setScrollTop(ct*(0,s.uZ)(ne,0,1)+xe)}else{const ct=xe+Ke,ot=ae+this.view.renderHeight;xe<ae&&ct>=ot||(xe<ae||ct>=ot&&Ke>=this.view.renderHeight?this.view.setScrollTop(xe):ct>=ot&&this.view.setScrollTop(ct-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(J){return this.view.getElementDomId(J)}style(J){this.styleController.style(J)}toListEvent({indexes:J,browserEvent:ne}){return{indexes:J,elements:J.map(ae=>this.view.element(ae)),browserEvent:ne}}_onFocusChange(){const J=this.focus.get();this.view.domNode.classList.toggle("element-focused",J.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var J;const ne=this.focus.get();if(ne.length>0){let ae;!((J=this.accessibilityProvider)===null||J===void 0)&&J.getActiveDescendantId&&(ae=this.accessibilityProvider.getActiveDescendantId(this.view.element(ne[0]))),this.view.domNode.setAttribute("aria-activedescendant",ae||this.view.getElementDomId(ne[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const J=this.selection.get();this.view.domNode.classList.toggle("selection-none",J.length===0),this.view.domNode.classList.toggle("selection-single",J.length===1),this.view.domNode.classList.toggle("selection-multiple",J.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}b([p.H],je.prototype,"onDidChangeFocus",null),b([p.H],je.prototype,"onDidChangeSelection",null),b([p.H],je.prototype,"onContextMenu",null),b([p.H],je.prototype,"onKeyDown",null),b([p.H],je.prototype,"onDidFocus",null)},73943:function(vt,be,i){"use strict";i.d(be,{S:function(){return c}});const c="monaco-mouse-cursor-text"},69303:function(vt,be,i){"use strict";i.d(be,{l:function(){return a},g:function(){return b}});var c=i(16563),F=i(25396),g=i(92759),A=i(39460),S=i(69398),$=i(94162),N=i(52357),x=i(41420),O=function(E,D,w,I){var M=arguments.length,K=M<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,w):I,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(E,D,w,I);else for(var Q=E.length-1;Q>=0;Q--)(z=E[Q])&&(K=(M<3?z(K):M>3?z(D,w,K):z(D,w))||K);return M>3&&K&&Object.defineProperty(D,w,K),K};const p=!1;var a;(function(E){E.North="north",E.South="south",E.East="east",E.West="west"})(a||(a={}));let d=4;const f=new $.Q5;let s=300;const r=new $.Q5;class m{constructor(){this.disposables=new N.SL}get onPointerMove(){return this.disposables.add(new F.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new F.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}O([S.H],m.prototype,"onPointerMove",null),O([S.H],m.prototype,"onPointerUp",null);class C{get onPointerMove(){return this.disposables.add(new F.Y(this.el,g.t.Change)).event}get onPointerUp(){return this.disposables.add(new F.Y(this.el,g.t.End)).event}constructor(D){this.el=D,this.disposables=new N.SL}dispose(){this.disposables.dispose()}}O([S.H],C.prototype,"onPointerMove",null),O([S.H],C.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(D){this.factory=D}dispose(){}}O([S.H],u.prototype,"onPointerMove",null),O([S.H],u.prototype,"onPointerUp",null);const _="pointer-events-disabled";class b extends N.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(D){this._state!==D&&(this.el.classList.toggle("disabled",D===0),this.el.classList.toggle("minimum",D===1),this.el.classList.toggle("maximum",D===2),this._state=D,this.onDidEnablementChange.fire(D))}set orthogonalStartSash(D){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),D){const w=I=>{this.orthogonalStartDragHandleDisposables.clear(),I!==0&&(this._orthogonalStartDragHandle=(0,c.R3)(this.el,(0,c.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,N.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new F.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>b.onMouseEnter(D),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new F.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>b.onMouseLeave(D),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(D.onDidEnablementChange.event(w,this)),w(D.state)}this._orthogonalStartSash=D}set orthogonalEndSash(D){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),D){const w=I=>{this.orthogonalEndDragHandleDisposables.clear(),I!==0&&(this._orthogonalEndDragHandle=(0,c.R3)(this.el,(0,c.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,N.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new F.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>b.onMouseEnter(D),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new F.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>b.onMouseLeave(D),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(D.onDidEnablementChange.event(w,this)),w(D.state)}this._orthogonalEndSash=D}constructor(D,w,I){super(),this.hoverDelay=s,this.hoverDelayer=this._register(new A.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new $.Q5),this._onDidStart=this._register(new $.Q5),this._onDidChange=this._register(new $.Q5),this._onDidReset=this._register(new $.Q5),this._onDidEnd=this._register(new $.Q5),this.orthogonalStartSashDisposables=this._register(new N.SL),this.orthogonalStartDragHandleDisposables=this._register(new N.SL),this.orthogonalEndSashDisposables=this._register(new N.SL),this.orthogonalEndDragHandleDisposables=this._register(new N.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,c.R3)(D,(0,c.$)(".monaco-sash")),I.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${I.orthogonalEdge}`),x.dz&&this.el.classList.add("mac");const M=this._register(new F.Y(this.el,"mousedown")).event;this._register(M(X=>this.onPointerStart(X,new m),this));const K=this._register(new F.Y(this.el,"dblclick")).event;this._register(K(this.onPointerDoublePress,this));const z=this._register(new F.Y(this.el,"mouseenter")).event;this._register(z(()=>b.onMouseEnter(this)));const Q=this._register(new F.Y(this.el,"mouseleave")).event;this._register(Q(()=>b.onMouseLeave(this))),this._register(g.o.addTarget(this.el));const Y=this._register(new F.Y(this.el,g.t.Start)).event;this._register(Y(X=>this.onPointerStart(X,new C(this.el)),this));const H=this._register(new F.Y(this.el,g.t.Tap)).event;let P;this._register(H(X=>{if(P){clearTimeout(P),P=void 0,this.onPointerDoublePress(X);return}clearTimeout(P),P=setTimeout(()=>P=void 0,250)},this)),typeof I.size=="number"?(this.size=I.size,I.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=d,this._register(f.event(X=>{this.size=X,this.layout()}))),this._register(r.event(X=>this.hoverDelay=X)),this.layoutProvider=w,this.orthogonalStartSash=I.orthogonalStartSash,this.orthogonalEndSash=I.orthogonalEndSash,this.orientation=I.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}onPointerStart(D,w){c.zB.stop(D);let I=!1;if(!D.__orthogonalSashEvent){const L=this.getOrthogonalSash(D);L&&(I=!0,D.__orthogonalSashEvent=!0,L.onPointerStart(D,new u(w)))}if(this.linkedSash&&!D.__linkedSashEvent&&(D.__linkedSashEvent=!0,this.linkedSash.onPointerStart(D,new u(w))),!this.state)return;const M=document.getElementsByTagName("iframe");for(const L of M)L.classList.add(_);const K=D.pageX,z=D.pageY,Q=D.altKey,Y={startX:K,currentX:K,startY:z,currentY:z,altKey:Q};this.el.classList.add("active"),this._onDidStart.fire(Y);const H=(0,c.dS)(this.el),P=()=>{let L="";I?L="all-scroll":this.orientation===1?this.state===1?L="s-resize":this.state===2?L="n-resize":L=x.dz?"row-resize":"ns-resize":this.state===1?L="e-resize":this.state===2?L="w-resize":L=x.dz?"col-resize":"ew-resize",H.textContent=`* { cursor: ${L} !important; }`},X=new N.SL;P(),I||this.onDidEnablementChange.event(P,null,X);const q=L=>{c.zB.stop(L,!1);const B={startX:K,currentX:L.pageX,startY:z,currentY:L.pageY,altKey:Q};this._onDidChange.fire(B)},U=L=>{c.zB.stop(L,!1),this.el.removeChild(H),this.el.classList.remove("active"),this._onDidEnd.fire(),X.dispose();for(const B of M)B.classList.remove(_)};w.onPointerMove(q,null,X),w.onPointerUp(U,null,X),X.add(w)}onPointerDoublePress(D){const w=this.getOrthogonalSash(D);w&&w._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(D,w=!1){D.el.classList.contains("active")?(D.hoverDelayer.cancel(),D.el.classList.add("hover")):D.hoverDelayer.trigger(()=>D.el.classList.add("hover"),D.hoverDelay).then(void 0,()=>{}),!w&&D.linkedSash&&b.onMouseEnter(D.linkedSash,!0)}static onMouseLeave(D,w=!1){D.hoverDelayer.cancel(),D.el.classList.remove("hover"),!w&&D.linkedSash&&b.onMouseLeave(D.linkedSash,!0)}clearSashHoverState(){b.onMouseLeave(this)}layout(){if(this.orientation===0){const D=this.layoutProvider;this.el.style.left=D.getVerticalSashLeft(this)-this.size/2+"px",D.getVerticalSashTop&&(this.el.style.top=D.getVerticalSashTop(this)+"px"),D.getVerticalSashHeight&&(this.el.style.height=D.getVerticalSashHeight(this)+"px")}else{const D=this.layoutProvider;this.el.style.top=D.getHorizontalSashTop(this)-this.size/2+"px",D.getHorizontalSashLeft&&(this.el.style.left=D.getHorizontalSashLeft(this)+"px"),D.getHorizontalSashWidth&&(this.el.style.width=D.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(D){var w;const I=(w=D.initialTarget)!==null&&w!==void 0?w:D.target;if(!(!I||!(I instanceof HTMLElement))&&I.classList.contains("orthogonal-drag-handle"))return I.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},66690:function(vt,be,i){"use strict";i.d(be,{s$:function(){return P},Io:function(){return z},NB:function(){return Y},$Z:function(){return H}});var c=i(26766),F=i(16563),g=i(56693),A=i(74580),S=i(69782),$=i(89021),N=i(39460),x=i(81189);const O=11;class p extends $.${constructor(U){super(),this._onActivate=U.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=U.bgWidth+"px",this.bgDomNode.style.height=U.bgHeight+"px",typeof U.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof U.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof U.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof U.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=U.className,this.domNode.classList.add(...x.k.asClassNameArray(U.icon)),this.domNode.style.position="absolute",this.domNode.style.width=O+"px",this.domNode.style.height=O+"px",typeof U.top!="undefined"&&(this.domNode.style.top=U.top+"px"),typeof U.left!="undefined"&&(this.domNode.style.left=U.left+"px"),typeof U.bottom!="undefined"&&(this.domNode.style.bottom=U.bottom+"px"),typeof U.right!="undefined"&&(this.domNode.style.right=U.right+"px"),this._pointerMoveMonitor=this._register(new S.C),this._register(F.mu(this.bgDomNode,F.tw.POINTER_DOWN,L=>this._arrowPointerDown(L))),this._register(F.mu(this.domNode,F.tw.POINTER_DOWN,L=>this._arrowPointerDown(L))),this._pointerdownRepeatTimer=this._register(new N.zh),this._pointerdownScheduleRepeatTimer=this._register(new N._F)}_arrowPointerDown(U){if(!U.target||!(U.target instanceof Element))return;const L=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(L,200),this._pointerMoveMonitor.startMonitoring(U.target,U.pointerId,U.buttons,B=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),U.preventDefault()}}var a=i(52357);class d extends a.JT{constructor(U,L,B){super(),this._visibility=U,this._visibleClassName=L,this._invisibleClassName=B,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new N._F)}setVisibility(U){this._visibility!==U&&(this._visibility=U,this._updateShouldBeVisible())}setShouldBeVisible(U){this._rawShouldBeVisible=U,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const U=this._applyVisibilitySetting();this._shouldBeVisible!==U&&(this._shouldBeVisible=U,this.ensureVisibility())}setIsNeeded(U){this._isNeeded!==U&&(this._isNeeded=U,this.ensureVisibility())}setDomNode(U){this._domNode=U,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var U;(U=this._domNode)===null||U===void 0||U.setClassName(this._visibleClassName)},0))}_hide(U){var L;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(L=this._domNode)===null||L===void 0||L.setClassName(this._invisibleClassName+(U?" fade":"")))}}var f=i(41420);const s=140;class r extends $.${constructor(U){super(),this._lazyRender=U.lazyRender,this._host=U.host,this._scrollable=U.scrollable,this._scrollByPage=U.scrollByPage,this._scrollbarState=U.scrollbarState,this._visibilityController=this._register(new d(U.visibility,"visible scrollbar "+U.extraScrollbarClassName,"invisible scrollbar "+U.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new S.C),this._shouldRender=!0,this.domNode=(0,g.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(F.nm(this.domNode.domNode,F.tw.POINTER_DOWN,L=>this._domNodePointerDown(L)))}_createArrow(U){const L=this._register(new p(U));this.domNode.domNode.appendChild(L.bgDomNode),this.domNode.domNode.appendChild(L.domNode)}_createSlider(U,L,B,j){this.slider=(0,g.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(U),this.slider.setLeft(L),typeof B=="number"&&this.slider.setWidth(B),typeof j=="number"&&this.slider.setHeight(j),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(F.nm(this.slider.domNode,F.tw.POINTER_DOWN,G=>{G.button===0&&(G.preventDefault(),this._sliderPointerDown(G))})),this.onclick(this.slider.domNode,G=>{G.leftButton&&G.stopPropagation()})}_onElementSize(U){return this._scrollbarState.setVisibleSize(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(U){return this._scrollbarState.setScrollSize(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(U){return this._scrollbarState.setScrollPosition(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(U){U.target===this.domNode.domNode&&this._onPointerDown(U)}delegatePointerDown(U){const L=this.domNode.domNode.getClientRects()[0].top,B=L+this._scrollbarState.getSliderPosition(),j=L+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),G=this._sliderPointerPosition(U);B<=G&&G<=j?U.button===0&&(U.preventDefault(),this._sliderPointerDown(U)):this._onPointerDown(U)}_onPointerDown(U){let L,B;if(U.target===this.domNode.domNode&&typeof U.offsetX=="number"&&typeof U.offsetY=="number")L=U.offsetX,B=U.offsetY;else{const G=F.i(this.domNode.domNode);L=U.pageX-G.left,B=U.pageY-G.top}const j=this._pointerDownRelativePosition(L,B);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(j):this._scrollbarState.getDesiredScrollPositionFromOffset(j)),U.button===0&&(U.preventDefault(),this._sliderPointerDown(U))}_sliderPointerDown(U){if(!U.target||!(U.target instanceof Element))return;const L=this._sliderPointerPosition(U),B=this._sliderOrthogonalPointerPosition(U),j=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(U.target,U.pointerId,U.buttons,G=>{const y=this._sliderOrthogonalPointerPosition(G),pe=Math.abs(y-B);if(f.ED&&pe>s){this._setDesiredScrollPositionNow(j.getScrollPosition());return}const me=this._sliderPointerPosition(G)-L;this._setDesiredScrollPositionNow(j.getDesiredScrollPositionFromDelta(me))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(U){const L={};this.writeScrollPosition(L,U),this._scrollable.setScrollPositionNow(L)}updateScrollbarSize(U){this._updateScrollbarSize(U),this._scrollbarState.setScrollbarSize(U),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const m=20;class C{constructor(U,L,B,j,G,y){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(B),this._arrowSize=Math.round(U),this._visibleSize=j,this._scrollSize=G,this._scrollPosition=y,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new C(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(U){const L=Math.round(U);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(U){const L=Math.round(U);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(U){const L=Math.round(U);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(U){this._scrollbarSize=Math.round(U)}setOppositeScrollbarSize(U){this._oppositeScrollbarSize=Math.round(U)}static _computeValues(U,L,B,j,G){const y=Math.max(0,B-U),pe=Math.max(0,y-2*L),ye=j>0&&j>B;if(!ye)return{computedAvailableSize:Math.round(y),computedIsNeeded:ye,computedSliderSize:Math.round(pe),computedSliderRatio:0,computedSliderPosition:0};const me=Math.round(Math.max(m,Math.floor(B*pe/j))),Se=(pe-me)/(j-B),_e=G*Se;return{computedAvailableSize:Math.round(y),computedIsNeeded:ye,computedSliderSize:Math.round(me),computedSliderRatio:Se,computedSliderPosition:Math.round(_e)}}_refreshComputedValues(){const U=C._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=U.computedAvailableSize,this._computedIsNeeded=U.computedIsNeeded,this._computedSliderSize=U.computedSliderSize,this._computedSliderRatio=U.computedSliderRatio,this._computedSliderPosition=U.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(U){if(!this._computedIsNeeded)return 0;const L=U-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(U){if(!this._computedIsNeeded)return 0;const L=U-this._arrowSize;let B=this._scrollPosition;return L<this._computedSliderPosition?B-=this._visibleSize:B+=this._visibleSize,B}getDesiredScrollPositionFromDelta(U){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+U;return Math.round(L/this._computedSliderRatio)}}var u=i(54195);class _ extends r{constructor(U,L,B){const j=U.getScrollDimensions(),G=U.getCurrentScrollPosition();if(super({lazyRender:L.lazyRender,host:B,scrollbarState:new C(L.horizontalHasArrows?L.arrowSize:0,L.horizontal===2?0:L.horizontalScrollbarSize,L.vertical===2?0:L.verticalScrollbarSize,j.width,j.scrollWidth,G.scrollLeft),visibility:L.horizontal,extraScrollbarClassName:"horizontal",scrollable:U,scrollByPage:L.scrollByPage}),L.horizontalHasArrows){const y=(L.arrowSize-O)/2,pe=(L.horizontalScrollbarSize-O)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonLeft,top:pe,left:y,bottom:void 0,right:void 0,bgWidth:L.arrowSize,bgHeight:L.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new A.q(null,1,0))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonRight,top:pe,left:void 0,bottom:void 0,right:y,bgWidth:L.arrowSize,bgHeight:L.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new A.q(null,-1,0))})}this._createSlider(Math.floor((L.horizontalScrollbarSize-L.horizontalSliderSize)/2),0,void 0,L.horizontalSliderSize)}_updateSlider(U,L){this.slider.setWidth(U),this.slider.setLeft(L)}_renderDomNode(U,L){this.domNode.setWidth(U),this.domNode.setHeight(L),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(U){return this._shouldRender=this._onElementScrollSize(U.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(U.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(U.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(U,L){return U}_sliderPointerPosition(U){return U.pageX}_sliderOrthogonalPointerPosition(U){return U.pageY}_updateScrollbarSize(U){this.slider.setHeight(U)}writeScrollPosition(U,L){U.scrollLeft=L}updateOptions(U){this.updateScrollbarSize(U.horizontal===2?0:U.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(U.vertical===2?0:U.verticalScrollbarSize),this._visibilityController.setVisibility(U.horizontal),this._scrollByPage=U.scrollByPage}}class b extends r{constructor(U,L,B){const j=U.getScrollDimensions(),G=U.getCurrentScrollPosition();if(super({lazyRender:L.lazyRender,host:B,scrollbarState:new C(L.verticalHasArrows?L.arrowSize:0,L.vertical===2?0:L.verticalScrollbarSize,0,j.height,j.scrollHeight,G.scrollTop),visibility:L.vertical,extraScrollbarClassName:"vertical",scrollable:U,scrollByPage:L.scrollByPage}),L.verticalHasArrows){const y=(L.arrowSize-O)/2,pe=(L.verticalScrollbarSize-O)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonUp,top:y,left:pe,bottom:void 0,right:void 0,bgWidth:L.verticalScrollbarSize,bgHeight:L.arrowSize,onActivate:()=>this._host.onMouseWheel(new A.q(null,0,1))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonDown,top:void 0,left:pe,bottom:y,right:void 0,bgWidth:L.verticalScrollbarSize,bgHeight:L.arrowSize,onActivate:()=>this._host.onMouseWheel(new A.q(null,0,-1))})}this._createSlider(0,Math.floor((L.verticalScrollbarSize-L.verticalSliderSize)/2),L.verticalSliderSize,void 0)}_updateSlider(U,L){this.slider.setHeight(U),this.slider.setTop(L)}_renderDomNode(U,L){this.domNode.setWidth(L),this.domNode.setHeight(U),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(U){return this._shouldRender=this._onElementScrollSize(U.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(U.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(U.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(U,L){return L}_sliderPointerPosition(U){return U.pageY}_sliderOrthogonalPointerPosition(U){return U.pageX}_updateScrollbarSize(U){this.slider.setWidth(U)}writeScrollPosition(U,L){U.scrollTop=L}updateOptions(U){this.updateScrollbarSize(U.vertical===2?0:U.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(U.vertical),this._scrollByPage=U.scrollByPage}}var E=i(94162),D=i(61301);const w=500,I=50,M=!0;class K{constructor(U,L,B){this.timestamp=U,this.deltaX=L,this.deltaY=B,this.score=0}}class z{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let U=1,L=0,B=1,j=this._rear;do{const G=j===this._front?U:Math.pow(2,-B);if(U-=G,L+=this._memory[j].score*G,j===this._front)break;j=(this._capacity+j-1)%this._capacity,B++}while(!0);return L<=.5}acceptStandardWheelEvent(U){const L=window.devicePixelRatio/(0,c.getZoomFactor)();f.ED||f.IJ?this.accept(Date.now(),U.deltaX/L,U.deltaY/L):this.accept(Date.now(),U.deltaX,U.deltaY)}accept(U,L,B){const j=new K(U,L,B);j.score=this._computeScore(j),this._front===-1&&this._rear===-1?(this._memory[0]=j,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=j)}_computeScore(U){if(Math.abs(U.deltaX)>0&&Math.abs(U.deltaY)>0)return 1;let L=.5;const B=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(U.deltaX)||!this._isAlmostInt(U.deltaY))&&(L+=.25),Math.min(Math.max(L,0),1)}_isAlmostInt(U){return Math.abs(Math.round(U)-U)<.01}}z.INSTANCE=new z;class Q extends $.${get options(){return this._options}constructor(U,L,B){super(),this._onScroll=this._register(new E.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new E.Q5),U.style.overflow="hidden",this._options=X(L),this._scrollable=B,this._register(this._scrollable.onScroll(G=>{this._onWillScroll.fire(G),this._onDidScroll(G),this._onScroll.fire(G)}));const j={onMouseWheel:G=>this._onMouseWheel(G),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b(this._scrollable,this._options,j)),this._horizontalScrollbar=this._register(new _(this._scrollable,this._options,j)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(U),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,g.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,g.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,g.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,G=>this._onMouseOver(G)),this.onmouseleave(this._listenOnDomNode,G=>this._onMouseLeave(G)),this._hideTimeout=this._register(new N._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,a.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(U){this._verticalScrollbar.delegatePointerDown(U)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(U){this._scrollable.setScrollDimensions(U,!1)}updateClassName(U){this._options.className=U,f.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(U){typeof U.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=U.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof U.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=U.mouseWheelScrollSensitivity),typeof U.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=U.fastScrollSensitivity),typeof U.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=U.scrollPredominantAxis),typeof U.horizontal!="undefined"&&(this._options.horizontal=U.horizontal),typeof U.vertical!="undefined"&&(this._options.vertical=U.vertical),typeof U.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=U.horizontalScrollbarSize),typeof U.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=U.verticalScrollbarSize),typeof U.scrollByPage!="undefined"&&(this._options.scrollByPage=U.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(U){this._onMouseWheel(new A.q(U))}_setListeningToMouseWheel(U){if(this._mouseWheelToDispose.length>0!==U&&(this._mouseWheelToDispose=(0,a.B9)(this._mouseWheelToDispose),U)){const B=j=>{this._onMouseWheel(new A.q(j))};this._mouseWheelToDispose.push(F.nm(this._listenOnDomNode,F.tw.MOUSE_WHEEL,B,{passive:!1}))}}_onMouseWheel(U){const L=z.INSTANCE;M&&L.acceptStandardWheelEvent(U);let B=!1;if(U.deltaY||U.deltaX){let G=U.deltaY*this._options.mouseWheelScrollSensitivity,y=U.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(G)>=Math.abs(y)?y=0:G=0),this._options.flipAxes&&([G,y]=[y,G]);const pe=!f.dz&&U.browserEvent&&U.browserEvent.shiftKey;(this._options.scrollYToX||pe)&&!y&&(y=G,G=0),U.browserEvent&&U.browserEvent.altKey&&(y=y*this._options.fastScrollSensitivity,G=G*this._options.fastScrollSensitivity);const ye=this._scrollable.getFutureScrollPosition();let me={};if(G){const Se=I*G,_e=ye.scrollTop-(Se<0?Math.floor(Se):Math.ceil(Se));this._verticalScrollbar.writeScrollPosition(me,_e)}if(y){const Se=I*y,_e=ye.scrollLeft-(Se<0?Math.floor(Se):Math.ceil(Se));this._horizontalScrollbar.writeScrollPosition(me,_e)}me=this._scrollable.validateScrollPosition(me),(ye.scrollLeft!==me.scrollLeft||ye.scrollTop!==me.scrollTop)&&(M&&this._options.mouseWheelSmoothScroll&&L.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(me):this._scrollable.setScrollPositionNow(me),B=!0)}let j=B;!j&&this._options.alwaysConsumeMouseWheel&&(j=!0),!j&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(j=!0),j&&(U.preventDefault(),U.stopPropagation())}_onDidScroll(U){this._shouldRender=this._horizontalScrollbar.onDidScroll(U)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(U)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const U=this._scrollable.getCurrentScrollPosition(),L=U.scrollTop>0,B=U.scrollLeft>0,j=B?" left":"",G=L?" top":"",y=B||L?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${j}`),this._topShadowDomNode.setClassName(`shadow${G}`),this._topLeftShadowDomNode.setClassName(`shadow${y}${G}${j}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(U){this._mouseIsOver=!1,this._hide()}_onMouseOver(U){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),w)}}class Y extends Q{constructor(U,L){L=L||{},L.mouseWheelSmoothScroll=!1;const B=new D.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>F.jL(j)});super(U,L,B),this._register(B)}setScrollPosition(U){this._scrollable.setScrollPositionNow(U)}}class H extends Q{constructor(U,L,B){super(U,L,B)}setScrollPosition(U){U.reuseAnimation?this._scrollable.setScrollPositionSmooth(U,U.reuseAnimation):this._scrollable.setScrollPositionNow(U)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class P extends Q{constructor(U,L){L=L||{},L.mouseWheelSmoothScroll=!1;const B=new D.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>F.jL(j)});super(U,L,B),this._register(B),this._element=U,this.onScroll(j=>{j.scrollTopChanged&&(this._element.scrollTop=j.scrollTop),j.scrollLeftChanged&&(this._element.scrollLeft=j.scrollLeft)}),this.scanDomNode()}setScrollPosition(U){this._scrollable.setScrollPositionNow(U)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function X(q){const U={lazyRender:typeof q.lazyRender!="undefined"?q.lazyRender:!1,className:typeof q.className!="undefined"?q.className:"",useShadows:typeof q.useShadows!="undefined"?q.useShadows:!0,handleMouseWheel:typeof q.handleMouseWheel!="undefined"?q.handleMouseWheel:!0,flipAxes:typeof q.flipAxes!="undefined"?q.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof q.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?q.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof q.alwaysConsumeMouseWheel!="undefined"?q.alwaysConsumeMouseWheel:!1,scrollYToX:typeof q.scrollYToX!="undefined"?q.scrollYToX:!1,mouseWheelScrollSensitivity:typeof q.mouseWheelScrollSensitivity!="undefined"?q.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof q.fastScrollSensitivity!="undefined"?q.fastScrollSensitivity:5,scrollPredominantAxis:typeof q.scrollPredominantAxis!="undefined"?q.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof q.mouseWheelSmoothScroll!="undefined"?q.mouseWheelSmoothScroll:!0,arrowSize:typeof q.arrowSize!="undefined"?q.arrowSize:11,listenOnDomNode:typeof q.listenOnDomNode!="undefined"?q.listenOnDomNode:null,horizontal:typeof q.horizontal!="undefined"?q.horizontal:1,horizontalScrollbarSize:typeof q.horizontalScrollbarSize!="undefined"?q.horizontalScrollbarSize:10,horizontalSliderSize:typeof q.horizontalSliderSize!="undefined"?q.horizontalSliderSize:0,horizontalHasArrows:typeof q.horizontalHasArrows!="undefined"?q.horizontalHasArrows:!1,vertical:typeof q.vertical!="undefined"?q.vertical:1,verticalScrollbarSize:typeof q.verticalScrollbarSize!="undefined"?q.verticalScrollbarSize:10,verticalHasArrows:typeof q.verticalHasArrows!="undefined"?q.verticalHasArrows:!1,verticalSliderSize:typeof q.verticalSliderSize!="undefined"?q.verticalSliderSize:0,scrollByPage:typeof q.scrollByPage!="undefined"?q.scrollByPage:!1};return U.horizontalSliderSize=typeof q.horizontalSliderSize!="undefined"?q.horizontalSliderSize:U.horizontalScrollbarSize,U.verticalSliderSize=typeof q.verticalSliderSize!="undefined"?q.verticalSliderSize:U.verticalScrollbarSize,f.dz&&(U.className+=" mac"),U}},99035:function(vt,be,i){"use strict";i.d(be,{M:function(){return C},z:function(){return u}});var c=i(16563),F=i(25396),g=i(69303),A=i(66690),S=i(16842),$=i(87799),N=i(94162),x=i(52357),O=i(88523),p=i(61301),a=i(67770);const d={separatorBorder:$.Il.transparent};class f{set size(b){this._size=b}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(b,E){var D,w;b!==this.visible&&(b?(this.size=(0,O.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof E=="number"?E:this.size,this.size=0),this.container.classList.toggle("visible",b),(w=(D=this.view).setVisible)===null||w===void 0||w.call(D,b))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var b;return(b=this.view.proportionalLayout)!==null&&b!==void 0?b:!0}get snap(){return!!this.view.snap}set enabled(b){this.container.style.pointerEvents=b?"":"none"}constructor(b,E,D,w){this.container=b,this.view=E,this.disposable=w,this._cachedVisibleSize=void 0,typeof D=="number"?(this._size=D,this._cachedVisibleSize=void 0,b.classList.add("visible")):(this._size=0,this._cachedVisibleSize=D.cachedVisibleSize)}layout(b,E){this.layoutContainer(b),this.view.layout(this.size,b,E)}dispose(){return this.disposable.dispose(),this.view}}class s extends f{layoutContainer(b){this.container.style.top=`${b}px`,this.container.style.height=`${this.size}px`}}class r extends f{layoutContainer(b){this.container.style.left=`${b}px`,this.container.style.width=`${this.size}px`}}var m;(function(_){_[_.Idle=0]="Idle",_[_.Busy=1]="Busy"})(m||(m={}));var C;(function(_){_.Distribute={type:"distribute"};function b(D){return{type:"split",index:D}}_.Split=b;function E(D){return{type:"invisible",cachedVisibleSize:D}}_.Invisible=E})(C||(C={}));class u extends x.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(b){for(const E of this.sashItems)E.sash.orthogonalStartSash=b;this._orthogonalStartSash=b}set orthogonalEndSash(b){for(const E of this.sashItems)E.sash.orthogonalEndSash=b;this._orthogonalEndSash=b}set startSnappingEnabled(b){this._startSnappingEnabled!==b&&(this._startSnappingEnabled=b,this.updateSashEnablement())}set endSnappingEnabled(b){this._endSnappingEnabled!==b&&(this._endSnappingEnabled=b,this.updateSashEnablement())}constructor(b,E={}){var D,w,I,M,K;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=m.Idle,this._onDidSashChange=this._register(new N.Q5),this._onDidSashReset=this._register(new N.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(D=E.orientation)!==null&&D!==void 0?D:0,this.inverseAltBehavior=(w=E.inverseAltBehavior)!==null&&w!==void 0?w:!1,this.proportionalLayout=(I=E.proportionalLayout)!==null&&I!==void 0?I:!0,this.getSashOrthogonalSize=E.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),b.appendChild(this.el),this.sashContainer=(0,c.R3)(this.el,(0,c.$)(".sash-container")),this.viewContainer=(0,c.$)(".split-view-container"),this.scrollable=new p.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:c.jL}),this.scrollableElement=this._register(new A.$Z(this.viewContainer,{vertical:this.orientation===0?(M=E.scrollbarVisibility)!==null&&M!==void 0?M:1:2,horizontal:this.orientation===1?(K=E.scrollbarVisibility)!==null&&K!==void 0?K:1:2},this.scrollable));const z=this._register(new F.Y(this.viewContainer,"scroll")).event;this._register(z(Q=>{const Y=this.scrollableElement.getScrollPosition(),H=Math.abs(this.viewContainer.scrollLeft-Y.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,P=Math.abs(this.viewContainer.scrollTop-Y.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(H!==void 0||P!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:H,scrollTop:P})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(Q=>{Q.scrollTopChanged&&(this.viewContainer.scrollTop=Q.scrollTop),Q.scrollLeftChanged&&(this.viewContainer.scrollLeft=Q.scrollLeft)})),(0,c.R3)(this.el,this.scrollableElement.getDomNode()),this.style(E.styles||d),E.descriptor&&(this.size=E.descriptor.size,E.descriptor.views.forEach((Q,Y)=>{const H=a.o8(Q.visible)||Q.visible?Q.size:{type:"invisible",cachedVisibleSize:Q.size},P=Q.view;this.doAddView(P,H,Y,!0)}),this.contentSize=this.viewItems.reduce((Q,Y)=>Q+Y.size,0),this.saveProportions())}style(b){b.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",b.separatorBorder.toString()))}addView(b,E,D=this.viewItems.length,w){this.doAddView(b,E,D,w)}layout(b,E){const D=Math.max(this.size,this.contentSize);if(this.size=b,this.layoutContext=E,this.proportions){let w=0;for(let I=0;I<this.viewItems.length;I++){const M=this.viewItems[I],K=this.proportions[I];typeof K=="number"?w+=K:b-=M.size}for(let I=0;I<this.viewItems.length;I++){const M=this.viewItems[I],K=this.proportions[I];typeof K=="number"&&(M.size=(0,O.uZ)(Math.round(K*b/w),M.minimumSize,M.maximumSize))}}else{const w=(0,S.w6)(this.viewItems.length),I=w.filter(K=>this.viewItems[K].priority===1),M=w.filter(K=>this.viewItems[K].priority===2);this.resize(this.viewItems.length-1,b-D,void 0,I,M)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(b=>b.proportionalLayout?b.size/this.contentSize:void 0))}onSashStart({sash:b,start:E,alt:D}){for(const K of this.viewItems)K.enabled=!1;const w=this.sashItems.findIndex(K=>K.sash===b),I=(0,x.F8)((0,c.nm)(document.body,"keydown",K=>M(this.sashDragState.current,K.altKey)),(0,c.nm)(document.body,"keyup",()=>M(this.sashDragState.current,!1))),M=(K,z)=>{const Q=this.viewItems.map(q=>q.size);let Y=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(z=!z),z)if(w===this.sashItems.length-1){const U=this.viewItems[w];Y=(U.minimumSize-U.size)/2,H=(U.maximumSize-U.size)/2}else{const U=this.viewItems[w+1];Y=(U.size-U.maximumSize)/2,H=(U.size-U.minimumSize)/2}let P,X;if(!z){const q=(0,S.w6)(w,-1),U=(0,S.w6)(w+1,this.viewItems.length),L=q.reduce((Se,_e)=>Se+(this.viewItems[_e].minimumSize-Q[_e]),0),B=q.reduce((Se,_e)=>Se+(this.viewItems[_e].viewMaximumSize-Q[_e]),0),j=U.length===0?Number.POSITIVE_INFINITY:U.reduce((Se,_e)=>Se+(Q[_e]-this.viewItems[_e].minimumSize),0),G=U.length===0?Number.NEGATIVE_INFINITY:U.reduce((Se,_e)=>Se+(Q[_e]-this.viewItems[_e].viewMaximumSize),0),y=Math.max(L,G),pe=Math.min(j,B),ye=this.findFirstSnapIndex(q),me=this.findFirstSnapIndex(U);if(typeof ye=="number"){const Se=this.viewItems[ye],_e=Math.floor(Se.viewMinimumSize/2);P={index:ye,limitDelta:Se.visible?y-_e:y+_e,size:Se.size}}if(typeof me=="number"){const Se=this.viewItems[me],_e=Math.floor(Se.viewMinimumSize/2);X={index:me,limitDelta:Se.visible?pe+_e:pe-_e,size:Se.size}}}this.sashDragState={start:K,current:K,index:w,sizes:Q,minDelta:Y,maxDelta:H,alt:z,snapBefore:P,snapAfter:X,disposable:I}};M(E,D)}onSashChange({current:b}){const{index:E,start:D,sizes:w,alt:I,minDelta:M,maxDelta:K,snapBefore:z,snapAfter:Q}=this.sashDragState;this.sashDragState.current=b;const Y=b-D,H=this.resize(E,Y,w,void 0,void 0,M,K,z,Q);if(I){const P=E===this.sashItems.length-1,X=this.viewItems.map(G=>G.size),q=P?E:E+1,U=this.viewItems[q],L=U.size-U.maximumSize,B=U.size-U.minimumSize,j=P?E-1:E+1;this.resize(j,-H,X,void 0,void 0,L,B)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(b){this._onDidSashChange.fire(b),this.sashDragState.disposable.dispose(),this.saveProportions();for(const E of this.viewItems)E.enabled=!0}onViewChange(b,E){const D=this.viewItems.indexOf(b);D<0||D>=this.viewItems.length||(E=typeof E=="number"?E:b.size,E=(0,O.uZ)(E,b.minimumSize,b.maximumSize),this.inverseAltBehavior&&D>0?(this.resize(D-1,Math.floor((b.size-E)/2)),this.distributeEmptySpace(),this.layoutViews()):(b.size=E,this.relayout([D],void 0)))}resizeView(b,E){if(this.state!==m.Idle)throw new Error("Cant modify splitview");if(this.state=m.Busy,b<0||b>=this.viewItems.length)return;const D=(0,S.w6)(this.viewItems.length).filter(K=>K!==b),w=[...D.filter(K=>this.viewItems[K].priority===1),b],I=D.filter(K=>this.viewItems[K].priority===2),M=this.viewItems[b];E=Math.round(E),E=(0,O.uZ)(E,M.minimumSize,Math.min(M.maximumSize,this.size)),M.size=E,this.relayout(w,I),this.state=m.Idle}distributeViewSizes(){const b=[];let E=0;for(const K of this.viewItems)K.maximumSize-K.minimumSize>0&&(b.push(K),E+=K.size);const D=Math.floor(E/b.length);for(const K of b)K.size=(0,O.uZ)(D,K.minimumSize,K.maximumSize);const w=(0,S.w6)(this.viewItems.length),I=w.filter(K=>this.viewItems[K].priority===1),M=w.filter(K=>this.viewItems[K].priority===2);this.relayout(I,M)}getViewSize(b){return b<0||b>=this.viewItems.length?-1:this.viewItems[b].size}doAddView(b,E,D=this.viewItems.length,w){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;const I=(0,c.$)(".split-view-view");D===this.viewItems.length?this.viewContainer.appendChild(I):this.viewContainer.insertBefore(I,this.viewContainer.children.item(D));const M=b.onDidChange(P=>this.onViewChange(Y,P)),K=(0,x.OF)(()=>this.viewContainer.removeChild(I)),z=(0,x.F8)(M,K);let Q;typeof E=="number"?Q=E:E.type==="split"?Q=this.getViewSize(E.index)/2:E.type==="invisible"?Q={cachedVisibleSize:E.cachedVisibleSize}:Q=b.minimumSize;const Y=this.orientation===0?new s(I,b,Q,z):new r(I,b,Q,z);if(this.viewItems.splice(D,0,Y),this.viewItems.length>1){const P={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},X=this.orientation===0?new g.g(this.sashContainer,{getHorizontalSashTop:Se=>this.getSashPosition(Se),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:1})):new g.g(this.sashContainer,{getVerticalSashLeft:Se=>this.getSashPosition(Se),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:0})),q=this.orientation===0?Se=>({sash:X,start:Se.startY,current:Se.currentY,alt:Se.altKey}):Se=>({sash:X,start:Se.startX,current:Se.currentX,alt:Se.altKey}),L=N.ju.map(X.onDidStart,q)(this.onSashStart,this),j=N.ju.map(X.onDidChange,q)(this.onSashChange,this),y=N.ju.map(X.onDidEnd,()=>this.sashItems.findIndex(Se=>Se.sash===X))(this.onSashEnd,this),pe=X.onDidReset(()=>{const Se=this.sashItems.findIndex(Re=>Re.sash===X),_e=(0,S.w6)(Se,-1),he=(0,S.w6)(Se+1,this.viewItems.length),le=this.findFirstSnapIndex(_e),se=this.findFirstSnapIndex(he);typeof le=="number"&&!this.viewItems[le].visible||typeof se=="number"&&!this.viewItems[se].visible||this._onDidSashReset.fire(Se)}),ye=(0,x.F8)(L,j,y,pe,X),me={sash:X,disposable:ye};this.sashItems.splice(D-1,0,me)}I.appendChild(b.element);let H;typeof E!="number"&&E.type==="split"&&(H=[E.index]),w||this.relayout([D],H),this.state=m.Idle,!w&&typeof E!="number"&&E.type==="distribute"&&this.distributeViewSizes()}relayout(b,E){const D=this.viewItems.reduce((w,I)=>w+I.size,0);this.resize(this.viewItems.length-1,this.size-D,void 0,b,E),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(b,E,D=this.viewItems.map(Y=>Y.size),w,I,M=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY,z,Q){if(b<0||b>=this.viewItems.length)return 0;const Y=(0,S.w6)(b,-1),H=(0,S.w6)(b+1,this.viewItems.length);if(I)for(const me of I)(0,S.zI)(Y,me),(0,S.zI)(H,me);if(w)for(const me of w)(0,S.al)(Y,me),(0,S.al)(H,me);const P=Y.map(me=>this.viewItems[me]),X=Y.map(me=>D[me]),q=H.map(me=>this.viewItems[me]),U=H.map(me=>D[me]),L=Y.reduce((me,Se)=>me+(this.viewItems[Se].minimumSize-D[Se]),0),B=Y.reduce((me,Se)=>me+(this.viewItems[Se].maximumSize-D[Se]),0),j=H.length===0?Number.POSITIVE_INFINITY:H.reduce((me,Se)=>me+(D[Se]-this.viewItems[Se].minimumSize),0),G=H.length===0?Number.NEGATIVE_INFINITY:H.reduce((me,Se)=>me+(D[Se]-this.viewItems[Se].maximumSize),0),y=Math.max(L,G,M),pe=Math.min(j,B,K);let ye=!1;if(z){const me=this.viewItems[z.index],Se=E>=z.limitDelta;ye=Se!==me.visible,me.setVisible(Se,z.size)}if(!ye&&Q){const me=this.viewItems[Q.index],Se=E<Q.limitDelta;ye=Se!==me.visible,me.setVisible(Se,Q.size)}if(ye)return this.resize(b,E,D,w,I,M,K);E=(0,O.uZ)(E,y,pe);for(let me=0,Se=E;me<P.length;me++){const _e=P[me],he=(0,O.uZ)(X[me]+Se,_e.minimumSize,_e.maximumSize),le=he-X[me];Se-=le,_e.size=he}for(let me=0,Se=E;me<q.length;me++){const _e=q[me],he=(0,O.uZ)(U[me]-Se,_e.minimumSize,_e.maximumSize),le=he-U[me];Se+=le,_e.size=he}return E}distributeEmptySpace(b){const E=this.viewItems.reduce((K,z)=>K+z.size,0);let D=this.size-E;const w=(0,S.w6)(this.viewItems.length-1,-1),I=w.filter(K=>this.viewItems[K].priority===1),M=w.filter(K=>this.viewItems[K].priority===2);for(const K of M)(0,S.zI)(w,K);for(const K of I)(0,S.al)(w,K);typeof b=="number"&&(0,S.al)(w,b);for(let K=0;D!==0&&K<w.length;K++){const z=this.viewItems[w[K]],Q=(0,O.uZ)(z.size+D,z.minimumSize,z.maximumSize),Y=Q-z.size;D-=Y,z.size=Q}}layoutViews(){this.contentSize=this.viewItems.reduce((E,D)=>E+D.size,0);let b=0;for(const E of this.viewItems)E.layout(b,this.layoutContext),b+=E.size;this.sashItems.forEach(E=>E.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let b=!1;const E=this.viewItems.map(z=>b=z.size-z.minimumSize>0||b);b=!1;const D=this.viewItems.map(z=>b=z.maximumSize-z.size>0||b),w=[...this.viewItems].reverse();b=!1;const I=w.map(z=>b=z.size-z.minimumSize>0||b).reverse();b=!1;const M=w.map(z=>b=z.maximumSize-z.size>0||b).reverse();let K=0;for(let z=0;z<this.sashItems.length;z++){const{sash:Q}=this.sashItems[z],Y=this.viewItems[z];K+=Y.size;const H=!(E[z]&&M[z+1]),P=!(D[z]&&I[z+1]);if(H&&P){const X=(0,S.w6)(z,-1),q=(0,S.w6)(z+1,this.viewItems.length),U=this.findFirstSnapIndex(X),L=this.findFirstSnapIndex(q),B=typeof U=="number"&&!this.viewItems[U].visible,j=typeof L=="number"&&!this.viewItems[L].visible;B&&I[z]&&(K>0||this.startSnappingEnabled)?Q.state=1:j&&E[z]&&(K<this.contentSize||this.endSnappingEnabled)?Q.state=2:Q.state=0}else H&&!P?Q.state=1:!H&&P?Q.state=2:Q.state=3}}getSashPosition(b){let E=0;for(let D=0;D<this.sashItems.length;D++)if(E+=this.viewItems[D].size,this.sashItems[D].sash===b)return E;return 0}findFirstSnapIndex(b){for(const E of b){const D=this.viewItems[E];if(D.visible&&D.snap)return E}for(const E of b){const D=this.viewItems[E];if(D.visible&&D.maximumSize-D.minimumSize>0)return;if(!D.visible&&D.snap)return E}}dispose(){super.dispose(),(0,x.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(b=>b.disposable.dispose()),this.sashItems=[]}}},27654:function(vt,be,i){"use strict";i.d(be,{Z:function(){return S},D:function(){return A}});var c=i(89021),F=i(81189),g=i(94162);const A={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class S extends c.${constructor(N){super(),this._onChange=this._register(new g.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new g.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=N,this._checked=this._opts.isChecked;const x=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,x.push(...F.k.asClassNameArray(this._icon))),this._opts.actionClassName&&x.push(...this._opts.actionClassName.split(" ")),this._checked&&x.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...x),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,O=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),O.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,O=>{if(O.keyCode===10||O.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),O.preventDefault(),O.stopPropagation();return}this._onKeyDown.fire(O)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(N){this._checked=N,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},89021:function(vt,be,i){"use strict";i.d(be,{$:function(){return $}});var c=i(16563),F=i(87415),g=i(74580),A=i(92759),S=i(52357);class $ extends S.JT{onclick(x,O){this._register(c.nm(x,c.tw.CLICK,p=>O(new g.n(p))))}onmousedown(x,O){this._register(c.nm(x,c.tw.MOUSE_DOWN,p=>O(new g.n(p))))}onmouseover(x,O){this._register(c.nm(x,c.tw.MOUSE_OVER,p=>O(new g.n(p))))}onmouseleave(x,O){this._register(c.nm(x,c.tw.MOUSE_LEAVE,p=>O(new g.n(p))))}onkeydown(x,O){this._register(c.nm(x,c.tw.KEY_DOWN,p=>O(new F.y(p))))}onkeyup(x,O){this._register(c.nm(x,c.tw.KEY_UP,p=>O(new F.y(p))))}oninput(x,O){this._register(c.nm(x,c.tw.INPUT,O))}onblur(x,O){this._register(c.nm(x,c.tw.BLUR,O))}onfocus(x,O){this._register(c.nm(x,c.tw.FOCUS,O))}ignoreGesture(x){return A.o.ignoreTarget(x)}}},50453:function(vt,be,i){"use strict";i.d(be,{Wi:function(){return $},Z0:function(){return N},aU:function(){return S},eZ:function(){return O},wY:function(){return x},xw:function(){return p}});var c=i(94162),F=i(52357),g=i(15779),A=function(a,d,f,s){function r(m){return m instanceof f?m:new f(function(C){C(m)})}return new(f||(f=Promise))(function(m,C){function u(E){try{b(s.next(E))}catch(D){C(D)}}function _(E){try{b(s.throw(E))}catch(D){C(D)}}function b(E){E.done?m(E.value):r(E.value).then(u,_)}b((s=s.apply(a,d||[])).next())})};class S extends F.JT{constructor(d,f="",s="",r=!0,m){super(),this._onDidChange=this._register(new c.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=d,this._label=f,this._cssClass=s,this._enabled=r,this._actionCallback=m}get id(){return this._id}get label(){return this._label}set label(d){this._setLabel(d)}_setLabel(d){this._label!==d&&(this._label=d,this._onDidChange.fire({label:d}))}get tooltip(){return this._tooltip||""}set tooltip(d){this._setTooltip(d)}_setTooltip(d){this._tooltip!==d&&(this._tooltip=d,this._onDidChange.fire({tooltip:d}))}get class(){return this._cssClass}set class(d){this._setClass(d)}_setClass(d){this._cssClass!==d&&(this._cssClass=d,this._onDidChange.fire({class:d}))}get enabled(){return this._enabled}set enabled(d){this._setEnabled(d)}_setEnabled(d){this._enabled!==d&&(this._enabled=d,this._onDidChange.fire({enabled:d}))}get checked(){return this._checked}set checked(d){this._setChecked(d)}_setChecked(d){this._checked!==d&&(this._checked=d,this._onDidChange.fire({checked:d}))}run(d,f){return A(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(d))})}}class $ extends F.JT{constructor(){super(...arguments),this._onWillRun=this._register(new c.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new c.Q5),this.onDidRun=this._onDidRun.event}run(d,f){return A(this,void 0,void 0,function*(){if(!d.enabled)return;this._onWillRun.fire({action:d});let s;try{yield this.runAction(d,f)}catch(r){s=r}this._onDidRun.fire({action:d,error:s})})}runAction(d,f){return A(this,void 0,void 0,function*(){yield d.run(f)})}}class N{constructor(){this.id=N.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...d){let f=[];for(const s of d)s.length&&(f.length?f=[...f,new N,...s]:f=s);return f}run(){return A(this,void 0,void 0,function*(){})}}N.ID="vs.actions.separator";class x{get actions(){return this._actions}constructor(d,f,s,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=d,this.label=f,this.class=r,this._actions=s}run(){return A(this,void 0,void 0,function*(){})}}class O extends S{constructor(){super(O.ID,g.NC("submenu.empty","(empty)"),void 0,!1)}}O.ID="vs.actions.empty";function p(a){var d,f;return{id:a.id,label:a.label,class:void 0,enabled:(d=a.enabled)!==null&&d!==void 0?d:!0,checked:(f=a.checked)!==null&&f!==void 0?f:!1,run:()=>A(this,void 0,void 0,function*(){return a.run()}),tooltip:a.label}}},16842:function(vt,be,i){"use strict";i.d(be,{Dc:function(){return H},EB:function(){return s},Gb:function(){return c},H9:function(){return q},HW:function(){return x},JH:function(){return F},LS:function(){return A},Of:function(){return f},Rs:function(){return a},VJ:function(){return X},W$:function(){return U},XY:function(){return d},Xh:function(){return C},Zv:function(){return _},_2:function(){return w},al:function(){return E},dF:function(){return r},db:function(){return M},fS:function(){return g},fv:function(){return Y},jV:function(){return P},kX:function(){return p},lG:function(){return N},ry:function(){return S},tT:function(){return Q},vA:function(){return D},vM:function(){return O},w6:function(){return u},zI:function(){return b}});function c(L,B=0){return L[L.length-(1+B)]}function F(L){if(L.length===0)throw new Error("Invalid tail call");return[L.slice(0,L.length-1),L[L.length-1]]}function g(L,B,j=(G,y)=>G===y){if(L===B)return!0;if(!L||!B||L.length!==B.length)return!1;for(let G=0,y=L.length;G<y;G++)if(!j(L[G],B[G]))return!1;return!0}function A(L,B){const j=L.length-1;B<j&&(L[B]=L[j]),L.pop()}function S(L,B,j){return $(L.length,G=>j(L[G],B))}function $(L,B){let j=0,G=L-1;for(;j<=G;){const y=(j+G)/2|0,pe=B(y);if(pe<0)j=y+1;else if(pe>0)G=y-1;else return y}return-(j+1)}function N(L,B){let j=0,G=L.length;if(G===0)return 0;for(;j<G;){const y=Math.floor((j+G)/2);B(L[y])?G=y:j=y+1}return j}function x(L,B,j){if(L=L|0,L>=B.length)throw new TypeError("invalid index");const G=B[Math.floor(B.length*Math.random())],y=[],pe=[],ye=[];for(const me of B){const Se=j(me,G);Se<0?y.push(me):Se>0?pe.push(me):ye.push(me)}return L<y.length?x(L,y,j):L<y.length+ye.length?ye[0]:x(L-(y.length+ye.length),pe,j)}function O(L,B){const j=[];let G;for(const y of L.slice(0).sort(B))!G||B(G[0],y)!==0?(G=[y],j.push(G)):G.push(y);return j}function p(L){return L.filter(B=>!!B)}function a(L){let B=0;for(let j=0;j<L.length;j++)L[j]&&(L[B]=L[j],B+=1);L.length=B}function d(L){return!Array.isArray(L)||L.length===0}function f(L){return Array.isArray(L)&&L.length>0}function s(L,B=j=>j){const j=new Set;return L.filter(G=>{const y=B(G);return j.has(y)?!1:(j.add(y),!0)})}function r(L,B){const j=m(L,B);if(j!==-1)return L[j]}function m(L,B){for(let j=L.length-1;j>=0;j--){const G=L[j];if(B(G))return j}return-1}function C(L,B){return L.length>0?L[0]:B}function u(L,B){let j=typeof B=="number"?L:0;typeof B=="number"?j=L:(j=0,B=L);const G=[];if(j<=B)for(let y=j;y<B;y++)G.push(y);else for(let y=j;y>B;y--)G.push(y);return G}function _(L,B,j){const G=L.slice(0,B),y=L.slice(B);return G.concat(j,y)}function b(L,B){const j=L.indexOf(B);j>-1&&(L.splice(j,1),L.unshift(B))}function E(L,B){const j=L.indexOf(B);j>-1&&(L.splice(j,1),L.push(B))}function D(L,B){for(const j of B)L.push(j)}function w(L){return Array.isArray(L)?L:[L]}function I(L,B,j){const G=K(L,B),y=L.length,pe=j.length;L.length=y+pe;for(let ye=y-1;ye>=G;ye--)L[ye+pe]=L[ye];for(let ye=0;ye<pe;ye++)L[ye+G]=j[ye]}function M(L,B,j,G){const y=K(L,B),pe=L.splice(y,j);return I(L,y,G),pe}function K(L,B){return B<0?Math.max(B+L.length,0):Math.min(B,L.length)}var z;(function(L){function B(y){return y<0}L.isLessThan=B;function j(y){return y>0}L.isGreaterThan=j;function G(y){return y===0}L.isNeitherLessOrGreaterThan=G,L.greaterThan=1,L.lessThan=-1,L.neitherLessOrGreaterThan=0})(z||(z={}));function Q(L,B){return(j,G)=>B(L(j),L(G))}const Y=(L,B)=>L-B;function H(L,B){if(L.length===0)return;let j=L[0];for(let G=1;G<L.length;G++){const y=L[G];B(y,j)>0&&(j=y)}return j}function P(L,B){if(L.length===0)return;let j=L[0];for(let G=1;G<L.length;G++){const y=L[G];B(y,j)>=0&&(j=y)}return j}function X(L,B){return H(L,(j,G)=>-B(j,G))}class q{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let j=this.firstIdx;for(;j<this.items.length&&B(this.items[j]);)j++;const G=j===this.firstIdx?null:this.items.slice(this.firstIdx,j);return this.firstIdx=j,G}takeFromEndWhile(B){let j=this.lastIdx;for(;j>=0&&B(this.items[j]);)j--;const G=j===this.lastIdx?null:this.items.slice(j+1,this.lastIdx+1);return this.lastIdx=j,G}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const j=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,j}}class U{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(j=>(B.push(j),!0)),B}filter(B){return new U(j=>this.iterate(G=>B(G)?j(G):!0))}map(B){return new U(j=>this.iterate(G=>j(B(G))))}findLast(B){let j;return this.iterate(G=>(B(G)&&(j=G),!0)),j}findLastMaxBy(B){let j,G=!0;return this.iterate(y=>((G||z.isGreaterThan(B(y,j)))&&(G=!1,j=y),!0)),j}}U.empty=new U(L=>{})},44516:function(vt,be,i){"use strict";i.d(be,{DM:function(){return S},eZ:function(){return A},ok:function(){return F},vE:function(){return g}});var c=i(50505);function F($,N){if(!$)throw new Error(N?`Assertion failed (${N})`:"Assertion Failed")}function g($,N="Unreachable"){throw new Error(N)}function A($){if(!$()){debugger;$(),(0,c.dL)(new c.he("Assertion Failed"))}}function S($,N){let x=0;for(;x<$.length-1;){const O=$[x],p=$[x+1];if(!N(O,p))return!1;x++}return!0}},39460:function(vt,be,i){"use strict";i.d(be,{Aq:function(){return z},CR:function(){return M},J8:function(){return O},PG:function(){return p},Ps:function(){return _},To:function(){return w},Ue:function(){return I},Vg:function(){return u},Vs:function(){return C},_F:function(){return b},eP:function(){return a},jT:function(){return K},pY:function(){return D},rH:function(){return m},vp:function(){return r},zS:function(){return Y},zh:function(){return E}});var c=i(19713),F=i(50505),g=i(94162),A=i(52357),S=i(41420),$=i(88925),N=function(H,P,X,q){function U(L){return L instanceof X?L:new X(function(B){B(L)})}return new(X||(X=Promise))(function(L,B){function j(pe){try{y(q.next(pe))}catch(ye){B(ye)}}function G(pe){try{y(q.throw(pe))}catch(ye){B(ye)}}function y(pe){pe.done?L(pe.value):U(pe.value).then(j,G)}y((q=q.apply(H,P||[])).next())})},x=function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=H[Symbol.asyncIterator],X;return P?P.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),X={},q("next"),q("throw"),q("return"),X[Symbol.asyncIterator]=function(){return this},X);function q(L){X[L]=H[L]&&function(B){return new Promise(function(j,G){B=H[L](B),U(j,G,B.done,B.value)})}}function U(L,B,j,G){Promise.resolve(G).then(function(y){L({value:y,done:j})},B)}};function O(H){return!!H&&typeof H.then=="function"}function p(H){const P=new c.A,X=H(P.token),q=new Promise((U,L)=>{const B=P.token.onCancellationRequested(()=>{B.dispose(),P.dispose(),L(new F.FU)});Promise.resolve(X).then(j=>{B.dispose(),P.dispose(),U(j)},j=>{B.dispose(),P.dispose(),L(j)})});return new class{cancel(){P.cancel()}then(U,L){return q.then(U,L)}catch(U){return this.then(void 0,U)}finally(U){return q.finally(U)}}}function a(H,P,X){return new Promise((q,U)=>{const L=P.onCancellationRequested(()=>{L.dispose(),q(X)});H.then(q,U).finally(()=>L.dispose())})}class d{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(P){if(this.activePromise){if(this.queuedPromiseFactory=P,!this.queuedPromise){const X=()=>{this.queuedPromise=null;const q=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,q};this.queuedPromise=new Promise(q=>{this.activePromise.then(X,X).then(q)})}return new Promise((X,q)=>{this.queuedPromise.then(X,q)})}return this.activePromise=P(),new Promise((X,q)=>{this.activePromise.then(U=>{this.activePromise=null,X(U)},U=>{this.activePromise=null,q(U)})})}}const f=(H,P)=>{let X=!0;const q=setTimeout(()=>{X=!1,P()},H);return{isTriggered:()=>X,dispose:()=>{clearTimeout(q),X=!1}}},s=H=>{let P=!0;return queueMicrotask(()=>{P&&(P=!1,H())}),{isTriggered:()=>P,dispose:()=>{P=!1}}};class r{constructor(P){this.defaultDelay=P,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(P,X=this.defaultDelay){this.task=P,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((U,L)=>{this.doResolve=U,this.doReject=L}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const U=this.task;return this.task=null,U()}}));const q=()=>{var U;this.deferred=null,(U=this.doResolve)===null||U===void 0||U.call(this,null)};return this.deferred=X===$.n?s(q):f(X,q),this.completionPromise}isTriggered(){var P;return!!(!((P=this.deferred)===null||P===void 0)&&P.isTriggered())}cancel(){var P;this.cancelTimeout(),this.completionPromise&&((P=this.doReject)===null||P===void 0||P.call(this,new F.FU),this.completionPromise=null)}cancelTimeout(){var P;(P=this.deferred)===null||P===void 0||P.dispose(),this.deferred=null}dispose(){this.cancel()}}class m{constructor(P){this.delayer=new r(P),this.throttler=new d}trigger(P,X){return this.delayer.trigger(()=>this.throttler.queue(P),X)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}function C(H,P){return P?new Promise((X,q)=>{const U=setTimeout(()=>{L.dispose(),X()},H),L=P.onCancellationRequested(()=>{clearTimeout(U),L.dispose(),q(new F.FU)})}):p(X=>C(H,X))}function u(H,P=0){const X=setTimeout(H,P);return(0,A.OF)(()=>clearTimeout(X))}function _(H,P=q=>!!q,X=null){let q=0;const U=H.length,L=()=>{if(q>=U)return Promise.resolve(X);const B=H[q++];return Promise.resolve(B()).then(G=>P(G)?Promise.resolve(G):L())};return L()}class b{constructor(P,X){this._token=-1,typeof P=="function"&&typeof X=="number"&&this.setIfNotSet(P,X)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(P,X){this.cancel(),this._token=setTimeout(()=>{this._token=-1,P()},X)}setIfNotSet(P,X){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,P()},X))}}class E{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(P,X){this.cancel(),this._token=setInterval(()=>{P()},X)}}class D{constructor(P,X){this.timeoutToken=-1,this.runner=P,this.timeout=X,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(P=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,P)}get delay(){return this.timeout}set delay(P){this.timeout=P}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var P;(P=this.runner)===null||P===void 0||P.call(this)}}let w;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?w=H=>{(0,S.fn)(()=>{if(P)return;const X=Date.now()+15;H(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,X-Date.now())}}))});let P=!1;return{dispose(){P||(P=!0)}}}:w=(H,P)=>{const X=requestIdleCallback(H,typeof P=="number"?{timeout:P}:void 0);let q=!1;return{dispose(){q||(q=!0,cancelIdleCallback(X))}}}})();class I{constructor(P){this._didRun=!1,this._executor=()=>{try{this._value=P()}catch(X){this._error=X}finally{this._didRun=!0}},this._handle=w(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class M{get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((P,X)=>{this.completeCallback=P,this.errorCallback=X})}complete(P){return new Promise(X=>{this.completeCallback(P),this.resolved=!0,X()})}cancel(){new Promise(P=>{this.errorCallback(new F.FU),this.rejected=!0,P()})}}var K;(function(H){function P(q){return N(this,void 0,void 0,function*(){let U;const L=yield Promise.all(q.map(B=>B.then(j=>j,j=>{U||(U=j)})));if(typeof U!="undefined")throw U;return L})}H.settled=P;function X(q){return new Promise((U,L)=>N(this,void 0,void 0,function*(){try{yield q(U,L)}catch(B){L(B)}}))}H.withAsyncBody=X})(K||(K={}));class z{static fromArray(P){return new z(X=>{X.emitMany(P)})}static fromPromise(P){return new z(X=>N(this,void 0,void 0,function*(){X.emitMany(yield P)}))}static fromPromises(P){return new z(X=>N(this,void 0,void 0,function*(){yield Promise.all(P.map(q=>N(this,void 0,void 0,function*(){return X.emitOne(yield q)})))}))}static merge(P){return new z(X=>N(this,void 0,void 0,function*(){yield Promise.all(P.map(q=>{var U,L,B;return N(this,void 0,void 0,function*(){var j,G,y,pe;try{for(U=!0,L=x(q);B=yield L.next(),j=B.done,!j;){pe=B.value,U=!1;try{const ye=pe;X.emitOne(ye)}finally{U=!0}}}catch(ye){G={error:ye}}finally{try{!U&&!j&&(y=L.return)&&(yield y.call(L))}finally{if(G)throw G.error}}})}))}))}constructor(P){this._state=0,this._results=[],this._error=null,this._onStateChanged=new g.Q5,queueMicrotask(()=>N(this,void 0,void 0,function*(){const X={emitOne:q=>this.emitOne(q),emitMany:q=>this.emitMany(q),reject:q=>this.reject(q)};try{yield Promise.resolve(P(X)),this.resolve()}catch(q){this.reject(q)}finally{X.emitOne=void 0,X.emitMany=void 0,X.reject=void 0}}))}[Symbol.asyncIterator](){let P=0;return{next:()=>N(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(P<this._results.length)return{done:!1,value:this._results[P++]};if(this._state===1)return{done:!0,value:void 0};yield g.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(P,X){return new z(q=>N(this,void 0,void 0,function*(){var U,L,B,j;try{for(var G=!0,y=x(P),pe;pe=yield y.next(),U=pe.done,!U;){j=pe.value,G=!1;try{const ye=j;q.emitOne(X(ye))}finally{G=!0}}}catch(ye){L={error:ye}}finally{try{!G&&!U&&(B=y.return)&&(yield B.call(y))}finally{if(L)throw L.error}}}))}map(P){return z.map(this,P)}static filter(P,X){return new z(q=>N(this,void 0,void 0,function*(){var U,L,B,j;try{for(var G=!0,y=x(P),pe;pe=yield y.next(),U=pe.done,!U;){j=pe.value,G=!1;try{const ye=j;X(ye)&&q.emitOne(ye)}finally{G=!0}}}catch(ye){L={error:ye}}finally{try{!G&&!U&&(B=y.return)&&(yield B.call(y))}finally{if(L)throw L.error}}}))}filter(P){return z.filter(this,P)}static coalesce(P){return z.filter(P,X=>!!X)}coalesce(){return z.coalesce(this)}static toPromise(P){var X,q,U,L,B,j,G;return N(this,void 0,void 0,function*(){const y=[];try{for(X=!0,q=x(P);U=yield q.next(),L=U.done,!L;){G=U.value,X=!1;try{const pe=G;y.push(pe)}finally{X=!0}}}catch(pe){B={error:pe}}finally{try{!X&&!L&&(j=q.return)&&(yield j.call(q))}finally{if(B)throw B.error}}return y})}toPromise(){return z.toPromise(this)}emitOne(P){this._state===0&&(this._results.push(P),this._onStateChanged.fire())}emitMany(P){this._state===0&&(this._results=this._results.concat(P),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(P){this._state===0&&(this._state=2,this._error=P,this._onStateChanged.fire())}}z.EMPTY=z.fromArray([]);class Q extends z{constructor(P,X){super(X),this._source=P}cancel(){this._source.cancel()}}function Y(H){const P=new c.A,X=H(P.token);return new Q(P,q=>N(this,void 0,void 0,function*(){var U,L,B,j;const G=P.token.onCancellationRequested(()=>{G.dispose(),P.dispose(),q.reject(new F.FU)});try{try{for(var y=!0,pe=x(X),ye;ye=yield pe.next(),U=ye.done,!U;){j=ye.value,y=!1;try{const me=j;if(P.token.isCancellationRequested)return;q.emitOne(me)}finally{y=!0}}}catch(me){L={error:me}}finally{try{!y&&!U&&(B=pe.return)&&(yield B.call(pe))}finally{if(L)throw L.error}}G.dispose(),P.dispose()}catch(me){G.dispose(),P.dispose(),q.reject(me)}}))}},22594:function(vt,be,i){"use strict";i.d(be,{Ag:function(){return N},Cg:function(){return p},KN:function(){return A},Q$:function(){return O},T4:function(){return x},mP:function(){return S},oq:function(){return $}});var c=i(91620).lW;const F=typeof c!="undefined";let g;class A{static wrap(d){return F&&!c.isBuffer(d)&&(d=c.from(d.buffer,d.byteOffset,d.byteLength)),new A(d)}constructor(d){this.buffer=d,this.byteLength=this.buffer.byteLength}toString(){return F?this.buffer.toString():(g||(g=new TextDecoder),g.decode(this.buffer))}}function S(a,d){return a[d+0]<<0>>>0|a[d+1]<<8>>>0}function $(a,d,f){a[f+0]=d&255,d=d>>>8,a[f+1]=d&255}function N(a,d){return a[d]*Math.pow(2,24)+a[d+1]*Math.pow(2,16)+a[d+2]*Math.pow(2,8)+a[d+3]}function x(a,d,f){a[f+3]=d,d=d>>>8,a[f+2]=d,d=d>>>8,a[f+1]=d,d=d>>>8,a[f]=d}function O(a,d){return a[d]}function p(a,d,f){a[f]=d}},53228:function(vt,be,i){"use strict";i.d(be,{b:function(){return F},t:function(){return c}});class c{constructor(A){this.fn=A,this.lastCache=void 0,this.lastArgKey=void 0}get(A){const S=JSON.stringify(A);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(A)),this.lastCache}}class F{get cachedValues(){return this._map}constructor(A){this.fn=A,this._map=new Map}get(A){if(this._map.has(A))return this._map.get(A);const S=this.fn(A);return this._map.set(A,S),S}}},19713:function(vt,be,i){"use strict";i.d(be,{A:function(){return S},T:function(){return g}});var c=i(94162);const F=Object.freeze(function($,N){const x=setTimeout($.bind(N),0);return{dispose(){clearTimeout(x)}}});var g;(function($){function N(x){return x===$.None||x===$.Cancelled||x instanceof A?!0:!x||typeof x!="object"?!1:typeof x.isCancellationRequested=="boolean"&&typeof x.onCancellationRequested=="function"}$.isCancellationToken=N,$.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:c.ju.None}),$.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:F})})(g||(g={}));class A{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?F:(this._emitter||(this._emitter=new c.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(N){this._token=void 0,this._parentListener=void 0,this._parentListener=N&&N.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new A),this._token}cancel(){this._token?this._token instanceof A&&this._token.cancel():this._token=g.Cancelled}dispose(N=!1){var x;N&&this.cancel(),(x=this._parentListener)===null||x===void 0||x.dispose(),this._token?this._token instanceof A&&this._token.dispose():this._token=g.None}}},54195:function(vt,be,i){"use strict";i.d(be,{l:function(){return S},u:function(){return A}});var c=i(67770);const F=Object.create(null);function g($,N){if((0,c.HD)(N)){const x=F[N];if(x===void 0)throw new Error(`${$} references an unknown codicon: ${N}`);N=x}return F[$]=N,{id:$}}function A(){return F}const S={add:g("add",6e4),plus:g("plus",6e4),gistNew:g("gist-new",6e4),repoCreate:g("repo-create",6e4),lightbulb:g("lightbulb",60001),lightBulb:g("light-bulb",60001),repo:g("repo",60002),repoDelete:g("repo-delete",60002),gistFork:g("gist-fork",60003),repoForked:g("repo-forked",60003),gitPullRequest:g("git-pull-request",60004),gitPullRequestAbandoned:g("git-pull-request-abandoned",60004),recordKeys:g("record-keys",60005),keyboard:g("keyboard",60005),tag:g("tag",60006),tagAdd:g("tag-add",60006),tagRemove:g("tag-remove",60006),person:g("person",60007),personFollow:g("person-follow",60007),personOutline:g("person-outline",60007),personFilled:g("person-filled",60007),gitBranch:g("git-branch",60008),gitBranchCreate:g("git-branch-create",60008),gitBranchDelete:g("git-branch-delete",60008),sourceControl:g("source-control",60008),mirror:g("mirror",60009),mirrorPublic:g("mirror-public",60009),star:g("star",60010),starAdd:g("star-add",60010),starDelete:g("star-delete",60010),starEmpty:g("star-empty",60010),comment:g("comment",60011),commentAdd:g("comment-add",60011),alert:g("alert",60012),warning:g("warning",60012),search:g("search",60013),searchSave:g("search-save",60013),logOut:g("log-out",60014),signOut:g("sign-out",60014),logIn:g("log-in",60015),signIn:g("sign-in",60015),eye:g("eye",60016),eyeUnwatch:g("eye-unwatch",60016),eyeWatch:g("eye-watch",60016),circleFilled:g("circle-filled",60017),primitiveDot:g("primitive-dot",60017),closeDirty:g("close-dirty",60017),debugBreakpoint:g("debug-breakpoint",60017),debugBreakpointDisabled:g("debug-breakpoint-disabled",60017),debugHint:g("debug-hint",60017),primitiveSquare:g("primitive-square",60018),edit:g("edit",60019),pencil:g("pencil",60019),info:g("info",60020),issueOpened:g("issue-opened",60020),gistPrivate:g("gist-private",60021),gitForkPrivate:g("git-fork-private",60021),lock:g("lock",60021),mirrorPrivate:g("mirror-private",60021),close:g("close",60022),removeClose:g("remove-close",60022),x:g("x",60022),repoSync:g("repo-sync",60023),sync:g("sync",60023),clone:g("clone",60024),desktopDownload:g("desktop-download",60024),beaker:g("beaker",60025),microscope:g("microscope",60025),vm:g("vm",60026),deviceDesktop:g("device-desktop",60026),file:g("file",60027),fileText:g("file-text",60027),more:g("more",60028),ellipsis:g("ellipsis",60028),kebabHorizontal:g("kebab-horizontal",60028),mailReply:g("mail-reply",60029),reply:g("reply",60029),organization:g("organization",60030),organizationFilled:g("organization-filled",60030),organizationOutline:g("organization-outline",60030),newFile:g("new-file",60031),fileAdd:g("file-add",60031),newFolder:g("new-folder",60032),fileDirectoryCreate:g("file-directory-create",60032),trash:g("trash",60033),trashcan:g("trashcan",60033),history:g("history",60034),clock:g("clock",60034),folder:g("folder",60035),fileDirectory:g("file-directory",60035),symbolFolder:g("symbol-folder",60035),logoGithub:g("logo-github",60036),markGithub:g("mark-github",60036),github:g("github",60036),terminal:g("terminal",60037),console:g("console",60037),repl:g("repl",60037),zap:g("zap",60038),symbolEvent:g("symbol-event",60038),error:g("error",60039),stop:g("stop",60039),variable:g("variable",60040),symbolVariable:g("symbol-variable",60040),array:g("array",60042),symbolArray:g("symbol-array",60042),symbolModule:g("symbol-module",60043),symbolPackage:g("symbol-package",60043),symbolNamespace:g("symbol-namespace",60043),symbolObject:g("symbol-object",60043),symbolMethod:g("symbol-method",60044),symbolFunction:g("symbol-function",60044),symbolConstructor:g("symbol-constructor",60044),symbolBoolean:g("symbol-boolean",60047),symbolNull:g("symbol-null",60047),symbolNumeric:g("symbol-numeric",60048),symbolNumber:g("symbol-number",60048),symbolStructure:g("symbol-structure",60049),symbolStruct:g("symbol-struct",60049),symbolParameter:g("symbol-parameter",60050),symbolTypeParameter:g("symbol-type-parameter",60050),symbolKey:g("symbol-key",60051),symbolText:g("symbol-text",60051),symbolReference:g("symbol-reference",60052),goToFile:g("go-to-file",60052),symbolEnum:g("symbol-enum",60053),symbolValue:g("symbol-value",60053),symbolRuler:g("symbol-ruler",60054),symbolUnit:g("symbol-unit",60054),activateBreakpoints:g("activate-breakpoints",60055),archive:g("archive",60056),arrowBoth:g("arrow-both",60057),arrowDown:g("arrow-down",60058),arrowLeft:g("arrow-left",60059),arrowRight:g("arrow-right",60060),arrowSmallDown:g("arrow-small-down",60061),arrowSmallLeft:g("arrow-small-left",60062),arrowSmallRight:g("arrow-small-right",60063),arrowSmallUp:g("arrow-small-up",60064),arrowUp:g("arrow-up",60065),bell:g("bell",60066),bold:g("bold",60067),book:g("book",60068),bookmark:g("bookmark",60069),debugBreakpointConditionalUnverified:g("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:g("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:g("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:g("debug-breakpoint-data-unverified",60072),debugBreakpointData:g("debug-breakpoint-data",60073),debugBreakpointDataDisabled:g("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:g("debug-breakpoint-log-unverified",60074),debugBreakpointLog:g("debug-breakpoint-log",60075),debugBreakpointLogDisabled:g("debug-breakpoint-log-disabled",60075),briefcase:g("briefcase",60076),broadcast:g("broadcast",60077),browser:g("browser",60078),bug:g("bug",60079),calendar:g("calendar",60080),caseSensitive:g("case-sensitive",60081),check:g("check",60082),checklist:g("checklist",60083),chevronDown:g("chevron-down",60084),dropDownButton:g("drop-down-button",60084),chevronLeft:g("chevron-left",60085),chevronRight:g("chevron-right",60086),chevronUp:g("chevron-up",60087),chromeClose:g("chrome-close",60088),chromeMaximize:g("chrome-maximize",60089),chromeMinimize:g("chrome-minimize",60090),chromeRestore:g("chrome-restore",60091),circle:g("circle",60092),circleOutline:g("circle-outline",60092),debugBreakpointUnverified:g("debug-breakpoint-unverified",60092),circleSlash:g("circle-slash",60093),circuitBoard:g("circuit-board",60094),clearAll:g("clear-all",60095),clippy:g("clippy",60096),closeAll:g("close-all",60097),cloudDownload:g("cloud-download",60098),cloudUpload:g("cloud-upload",60099),code:g("code",60100),collapseAll:g("collapse-all",60101),colorMode:g("color-mode",60102),commentDiscussion:g("comment-discussion",60103),compareChanges:g("compare-changes",60157),creditCard:g("credit-card",60105),dash:g("dash",60108),dashboard:g("dashboard",60109),database:g("database",60110),debugContinue:g("debug-continue",60111),debugDisconnect:g("debug-disconnect",60112),debugPause:g("debug-pause",60113),debugRestart:g("debug-restart",60114),debugStart:g("debug-start",60115),debugStepInto:g("debug-step-into",60116),debugStepOut:g("debug-step-out",60117),debugStepOver:g("debug-step-over",60118),debugStop:g("debug-stop",60119),debug:g("debug",60120),deviceCameraVideo:g("device-camera-video",60121),deviceCamera:g("device-camera",60122),deviceMobile:g("device-mobile",60123),diffAdded:g("diff-added",60124),diffIgnored:g("diff-ignored",60125),diffModified:g("diff-modified",60126),diffRemoved:g("diff-removed",60127),diffRenamed:g("diff-renamed",60128),diff:g("diff",60129),discard:g("discard",60130),editorLayout:g("editor-layout",60131),emptyWindow:g("empty-window",60132),exclude:g("exclude",60133),extensions:g("extensions",60134),eyeClosed:g("eye-closed",60135),fileBinary:g("file-binary",60136),fileCode:g("file-code",60137),fileMedia:g("file-media",60138),filePdf:g("file-pdf",60139),fileSubmodule:g("file-submodule",60140),fileSymlinkDirectory:g("file-symlink-directory",60141),fileSymlinkFile:g("file-symlink-file",60142),fileZip:g("file-zip",60143),files:g("files",60144),filter:g("filter",60145),flame:g("flame",60146),foldDown:g("fold-down",60147),foldUp:g("fold-up",60148),fold:g("fold",60149),folderActive:g("folder-active",60150),folderOpened:g("folder-opened",60151),gear:g("gear",60152),gift:g("gift",60153),gistSecret:g("gist-secret",60154),gist:g("gist",60155),gitCommit:g("git-commit",60156),gitCompare:g("git-compare",60157),gitMerge:g("git-merge",60158),githubAction:g("github-action",60159),githubAlt:g("github-alt",60160),globe:g("globe",60161),grabber:g("grabber",60162),graph:g("graph",60163),gripper:g("gripper",60164),heart:g("heart",60165),home:g("home",60166),horizontalRule:g("horizontal-rule",60167),hubot:g("hubot",60168),inbox:g("inbox",60169),issueClosed:g("issue-closed",60324),issueReopened:g("issue-reopened",60171),issues:g("issues",60172),italic:g("italic",60173),jersey:g("jersey",60174),json:g("json",60175),bracket:g("bracket",60175),kebabVertical:g("kebab-vertical",60176),key:g("key",60177),law:g("law",60178),lightbulbAutofix:g("lightbulb-autofix",60179),linkExternal:g("link-external",60180),link:g("link",60181),listOrdered:g("list-ordered",60182),listUnordered:g("list-unordered",60183),liveShare:g("live-share",60184),loading:g("loading",60185),location:g("location",60186),mailRead:g("mail-read",60187),mail:g("mail",60188),markdown:g("markdown",60189),megaphone:g("megaphone",60190),mention:g("mention",60191),milestone:g("milestone",60192),mortarBoard:g("mortar-board",60193),move:g("move",60194),multipleWindows:g("multiple-windows",60195),mute:g("mute",60196),noNewline:g("no-newline",60197),note:g("note",60198),octoface:g("octoface",60199),openPreview:g("open-preview",60200),package_:g("package",60201),paintcan:g("paintcan",60202),pin:g("pin",60203),play:g("play",60204),run:g("run",60204),plug:g("plug",60205),preserveCase:g("preserve-case",60206),preview:g("preview",60207),project:g("project",60208),pulse:g("pulse",60209),question:g("question",60210),quote:g("quote",60211),radioTower:g("radio-tower",60212),reactions:g("reactions",60213),references:g("references",60214),refresh:g("refresh",60215),regex:g("regex",60216),remoteExplorer:g("remote-explorer",60217),remote:g("remote",60218),remove:g("remove",60219),replaceAll:g("replace-all",60220),replace:g("replace",60221),repoClone:g("repo-clone",60222),repoForcePush:g("repo-force-push",60223),repoPull:g("repo-pull",60224),repoPush:g("repo-push",60225),report:g("report",60226),requestChanges:g("request-changes",60227),rocket:g("rocket",60228),rootFolderOpened:g("root-folder-opened",60229),rootFolder:g("root-folder",60230),rss:g("rss",60231),ruby:g("ruby",60232),saveAll:g("save-all",60233),saveAs:g("save-as",60234),save:g("save",60235),screenFull:g("screen-full",60236),screenNormal:g("screen-normal",60237),searchStop:g("search-stop",60238),server:g("server",60240),settingsGear:g("settings-gear",60241),settings:g("settings",60242),shield:g("shield",60243),smiley:g("smiley",60244),sortPrecedence:g("sort-precedence",60245),splitHorizontal:g("split-horizontal",60246),splitVertical:g("split-vertical",60247),squirrel:g("squirrel",60248),starFull:g("star-full",60249),starHalf:g("star-half",60250),symbolClass:g("symbol-class",60251),symbolColor:g("symbol-color",60252),symbolCustomColor:g("symbol-customcolor",60252),symbolConstant:g("symbol-constant",60253),symbolEnumMember:g("symbol-enum-member",60254),symbolField:g("symbol-field",60255),symbolFile:g("symbol-file",60256),symbolInterface:g("symbol-interface",60257),symbolKeyword:g("symbol-keyword",60258),symbolMisc:g("symbol-misc",60259),symbolOperator:g("symbol-operator",60260),symbolProperty:g("symbol-property",60261),wrench:g("wrench",60261),wrenchSubaction:g("wrench-subaction",60261),symbolSnippet:g("symbol-snippet",60262),tasklist:g("tasklist",60263),telescope:g("telescope",60264),textSize:g("text-size",60265),threeBars:g("three-bars",60266),thumbsdown:g("thumbsdown",60267),thumbsup:g("thumbsup",60268),tools:g("tools",60269),triangleDown:g("triangle-down",60270),triangleLeft:g("triangle-left",60271),triangleRight:g("triangle-right",60272),triangleUp:g("triangle-up",60273),twitter:g("twitter",60274),unfold:g("unfold",60275),unlock:g("unlock",60276),unmute:g("unmute",60277),unverified:g("unverified",60278),verified:g("verified",60279),versions:g("versions",60280),vmActive:g("vm-active",60281),vmOutline:g("vm-outline",60282),vmRunning:g("vm-running",60283),watch:g("watch",60284),whitespace:g("whitespace",60285),wholeWord:g("whole-word",60286),window:g("window",60287),wordWrap:g("word-wrap",60288),zoomIn:g("zoom-in",60289),zoomOut:g("zoom-out",60290),listFilter:g("list-filter",60291),listFlat:g("list-flat",60292),listSelection:g("list-selection",60293),selection:g("selection",60293),listTree:g("list-tree",60294),debugBreakpointFunctionUnverified:g("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:g("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:g("debug-breakpoint-function-disabled",60296),debugStackframeActive:g("debug-stackframe-active",60297),circleSmallFilled:g("circle-small-filled",60298),debugStackframeDot:g("debug-stackframe-dot",60298),debugStackframe:g("debug-stackframe",60299),debugStackframeFocused:g("debug-stackframe-focused",60299),debugBreakpointUnsupported:g("debug-breakpoint-unsupported",60300),symbolString:g("symbol-string",60301),debugReverseContinue:g("debug-reverse-continue",60302),debugStepBack:g("debug-step-back",60303),debugRestartFrame:g("debug-restart-frame",60304),callIncoming:g("call-incoming",60306),callOutgoing:g("call-outgoing",60307),menu:g("menu",60308),expandAll:g("expand-all",60309),feedback:g("feedback",60310),groupByRefType:g("group-by-ref-type",60311),ungroupByRefType:g("ungroup-by-ref-type",60312),account:g("account",60313),bellDot:g("bell-dot",60314),debugConsole:g("debug-console",60315),library:g("library",60316),output:g("output",60317),runAll:g("run-all",60318),syncIgnored:g("sync-ignored",60319),pinned:g("pinned",60320),githubInverted:g("github-inverted",60321),debugAlt:g("debug-alt",60305),serverProcess:g("server-process",60322),serverEnvironment:g("server-environment",60323),pass:g("pass",60324),stopCircle:g("stop-circle",60325),playCircle:g("play-circle",60326),record:g("record",60327),debugAltSmall:g("debug-alt-small",60328),vmConnect:g("vm-connect",60329),cloud:g("cloud",60330),merge:g("merge",60331),exportIcon:g("export",60332),graphLeft:g("graph-left",60333),magnet:g("magnet",60334),notebook:g("notebook",60335),redo:g("redo",60336),checkAll:g("check-all",60337),pinnedDirty:g("pinned-dirty",60338),passFilled:g("pass-filled",60339),circleLargeFilled:g("circle-large-filled",60340),circleLarge:g("circle-large",60341),circleLargeOutline:g("circle-large-outline",60341),combine:g("combine",60342),gather:g("gather",60342),table:g("table",60343),variableGroup:g("variable-group",60344),typeHierarchy:g("type-hierarchy",60345),typeHierarchySub:g("type-hierarchy-sub",60346),typeHierarchySuper:g("type-hierarchy-super",60347),gitPullRequestCreate:g("git-pull-request-create",60348),runAbove:g("run-above",60349),runBelow:g("run-below",60350),notebookTemplate:g("notebook-template",60351),debugRerun:g("debug-rerun",60352),workspaceTrusted:g("workspace-trusted",60353),workspaceUntrusted:g("workspace-untrusted",60354),workspaceUnspecified:g("workspace-unspecified",60355),terminalCmd:g("terminal-cmd",60356),terminalDebian:g("terminal-debian",60357),terminalLinux:g("terminal-linux",60358),terminalPowershell:g("terminal-powershell",60359),terminalTmux:g("terminal-tmux",60360),terminalUbuntu:g("terminal-ubuntu",60361),terminalBash:g("terminal-bash",60362),arrowSwap:g("arrow-swap",60363),copy:g("copy",60364),personAdd:g("person-add",60365),filterFilled:g("filter-filled",60366),wand:g("wand",60367),debugLineByLine:g("debug-line-by-line",60368),inspect:g("inspect",60369),layers:g("layers",60370),layersDot:g("layers-dot",60371),layersActive:g("layers-active",60372),compass:g("compass",60373),compassDot:g("compass-dot",60374),compassActive:g("compass-active",60375),azure:g("azure",60376),issueDraft:g("issue-draft",60377),gitPullRequestClosed:g("git-pull-request-closed",60378),gitPullRequestDraft:g("git-pull-request-draft",60379),debugAll:g("debug-all",60380),debugCoverage:g("debug-coverage",60381),runErrors:g("run-errors",60382),folderLibrary:g("folder-library",60383),debugContinueSmall:g("debug-continue-small",60384),beakerStop:g("beaker-stop",60385),graphLine:g("graph-line",60386),graphScatter:g("graph-scatter",60387),pieChart:g("pie-chart",60388),bracketDot:g("bracket-dot",60389),bracketError:g("bracket-error",60390),lockSmall:g("lock-small",60391),azureDevops:g("azure-devops",60392),verifiedFilled:g("verified-filled",60393),newLine:g("newline",60394),layout:g("layout",60395),layoutActivitybarLeft:g("layout-activitybar-left",60396),layoutActivitybarRight:g("layout-activitybar-right",60397),layoutPanelLeft:g("layout-panel-left",60398),layoutPanelCenter:g("layout-panel-center",60399),layoutPanelJustify:g("layout-panel-justify",60400),layoutPanelRight:g("layout-panel-right",60401),layoutPanel:g("layout-panel",60402),layoutSidebarLeft:g("layout-sidebar-left",60403),layoutSidebarRight:g("layout-sidebar-right",60404),layoutStatusbar:g("layout-statusbar",60405),layoutMenubar:g("layout-menubar",60406),layoutCentered:g("layout-centered",60407),layoutSidebarRightOff:g("layout-sidebar-right-off",60416),layoutPanelOff:g("layout-panel-off",60417),layoutSidebarLeftOff:g("layout-sidebar-left-off",60418),target:g("target",60408),indent:g("indent",60409),recordSmall:g("record-small",60410),errorSmall:g("error-small",60411),arrowCircleDown:g("arrow-circle-down",60412),arrowCircleLeft:g("arrow-circle-left",60413),arrowCircleRight:g("arrow-circle-right",60414),arrowCircleUp:g("arrow-circle-up",60415),heartFilled:g("heart-filled",60420),map:g("map",60421),mapFilled:g("map-filled",60422),circleSmall:g("circle-small",60423),bellSlash:g("bell-slash",60424),bellSlashDot:g("bell-slash-dot",60425),commentUnresolved:g("comment-unresolved",60426),gitPullRequestGoToChanges:g("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:g("git-pull-request-new-changes",60428),searchFuzzy:g("search-fuzzy",60429),commentDraft:g("comment-draft",60430),dialogError:g("dialog-error","error"),dialogWarning:g("dialog-warning","warning"),dialogInfo:g("dialog-info","info"),dialogClose:g("dialog-close","close"),treeItemExpanded:g("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:g("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:g("tree-filter-on-type-off","list-selection"),treeFilterClear:g("tree-filter-clear","close"),treeItemLoading:g("tree-item-loading","loading"),menuSelection:g("menu-selection","check"),menuSubmenu:g("menu-submenu","chevron-right"),menuBarMore:g("menubar-more","more"),scrollbarButtonLeft:g("scrollbar-button-left","triangle-left"),scrollbarButtonRight:g("scrollbar-button-right","triangle-right"),scrollbarButtonUp:g("scrollbar-button-up","triangle-up"),scrollbarButtonDown:g("scrollbar-button-down","triangle-down"),toolBarMore:g("toolbar-more","more"),quickInputBack:g("quick-input-back","arrow-left")}},87799:function(vt,be,i){"use strict";i.d(be,{Il:function(){return S},VS:function(){return F},tx:function(){return A}});function c($,N){const x=Math.pow(10,N);return Math.round($*x)/x}class F{constructor(N,x,O,p=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,N))|0,this.g=Math.min(255,Math.max(0,x))|0,this.b=Math.min(255,Math.max(0,O))|0,this.a=c(Math.max(Math.min(1,p),0),3)}static equals(N,x){return N.r===x.r&&N.g===x.g&&N.b===x.b&&N.a===x.a}}class g{constructor(N,x,O,p){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,N),0)|0,this.s=c(Math.max(Math.min(1,x),0),3),this.l=c(Math.max(Math.min(1,O),0),3),this.a=c(Math.max(Math.min(1,p),0),3)}static equals(N,x){return N.h===x.h&&N.s===x.s&&N.l===x.l&&N.a===x.a}static fromRGBA(N){const x=N.r/255,O=N.g/255,p=N.b/255,a=N.a,d=Math.max(x,O,p),f=Math.min(x,O,p);let s=0,r=0;const m=(f+d)/2,C=d-f;if(C>0){switch(r=Math.min(m<=.5?C/(2*m):C/(2-2*m),1),d){case x:s=(O-p)/C+(O<p?6:0);break;case O:s=(p-x)/C+2;break;case p:s=(x-O)/C+4;break}s*=60,s=Math.round(s)}return new g(s,r,m,a)}static _hue2rgb(N,x,O){return O<0&&(O+=1),O>1&&(O-=1),O<1/6?N+(x-N)*6*O:O<1/2?x:O<2/3?N+(x-N)*(2/3-O)*6:N}static toRGBA(N){const x=N.h/360,{s:O,l:p,a}=N;let d,f,s;if(O===0)d=f=s=p;else{const r=p<.5?p*(1+O):p+O-p*O,m=2*p-r;d=g._hue2rgb(m,r,x+1/3),f=g._hue2rgb(m,r,x),s=g._hue2rgb(m,r,x-1/3)}return new F(Math.round(d*255),Math.round(f*255),Math.round(s*255),a)}}class A{constructor(N,x,O,p){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,N),0)|0,this.s=c(Math.max(Math.min(1,x),0),3),this.v=c(Math.max(Math.min(1,O),0),3),this.a=c(Math.max(Math.min(1,p),0),3)}static equals(N,x){return N.h===x.h&&N.s===x.s&&N.v===x.v&&N.a===x.a}static fromRGBA(N){const x=N.r/255,O=N.g/255,p=N.b/255,a=Math.max(x,O,p),d=Math.min(x,O,p),f=a-d,s=a===0?0:f/a;let r;return f===0?r=0:a===x?r=((O-p)/f%6+6)%6:a===O?r=(p-x)/f+2:r=(x-O)/f+4,new A(Math.round(r*60),s,a,N.a)}static toRGBA(N){const{h:x,s:O,v:p,a}=N,d=p*O,f=d*(1-Math.abs(x/60%2-1)),s=p-d;let[r,m,C]=[0,0,0];return x<60?(r=d,m=f):x<120?(r=f,m=d):x<180?(m=d,C=f):x<240?(m=f,C=d):x<300?(r=f,C=d):x<=360&&(r=d,C=f),r=Math.round((r+s)*255),m=Math.round((m+s)*255),C=Math.round((C+s)*255),new F(r,m,C,a)}}class S{static fromHex(N){return S.Format.CSS.parseHex(N)||S.red}static equals(N,x){return!N&&!x?!0:!N||!x?!1:N.equals(x)}get hsla(){return this._hsla?this._hsla:g.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:A.fromRGBA(this.rgba)}constructor(N){if(N)if(N instanceof F)this.rgba=N;else if(N instanceof g)this._hsla=N,this.rgba=g.toRGBA(N);else if(N instanceof A)this._hsva=N,this.rgba=A.toRGBA(N);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(N){return!!N&&F.equals(this.rgba,N.rgba)&&g.equals(this.hsla,N.hsla)&&A.equals(this.hsva,N.hsva)}getRelativeLuminance(){const N=S._relativeLuminanceForComponent(this.rgba.r),x=S._relativeLuminanceForComponent(this.rgba.g),O=S._relativeLuminanceForComponent(this.rgba.b),p=.2126*N+.7152*x+.0722*O;return c(p,4)}static _relativeLuminanceForComponent(N){const x=N/255;return x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(N){const x=this.getRelativeLuminance(),O=N.getRelativeLuminance();return x>O}isDarkerThan(N){const x=this.getRelativeLuminance(),O=N.getRelativeLuminance();return x<O}lighten(N){return new S(new g(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*N,this.hsla.a))}darken(N){return new S(new g(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*N,this.hsla.a))}transparent(N){const{r:x,g:O,b:p,a}=this.rgba;return new S(new F(x,O,p,a*N))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new F(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(N){if(this.isOpaque()||N.rgba.a!==1)return this;const{r:x,g:O,b:p,a}=this.rgba;return new S(new F(N.rgba.r-a*(N.rgba.r-x),N.rgba.g-a*(N.rgba.g-O),N.rgba.b-a*(N.rgba.b-p),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(N,x,O){if(N.isLighterThan(x))return N;O=O||.5;const p=N.getRelativeLuminance(),a=x.getRelativeLuminance();return O=O*(a-p)/a,N.lighten(O)}static getDarkerColor(N,x,O){if(N.isDarkerThan(x))return N;O=O||.5;const p=N.getRelativeLuminance(),a=x.getRelativeLuminance();return O=O*(p-a)/p,N.darken(O)}}S.white=new S(new F(255,255,255,1)),S.black=new S(new F(0,0,0,1)),S.red=new S(new F(255,0,0,1)),S.blue=new S(new F(0,0,255,1)),S.green=new S(new F(0,255,0,1)),S.cyan=new S(new F(0,255,255,1)),S.lightgrey=new S(new F(211,211,211,1)),S.transparent=new S(new F(0,0,0,0)),function($){let N;(function(x){let O;(function(p){function a(E){return E.rgba.a===1?`rgb(${E.rgba.r}, ${E.rgba.g}, ${E.rgba.b})`:$.Format.CSS.formatRGBA(E)}p.formatRGB=a;function d(E){return`rgba(${E.rgba.r}, ${E.rgba.g}, ${E.rgba.b}, ${+E.rgba.a.toFixed(2)})`}p.formatRGBA=d;function f(E){return E.hsla.a===1?`hsl(${E.hsla.h}, ${(E.hsla.s*100).toFixed(2)}%, ${(E.hsla.l*100).toFixed(2)}%)`:$.Format.CSS.formatHSLA(E)}p.formatHSL=f;function s(E){return`hsla(${E.hsla.h}, ${(E.hsla.s*100).toFixed(2)}%, ${(E.hsla.l*100).toFixed(2)}%, ${E.hsla.a.toFixed(2)})`}p.formatHSLA=s;function r(E){const D=E.toString(16);return D.length!==2?"0"+D:D}function m(E){return`#${r(E.rgba.r)}${r(E.rgba.g)}${r(E.rgba.b)}`}p.formatHex=m;function C(E,D=!1){return D&&E.rgba.a===1?$.Format.CSS.formatHex(E):`#${r(E.rgba.r)}${r(E.rgba.g)}${r(E.rgba.b)}${r(Math.round(E.rgba.a*255))}`}p.formatHexA=C;function u(E){return E.isOpaque()?$.Format.CSS.formatHex(E):$.Format.CSS.formatRGBA(E)}p.format=u;function _(E){const D=E.length;if(D===0||E.charCodeAt(0)!==35)return null;if(D===7){const w=16*b(E.charCodeAt(1))+b(E.charCodeAt(2)),I=16*b(E.charCodeAt(3))+b(E.charCodeAt(4)),M=16*b(E.charCodeAt(5))+b(E.charCodeAt(6));return new $(new F(w,I,M,1))}if(D===9){const w=16*b(E.charCodeAt(1))+b(E.charCodeAt(2)),I=16*b(E.charCodeAt(3))+b(E.charCodeAt(4)),M=16*b(E.charCodeAt(5))+b(E.charCodeAt(6)),K=16*b(E.charCodeAt(7))+b(E.charCodeAt(8));return new $(new F(w,I,M,K/255))}if(D===4){const w=b(E.charCodeAt(1)),I=b(E.charCodeAt(2)),M=b(E.charCodeAt(3));return new $(new F(16*w+w,16*I+I,16*M+M))}if(D===5){const w=b(E.charCodeAt(1)),I=b(E.charCodeAt(2)),M=b(E.charCodeAt(3)),K=b(E.charCodeAt(4));return new $(new F(16*w+w,16*I+I,16*M+M,(16*K+K)/255))}return null}p.parseHex=_;function b(E){switch(E){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(O=x.CSS||(x.CSS={}))})(N=$.Format||($.Format={}))}(S||(S={}))},39193:function(vt,be,i){"use strict";i.d(be,{Hl:function(){return $},Ix:function(){return S},Z0:function(){return N},ZO:function(){return A}});var c=i(16842),F=i(93059),g=function(x,O,p,a){function d(f){return f instanceof p?f:new p(function(s){s(f)})}return new(p||(p=Promise))(function(f,s){function r(u){try{C(a.next(u))}catch(_){s(_)}}function m(u){try{C(a.throw(u))}catch(_){s(_)}}function C(u){u.done?f(u.value):d(u.value).then(r,m)}C((a=a.apply(x,O||[])).next())})};function A(x){return{id:(0,F.R)(),asString:()=>g(this,void 0,void 0,function*(){return x}),asFile:()=>{},value:typeof x=="string"?x:void 0}}function S(x,O,p){return{id:(0,F.R)(),asString:()=>g(this,void 0,void 0,function*(){return""}),asFile:()=>({name:x,uri:O,data:p}),value:void 0}}class ${constructor(){this._entries=new Map}get size(){return this._entries.size}has(O){return this._entries.has(this.toKey(O))}get(O){var p;return(p=this._entries.get(this.toKey(O)))===null||p===void 0?void 0:p[0]}append(O,p){const a=this._entries.get(O);a?a.push(p):this._entries.set(this.toKey(O),[p])}replace(O,p){this._entries.set(this.toKey(O),[p])}delete(O){this._entries.delete(this.toKey(O))}*entries(){for(const[O,p]of this._entries.entries())for(const a of p)yield[O,a]}values(){return Array.from(this._entries.values()).flat()}forEach(O){for(const[p,a]of this.entries())O(a,p)}toKey(O){return O.toLowerCase()}}const N=Object.freeze({create:x=>(0,c.EB)(x.map(O=>O.toString())).join(`\r
`),split:x=>x.split(`\r
`),parse:x=>N.split(x).filter(O=>!O.startsWith("#"))})},69398:function(vt,be,i){"use strict";i.d(be,{H:function(){return c}});function c(F,g,A){let S=null,$=null;if(typeof A.value=="function"?(S="value",$=A.value,$.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof A.get=="function"&&(S="get",$=A.get),!$)throw new Error("not supported");const N=`$memoize$${g}`;A[S]=function(...x){return this.hasOwnProperty(N)||Object.defineProperty(this,N,{configurable:!1,enumerable:!1,writable:!1,value:$.apply(this,x)}),this[N]}}},87721:function(vt,be,i){"use strict";i.d(be,{Hs:function(){return x},a$:function(){return A}});class c{constructor(p,a,d,f){this.originalStart=p,this.originalLength=a,this.modifiedStart=d,this.modifiedLength=f}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var F=i(41397);class g{constructor(p){this.source=p}getElements(){const p=this.source,a=new Int32Array(p.length);for(let d=0,f=p.length;d<f;d++)a[d]=p.charCodeAt(d);return a}}function A(O,p,a){return new x(new g(O),new g(p)).ComputeDiff(a).changes}class S{static Assert(p,a){if(!p)throw new Error(a)}}class ${static Copy(p,a,d,f,s){for(let r=0;r<s;r++)d[f+r]=p[a+r]}static Copy2(p,a,d,f,s){for(let r=0;r<s;r++)d[f+r]=p[a+r]}}class N{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new c(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,a){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(p,a){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class x{constructor(p,a,d=null){this.ContinueProcessingPredicate=d,this._originalSequence=p,this._modifiedSequence=a;const[f,s,r]=x._getElements(p),[m,C,u]=x._getElements(a);this._hasStrings=r&&u,this._originalStringElements=f,this._originalElementsOrHash=s,this._modifiedStringElements=m,this._modifiedElementsOrHash=C,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&typeof p[0]=="string"}static _getElements(p){const a=p.getElements();if(x._isStringArray(a)){const d=new Int32Array(a.length);for(let f=0,s=a.length;f<s;f++)d[f]=(0,F.Cv)(a[f],0);return[a,d,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(p,a){return this._originalElementsOrHash[p]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[p]===this._modifiedStringElements[a]:!0}ElementsAreStrictEqual(p,a){if(!this.ElementsAreEqual(p,a))return!1;const d=x._getStrictElement(this._originalSequence,p),f=x._getStrictElement(this._modifiedSequence,a);return d===f}static _getStrictElement(p,a){return typeof p.getStrictElement=="function"?p.getStrictElement(a):null}OriginalElementsAreEqual(p,a){return this._originalElementsOrHash[p]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[p]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(p,a){return this._modifiedElementsOrHash[p]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[p]===this._modifiedStringElements[a]:!0}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,a,d,f,s){const r=[!1];let m=this.ComputeDiffRecursive(p,a,d,f,r);return s&&(m=this.PrettifyChanges(m)),{quitEarly:r[0],changes:m}}ComputeDiffRecursive(p,a,d,f,s){for(s[0]=!1;p<=a&&d<=f&&this.ElementsAreEqual(p,d);)p++,d++;for(;a>=p&&f>=d&&this.ElementsAreEqual(a,f);)a--,f--;if(p>a||d>f){let b;return d<=f?(S.Assert(p===a+1,"originalStart should only be one more than originalEnd"),b=[new c(p,0,d,f-d+1)]):p<=a?(S.Assert(d===f+1,"modifiedStart should only be one more than modifiedEnd"),b=[new c(p,a-p+1,d,0)]):(S.Assert(p===a+1,"originalStart should only be one more than originalEnd"),S.Assert(d===f+1,"modifiedStart should only be one more than modifiedEnd"),b=[]),b}const r=[0],m=[0],C=this.ComputeRecursionPoint(p,a,d,f,r,m,s),u=r[0],_=m[0];if(C!==null)return C;if(!s[0]){const b=this.ComputeDiffRecursive(p,u,d,_,s);let E=[];return s[0]?E=[new c(u+1,a-(u+1)+1,_+1,f-(_+1)+1)]:E=this.ComputeDiffRecursive(u+1,a,_+1,f,s),this.ConcatenateChanges(b,E)}return[new c(p,a-p+1,d,f-d+1)]}WALKTRACE(p,a,d,f,s,r,m,C,u,_,b,E,D,w,I,M,K,z){let Q=null,Y=null,H=new N,P=a,X=d,q=D[0]-M[0]-f,U=-1073741824,L=this.m_forwardHistory.length-1;do{const B=q+p;B===P||B<X&&u[B-1]<u[B+1]?(b=u[B+1],w=b-q-f,b<U&&H.MarkNextChange(),U=b,H.AddModifiedElement(b+1,w),q=B+1-p):(b=u[B-1]+1,w=b-q-f,b<U&&H.MarkNextChange(),U=b-1,H.AddOriginalElement(b,w+1),q=B-1-p),L>=0&&(u=this.m_forwardHistory[L],p=u[0],P=1,X=u.length-1)}while(--L>=-1);if(Q=H.getReverseChanges(),z[0]){let B=D[0]+1,j=M[0]+1;if(Q!==null&&Q.length>0){const G=Q[Q.length-1];B=Math.max(B,G.getOriginalEnd()),j=Math.max(j,G.getModifiedEnd())}Y=[new c(B,E-B+1,j,I-j+1)]}else{H=new N,P=r,X=m,q=D[0]-M[0]-C,U=1073741824,L=K?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const B=q+s;B===P||B<X&&_[B-1]>=_[B+1]?(b=_[B+1]-1,w=b-q-C,b>U&&H.MarkNextChange(),U=b+1,H.AddOriginalElement(b+1,w+1),q=B+1-s):(b=_[B-1],w=b-q-C,b>U&&H.MarkNextChange(),U=b,H.AddModifiedElement(b+1,w+1),q=B-1-s),L>=0&&(_=this.m_reverseHistory[L],s=_[0],P=1,X=_.length-1)}while(--L>=-1);Y=H.getChanges()}return this.ConcatenateChanges(Q,Y)}ComputeRecursionPoint(p,a,d,f,s,r,m){let C=0,u=0,_=0,b=0,E=0,D=0;p--,d--,s[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const w=a-p+(f-d),I=w+1,M=new Int32Array(I),K=new Int32Array(I),z=f-d,Q=a-p,Y=p-d,H=a-f,X=(Q-z)%2===0;M[z]=p,K[Q]=a,m[0]=!1;for(let q=1;q<=w/2+1;q++){let U=0,L=0;_=this.ClipDiagonalBound(z-q,q,z,I),b=this.ClipDiagonalBound(z+q,q,z,I);for(let j=_;j<=b;j+=2){j===_||j<b&&M[j-1]<M[j+1]?C=M[j+1]:C=M[j-1]+1,u=C-(j-z)-Y;const G=C;for(;C<a&&u<f&&this.ElementsAreEqual(C+1,u+1);)C++,u++;if(M[j]=C,C+u>U+L&&(U=C,L=u),!X&&Math.abs(j-Q)<=q-1&&C>=K[j])return s[0]=C,r[0]=u,G<=K[j]&&1447>0&&q<=1447+1?this.WALKTRACE(z,_,b,Y,Q,E,D,H,M,K,C,a,s,u,f,r,X,m):null}const B=(U-p+(L-d)-q)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(U,B))return m[0]=!0,s[0]=U,r[0]=L,B>0&&1447>0&&q<=1447+1?this.WALKTRACE(z,_,b,Y,Q,E,D,H,M,K,C,a,s,u,f,r,X,m):(p++,d++,[new c(p,a-p+1,d,f-d+1)]);E=this.ClipDiagonalBound(Q-q,q,Q,I),D=this.ClipDiagonalBound(Q+q,q,Q,I);for(let j=E;j<=D;j+=2){j===E||j<D&&K[j-1]>=K[j+1]?C=K[j+1]-1:C=K[j-1],u=C-(j-Q)-H;const G=C;for(;C>p&&u>d&&this.ElementsAreEqual(C,u);)C--,u--;if(K[j]=C,X&&Math.abs(j-z)<=q&&C<=M[j])return s[0]=C,r[0]=u,G>=M[j]&&1447>0&&q<=1447+1?this.WALKTRACE(z,_,b,Y,Q,E,D,H,M,K,C,a,s,u,f,r,X,m):null}if(q<=1447){let j=new Int32Array(b-_+2);j[0]=z-_+1,$.Copy2(M,_,j,1,b-_+1),this.m_forwardHistory.push(j),j=new Int32Array(D-E+2),j[0]=Q-E+1,$.Copy2(K,E,j,1,D-E+1),this.m_reverseHistory.push(j)}}return this.WALKTRACE(z,_,b,Y,Q,E,D,H,M,K,C,a,s,u,f,r,X,m)}PrettifyChanges(p){for(let a=0;a<p.length;a++){const d=p[a],f=a<p.length-1?p[a+1].originalStart:this._originalElementsOrHash.length,s=a<p.length-1?p[a+1].modifiedStart:this._modifiedElementsOrHash.length,r=d.originalLength>0,m=d.modifiedLength>0;for(;d.originalStart+d.originalLength<f&&d.modifiedStart+d.modifiedLength<s&&(!r||this.OriginalElementsAreEqual(d.originalStart,d.originalStart+d.originalLength))&&(!m||this.ModifiedElementsAreEqual(d.modifiedStart,d.modifiedStart+d.modifiedLength));){const u=this.ElementsAreStrictEqual(d.originalStart,d.modifiedStart);if(this.ElementsAreStrictEqual(d.originalStart+d.originalLength,d.modifiedStart+d.modifiedLength)&&!u)break;d.originalStart++,d.modifiedStart++}const C=[null];if(a<p.length-1&&this.ChangesOverlap(p[a],p[a+1],C)){p[a]=C[0],p.splice(a+1,1),a--;continue}}for(let a=p.length-1;a>=0;a--){const d=p[a];let f=0,s=0;if(a>0){const b=p[a-1];f=b.originalStart+b.originalLength,s=b.modifiedStart+b.modifiedLength}const r=d.originalLength>0,m=d.modifiedLength>0;let C=0,u=this._boundaryScore(d.originalStart,d.originalLength,d.modifiedStart,d.modifiedLength);for(let b=1;;b++){const E=d.originalStart-b,D=d.modifiedStart-b;if(E<f||D<s||r&&!this.OriginalElementsAreEqual(E,E+d.originalLength)||m&&!this.ModifiedElementsAreEqual(D,D+d.modifiedLength))break;const I=(E===f&&D===s?5:0)+this._boundaryScore(E,d.originalLength,D,d.modifiedLength);I>u&&(u=I,C=b)}d.originalStart-=C,d.modifiedStart-=C;const _=[null];if(a>0&&this.ChangesOverlap(p[a-1],p[a],_)){p[a-1]=_[0],p.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,d=p.length;a<d;a++){const f=p[a-1],s=p[a],r=s.originalStart-f.originalStart-f.originalLength,m=f.originalStart,C=s.originalStart+s.originalLength,u=C-m,_=f.modifiedStart,b=s.modifiedStart+s.modifiedLength,E=b-_;if(r<5&&u<20&&E<20){const D=this._findBetterContiguousSequence(m,u,_,E,r);if(D){const[w,I]=D;(w!==f.originalStart+f.originalLength||I!==f.modifiedStart+f.modifiedLength)&&(f.originalLength=w-f.originalStart,f.modifiedLength=I-f.modifiedStart,s.originalStart=w+r,s.modifiedStart=I+r,s.originalLength=C-s.originalStart,s.modifiedLength=b-s.modifiedStart)}}}return p}_findBetterContiguousSequence(p,a,d,f,s){if(a<s||f<s)return null;const r=p+a-s+1,m=d+f-s+1;let C=0,u=0,_=0;for(let b=p;b<r;b++)for(let E=d;E<m;E++){const D=this._contiguousSequenceScore(b,E,s);D>0&&D>C&&(C=D,u=b,_=E)}return C>0?[u,_]:null}_contiguousSequenceScore(p,a,d){let f=0;for(let s=0;s<d;s++){if(!this.ElementsAreEqual(p+s,a+s))return 0;f+=this._originalStringElements[p+s].length}return f}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,a){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(a>0){const d=p+a;if(this._OriginalIsBoundary(d-1)||this._OriginalIsBoundary(d))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,a){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(a>0){const d=p+a;if(this._ModifiedIsBoundary(d-1)||this._ModifiedIsBoundary(d))return!0}return!1}_boundaryScore(p,a,d,f){const s=this._OriginalRegionIsBoundary(p,a)?1:0,r=this._ModifiedRegionIsBoundary(d,f)?1:0;return s+r}ConcatenateChanges(p,a){const d=[];if(p.length===0||a.length===0)return a.length>0?a:p;if(this.ChangesOverlap(p[p.length-1],a[0],d)){const f=new Array(p.length+a.length-1);return $.Copy(p,0,f,0,p.length-1),f[p.length-1]=d[0],$.Copy(a,1,f,p.length,a.length-1),f}else{const f=new Array(p.length+a.length);return $.Copy(p,0,f,0,p.length),$.Copy(a,0,f,p.length,a.length),f}}ChangesOverlap(p,a,d){if(S.Assert(p.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),S.Assert(p.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=a.originalStart||p.modifiedStart+p.modifiedLength>=a.modifiedStart){const f=p.originalStart;let s=p.originalLength;const r=p.modifiedStart;let m=p.modifiedLength;return p.originalStart+p.originalLength>=a.originalStart&&(s=a.originalStart+a.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=a.modifiedStart&&(m=a.modifiedStart+a.modifiedLength-p.modifiedStart),d[0]=new c(f,s,r,m),!0}else return d[0]=null,!1}ClipDiagonalBound(p,a,d,f){if(p>=0&&p<f)return p;const s=d,r=f-d-1,m=a%2===0;if(p<0){const C=s%2===0;return m===C?0:1}else{const C=r%2===0;return m===C?f-1:f-2}}}},50505:function(vt,be,i){"use strict";i.d(be,{B8:function(){return d},Cp:function(){return A},F0:function(){return O},FU:function(){return x},L6:function(){return a},b1:function(){return p},dL:function(){return g},he:function(){return s},n2:function(){return N},ri:function(){return S}});class c{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(m){setTimeout(()=>{throw m.stack?f.isErrorNoTelemetry(m)?new f(m.message+`

`+m.stack):new Error(m.message+`

`+m.stack):m},0)}}emit(m){this.listeners.forEach(C=>{C(m)})}onUnexpectedError(m){this.unexpectedErrorHandler(m),this.emit(m)}onUnexpectedExternalError(m){this.unexpectedErrorHandler(m)}}const F=new c;function g(r){N(r)||F.onUnexpectedError(r)}function A(r){N(r)||F.onUnexpectedExternalError(r)}function S(r){if(r instanceof Error){const{name:m,message:C}=r,u=r.stacktrace||r.stack;return{$isError:!0,name:m,message:C,stack:u,noTelemetry:f.isErrorNoTelemetry(r)}}return r}const $="Canceled";function N(r){return r instanceof x?!0:r instanceof Error&&r.name===$&&r.message===$}class x extends Error{constructor(){super($),this.name=this.message}}function O(){const r=new Error($);return r.name=r.message,r}function p(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}function a(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}class d extends Error{constructor(m){super("NotSupported"),m&&(this.message=m)}}class f extends Error{constructor(m){super(m),this.name="CodeExpectedError"}static fromError(m){if(m instanceof f)return m;const C=new f;return C.message=m.message,C.stack=m.stack,C}static isErrorNoTelemetry(m){return m.name==="CodeExpectedError"}}class s extends Error{constructor(m){super(m||"An unexpected bug occurred."),Object.setPrototypeOf(this,s.prototype);debugger}}},94162:function(vt,be,i){"use strict";i.d(be,{D0:function(){return _},E7:function(){return D},F3:function(){return r},K3:function(){return u},Q5:function(){return s},SZ:function(){return b},ZD:function(){return w},ju:function(){return x},z5:function(){return E}});var c=i(50505),F=i(52473),g=i(52357),A=i(23345),S=i(39589);const $=!1,N=!1;var x;(function(I){I.None=()=>g.JT.None;function M($e){if(N){const{onDidAddListener:je}=$e,Ce=d.create();let J=0;$e.onDidAddListener=()=>{++J===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Ce.print()),je==null||je()}}}function K($e,je){return L($e,()=>{},0,void 0,!0,void 0,je)}I.defer=K;function z($e){return(je,Ce=null,J)=>{let ne=!1,ae;return ae=$e(xe=>{if(!ne)return ae?ae.dispose():ne=!0,je.call(Ce,xe)},null,J),ne&&ae.dispose(),ae}}I.once=z;function Q($e,je,Ce){return U((J,ne=null,ae)=>$e(xe=>J.call(ne,je(xe)),null,ae),Ce)}I.map=Q;function Y($e,je,Ce){return U((J,ne=null,ae)=>$e(xe=>{je(xe),J.call(ne,xe)},null,ae),Ce)}I.forEach=Y;function H($e,je,Ce){return U((J,ne=null,ae)=>$e(xe=>je(xe)&&J.call(ne,xe),null,ae),Ce)}I.filter=H;function P($e){return $e}I.signal=P;function X(...$e){return(je,Ce=null,J)=>(0,g.F8)(...$e.map(ne=>ne(ae=>je.call(Ce,ae),null,J)))}I.any=X;function q($e,je,Ce,J){let ne=Ce;return Q($e,ae=>(ne=je(ne,ae),ne),J)}I.reduce=q;function U($e,je){let Ce;const J={onWillAddFirstListener(){Ce=$e(ne.fire,ne)},onDidRemoveLastListener(){Ce==null||Ce.dispose()}};je||M(J);const ne=new s(J);return je==null||je.add(ne),ne.event}function L($e,je,Ce=100,J=!1,ne=!1,ae,xe){let Ke,ct,ot,dt=0,et;const Fe={leakWarningThreshold:ae,onWillAddFirstListener(){Ke=$e(Te=>{dt++,ct=je(ct,Te),J&&!ot&&(Le.fire(ct),ct=void 0),et=()=>{const ge=ct;ct=void 0,ot=void 0,(!J||dt>1)&&Le.fire(ge),dt=0},typeof Ce=="number"?(clearTimeout(ot),ot=setTimeout(et,Ce)):ot===void 0&&(ot=0,queueMicrotask(et))})},onWillRemoveListener(){ne&&dt>0&&(et==null||et())},onDidRemoveLastListener(){et=void 0,Ke.dispose()}};xe||M(Fe);const Le=new s(Fe);return xe==null||xe.add(Le),Le.event}I.debounce=L;function B($e,je=0,Ce){return I.debounce($e,(J,ne)=>J?(J.push(ne),J):[ne],je,void 0,!0,void 0,Ce)}I.accumulate=B;function j($e,je=(J,ne)=>J===ne,Ce){let J=!0,ne;return H($e,ae=>{const xe=J||!je(ae,ne);return J=!1,ne=ae,xe},Ce)}I.latch=j;function G($e,je,Ce){return[I.filter($e,je,Ce),I.filter($e,J=>!je(J),Ce)]}I.split=G;function y($e,je=!1,Ce=[]){let J=Ce.slice(),ne=$e(Ke=>{J?J.push(Ke):xe.fire(Ke)});const ae=()=>{J==null||J.forEach(Ke=>xe.fire(Ke)),J=null},xe=new s({onWillAddFirstListener(){ne||(ne=$e(Ke=>xe.fire(Ke)))},onDidAddFirstListener(){J&&(je?setTimeout(ae):ae())},onDidRemoveLastListener(){ne&&ne.dispose(),ne=null}});return xe.event}I.buffer=y;class pe{constructor(je){this.event=je,this.disposables=new g.SL}map(je){return new pe(Q(this.event,je,this.disposables))}forEach(je){return new pe(Y(this.event,je,this.disposables))}filter(je){return new pe(H(this.event,je,this.disposables))}reduce(je,Ce){return new pe(q(this.event,je,Ce,this.disposables))}latch(){return new pe(j(this.event,void 0,this.disposables))}debounce(je,Ce=100,J=!1,ne=!1,ae){return new pe(L(this.event,je,Ce,J,ne,ae,this.disposables))}on(je,Ce,J){return this.event(je,Ce,J)}once(je,Ce,J){return z(this.event)(je,Ce,J)}dispose(){this.disposables.dispose()}}function ye($e){return new pe($e)}I.chain=ye;function me($e,je,Ce=J=>J){const J=(...Ke)=>xe.fire(Ce(...Ke)),ne=()=>$e.on(je,J),ae=()=>$e.removeListener(je,J),xe=new s({onWillAddFirstListener:ne,onDidRemoveLastListener:ae});return xe.event}I.fromNodeEventEmitter=me;function Se($e,je,Ce=J=>J){const J=(...Ke)=>xe.fire(Ce(...Ke)),ne=()=>$e.addEventListener(je,J),ae=()=>$e.removeEventListener(je,J),xe=new s({onWillAddFirstListener:ne,onDidRemoveLastListener:ae});return xe.event}I.fromDOMEventEmitter=Se;function _e($e){return new Promise(je=>z($e)(je))}I.toPromise=_e;function he($e,je){return je(void 0),$e(Ce=>je(Ce))}I.runAndSubscribe=he;function le($e,je){let Ce=null;function J(ae){Ce==null||Ce.dispose(),Ce=new g.SL,je(ae,Ce)}J(void 0);const ne=$e(ae=>J(ae));return(0,g.OF)(()=>{ne.dispose(),Ce==null||Ce.dispose()})}I.runAndSubscribeWithStore=le;class se{constructor(je,Ce){this.obs=je,this._counter=0,this._hasChanged=!1;const J={onWillAddFirstListener:()=>{je.addObserver(this)},onDidRemoveLastListener:()=>{je.removeObserver(this)}};Ce||M(J),this.emitter=new s(J),Ce&&Ce.add(this.emitter)}beginUpdate(je){this._counter++}handleChange(je,Ce){this._hasChanged=!0}endUpdate(je){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function Re($e,je){return new se($e,je).emitter.event}I.fromObservable=Re})(x||(x={}));class O{constructor(M){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${M}_${O._idPool++}`,O.all.add(this)}start(M){this._stopWatch=new S.G(!0),this.listenerCount=M}stop(){if(this._stopWatch){const M=this._stopWatch.elapsed();this.durations.push(M),this.elapsedOverall+=M,this.invocationCount+=1,this._stopWatch=void 0}}}O.all=new Set,O._idPool=0;let p=-1;class a{constructor(M,K=Math.random().toString(18).slice(2,5)){this.threshold=M,this.name=K,this._warnCountdown=0}dispose(){var M;(M=this._stacks)===null||M===void 0||M.clear()}check(M,K){const z=this.threshold;if(z<=0||K<z)return;this._stacks||(this._stacks=new Map);const Q=this._stacks.get(M.value)||0;if(this._stacks.set(M.value,Q+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=z*.5;let Y,H=0;for(const[P,X]of this._stacks)(!Y||H<X)&&(Y=P,H=X);console.warn(`[${this.name}] potential listener LEAK detected, having ${K} listeners already. MOST frequent listener (${H}):`),console.warn(Y)}return()=>{const Y=this._stacks.get(M.value)||0;this._stacks.set(M.value,Y-1)}}}class d{static create(){var M;return new d((M=new Error().stack)!==null&&M!==void 0?M:"")}constructor(M){this.value=M}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class f{constructor(M,K,z){this.callback=M,this.callbackThis=K,this.stack=z,this.subscription=new g.dt}invoke(M){this.callback.call(this.callbackThis,M)}}class s{constructor(M){var K,z,Q,Y,H;this._disposed=!1,this._options=M,this._leakageMon=p>0||!((K=this._options)===null||K===void 0)&&K.leakWarningThreshold?new a((Q=(z=this._options)===null||z===void 0?void 0:z.leakWarningThreshold)!==null&&Q!==void 0?Q:p):void 0,this._perfMon=!((Y=this._options)===null||Y===void 0)&&Y._profName?new O(this._options._profName):void 0,this._deliveryQueue=(H=this._options)===null||H===void 0?void 0:H.deliveryQueue}dispose(){var M,K,z,Q;if(!this._disposed){if(this._disposed=!0,this._listeners){if($){const Y=Array.from(this._listeners);queueMicrotask(()=>{var H;for(const P of Y)P.subscription.isset()&&(P.subscription.unset(),(H=P.stack)===null||H===void 0||H.print())})}this._listeners.clear()}(M=this._deliveryQueue)===null||M===void 0||M.clear(this),(z=(K=this._options)===null||K===void 0?void 0:K.onDidRemoveLastListener)===null||z===void 0||z.call(K),(Q=this._leakageMon)===null||Q===void 0||Q.dispose()}}get event(){return this._event||(this._event=(M,K,z)=>{var Q,Y,H;if(this._listeners||(this._listeners=new A.S),this._leakageMon&&this._listeners.size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),g.JT.None;const P=this._listeners.isEmpty();P&&(!((Q=this._options)===null||Q===void 0)&&Q.onWillAddFirstListener)&&this._options.onWillAddFirstListener(this);let X,q;this._leakageMon&&this._listeners.size>=Math.ceil(this._leakageMon.threshold*.2)&&(q=d.create(),X=this._leakageMon.check(q,this._listeners.size+1)),$&&(q=q!=null?q:d.create());const U=new f(M,K,q),L=this._listeners.push(U);P&&(!((Y=this._options)===null||Y===void 0)&&Y.onDidAddFirstListener)&&this._options.onDidAddFirstListener(this),!((H=this._options)===null||H===void 0)&&H.onDidAddListener&&this._options.onDidAddListener(this,M,K);const B=U.subscription.set(()=>{var j,G;X==null||X(),this._disposed||((G=(j=this._options)===null||j===void 0?void 0:j.onWillRemoveListener)===null||G===void 0||G.call(j,this),L(),this._options&&this._options.onDidRemoveLastListener&&(this._listeners&&!this._listeners.isEmpty()||this._options.onDidRemoveLastListener(this)))});return z instanceof g.SL?z.add(B):Array.isArray(z)&&z.push(B),B}),this._event}fire(M){var K,z;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new m);for(const Q of this._listeners)this._deliveryQueue.push(this,Q,M);(K=this._perfMon)===null||K===void 0||K.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(z=this._perfMon)===null||z===void 0||z.stop()}}hasListeners(){return this._listeners?!this._listeners.isEmpty():!1}}class r{constructor(){this._queue=new A.S}get size(){return this._queue.size}push(M,K,z){this._queue.push(new C(M,K,z))}clear(M){const K=new A.S;for(const z of this._queue)z.emitter!==M&&K.push(z);this._queue=K}deliver(){for(;this._queue.size>0;){const M=this._queue.shift();try{M.listener.invoke(M.event)}catch(K){(0,c.dL)(K)}}}}class m extends r{clear(M){this._queue.clear()}}class C{constructor(M,K,z){this.emitter=M,this.listener=K,this.event=z}}class u extends s{constructor(M){super(M),this._isPaused=0,this._eventQueue=new A.S,this._mergeFn=M==null?void 0:M.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const M=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(M))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(M){this._listeners&&(this._isPaused!==0?this._eventQueue.push(M):super.fire(M))}}class _ extends u{constructor(M){var K;super(M),this._delay=(K=M.delay)!==null&&K!==void 0?K:100}fire(M){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(M)}}class b extends s{constructor(M){super(M),this._queuedEvents=[],this._mergeFn=M==null?void 0:M.merge}fire(M){this.hasListeners()&&(this._queuedEvents.push(M),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(K=>super.fire(K)),this._queuedEvents=[]}))}}class E{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new s({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(M){const K={event:M,listener:null};this.events.push(K),this.hasListeners&&this.hook(K);const z=()=>{this.hasListeners&&this.unhook(K);const Q=this.events.indexOf(K);this.events.splice(Q,1)};return(0,g.OF)((0,F.I)(z))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(M=>this.hook(M))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(M=>this.unhook(M))}hook(M){M.listener=M.event(K=>this.emitter.fire(K))}unhook(M){M.listener&&M.listener.dispose(),M.listener=null}dispose(){this.emitter.dispose()}}class D{constructor(){this.buffers=[]}wrapEvent(M){return(K,z,Q)=>M(Y=>{const H=this.buffers[this.buffers.length-1];H?H.push(()=>K.call(z,Y)):K.call(z,Y)},void 0,Q)}bufferEvents(M){const K=[];this.buffers.push(K);const z=M();return this.buffers.pop(),K.forEach(Q=>Q()),z}}class w{constructor(){this.listening=!1,this.inputEvent=x.None,this.inputEventListener=g.JT.None,this.emitter=new s({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(M){this.inputEvent=M,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=M(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},5927:function(vt,be,i){"use strict";i.d(be,{KM:function(){return x},ej:function(){return S},fn:function(){return $},oP:function(){return p},yj:function(){return N}});var c=i(33392),F=i(41420),g=i(30613);function A(a){return a===47||a===92}function S(a){return a.replace(/[\\/]/g,c.KR.sep)}function $(a){return a.indexOf("/")===-1&&(a=S(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}function N(a,d=c.KR.sep){if(!a)return"";const f=a.length,s=a.charCodeAt(0);if(A(s)){if(A(a.charCodeAt(1))&&!A(a.charCodeAt(2))){let m=3;const C=m;for(;m<f&&!A(a.charCodeAt(m));m++);if(C!==m&&!A(a.charCodeAt(m+1))){for(m+=1;m<f;m++)if(A(a.charCodeAt(m)))return a.slice(0,m+1).replace(/[\\/]/g,d)}}return d}else if(O(s)&&a.charCodeAt(1)===58)return A(a.charCodeAt(2))?a.slice(0,2)+d:a.slice(0,2);let r=a.indexOf("://");if(r!==-1){for(r+=3;r<f;r++)if(A(a.charCodeAt(r)))return a.slice(0,r+1)}return""}function x(a,d,f,s=c.ir){if(a===d)return!0;if(!a||!d||d.length>a.length)return!1;if(f){if(!(0,g.ok)(a,d))return!1;if(d.length===a.length)return!0;let m=d.length;return d.charAt(d.length-1)===s&&m--,a.charAt(m)===s}return d.charAt(d.length-1)!==s&&(d+=s),a.indexOf(d)===0}function O(a){return a>=65&&a<=90||a>=97&&a<=122}function p(a,d=F.ED){return d?O(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}},61842:function(vt,be,i){"use strict";i.d(be,{CL:function(){return je},EW:function(){return J},Ji:function(){return S},KZ:function(){return K},Oh:function(){return X},Sy:function(){return x},ir:function(){return N},jB:function(){return q},l7:function(){return xe},mB:function(){return U},mX:function(){return Ce},or:function(){return g}});var c=i(15463),F=i(30613);function g(...ot){return function(dt,et){for(let Fe=0,Le=ot.length;Fe<Le;Fe++){const Te=ot[Fe](dt,et);if(Te)return Te}return null}}const A=$.bind(void 0,!1),S=$.bind(void 0,!0);function $(ot,dt,et){if(!et||et.length<dt.length)return null;let Fe;return ot?Fe=F.ok(et,dt):Fe=et.indexOf(dt)===0,Fe?dt.length>0?[{start:0,end:dt.length}]:[]:null}function N(ot,dt){const et=dt.toLowerCase().indexOf(ot.toLowerCase());return et===-1?null:[{start:et,end:et+ot.length}]}function x(ot,dt){return O(ot.toLowerCase(),dt.toLowerCase(),0,0)}function O(ot,dt,et,Fe){if(et===ot.length)return[];if(Fe===dt.length)return null;if(ot[et]===dt[Fe]){let Le=null;return(Le=O(ot,dt,et+1,Fe+1))?u({start:Fe,end:Fe+1},Le):null}return O(ot,dt,et,Fe+1)}function p(ot){return 97<=ot&&ot<=122}function a(ot){return 65<=ot&&ot<=90}function d(ot){return 48<=ot&&ot<=57}function f(ot){return ot===32||ot===9||ot===10||ot===13}const s=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(ot=>s.add(ot.charCodeAt(0)));function r(ot){return f(ot)||s.has(ot)}function m(ot,dt){return ot===dt||r(ot)&&r(dt)}function C(ot){return p(ot)||a(ot)||d(ot)}function u(ot,dt){return dt.length===0?dt=[ot]:ot.end===dt[0].start?dt[0].start=ot.start:dt.unshift(ot),dt}function _(ot,dt){for(let et=dt;et<ot.length;et++){const Fe=ot.charCodeAt(et);if(a(Fe)||d(Fe)||et>0&&!C(ot.charCodeAt(et-1)))return et}return ot.length}function b(ot,dt,et,Fe){if(et===ot.length)return[];if(Fe===dt.length)return null;if(ot[et]!==dt[Fe].toLowerCase())return null;{let Le=null,Te=Fe+1;for(Le=b(ot,dt,et+1,Fe+1);!Le&&(Te=_(dt,Te))<dt.length;)Le=b(ot,dt,et+1,Te),Te++;return Le===null?null:u({start:Fe,end:Fe+1},Le)}}function E(ot){let dt=0,et=0,Fe=0,Le=0,Te=0;for(let He=0;He<ot.length;He++)Te=ot.charCodeAt(He),a(Te)&&dt++,p(Te)&&et++,C(Te)&&Fe++,d(Te)&&Le++;const ge=dt/ot.length,ve=et/ot.length,we=Fe/ot.length,Oe=Le/ot.length;return{upperPercent:ge,lowerPercent:ve,alphaPercent:we,numericPercent:Oe}}function D(ot){const{upperPercent:dt,lowerPercent:et}=ot;return et===0&&dt>.6}function w(ot){const{upperPercent:dt,lowerPercent:et,alphaPercent:Fe,numericPercent:Le}=ot;return et>.2&&dt<.8&&Fe>.6&&Le<.2}function I(ot){let dt=0,et=0,Fe=0,Le=0;for(let Te=0;Te<ot.length;Te++)Fe=ot.charCodeAt(Te),a(Fe)&&dt++,p(Fe)&&et++,f(Fe)&&Le++;return(dt===0||et===0)&&Le===0?ot.length<=30:dt<=5}function M(ot,dt){if(!dt||(dt=dt.trim(),dt.length===0)||!I(ot)||dt.length>60)return null;const et=E(dt);if(!w(et)){if(!D(et))return null;dt=dt.toLowerCase()}let Fe=null,Le=0;for(ot=ot.toLowerCase();Le<dt.length&&(Fe=b(ot,dt,0,Le))===null;)Le=_(dt,Le+1);return Fe}function K(ot,dt,et=!1){if(!dt||dt.length===0)return null;let Fe=null,Le=0;for(ot=ot.toLowerCase(),dt=dt.toLowerCase();Le<dt.length&&(Fe=z(ot,dt,0,Le,et))===null;)Le=Q(dt,Le+1);return Fe}function z(ot,dt,et,Fe,Le){if(et===ot.length)return[];if(Fe===dt.length)return null;if(m(ot.charCodeAt(et),dt.charCodeAt(Fe))){let Te=null,ge=Fe+1;if(Te=z(ot,dt,et+1,Fe+1,Le),!Le)for(;!Te&&(ge=Q(dt,ge))<dt.length;)Te=z(ot,dt,et+1,ge,Le),ge++;return Te?ot.charCodeAt(et)!==dt.charCodeAt(Fe)?Te:u({start:Fe,end:Fe+1},Te):null}else return null}function Q(ot,dt){for(let et=dt;et<ot.length;et++)if(r(ot.charCodeAt(et))||et>0&&r(ot.charCodeAt(et-1)))return et;return ot.length}const Y=g(S,M,N),H=g(S,M,x),P=new c.z6(1e4);function X(ot,dt,et=!1){if(typeof ot!="string"||typeof dt!="string")return null;let Fe=P.get(ot);Fe||(Fe=new RegExp(F.un(ot),"i"),P.set(ot,Fe));const Le=Fe.exec(dt);return Le?[{start:Le.index,end:Le.index+Le[0].length}]:et?H(ot,dt):Y(ot,dt)}function q(ot,dt,et,Fe,Le,Te){const ge=Math.min(13,ot.length);for(;et<ge;et++){const ve=J(ot,dt,et,Fe,Le,Te,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ve)return ve}return[0,Te]}function U(ot){if(typeof ot=="undefined")return[];const dt=[],et=ot[1];for(let Fe=ot.length-1;Fe>1;Fe--){const Le=ot[Fe]+et,Te=dt[dt.length-1];Te&&Te.end===Le?Te.end=Le+1:dt.push({start:Le,end:Le+1})}return dt}const L=128;function B(){const ot=[],dt=[];for(let et=0;et<=L;et++)dt[et]=0;for(let et=0;et<=L;et++)ot.push(dt.slice(0));return ot}function j(ot){const dt=[];for(let et=0;et<=ot;et++)dt[et]=0;return dt}const G=j(2*L),y=j(2*L),pe=B(),ye=B(),me=B(),Se=!1;function _e(ot,dt,et,Fe,Le){function Te(ve,we,Oe=" "){for(;ve.length<we;)ve=Oe+ve;return ve}let ge=` |   |${Fe.split("").map(ve=>Te(ve,3)).join("|")}
`;for(let ve=0;ve<=et;ve++)ve===0?ge+=" |":ge+=`${dt[ve-1]}|`,ge+=ot[ve].slice(0,Le+1).map(we=>Te(we.toString(),3)).join("|")+`
`;return ge}function he(ot,dt,et,Fe){ot=ot.substr(dt),et=et.substr(Fe),console.log(_e(ye,ot,ot.length,et,et.length)),console.log(_e(me,ot,ot.length,et,et.length)),console.log(_e(pe,ot,ot.length,et,et.length))}function le(ot,dt){if(dt<0||dt>=ot.length)return!1;const et=ot.codePointAt(dt);switch(et){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!F.C8(et)}}function se(ot,dt){if(dt<0||dt>=ot.length)return!1;switch(ot.charCodeAt(dt)){case 32:case 9:return!0;default:return!1}}function Re(ot,dt,et){return dt[ot]!==et[ot]}function $e(ot,dt,et,Fe,Le,Te,ge=!1){for(;dt<et&&Le<Te;)ot[dt]===Fe[Le]&&(ge&&(G[dt]=Le),dt+=1),Le+=1;return dt===et}var je;(function(ot){ot.Default=[-100,0];function dt(et){return!et||et.length===2&&et[0]===-100&&et[1]===0}ot.isDefault=dt})(je||(je={}));class Ce{constructor(dt,et){this.firstMatchCanBeWeak=dt,this.boostFullMatch=et}}Ce.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function J(ot,dt,et,Fe,Le,Te,ge=Ce.default){const ve=ot.length>L?L:ot.length,we=Fe.length>L?L:Fe.length;if(et>=ve||Te>=we||ve-et>we-Te||!$e(dt,et,ve,Le,Te,we,!0))return;ne(ve,we,et,Te,dt,Le);let Oe=1,He=1,mt=et,bt=Te;const kt=[!1];for(Oe=1,mt=et;mt<ve;Oe++,mt++){const Ft=G[mt],Et=y[mt],Ze=mt+1<ve?y[mt+1]:we;for(He=Ft-Te+1,bt=Ft;bt<Ze;He++,bt++){let St=Number.MIN_SAFE_INTEGER,jt=!1;bt<=Et&&(St=ae(ot,dt,mt,et,Fe,Le,bt,we,Te,pe[Oe-1][He-1]===0,kt));let Ct=0;St!==Number.MAX_SAFE_INTEGER&&(jt=!0,Ct=St+ye[Oe-1][He-1]);const _t=bt>Ft,Kt=_t?ye[Oe][He-1]+(pe[Oe][He-1]>0?-5:0):0,Zt=bt>Ft+1&&pe[Oe][He-1]>0,li=Zt?ye[Oe][He-2]+(pe[Oe][He-2]>0?-5:0):0;if(Zt&&(!_t||li>=Kt)&&(!jt||li>=Ct))ye[Oe][He]=li,me[Oe][He]=3,pe[Oe][He]=0;else if(_t&&(!jt||Kt>=Ct))ye[Oe][He]=Kt,me[Oe][He]=2,pe[Oe][He]=0;else if(jt)ye[Oe][He]=Ct,me[Oe][He]=1,pe[Oe][He]=pe[Oe-1][He-1]+1;else throw new Error("not possible")}}if(Se&&he(ot,et,Fe,Te),!kt[0]&&!ge.firstMatchCanBeWeak)return;Oe--,He--;const Ut=[ye[Oe][He],Te];let ut=0,Dt=0;for(;Oe>=1;){let Ft=He;do{const Et=me[Oe][Ft];if(Et===3)Ft=Ft-2;else if(Et===2)Ft=Ft-1;else break}while(Ft>=1);ut>1&&dt[et+Oe-1]===Le[Te+He-1]&&!Re(Ft+Te-1,Fe,Le)&&ut+1>pe[Oe][Ft]&&(Ft=He),Ft===He?ut++:ut=1,Dt||(Dt=Ft),Oe--,He=Ft-1,Ut.push(He)}we===ve&&ge.boostFullMatch&&(Ut[0]+=2);const ft=Dt-ve;return Ut[0]-=ft,Ut}function ne(ot,dt,et,Fe,Le,Te){let ge=ot-1,ve=dt-1;for(;ge>=et&&ve>=Fe;)Le[ge]===Te[ve]&&(y[ge]=ve,ge--),ve--}function ae(ot,dt,et,Fe,Le,Te,ge,ve,we,Oe,He){if(dt[et]!==Te[ge])return Number.MIN_SAFE_INTEGER;let mt=1,bt=!1;return ge===et-Fe?mt=ot[et]===Le[ge]?7:5:Re(ge,Le,Te)&&(ge===0||!Re(ge-1,Le,Te))?(mt=ot[et]===Le[ge]?7:5,bt=!0):le(Te,ge)&&(ge===0||!le(Te,ge-1))?mt=5:(le(Te,ge-1)||se(Te,ge-1))&&(mt=5,bt=!0),mt>1&&et===Fe&&(He[0]=!0),bt||(bt=Re(ge,Le,Te)||le(Te,ge-1)||se(Te,ge-1)),et===Fe?ge>we&&(mt-=bt?3:5):Oe?mt+=bt?2:0:mt+=bt?0:1,ge+1===ve&&(mt-=bt?3:5),mt}function xe(ot,dt,et,Fe,Le,Te,ge){return Ke(ot,dt,et,Fe,Le,Te,!0,ge)}function Ke(ot,dt,et,Fe,Le,Te,ge,ve){let we=J(ot,dt,et,Fe,Le,Te,ve);if(we&&!ge)return we;if(ot.length>=3){const Oe=Math.min(7,ot.length-1);for(let He=et+1;He<Oe;He++){const mt=ct(ot,He);if(mt){const bt=J(mt,mt.toLowerCase(),et,Fe,Le,Te,ve);bt&&(bt[0]-=3,(!we||bt[0]>we[0])&&(we=bt))}}}return we}function ct(ot,dt){if(dt+1>=ot.length)return;const et=ot[dt],Fe=ot[dt+1];if(et!==Fe)return ot.slice(0,dt)+Fe+et+ot.slice(dt+2)}},52473:function(vt,be,i){"use strict";i.d(be,{I:function(){return c}});function c(F){const g=this;let A=!1,S;return function(){return A||(A=!0,S=F.apply(g,arguments)),S}}},41397:function(vt,be,i){"use strict";i.d(be,{Cv:function(){return $},SP:function(){return g},vp:function(){return F},yP:function(){return f}});var c=i(30613);function F(s){return g(s,0)}function g(s,r){switch(typeof s){case"object":return s===null?A(349,r):Array.isArray(s)?N(s,r):x(s,r);case"string":return $(s,r);case"boolean":return S(s,r);case"number":return A(s,r);case"undefined":return A(937,r);default:return A(617,r)}}function A(s,r){return(r<<5)-r+s|0}function S(s,r){return A(s?433:863,r)}function $(s,r){r=A(149417,r);for(let m=0,C=s.length;m<C;m++)r=A(s.charCodeAt(m),r);return r}function N(s,r){return r=A(104579,r),s.reduce((m,C)=>g(C,m),r)}function x(s,r){return r=A(181387,r),Object.keys(s).sort().reduce((m,C)=>(m=$(C,m),g(s[C],m)),r)}function O(s,r,m=32){const C=m-r,u=~((1<<C)-1);return(s<<r|(u&s)>>>C)>>>0}function p(s,r=0,m=s.byteLength,C=0){for(let u=0;u<m;u++)s[r+u]=C}function a(s,r,m="0"){for(;s.length<r;)s=m+s;return s}function d(s,r=32){return s instanceof ArrayBuffer?Array.from(new Uint8Array(s)).map(m=>m.toString(16).padStart(2,"0")).join(""):a((s>>>0).toString(16),r/4)}class f{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const m=r.length;if(m===0)return;const C=this._buff;let u=this._buffLen,_=this._leftoverHighSurrogate,b,E;for(_!==0?(b=_,E=-1,_=0):(b=r.charCodeAt(0),E=0);;){let D=b;if(c.ZG(b))if(E+1<m){const w=r.charCodeAt(E+1);c.YK(w)?(E++,D=c.rL(b,w)):D=65533}else{_=b;break}else c.YK(b)&&(D=65533);if(u=this._push(C,u,D),E++,E<m)b=r.charCodeAt(E);else break}this._buffLen=u,this._leftoverHighSurrogate=_}_push(r,m,C){return C<128?r[m++]=C:C<2048?(r[m++]=192|(C&1984)>>>6,r[m++]=128|(C&63)>>>0):C<65536?(r[m++]=224|(C&61440)>>>12,r[m++]=128|(C&4032)>>>6,r[m++]=128|(C&63)>>>0):(r[m++]=240|(C&1835008)>>>18,r[m++]=128|(C&258048)>>>12,r[m++]=128|(C&4032)>>>6,r[m++]=128|(C&63)>>>0),m>=64&&(this._step(),m-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),m}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d(this._h0)+d(this._h1)+d(this._h2)+d(this._h3)+d(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,p(this._buff,this._buffLen),this._buffLen>56&&(this._step(),p(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=f._bigBlock32,m=this._buffDV;for(let M=0;M<64;M+=4)r.setUint32(M,m.getUint32(M,!1),!1);for(let M=64;M<320;M+=4)r.setUint32(M,O(r.getUint32(M-12,!1)^r.getUint32(M-32,!1)^r.getUint32(M-56,!1)^r.getUint32(M-64,!1),1),!1);let C=this._h0,u=this._h1,_=this._h2,b=this._h3,E=this._h4,D,w,I;for(let M=0;M<80;M++)M<20?(D=u&_|~u&b,w=1518500249):M<40?(D=u^_^b,w=1859775393):M<60?(D=u&_|u&b|_&b,w=2400959708):(D=u^_^b,w=3395469782),I=O(C,5)+D+E+w+r.getUint32(M*4,!1)&4294967295,E=b,b=_,_=O(u,30),u=C,C=I;this._h0=this._h0+C&4294967295,this._h1=this._h1+u&4294967295,this._h2=this._h2+_&4294967295,this._h3=this._h3+b&4294967295,this._h4=this._h4+E&4294967295}}f._bigBlock32=new DataView(new ArrayBuffer(320))},69549:function(vt,be,i){"use strict";i.d(be,{CP:function(){return S},Fr:function(){return $},W5:function(){return A},d9:function(){return x},oR:function(){return O},v1:function(){return p}});var c=i(50505),F=i(87683),g=i(30613);class A{constructor(d="",f=!1){var s,r,m;if(this.value=d,typeof this.value!="string")throw(0,c.b1)("value");typeof f=="boolean"?(this.isTrusted=f,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(s=f.isTrusted)!==null&&s!==void 0?s:void 0,this.supportThemeIcons=(r=f.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(m=f.supportHtml)!==null&&m!==void 0?m:!1)}appendText(d,f=0){return this.value+=N(this.supportThemeIcons?(0,F.Qo)(d):d).replace(/([ \t]+)/g,(s,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,f===1?`\\
`:`

`),this}appendMarkdown(d){return this.value+=d,this}appendCodeblock(d,f){return this.value+="\n```",this.value+=d,this.value+=`
`,this.value+=f,this.value+="\n```\n",this}appendLink(d,f,s){return this.value+="[",this.value+=this._escape(f,"]"),this.value+="](",this.value+=this._escape(String(d),")"),s&&(this.value+=` "${this._escape(this._escape(s,'"'),")")}"`),this.value+=")",this}_escape(d,f){const s=new RegExp((0,g.ec)(f),"g");return d.replace(s,(r,m)=>d.charAt(m-1)!=="\\"?`\\${r}`:r)}}function S(a){return $(a)?!a.value:Array.isArray(a)?a.every(S):!0}function $(a){return a instanceof A?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}function N(a){return a.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function x(a){return a.replace(/"/g,"&quot;")}function O(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function p(a){const d=[],f=a.split("|").map(r=>r.trim());a=f[0];const s=f[1];if(s){const r=/height=(\d+)/.exec(s),m=/width=(\d+)/.exec(s),C=r?r[1]:"",u=m?m[1]:"",_=isFinite(parseInt(u)),b=isFinite(parseInt(C));_&&d.push(`width="${u}"`),b&&d.push(`height="${C}"`)}return{href:a,dimensions:d}}},87683:function(vt,be,i){"use strict";i.d(be,{Gt:function(){return r},Ho:function(){return s},JL:function(){return d},Qo:function(){return N},f$:function(){return O},x$:function(){return a}});var c=i(61842),F=i(30613),g=i(81189);const A="$(",S=new RegExp(`\\$\\(${g.k.iconNameExpression}(?:${g.k.iconModifierExpression})?\\)`,"g"),$=new RegExp(`(\\\\)?${S.source}`,"g");function N(m){return m.replace($,(C,u)=>u?C:`\\${C}`)}const x=new RegExp(`\\\\${S.source}`,"g");function O(m){return m.replace(x,C=>`\\${C}`)}const p=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function a(m){return m.indexOf(A)===-1?m:m.replace(p,(C,u,_,b)=>_?C:u||b||"")}function d(m){return m?m.replace(/\$\((.*?)\)/g,(C,u)=>` ${u} `).trim():""}const f=new RegExp(`\\$\\(${g.k.iconNameCharacter}+\\)`,"g");function s(m){f.lastIndex=0;let C="";const u=[];let _=0;for(;;){const b=f.lastIndex,E=f.exec(m),D=m.substring(b,E==null?void 0:E.index);if(D.length>0){C+=D;for(let w=0;w<D.length;w++)u.push(_)}if(!E)break;_+=E[0].length}return{text:C,iconOffsets:u}}function r(m,C,u=!1){const{text:_,iconOffsets:b}=C;if(!b||b.length===0)return(0,c.Oh)(m,_,u);const E=(0,F.j3)(_," "),D=_.length-E.length,w=(0,c.Oh)(m,E,u);if(w)for(const I of w){const M=b[I.start+D]+D;I.start+=M,I.end+=M}return w}},59089:function(vt,be,i){"use strict";i.d(be,{R:function(){return c},a:function(){return F}});class c{constructor(A){this._prefix=A,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const F=new c("id#")},85498:function(vt,be,i){"use strict";i.d(be,{F:function(){return g}});var c=i(94162);class F{constructor(){this._onDidChange=new c.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const g=new F},62841:function(vt,be,i){"use strict";i.d(be,{$:function(){return c}});var c;(function(F){function g(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}F.is=g;const A=Object.freeze([]);function S(){return A}F.empty=S;function*$(_){yield _}F.single=$;function N(_){return g(_)?_:$(_)}F.wrap=N;function x(_){return _||A}F.from=x;function O(_){return!_||_[Symbol.iterator]().next().done===!0}F.isEmpty=O;function p(_){return _[Symbol.iterator]().next().value}F.first=p;function a(_,b){for(const E of _)if(b(E))return!0;return!1}F.some=a;function d(_,b){for(const E of _)if(b(E))return E}F.find=d;function*f(_,b){for(const E of _)b(E)&&(yield E)}F.filter=f;function*s(_,b){let E=0;for(const D of _)yield b(D,E++)}F.map=s;function*r(..._){for(const b of _)for(const E of b)yield E}F.concat=r;function m(_,b,E){let D=E;for(const w of _)D=b(D,w);return D}F.reduce=m;function*C(_,b,E=_.length){for(b<0&&(b+=_.length),E<0?E+=_.length:E>_.length&&(E=_.length);b<E;b++)yield _[b]}F.slice=C;function u(_,b=Number.POSITIVE_INFINITY){const E=[];if(b===0)return[E,_];const D=_[Symbol.iterator]();for(let w=0;w<b;w++){const I=D.next();if(I.done)return[E,F.empty()];E.push(I.value)}return[E,{[Symbol.iterator](){return D}}]}F.consume=u})(c||(c={}))},42528:function(vt,be,i){"use strict";i.d(be,{H_:function(){return S},Vd:function(){return p},gx:function(){return f},kL:function(){return d}});class c{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,m){this._keyCodeToStr[r]=m,this._strToKeyCode[m.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const F=new c,g=new c,A=new c,S=new Array(230),$={},N=[],x=Object.create(null),O=Object.create(null),p=[],a=[];for(let s=0;s<=193;s++)p[s]=-1;for(let s=0;s<=127;s++)a[s]=-1;(function(){const s="",r=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[0,1,1,"Hyper",0,s,0,s,s,s],[0,1,2,"Super",0,s,0,s,s,s],[0,1,3,"Fn",0,s,0,s,s,s],[0,1,4,"FnLock",0,s,0,s,s,s],[0,1,5,"Suspend",0,s,0,s,s,s],[0,1,6,"Resume",0,s,0,s,s,s],[0,1,7,"Turbo",0,s,0,s,s,s],[0,1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[0,1,9,"WakeUp",0,s,0,s,s,s],[31,0,10,"KeyA",31,"A",65,"VK_A",s,s],[32,0,11,"KeyB",32,"B",66,"VK_B",s,s],[33,0,12,"KeyC",33,"C",67,"VK_C",s,s],[34,0,13,"KeyD",34,"D",68,"VK_D",s,s],[35,0,14,"KeyE",35,"E",69,"VK_E",s,s],[36,0,15,"KeyF",36,"F",70,"VK_F",s,s],[37,0,16,"KeyG",37,"G",71,"VK_G",s,s],[38,0,17,"KeyH",38,"H",72,"VK_H",s,s],[39,0,18,"KeyI",39,"I",73,"VK_I",s,s],[40,0,19,"KeyJ",40,"J",74,"VK_J",s,s],[41,0,20,"KeyK",41,"K",75,"VK_K",s,s],[42,0,21,"KeyL",42,"L",76,"VK_L",s,s],[43,0,22,"KeyM",43,"M",77,"VK_M",s,s],[44,0,23,"KeyN",44,"N",78,"VK_N",s,s],[45,0,24,"KeyO",45,"O",79,"VK_O",s,s],[46,0,25,"KeyP",46,"P",80,"VK_P",s,s],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[48,0,27,"KeyR",48,"R",82,"VK_R",s,s],[49,0,28,"KeyS",49,"S",83,"VK_S",s,s],[50,0,29,"KeyT",50,"T",84,"VK_T",s,s],[51,0,30,"KeyU",51,"U",85,"VK_U",s,s],[52,0,31,"KeyV",52,"V",86,"VK_V",s,s],[53,0,32,"KeyW",53,"W",87,"VK_W",s,s],[54,0,33,"KeyX",54,"X",88,"VK_X",s,s],[55,0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[22,0,36,"Digit1",22,"1",49,"VK_1",s,s],[23,0,37,"Digit2",23,"2",50,"VK_2",s,s],[24,0,38,"Digit3",24,"3",51,"VK_3",s,s],[25,0,39,"Digit4",25,"4",52,"VK_4",s,s],[26,0,40,"Digit5",26,"5",53,"VK_5",s,s],[27,0,41,"Digit6",27,"6",54,"VK_6",s,s],[28,0,42,"Digit7",28,"7",55,"VK_7",s,s],[29,0,43,"Digit8",29,"8",56,"VK_8",s,s],[30,0,44,"Digit9",30,"9",57,"VK_9",s,s],[21,0,45,"Digit0",21,"0",48,"VK_0",s,s],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[10,1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,s,0,s,s,s],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[59,1,64,"F1",59,"F1",112,"VK_F1",s,s],[60,1,65,"F2",60,"F2",113,"VK_F2",s,s],[61,1,66,"F3",61,"F3",114,"VK_F3",s,s],[62,1,67,"F4",62,"F4",115,"VK_F4",s,s],[63,1,68,"F5",63,"F5",116,"VK_F5",s,s],[64,1,69,"F6",64,"F6",117,"VK_F6",s,s],[65,1,70,"F7",65,"F7",118,"VK_F7",s,s],[66,1,71,"F8",66,"F8",119,"VK_F8",s,s],[67,1,72,"F9",67,"F9",120,"VK_F9",s,s],[68,1,73,"F10",68,"F10",121,"VK_F10",s,s],[69,1,74,"F11",69,"F11",122,"VK_F11",s,s],[70,1,75,"F12",70,"F12",123,"VK_F12",s,s],[0,1,76,"PrintScreen",0,s,0,s,s,s],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",s,s],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[14,1,80,"Home",14,"Home",36,"VK_HOME",s,s],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[13,1,83,"End",13,"End",35,"VK_END",s,s],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",s,s],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",s,s],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",s,s],[3,1,94,"NumpadEnter",3,s,0,s,s,s],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",s,s],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",s,s],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",s,s],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",s,s],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",s,s],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",s,s],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",s,s],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",s,s],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",s,s],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",s,s],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",s,s],[58,1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[0,1,108,"Power",0,s,0,s,s,s],[0,1,109,"NumpadEqual",0,s,0,s,s,s],[71,1,110,"F13",71,"F13",124,"VK_F13",s,s],[72,1,111,"F14",72,"F14",125,"VK_F14",s,s],[73,1,112,"F15",73,"F15",126,"VK_F15",s,s],[74,1,113,"F16",74,"F16",127,"VK_F16",s,s],[75,1,114,"F17",75,"F17",128,"VK_F17",s,s],[76,1,115,"F18",76,"F18",129,"VK_F18",s,s],[77,1,116,"F19",77,"F19",130,"VK_F19",s,s],[0,1,117,"F20",0,s,0,"VK_F20",s,s],[0,1,118,"F21",0,s,0,"VK_F21",s,s],[0,1,119,"F22",0,s,0,"VK_F22",s,s],[0,1,120,"F23",0,s,0,"VK_F23",s,s],[0,1,121,"F24",0,s,0,"VK_F24",s,s],[0,1,122,"Open",0,s,0,s,s,s],[0,1,123,"Help",0,s,0,s,s,s],[0,1,124,"Select",0,s,0,s,s,s],[0,1,125,"Again",0,s,0,s,s,s],[0,1,126,"Undo",0,s,0,s,s,s],[0,1,127,"Cut",0,s,0,s,s,s],[0,1,128,"Copy",0,s,0,s,s,s],[0,1,129,"Paste",0,s,0,s,s,s],[0,1,130,"Find",0,s,0,s,s,s],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",s,s],[0,1,136,"KanaMode",0,s,0,s,s,s],[0,0,137,"IntlYen",0,s,0,s,s,s],[0,1,138,"Convert",0,s,0,s,s,s],[0,1,139,"NonConvert",0,s,0,s,s,s],[0,1,140,"Lang1",0,s,0,s,s,s],[0,1,141,"Lang2",0,s,0,s,s,s],[0,1,142,"Lang3",0,s,0,s,s,s],[0,1,143,"Lang4",0,s,0,s,s,s],[0,1,144,"Lang5",0,s,0,s,s,s],[0,1,145,"Abort",0,s,0,s,s,s],[0,1,146,"Props",0,s,0,s,s,s],[0,1,147,"NumpadParenLeft",0,s,0,s,s,s],[0,1,148,"NumpadParenRight",0,s,0,s,s,s],[0,1,149,"NumpadBackspace",0,s,0,s,s,s],[0,1,150,"NumpadMemoryStore",0,s,0,s,s,s],[0,1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[0,1,152,"NumpadMemoryClear",0,s,0,s,s,s],[0,1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[0,1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",s,s],[0,1,156,"NumpadClearEntry",0,s,0,s,s,s],[5,1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[4,1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[6,1,0,s,6,"Alt",18,"VK_MENU",s,s],[57,1,0,s,57,"Meta",0,"VK_COMMAND",s,s],[5,1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[4,1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[6,1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[57,1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[5,1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[4,1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[6,1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[57,1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[0,1,165,"BrightnessUp",0,s,0,s,s,s],[0,1,166,"BrightnessDown",0,s,0,s,s,s],[0,1,167,"MediaPlay",0,s,0,s,s,s],[0,1,168,"MediaRecord",0,s,0,s,s,s],[0,1,169,"MediaFastForward",0,s,0,s,s,s],[0,1,170,"MediaRewind",0,s,0,s,s,s],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",s,s],[0,1,174,"Eject",0,s,0,s,s,s],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[0,1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[0,1,180,"SelectTask",0,s,0,s,s,s],[0,1,181,"LaunchScreenSaver",0,s,0,s,s,s],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[0,1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[0,1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[0,1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[0,1,189,"ZoomToggle",0,s,0,s,s,s],[0,1,190,"MailReply",0,s,0,s,s,s],[0,1,191,"MailForward",0,s,0,s,s,s],[0,1,192,"MailSend",0,s,0,s,s,s],[109,1,0,s,109,"KeyInComposition",229,s,s,s],[111,1,0,s,111,"ABNT_C2",194,"VK_ABNT_C2",s,s],[91,1,0,s,91,"OEM_8",223,"VK_OEM_8",s,s],[0,1,0,s,0,s,0,"VK_KANA",s,s],[0,1,0,s,0,s,0,"VK_HANGUL",s,s],[0,1,0,s,0,s,0,"VK_JUNJA",s,s],[0,1,0,s,0,s,0,"VK_FINAL",s,s],[0,1,0,s,0,s,0,"VK_HANJA",s,s],[0,1,0,s,0,s,0,"VK_KANJI",s,s],[0,1,0,s,0,s,0,"VK_CONVERT",s,s],[0,1,0,s,0,s,0,"VK_NONCONVERT",s,s],[0,1,0,s,0,s,0,"VK_ACCEPT",s,s],[0,1,0,s,0,s,0,"VK_MODECHANGE",s,s],[0,1,0,s,0,s,0,"VK_SELECT",s,s],[0,1,0,s,0,s,0,"VK_PRINT",s,s],[0,1,0,s,0,s,0,"VK_EXECUTE",s,s],[0,1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[0,1,0,s,0,s,0,"VK_HELP",s,s],[0,1,0,s,0,s,0,"VK_APPS",s,s],[0,1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[0,1,0,s,0,s,0,"VK_PACKET",s,s],[0,1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[0,1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[0,1,0,s,0,s,0,"VK_ATTN",s,s],[0,1,0,s,0,s,0,"VK_CRSEL",s,s],[0,1,0,s,0,s,0,"VK_EXSEL",s,s],[0,1,0,s,0,s,0,"VK_EREOF",s,s],[0,1,0,s,0,s,0,"VK_PLAY",s,s],[0,1,0,s,0,s,0,"VK_ZOOM",s,s],[0,1,0,s,0,s,0,"VK_NONAME",s,s],[0,1,0,s,0,s,0,"VK_PA1",s,s],[0,1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],m=[],C=[];for(const u of r){const[_,b,E,D,w,I,M,K,z,Q]=u;if(C[E]||(C[E]=!0,N[E]=D,x[D]=E,O[D.toLowerCase()]=E,b&&(p[E]=w,w!==0&&w!==3&&w!==5&&w!==4&&w!==6&&w!==57&&(a[w]=E))),!m[w]){if(m[w]=!0,!I)throw new Error(`String representation missing for key code ${w} around scan code ${D}`);F.define(w,I),g.define(w,z||I),A.define(w,Q||z||I)}M&&(S[M]=w),K&&($[K]=w)}a[3]=46})();var d;(function(s){function r(E){return F.keyCodeToStr(E)}s.toString=r;function m(E){return F.strToKeyCode(E)}s.fromString=m;function C(E){return g.keyCodeToStr(E)}s.toUserSettingsUS=C;function u(E){return A.keyCodeToStr(E)}s.toUserSettingsGeneral=u;function _(E){return g.strToKeyCode(E)||A.strToKeyCode(E)}s.fromUserSettings=_;function b(E){if(E>=93&&E<=108)return null;switch(E){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return F.keyCodeToStr(E)}s.toElectronAccelerator=b})(d||(d={}));function f(s,r){const m=(r&65535)<<16>>>0;return(s|m)>>>0}},88566:function(vt,be,i){"use strict";i.d(be,{X4:function(){return A},jC:function(){return S},xo:function(){return g}});var c=i(15779);class F{constructor(O,p,a=p){this.modifierLabels=[null],this.modifierLabels[2]=O,this.modifierLabels[1]=p,this.modifierLabels[3]=a}toLabel(O,p,a){if(p.length===0)return null;const d=[];for(let f=0,s=p.length;f<s;f++){const r=p[f],m=a(r);if(m===null)return null;d[f]=N(r,m,this.modifierLabels[O])}return d.join(" ")}}const g=new F({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:c.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:c.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:c.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:c.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:c.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:c.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:c.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:c.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),A=new F({ctrlKey:c.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:c.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:c.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:c.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:c.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:c.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),S=new F({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),$=new F({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function N(x,O,p){if(O===null)return"";const a=[];return x.ctrlKey&&a.push(p.ctrlKey),x.shiftKey&&a.push(p.shiftKey),x.altKey&&a.push(p.altKey),x.metaKey&&a.push(p.metaKey),O!==""&&a.push(O),a.join(p.separator)}},4526:function(vt,be,i){"use strict";i.d(be,{$M:function(){return A},Z9:function(){return F},aZ:function(){return N},f1:function(){return x}});var c=i(50505);function F(O,p){if(O===0)return null;const a=(O&65535)>>>0,d=(O&4294901760)>>>16;return d!==0?new $([g(a,p),g(d,p)]):new $([g(a,p)])}function g(O,p){const a=!!(O&2048),d=!!(O&256),f=p===2?d:a,s=!!(O&1024),r=!!(O&512),m=p===2?a:d,C=O&255;return new A(f,s,r,m,C)}class A{constructor(p,a,d,f,s){this.ctrlKey=p,this.shiftKey=a,this.altKey=d,this.metaKey=f,this.keyCode=s}equals(p){return p instanceof A&&this.ctrlKey===p.ctrlKey&&this.shiftKey===p.shiftKey&&this.altKey===p.altKey&&this.metaKey===p.metaKey&&this.keyCode===p.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class S{constructor(p,a,d,f,s){this.ctrlKey=p,this.shiftKey=a,this.altKey=d,this.metaKey=f,this.scanCode=s}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class ${constructor(p){if(p.length===0)throw(0,c.b1)("chords");this.chords=p}}class N{constructor(p,a,d,f,s,r){this.ctrlKey=p,this.shiftKey=a,this.altKey=d,this.metaKey=f,this.keyLabel=s,this.keyAriaLabel=r}}class x{}},48911:function(vt,be,i){"use strict";i.d(be,{o:function(){return c}});class c{constructor(g){this.executor=g,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(g){this._error=g}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},52357:function(vt,be,i){"use strict";i.d(be,{B9:function(){return d},F8:function(){return f},JT:function(){return m},Jz:function(){return b},L6:function(){return u},OF:function(){return s},SL:function(){return r},Wf:function(){return a},XK:function(){return C},b2:function(){return E},dk:function(){return p},dt:function(){return _}});var c=i(52473),F=i(62841);const g=!1;let A=null;function S(D){A=D}if(g){const D="__is_disposable_tracked__";S(new class{trackDisposable(w){const I=new Error("Potentially leaked disposable").stack;setTimeout(()=>{w[D]||console.log(I)},3e3)}setParent(w,I){if(w&&w!==m.None)try{w[D]=!0}catch(M){}}markAsDisposed(w){if(w&&w!==m.None)try{w[D]=!0}catch(I){}}markAsSingleton(w){}})}function $(D){return A==null||A.trackDisposable(D),D}function N(D){A==null||A.markAsDisposed(D)}function x(D,w){A==null||A.setParent(D,w)}function O(D,w){if(A)for(const I of D)A.setParent(I,w)}function p(D){return A==null||A.markAsSingleton(D),D}function a(D){return typeof D.dispose=="function"&&D.dispose.length===0}function d(D){if(F.$.is(D)){const w=[];for(const I of D)if(I)try{I.dispose()}catch(M){w.push(M)}if(w.length===1)throw w[0];if(w.length>1)throw new AggregateError(w,"Encountered errors while disposing of store");return Array.isArray(D)?[]:D}else if(D)return D.dispose(),D}function f(...D){const w=s(()=>d(D));return O(D,w),w}function s(D){const w=$({dispose:(0,c.I)(()=>{N(w),D()})});return w}class r{constructor(){this._toDispose=new Set,this._isDisposed=!1,$(this)}dispose(){this._isDisposed||(N(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{d(this._toDispose)}finally{this._toDispose.clear()}}add(w){if(!w)return w;if(w===this)throw new Error("Cannot register a disposable on itself!");return x(w,this),this._isDisposed?r.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(w),w}}r.DISABLE_DISPOSED_WARNING=!1;class m{constructor(){this._store=new r,$(this),x(this._store,this)}dispose(){N(this),this._store.dispose()}_register(w){if(w===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(w)}}m.None=Object.freeze({dispose(){}});class C{constructor(){this._isDisposed=!1,$(this)}get value(){return this._isDisposed?void 0:this._value}set value(w){var I;this._isDisposed||w===this._value||((I=this._value)===null||I===void 0||I.dispose(),w&&x(w,this),this._value=w)}clear(){this.value=void 0}dispose(){var w;this._isDisposed=!0,N(this),(w=this._value)===null||w===void 0||w.dispose(),this._value=void 0}clearAndLeak(){const w=this._value;return this._value=void 0,w&&x(w,null),w}}class u{constructor(w){this._disposable=w,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class _{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,$(this)}set(w){let I=w;return this.unset=()=>I=void 0,this.isset=()=>I!==void 0,this.dispose=()=>{I&&(I(),I=void 0,N(this))},this}}class b{constructor(w){this.object=w}dispose(){}}class E{constructor(){this._store=new Map,this._isDisposed=!1,$(this)}dispose(){N(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{d(this._store.values())}finally{this._store.clear()}}get(w){return this._store.get(w)}set(w,I,M=!1){var K;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),M||(K=this._store.get(w))===null||K===void 0||K.dispose(),this._store.set(w,I)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},23345:function(vt,be,i){"use strict";i.d(be,{S:function(){return F}});class c{constructor(A){this.element=A,this.next=c.Undefined,this.prev=c.Undefined}}c.Undefined=new c(void 0);class F{constructor(){this._first=c.Undefined,this._last=c.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===c.Undefined}clear(){let A=this._first;for(;A!==c.Undefined;){const S=A.next;A.prev=c.Undefined,A.next=c.Undefined,A=S}this._first=c.Undefined,this._last=c.Undefined,this._size=0}unshift(A){return this._insert(A,!1)}push(A){return this._insert(A,!0)}_insert(A,S){const $=new c(A);if(this._first===c.Undefined)this._first=$,this._last=$;else if(S){const x=this._last;this._last=$,$.prev=x,x.next=$}else{const x=this._first;this._first=$,$.next=x,x.prev=$}this._size+=1;let N=!1;return()=>{N||(N=!0,this._remove($))}}shift(){if(this._first!==c.Undefined){const A=this._first.element;return this._remove(this._first),A}}pop(){if(this._last!==c.Undefined){const A=this._last.element;return this._remove(this._last),A}}_remove(A){if(A.prev!==c.Undefined&&A.next!==c.Undefined){const S=A.prev;S.next=A.next,A.next.prev=S}else A.prev===c.Undefined&&A.next===c.Undefined?(this._first=c.Undefined,this._last=c.Undefined):A.next===c.Undefined?(this._last=this._last.prev,this._last.next=c.Undefined):A.prev===c.Undefined&&(this._first=this._first.next,this._first.prev=c.Undefined);this._size-=1}*[Symbol.iterator](){let A=this._first;for(;A!==c.Undefined;)yield A.element,A=A.next}}},15463:function(vt,be,i){"use strict";i.d(be,{Y9:function(){return A},z6:function(){return $}});var c,F;class g{constructor(x,O){this.uri=x,this.value=O}}class A{constructor(x,O){this[c]="ResourceMap",x instanceof A?(this.map=new Map(x.map),this.toKey=O!=null?O:A.defaultToKey):(this.map=new Map,this.toKey=x!=null?x:A.defaultToKey)}set(x,O){return this.map.set(this.toKey(x),new g(x,O)),this}get(x){var O;return(O=this.map.get(this.toKey(x)))===null||O===void 0?void 0:O.value}has(x){return this.map.has(this.toKey(x))}get size(){return this.map.size}clear(){this.map.clear()}delete(x){return this.map.delete(this.toKey(x))}forEach(x,O){typeof O!="undefined"&&(x=x.bind(O));for(const[p,a]of this.map)x(a.value,a.uri,this)}*values(){for(const x of this.map.values())yield x.value}*keys(){for(const x of this.map.values())yield x.uri}*entries(){for(const x of this.map.values())yield[x.uri,x.value]}*[(c=Symbol.toStringTag,Symbol.iterator)](){for(const[,x]of this.map)yield[x.uri,x.value]}}A.defaultToKey=N=>N.toString();class S{constructor(){this[F]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var x;return(x=this._head)===null||x===void 0?void 0:x.value}get last(){var x;return(x=this._tail)===null||x===void 0?void 0:x.value}has(x){return this._map.has(x)}get(x,O=0){const p=this._map.get(x);if(p)return O!==0&&this.touch(p,O),p.value}set(x,O,p=0){let a=this._map.get(x);if(a)a.value=O,p!==0&&this.touch(a,p);else{switch(a={key:x,value:O,next:void 0,previous:void 0},p){case 0:this.addItemLast(a);break;case 1:this.addItemFirst(a);break;case 2:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(x,a),this._size++}return this}delete(x){return!!this.remove(x)}remove(x){const O=this._map.get(x);if(O)return this._map.delete(x),this.removeItem(O),this._size--,O.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const x=this._head;return this._map.delete(x.key),this.removeItem(x),this._size--,x.value}forEach(x,O){const p=this._state;let a=this._head;for(;a;){if(O?x.bind(O)(a.value,a.key,this):x(a.value,a.key,this),this._state!==p)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const x=this,O=this._state;let p=this._head;const a={[Symbol.iterator](){return a},next(){if(x._state!==O)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:p.key,done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return a}values(){const x=this,O=this._state;let p=this._head;const a={[Symbol.iterator](){return a},next(){if(x._state!==O)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:p.value,done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return a}entries(){const x=this,O=this._state;let p=this._head;const a={[Symbol.iterator](){return a},next(){if(x._state!==O)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:[p.key,p.value],done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return a}[(F=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(x){if(x>=this.size)return;if(x===0){this.clear();return}let O=this._head,p=this.size;for(;O&&p>x;)this._map.delete(O.key),O=O.next,p--;this._head=O,this._size=p,O&&(O.previous=void 0),this._state++}addItemFirst(x){if(!this._head&&!this._tail)this._tail=x;else if(this._head)x.next=this._head,this._head.previous=x;else throw new Error("Invalid list");this._head=x,this._state++}addItemLast(x){if(!this._head&&!this._tail)this._head=x;else if(this._tail)x.previous=this._tail,this._tail.next=x;else throw new Error("Invalid list");this._tail=x,this._state++}removeItem(x){if(x===this._head&&x===this._tail)this._head=void 0,this._tail=void 0;else if(x===this._head){if(!x.next)throw new Error("Invalid list");x.next.previous=void 0,this._head=x.next}else if(x===this._tail){if(!x.previous)throw new Error("Invalid list");x.previous.next=void 0,this._tail=x.previous}else{const O=x.next,p=x.previous;if(!O||!p)throw new Error("Invalid list");O.previous=p,p.next=O}x.next=void 0,x.previous=void 0,this._state++}touch(x,O){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(O!==1&&O!==2)){if(O===1){if(x===this._head)return;const p=x.next,a=x.previous;x===this._tail?(a.next=void 0,this._tail=a):(p.previous=a,a.next=p),x.previous=void 0,x.next=this._head,this._head.previous=x,this._head=x,this._state++}else if(O===2){if(x===this._tail)return;const p=x.next,a=x.previous;x===this._head?(p.previous=void 0,this._head=p):(p.previous=a,a.next=p),x.next=void 0,x.previous=this._tail,this._tail.next=x,this._tail=x,this._state++}}}toJSON(){const x=[];return this.forEach((O,p)=>{x.push([p,O])}),x}fromJSON(x){this.clear();for(const[O,p]of x)this.set(O,p)}}class $ extends S{constructor(x,O=1){super(),this._limit=x,this._ratio=Math.min(Math.max(0,O),1)}get limit(){return this._limit}set limit(x){this._limit=x,this.checkTrim()}get(x,O=2){return super.get(x,O)}peek(x){return super.get(x,0)}set(x,O){return super.set(x,O,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},13540:function(vt,be,i){"use strict";i.d(be,{Q:function(){return g}});var c=i(22594),F=i(39508);function g(S){let $=JSON.parse(S);return $=A($),$}function A(S,$=0){if(!S||$>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return F.o.revive(S);case 2:return new RegExp(S.source,S.flags);case 16:return new Date(S.source)}if(S instanceof c.KN||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let N=0;N<S.length;++N)S[N]=A(S[N],$+1);else for(const N in S)Object.hasOwnProperty.call(S,N)&&(S[N]=A(S[N],$+1))}return S}},70112:function(vt,be,i){"use strict";i.d(be,{v:function(){return c}});const c=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},571:function(vt,be,i){"use strict";i.d(be,{Gi:function(){return O},WX:function(){return N},lg:function(){return A}});var c=i(50505),F=i(41420),g=i(39508),A;(function(a){a.inMemory="inmemory",a.vscode="vscode",a.internal="private",a.walkThrough="walkThrough",a.walkThroughSnippet="walkThroughSnippet",a.http="http",a.https="https",a.file="file",a.mailto="mailto",a.untitled="untitled",a.data="data",a.command="command",a.vscodeRemote="vscode-remote",a.vscodeRemoteResource="vscode-remote-resource",a.vscodeUserData="vscode-userdata",a.vscodeCustomEditor="vscode-custom-editor",a.vscodeNotebookCell="vscode-notebook-cell",a.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",a.vscodeNotebookCellOutput="vscode-notebook-cell-output",a.vscodeInteractive="vscode-interactive",a.vscodeInteractiveInput="vscode-interactive-input",a.vscodeSettings="vscode-settings",a.vscodeWorkspaceTrust="vscode-workspace-trust",a.vscodeTerminal="vscode-terminal",a.webviewPanel="webview-panel",a.vscodeWebview="vscode-webview",a.extension="extension",a.vscodeFileResource="vscode-file",a.tmp="tmp",a.vsls="vsls",a.vscodeSourceControl="vscode-scm"})(A||(A={}));const S="tkn";class ${constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${A.vscodeRemoteResource}`}setPreferredWebSchema(d){this._preferredWebSchema=d}rewrite(d){if(this._delegate)try{return this._delegate(d)}catch(u){return c.dL(u),d}const f=d.authority;let s=this._hosts[f];s&&s.indexOf(":")!==-1&&s.indexOf("[")===-1&&(s=`[${s}]`);const r=this._ports[f],m=this._connectionTokens[f];let C=`path=${encodeURIComponent(d.path)}`;return typeof m=="string"&&(C+=`&${S}=${encodeURIComponent(m)}`),g.o.from({scheme:F.$L?this._preferredWebSchema:A.vscodeRemoteResource,authority:`${s}:${r}`,path:this._remoteResourcesPath,query:C})}}const N=new $;class x{uriToBrowserUri(d){return d.scheme===A.vscodeRemote?N.rewrite(d):d.scheme===A.file&&(F.tY||F.n2&&F.li.origin===`${A.vscodeFileResource}://${x.FALLBACK_AUTHORITY}`)?d.with({scheme:A.vscodeFileResource,authority:d.authority||x.FALLBACK_AUTHORITY,query:null,fragment:null}):d}}x.FALLBACK_AUTHORITY="vscode-app";const O=new x;var p;(function(a){const d=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);a.CoopAndCoep=Object.freeze(d.get("3"));const f="vscode-coi";function s(m){let C;typeof m=="string"?C=new URL(m).searchParams:m instanceof URL?C=m.searchParams:g.o.isUri(m)&&(C=new URL(m.toString(!0)).searchParams);const u=C==null?void 0:C.get(f);if(u)return d.get(u)}a.getHeadersFromQuery=s;function r(m,C,u){if(!globalThis.crossOriginIsolated)return;const _=C&&u?"3":u?"2":"1";m instanceof URLSearchParams?m.set(f,_):m[f]=_}a.addSearchParam=r})(p||(p={}))},88523:function(vt,be,i){"use strict";i.d(be,{N:function(){return g},nM:function(){return F},uZ:function(){return c}});function c(A,S,$){return Math.min(Math.max(A,S),$)}class F{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class g{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const $=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},60060:function(vt,be,i){"use strict";i.d(be,{$E:function(){return p},I8:function(){return F},IU:function(){return a},_A:function(){return g},fS:function(){return x},jB:function(){return N},rs:function(){return S}});var c=i(67770);function F(d){if(!d||typeof d!="object"||d instanceof RegExp)return d;const f=Array.isArray(d)?[]:{};return Object.entries(d).forEach(([s,r])=>{f[s]=r&&typeof r=="object"?F(r):r}),f}function g(d){if(!d||typeof d!="object")return d;const f=[d];for(;f.length>0;){const s=f.shift();Object.freeze(s);for(const r in s)if(A.call(s,r)){const m=s[r];typeof m=="object"&&!Object.isFrozen(m)&&!(0,c.fU)(m)&&f.push(m)}}return d}const A=Object.prototype.hasOwnProperty;function S(d,f){return $(d,f,new Set)}function $(d,f,s){if((0,c.Jp)(d))return d;const r=f(d);if(typeof r!="undefined")return r;if(Array.isArray(d)){const m=[];for(const C of d)m.push($(C,f,s));return m}if((0,c.Kn)(d)){if(s.has(d))throw new Error("Cannot clone recursive data-structure");s.add(d);const m={};for(const C in d)A.call(d,C)&&(m[C]=$(d[C],f,s));return s.delete(d),m}return d}function N(d,f,s=!0){return(0,c.Kn)(d)?((0,c.Kn)(f)&&Object.keys(f).forEach(r=>{r in d?s&&((0,c.Kn)(d[r])&&(0,c.Kn)(f[r])?N(d[r],f[r],s):d[r]=f[r]):d[r]=f[r]}),d):f}function x(d,f){if(d===f)return!0;if(d==null||f===null||f===void 0||typeof d!=typeof f||typeof d!="object"||Array.isArray(d)!==Array.isArray(f))return!1;let s,r;if(Array.isArray(d)){if(d.length!==f.length)return!1;for(s=0;s<d.length;s++)if(!x(d[s],f[s]))return!1}else{const m=[];for(r in d)m.push(r);m.sort();const C=[];for(r in f)C.push(r);if(C.sort(),!x(m,C))return!1;for(s=0;s<m.length;s++)if(!x(d[m[s]],f[m[s]]))return!1}return!0}function O(d){let f=[],s=Object.getPrototypeOf(d);for(;Object.prototype!==s;)f=f.concat(Object.getOwnPropertyNames(s)),s=Object.getPrototypeOf(s);return f}function p(d){const f=[];for(const s of O(d))typeof d[s]=="function"&&f.push(s);return f}function a(d,f){const s=m=>function(){const C=Array.prototype.slice.call(arguments,0);return f(m,C)},r={};for(const m of d)r[m]=s(m);return r}},33392:function(vt,be,i){"use strict";i.d(be,{EZ:function(){return X},XX:function(){return P},DZ:function(){return q},Fv:function(){return Q},KR:function(){return z},Gf:function(){return H},DB:function(){return Y},ir:function(){return U},Ku:function(){return M}});var c=i(41420),F=i(14224);let g;if(typeof c.li.vscode!="undefined"&&typeof c.li.vscode.process!="undefined"){const L=c.li.vscode.process;g={get platform(){return L.platform},get arch(){return L.arch},get env(){return L.env},cwd(){return L.cwd()}}}else typeof F!="undefined"?g={get platform(){return F.platform},get arch(){return F.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/pro-components/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/pro-components/"}.VSCODE_CWD||F.cwd()}}:g={get platform(){return c.ED?"win32":c.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const A=g.cwd,S=g.env,$=g.platform,N=65,x=97,O=90,p=122,a=46,d=47,f=92,s=58,r=63;class m extends Error{constructor(B,j,G){let y;typeof j=="string"&&j.indexOf("not ")===0?(y="must not be",j=j.replace(/^not /,"")):y="must be";const pe=B.indexOf(".")!==-1?"property":"argument";let ye=`The "${B}" ${pe} ${y} of type ${j}`;ye+=`. Received type ${typeof G}`,super(ye),this.code="ERR_INVALID_ARG_TYPE"}}function C(L,B){if(L===null||typeof L!="object")throw new m(B,"Object",L)}function u(L,B){if(typeof L!="string")throw new m(B,"string",L)}const _=$==="win32";function b(L){return L===d||L===f}function E(L){return L===d}function D(L){return L>=N&&L<=O||L>=x&&L<=p}function w(L,B,j,G){let y="",pe=0,ye=-1,me=0,Se=0;for(let _e=0;_e<=L.length;++_e){if(_e<L.length)Se=L.charCodeAt(_e);else{if(G(Se))break;Se=d}if(G(Se)){if(!(ye===_e-1||me===1))if(me===2){if(y.length<2||pe!==2||y.charCodeAt(y.length-1)!==a||y.charCodeAt(y.length-2)!==a){if(y.length>2){const he=y.lastIndexOf(j);he===-1?(y="",pe=0):(y=y.slice(0,he),pe=y.length-1-y.lastIndexOf(j)),ye=_e,me=0;continue}else if(y.length!==0){y="",pe=0,ye=_e,me=0;continue}}B&&(y+=y.length>0?`${j}..`:"..",pe=2)}else y.length>0?y+=`${j}${L.slice(ye+1,_e)}`:y=L.slice(ye+1,_e),pe=_e-ye-1;ye=_e,me=0}else Se===a&&me!==-1?++me:me=-1}return y}function I(L,B){C(B,"pathObject");const j=B.dir||B.root,G=B.base||`${B.name||""}${B.ext||""}`;return j?j===B.root?`${j}${G}`:`${j}${L}${G}`:G}const M={resolve(...L){let B="",j="",G=!1;for(let y=L.length-1;y>=-1;y--){let pe;if(y>=0){if(pe=L[y],u(pe,"path"),pe.length===0)continue}else B.length===0?pe=A():(pe={NODE_ENV:"production",PUBLIC_PATH:"/pro-components/"}[`=${B}`]||A(),(pe===void 0||pe.slice(0,2).toLowerCase()!==B.toLowerCase()&&pe.charCodeAt(2)===f)&&(pe=`${B}\\`));const ye=pe.length;let me=0,Se="",_e=!1;const he=pe.charCodeAt(0);if(ye===1)b(he)&&(me=1,_e=!0);else if(b(he))if(_e=!0,b(pe.charCodeAt(1))){let le=2,se=le;for(;le<ye&&!b(pe.charCodeAt(le));)le++;if(le<ye&&le!==se){const Re=pe.slice(se,le);for(se=le;le<ye&&b(pe.charCodeAt(le));)le++;if(le<ye&&le!==se){for(se=le;le<ye&&!b(pe.charCodeAt(le));)le++;(le===ye||le!==se)&&(Se=`\\\\${Re}\\${pe.slice(se,le)}`,me=le)}}}else me=1;else D(he)&&pe.charCodeAt(1)===s&&(Se=pe.slice(0,2),me=2,ye>2&&b(pe.charCodeAt(2))&&(_e=!0,me=3));if(Se.length>0)if(B.length>0){if(Se.toLowerCase()!==B.toLowerCase())continue}else B=Se;if(G){if(B.length>0)break}else if(j=`${pe.slice(me)}\\${j}`,G=_e,_e&&B.length>0)break}return j=w(j,!G,"\\",b),G?`${B}\\${j}`:`${B}${j}`||"."},normalize(L){u(L,"path");const B=L.length;if(B===0)return".";let j=0,G,y=!1;const pe=L.charCodeAt(0);if(B===1)return E(pe)?"\\":L;if(b(pe))if(y=!0,b(L.charCodeAt(1))){let me=2,Se=me;for(;me<B&&!b(L.charCodeAt(me));)me++;if(me<B&&me!==Se){const _e=L.slice(Se,me);for(Se=me;me<B&&b(L.charCodeAt(me));)me++;if(me<B&&me!==Se){for(Se=me;me<B&&!b(L.charCodeAt(me));)me++;if(me===B)return`\\\\${_e}\\${L.slice(Se)}\\`;me!==Se&&(G=`\\\\${_e}\\${L.slice(Se,me)}`,j=me)}}}else j=1;else D(pe)&&L.charCodeAt(1)===s&&(G=L.slice(0,2),j=2,B>2&&b(L.charCodeAt(2))&&(y=!0,j=3));let ye=j<B?w(L.slice(j),!y,"\\",b):"";return ye.length===0&&!y&&(ye="."),ye.length>0&&b(L.charCodeAt(B-1))&&(ye+="\\"),G===void 0?y?`\\${ye}`:ye:y?`${G}\\${ye}`:`${G}${ye}`},isAbsolute(L){u(L,"path");const B=L.length;if(B===0)return!1;const j=L.charCodeAt(0);return b(j)||B>2&&D(j)&&L.charCodeAt(1)===s&&b(L.charCodeAt(2))},join(...L){if(L.length===0)return".";let B,j;for(let pe=0;pe<L.length;++pe){const ye=L[pe];u(ye,"path"),ye.length>0&&(B===void 0?B=j=ye:B+=`\\${ye}`)}if(B===void 0)return".";let G=!0,y=0;if(typeof j=="string"&&b(j.charCodeAt(0))){++y;const pe=j.length;pe>1&&b(j.charCodeAt(1))&&(++y,pe>2&&(b(j.charCodeAt(2))?++y:G=!1))}if(G){for(;y<B.length&&b(B.charCodeAt(y));)y++;y>=2&&(B=`\\${B.slice(y)}`)}return M.normalize(B)},relative(L,B){if(u(L,"from"),u(B,"to"),L===B)return"";const j=M.resolve(L),G=M.resolve(B);if(j===G||(L=j.toLowerCase(),B=G.toLowerCase(),L===B))return"";let y=0;for(;y<L.length&&L.charCodeAt(y)===f;)y++;let pe=L.length;for(;pe-1>y&&L.charCodeAt(pe-1)===f;)pe--;const ye=pe-y;let me=0;for(;me<B.length&&B.charCodeAt(me)===f;)me++;let Se=B.length;for(;Se-1>me&&B.charCodeAt(Se-1)===f;)Se--;const _e=Se-me,he=ye<_e?ye:_e;let le=-1,se=0;for(;se<he;se++){const $e=L.charCodeAt(y+se);if($e!==B.charCodeAt(me+se))break;$e===f&&(le=se)}if(se!==he){if(le===-1)return G}else{if(_e>he){if(B.charCodeAt(me+se)===f)return G.slice(me+se+1);if(se===2)return G.slice(me+se)}ye>he&&(L.charCodeAt(y+se)===f?le=se:se===2&&(le=3)),le===-1&&(le=0)}let Re="";for(se=y+le+1;se<=pe;++se)(se===pe||L.charCodeAt(se)===f)&&(Re+=Re.length===0?"..":"\\..");return me+=le,Re.length>0?`${Re}${G.slice(me,Se)}`:(G.charCodeAt(me)===f&&++me,G.slice(me,Se))},toNamespacedPath(L){if(typeof L!="string"||L.length===0)return L;const B=M.resolve(L);if(B.length<=2)return L;if(B.charCodeAt(0)===f){if(B.charCodeAt(1)===f){const j=B.charCodeAt(2);if(j!==r&&j!==a)return`\\\\?\\UNC\\${B.slice(2)}`}}else if(D(B.charCodeAt(0))&&B.charCodeAt(1)===s&&B.charCodeAt(2)===f)return`\\\\?\\${B}`;return L},dirname(L){u(L,"path");const B=L.length;if(B===0)return".";let j=-1,G=0;const y=L.charCodeAt(0);if(B===1)return b(y)?L:".";if(b(y)){if(j=G=1,b(L.charCodeAt(1))){let me=2,Se=me;for(;me<B&&!b(L.charCodeAt(me));)me++;if(me<B&&me!==Se){for(Se=me;me<B&&b(L.charCodeAt(me));)me++;if(me<B&&me!==Se){for(Se=me;me<B&&!b(L.charCodeAt(me));)me++;if(me===B)return L;me!==Se&&(j=G=me+1)}}}}else D(y)&&L.charCodeAt(1)===s&&(j=B>2&&b(L.charCodeAt(2))?3:2,G=j);let pe=-1,ye=!0;for(let me=B-1;me>=G;--me)if(b(L.charCodeAt(me))){if(!ye){pe=me;break}}else ye=!1;if(pe===-1){if(j===-1)return".";pe=j}return L.slice(0,pe)},basename(L,B){B!==void 0&&u(B,"ext"),u(L,"path");let j=0,G=-1,y=!0,pe;if(L.length>=2&&D(L.charCodeAt(0))&&L.charCodeAt(1)===s&&(j=2),B!==void 0&&B.length>0&&B.length<=L.length){if(B===L)return"";let ye=B.length-1,me=-1;for(pe=L.length-1;pe>=j;--pe){const Se=L.charCodeAt(pe);if(b(Se)){if(!y){j=pe+1;break}}else me===-1&&(y=!1,me=pe+1),ye>=0&&(Se===B.charCodeAt(ye)?--ye===-1&&(G=pe):(ye=-1,G=me))}return j===G?G=me:G===-1&&(G=L.length),L.slice(j,G)}for(pe=L.length-1;pe>=j;--pe)if(b(L.charCodeAt(pe))){if(!y){j=pe+1;break}}else G===-1&&(y=!1,G=pe+1);return G===-1?"":L.slice(j,G)},extname(L){u(L,"path");let B=0,j=-1,G=0,y=-1,pe=!0,ye=0;L.length>=2&&L.charCodeAt(1)===s&&D(L.charCodeAt(0))&&(B=G=2);for(let me=L.length-1;me>=B;--me){const Se=L.charCodeAt(me);if(b(Se)){if(!pe){G=me+1;break}continue}y===-1&&(pe=!1,y=me+1),Se===a?j===-1?j=me:ye!==1&&(ye=1):j!==-1&&(ye=-1)}return j===-1||y===-1||ye===0||ye===1&&j===y-1&&j===G+1?"":L.slice(j,y)},format:I.bind(null,"\\"),parse(L){u(L,"path");const B={root:"",dir:"",base:"",ext:"",name:""};if(L.length===0)return B;const j=L.length;let G=0,y=L.charCodeAt(0);if(j===1)return b(y)?(B.root=B.dir=L,B):(B.base=B.name=L,B);if(b(y)){if(G=1,b(L.charCodeAt(1))){let le=2,se=le;for(;le<j&&!b(L.charCodeAt(le));)le++;if(le<j&&le!==se){for(se=le;le<j&&b(L.charCodeAt(le));)le++;if(le<j&&le!==se){for(se=le;le<j&&!b(L.charCodeAt(le));)le++;le===j?G=le:le!==se&&(G=le+1)}}}}else if(D(y)&&L.charCodeAt(1)===s){if(j<=2)return B.root=B.dir=L,B;if(G=2,b(L.charCodeAt(2))){if(j===3)return B.root=B.dir=L,B;G=3}}G>0&&(B.root=L.slice(0,G));let pe=-1,ye=G,me=-1,Se=!0,_e=L.length-1,he=0;for(;_e>=G;--_e){if(y=L.charCodeAt(_e),b(y)){if(!Se){ye=_e+1;break}continue}me===-1&&(Se=!1,me=_e+1),y===a?pe===-1?pe=_e:he!==1&&(he=1):pe!==-1&&(he=-1)}return me!==-1&&(pe===-1||he===0||he===1&&pe===me-1&&pe===ye+1?B.base=B.name=L.slice(ye,me):(B.name=L.slice(ye,pe),B.base=L.slice(ye,me),B.ext=L.slice(pe,me))),ye>0&&ye!==G?B.dir=L.slice(0,ye-1):B.dir=B.root,B},sep:"\\",delimiter:";",win32:null,posix:null},K=(()=>{if(_){const L=/\\/g;return()=>{const B=A().replace(L,"/");return B.slice(B.indexOf("/"))}}return()=>A()})(),z={resolve(...L){let B="",j=!1;for(let G=L.length-1;G>=-1&&!j;G--){const y=G>=0?L[G]:K();u(y,"path"),y.length!==0&&(B=`${y}/${B}`,j=y.charCodeAt(0)===d)}return B=w(B,!j,"/",E),j?`/${B}`:B.length>0?B:"."},normalize(L){if(u(L,"path"),L.length===0)return".";const B=L.charCodeAt(0)===d,j=L.charCodeAt(L.length-1)===d;return L=w(L,!B,"/",E),L.length===0?B?"/":j?"./":".":(j&&(L+="/"),B?`/${L}`:L)},isAbsolute(L){return u(L,"path"),L.length>0&&L.charCodeAt(0)===d},join(...L){if(L.length===0)return".";let B;for(let j=0;j<L.length;++j){const G=L[j];u(G,"path"),G.length>0&&(B===void 0?B=G:B+=`/${G}`)}return B===void 0?".":z.normalize(B)},relative(L,B){if(u(L,"from"),u(B,"to"),L===B||(L=z.resolve(L),B=z.resolve(B),L===B))return"";const j=1,G=L.length,y=G-j,pe=1,ye=B.length-pe,me=y<ye?y:ye;let Se=-1,_e=0;for(;_e<me;_e++){const le=L.charCodeAt(j+_e);if(le!==B.charCodeAt(pe+_e))break;le===d&&(Se=_e)}if(_e===me)if(ye>me){if(B.charCodeAt(pe+_e)===d)return B.slice(pe+_e+1);if(_e===0)return B.slice(pe+_e)}else y>me&&(L.charCodeAt(j+_e)===d?Se=_e:_e===0&&(Se=0));let he="";for(_e=j+Se+1;_e<=G;++_e)(_e===G||L.charCodeAt(_e)===d)&&(he+=he.length===0?"..":"/..");return`${he}${B.slice(pe+Se)}`},toNamespacedPath(L){return L},dirname(L){if(u(L,"path"),L.length===0)return".";const B=L.charCodeAt(0)===d;let j=-1,G=!0;for(let y=L.length-1;y>=1;--y)if(L.charCodeAt(y)===d){if(!G){j=y;break}}else G=!1;return j===-1?B?"/":".":B&&j===1?"//":L.slice(0,j)},basename(L,B){B!==void 0&&u(B,"ext"),u(L,"path");let j=0,G=-1,y=!0,pe;if(B!==void 0&&B.length>0&&B.length<=L.length){if(B===L)return"";let ye=B.length-1,me=-1;for(pe=L.length-1;pe>=0;--pe){const Se=L.charCodeAt(pe);if(Se===d){if(!y){j=pe+1;break}}else me===-1&&(y=!1,me=pe+1),ye>=0&&(Se===B.charCodeAt(ye)?--ye===-1&&(G=pe):(ye=-1,G=me))}return j===G?G=me:G===-1&&(G=L.length),L.slice(j,G)}for(pe=L.length-1;pe>=0;--pe)if(L.charCodeAt(pe)===d){if(!y){j=pe+1;break}}else G===-1&&(y=!1,G=pe+1);return G===-1?"":L.slice(j,G)},extname(L){u(L,"path");let B=-1,j=0,G=-1,y=!0,pe=0;for(let ye=L.length-1;ye>=0;--ye){const me=L.charCodeAt(ye);if(me===d){if(!y){j=ye+1;break}continue}G===-1&&(y=!1,G=ye+1),me===a?B===-1?B=ye:pe!==1&&(pe=1):B!==-1&&(pe=-1)}return B===-1||G===-1||pe===0||pe===1&&B===G-1&&B===j+1?"":L.slice(B,G)},format:I.bind(null,"/"),parse(L){u(L,"path");const B={root:"",dir:"",base:"",ext:"",name:""};if(L.length===0)return B;const j=L.charCodeAt(0)===d;let G;j?(B.root="/",G=1):G=0;let y=-1,pe=0,ye=-1,me=!0,Se=L.length-1,_e=0;for(;Se>=G;--Se){const he=L.charCodeAt(Se);if(he===d){if(!me){pe=Se+1;break}continue}ye===-1&&(me=!1,ye=Se+1),he===a?y===-1?y=Se:_e!==1&&(_e=1):y!==-1&&(_e=-1)}if(ye!==-1){const he=pe===0&&j?1:pe;y===-1||_e===0||_e===1&&y===ye-1&&y===pe+1?B.base=B.name=L.slice(he,ye):(B.name=L.slice(he,y),B.base=L.slice(he,ye),B.ext=L.slice(y,ye))}return pe>0?B.dir=L.slice(0,pe-1):j&&(B.dir="/"),B},sep:"/",delimiter:":",win32:null,posix:null};z.win32=M.win32=M,z.posix=M.posix=z;const Q=_?M.normalize:z.normalize,Y=_?M.resolve:z.resolve,H=_?M.relative:z.relative,P=_?M.dirname:z.dirname,X=_?M.basename:z.basename,q=_?M.extname:z.extname,U=_?M.sep:z.sep},41420:function(vt,be,i){"use strict";i.d(be,{$L:function(){return Q},ED:function(){return I},G6:function(){return me},IJ:function(){return K},OS:function(){return B},dK:function(){return q},dz:function(){return M},fn:function(){return L},gn:function(){return H},i7:function(){return pe},li:function(){return _},n2:function(){return Y},r:function(){return y},tY:function(){return z},tq:function(){return P},un:function(){return Se},vU:function(){return ye}});var c=i(15779),F=i(14224),g;const A="en";let S=!1,$=!1,N=!1,x=!1,O=!1,p=!1,a=!1,d=!1,f=!1,s=!1,r,m=A,C=null,u;const _=typeof self=="object"?self:typeof i.g=="object"?i.g:{};let b;typeof _.vscode!="undefined"&&typeof _.vscode.process!="undefined"?b=_.vscode.process:typeof F!="undefined"&&(b=F);const E=typeof((g=b==null?void 0:b.versions)===null||g===void 0?void 0:g.electron)=="string",D=E&&(b==null?void 0:b.type)==="renderer";if(typeof navigator=="object"&&!D)u=navigator.userAgent,S=u.indexOf("Windows")>=0,$=u.indexOf("Macintosh")>=0,d=(u.indexOf("Macintosh")>=0||u.indexOf("iPad")>=0||u.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,N=u.indexOf("Linux")>=0,s=(u==null?void 0:u.indexOf("Mobi"))>=0,p=!0,r=c.aj(c.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||A,m=r;else if(typeof b=="object"){S=b.platform==="win32",$=b.platform==="darwin",N=b.platform==="linux",x=N&&!!b.env.SNAP&&!!b.env.SNAP_REVISION,a=E,f=!!b.env.CI||!!b.env.BUILD_ARTIFACTSTAGINGDIRECTORY,r=A,m=A;const he=b.env.VSCODE_NLS_CONFIG;if(he)try{const le=JSON.parse(he),se=le.availableLanguages["*"];r=le.locale,m=se||A,C=le._translationsConfigFile}catch(le){}O=!0}else console.error("Unable to resolve platform.");let w=0;$?w=1:S?w=3:N&&(w=2);const I=S,M=$,K=N,z=O,Q=p,Y=p&&typeof _.importScripts=="function",H=d,P=s,X=u,q=m,U=typeof _.postMessage=="function"&&!_.importScripts,L=(()=>{if(U){const he=[];_.addEventListener("message",se=>{if(se.data&&se.data.vscodeScheduleAsyncWork)for(let Re=0,$e=he.length;Re<$e;Re++){const je=he[Re];if(je.id===se.data.vscodeScheduleAsyncWork){he.splice(Re,1),je.callback();return}}});let le=0;return se=>{const Re=++le;he.push({id:Re,callback:se}),_.postMessage({vscodeScheduleAsyncWork:Re},"*")}}return he=>setTimeout(he)})(),B=$||d?2:S?1:3;let j=!0,G=!1;function y(){if(!G){G=!0;const he=new Uint8Array(2);he[0]=1,he[1]=2,j=new Uint16Array(he.buffer)[0]===(2<<8)+1}return j}const pe=!!(X&&X.indexOf("Chrome")>=0),ye=!!(X&&X.indexOf("Firefox")>=0),me=!!(!pe&&X&&X.indexOf("Safari")>=0),Se=!!(X&&X.indexOf("Edg/")>=0),_e=!!(X&&X.indexOf("Android")>=0)},81186:function(vt,be,i){"use strict";i.d(be,{e:function(){return c}});var c;(function(F){function g(N,x){if(N.start>=x.end||x.start>=N.end)return{start:0,end:0};const O=Math.max(N.start,x.start),p=Math.min(N.end,x.end);return p-O<=0?{start:0,end:0}:{start:O,end:p}}F.intersect=g;function A(N){return N.end-N.start<=0}F.isEmpty=A;function S(N,x){return!A(g(N,x))}F.intersects=S;function $(N,x){const O=[],p={start:N.start,end:Math.min(x.start,N.end)},a={start:Math.max(x.end,N.start),end:N.end};return A(p)||O.push(p),A(a)||O.push(a),O}F.relativeComplement=$})(c||(c={}))},17349:function(vt,be,i){"use strict";i.d(be,{AH:function(){return b},DZ:function(){return C},EZ:function(){return m},Hx:function(){return r},SF:function(){return O},Vb:function(){return Q},Vo:function(){return _},XX:function(){return u},Xy:function(){return d},i3:function(){return D},lX:function(){return E},z_:function(){return N}});var c=i(5927),F=i(571),g=i(33392),A=i(41420),S=i(30613),$=i(39508);function N(Y){return(0,$.q)(Y,!0)}class x{constructor(H){this._ignorePathCasing=H}compare(H,P,X=!1){return H===P?0:(0,S.qu)(this.getComparisonKey(H,X),this.getComparisonKey(P,X))}isEqual(H,P,X=!1){return H===P?!0:!H||!P?!1:this.getComparisonKey(H,X)===this.getComparisonKey(P,X)}getComparisonKey(H,P=!1){return H.with({path:this._ignorePathCasing(H)?H.path.toLowerCase():void 0,fragment:P?null:void 0}).toString()}isEqualOrParent(H,P,X=!1){if(H.scheme===P.scheme){if(H.scheme===F.lg.file)return c.KM(N(H),N(P),this._ignorePathCasing(H))&&H.query===P.query&&(X||H.fragment===P.fragment);if(I(H.authority,P.authority))return c.KM(H.path,P.path,this._ignorePathCasing(H),"/")&&H.query===P.query&&(X||H.fragment===P.fragment)}return!1}joinPath(H,...P){return $.o.joinPath(H,...P)}basenameOrAuthority(H){return m(H)||H.authority}basename(H){return g.KR.basename(H.path)}extname(H){return g.KR.extname(H.path)}dirname(H){if(H.path.length===0)return H;let P;return H.scheme===F.lg.file?P=$.o.file(g.XX(N(H))).path:(P=g.KR.dirname(H.path),H.authority&&P.length&&P.charCodeAt(0)!==47&&(console.error(`dirname("${H.toString})) resulted in a relative path`),P="/")),H.with({path:P})}normalizePath(H){if(!H.path.length)return H;let P;return H.scheme===F.lg.file?P=$.o.file(g.Fv(N(H))).path:P=g.KR.normalize(H.path),H.with({path:P})}relativePath(H,P){if(H.scheme!==P.scheme||!I(H.authority,P.authority))return;if(H.scheme===F.lg.file){const U=g.Gf(N(H),N(P));return A.ED?c.ej(U):U}let X=H.path||"/";const q=P.path||"/";if(this._ignorePathCasing(H)){let U=0;for(const L=Math.min(X.length,q.length);U<L&&!(X.charCodeAt(U)!==q.charCodeAt(U)&&X.charAt(U).toLowerCase()!==q.charAt(U).toLowerCase());U++);X=q.substr(0,U)+X.substr(U)}return g.KR.relative(X,q)}resolvePath(H,P){if(H.scheme===F.lg.file){const X=$.o.file(g.DB(N(H),P));return H.with({authority:X.authority,path:X.path})}return P=c.fn(P),H.with({path:g.KR.resolve(H.path,P)})}isAbsolutePath(H){return!!H.path&&H.path[0]==="/"}isEqualAuthority(H,P){return H===P||H!==void 0&&P!==void 0&&(0,S.qq)(H,P)}hasTrailingPathSeparator(H,P=g.ir){if(H.scheme===F.lg.file){const X=N(H);return X.length>c.yj(X).length&&X[X.length-1]===P}else{const X=H.path;return X.length>1&&X.charCodeAt(X.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(H.fsPath)}}removeTrailingPathSeparator(H,P=g.ir){return M(H,P)?H.with({path:H.path.substr(0,H.path.length-1)}):H}addTrailingPathSeparator(H,P=g.ir){let X=!1;if(H.scheme===F.lg.file){const q=N(H);X=q!==void 0&&q.length===c.yj(q).length&&q[q.length-1]===P}else{P="/";const q=H.path;X=q.length===1&&q.charCodeAt(q.length-1)===47}return!X&&!M(H,P)?H.with({path:H.path+"/"}):H}}const O=new x(()=>!1),p=new x(Y=>Y.scheme===F.lg.file?!A.IJ:!0),a=new x(Y=>!0),d=O.isEqual.bind(O),f=O.isEqualOrParent.bind(O),s=O.getComparisonKey.bind(O),r=O.basenameOrAuthority.bind(O),m=O.basename.bind(O),C=O.extname.bind(O),u=O.dirname.bind(O),_=O.joinPath.bind(O),b=O.normalizePath.bind(O),E=O.relativePath.bind(O),D=O.resolvePath.bind(O),w=O.isAbsolutePath.bind(O),I=O.isEqualAuthority.bind(O),M=O.hasTrailingPathSeparator.bind(O),K=O.removeTrailingPathSeparator.bind(O),z=O.addTrailingPathSeparator.bind(O);var Q;(function(Y){Y.META_DATA_LABEL="label",Y.META_DATA_DESCRIPTION="description",Y.META_DATA_SIZE="size",Y.META_DATA_MIME="mime";function H(P){const X=new Map;P.path.substring(P.path.indexOf(";")+1,P.path.lastIndexOf(";")).split(";").forEach(L=>{const[B,j]=L.split(":");B&&j&&X.set(B,j)});const U=P.path.substring(0,P.path.indexOf(";"));return U&&X.set(Y.META_DATA_MIME,U),X}Y.parseMetaData=H})(Q||(Q={}))},61301:function(vt,be,i){"use strict";i.d(be,{Rm:function(){return A}});var c=i(94162),F=i(52357);class g{constructor(d,f,s,r,m,C,u){this._forceIntegerValues=d,this._scrollStateBrand=void 0,this._forceIntegerValues&&(f=f|0,s=s|0,r=r|0,m=m|0,C=C|0,u=u|0),this.rawScrollLeft=r,this.rawScrollTop=u,f<0&&(f=0),r+f>s&&(r=s-f),r<0&&(r=0),m<0&&(m=0),u+m>C&&(u=C-m),u<0&&(u=0),this.width=f,this.scrollWidth=s,this.scrollLeft=r,this.height=m,this.scrollHeight=C,this.scrollTop=u}equals(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}withScrollDimensions(d,f){return new g(this._forceIntegerValues,typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,f?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,f?this.rawScrollTop:this.scrollTop)}withScrollPosition(d){return new g(this._forceIntegerValues,this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}createScrollEvent(d,f){const s=this.width!==d.width,r=this.scrollWidth!==d.scrollWidth,m=this.scrollLeft!==d.scrollLeft,C=this.height!==d.height,u=this.scrollHeight!==d.scrollHeight,_=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:f,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:r,scrollLeftChanged:m,heightChanged:C,scrollHeightChanged:u,scrollTopChanged:_}}}class A extends F.JT{constructor(d){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new c.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=d.smoothScrollDuration,this._scheduleAtNextAnimationFrame=d.scheduleAtNextAnimationFrame,this._state=new g(d.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(d){this._smoothScrollDuration=d}validateScrollPosition(d){return this._state.withScrollPosition(d)}getScrollDimensions(){return this._state}setScrollDimensions(d,f){var s;const r=this._state.withScrollDimensions(d,f);this._setState(r,Boolean(this._smoothScrolling)),(s=this._smoothScrolling)===null||s===void 0||s.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(d){const f=this._state.withScrollPosition(d);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(f,!1)}setScrollPositionSmooth(d,f){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(d);if(this._smoothScrolling){d={scrollLeft:typeof d.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:d.scrollLeft,scrollTop:typeof d.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:d.scrollTop};const s=this._state.withScrollPosition(d);if(this._smoothScrolling.to.scrollLeft===s.scrollLeft&&this._smoothScrolling.to.scrollTop===s.scrollTop)return;let r;f?r=new x(this._smoothScrolling.from,s,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,s,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const s=this._state.withScrollPosition(d);this._smoothScrolling=x.start(this._state,s,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const d=this._smoothScrolling.tick(),f=this._state.withScrollPosition(d);if(this._setState(f,!0),!!this._smoothScrolling){if(d.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(d,f){const s=this._state;s.equals(d)||(this._state=d,this._onScroll.fire(this._state.createScrollEvent(s,f)))}}class S{constructor(d,f,s){this.scrollLeft=d,this.scrollTop=f,this.isDone=s}}function $(a,d){const f=d-a;return function(s){return a+f*p(s)}}function N(a,d,f){return function(s){return s<f?a(s/f):d((s-f)/(1-f))}}class x{constructor(d,f,s,r){this.from=d,this.to=f,this.duration=r,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(d,f,s){if(Math.abs(d-f)>2.5*s){let m,C;return d<f?(m=d+.75*s,C=f-.75*s):(m=d-.75*s,C=f+.75*s),N($(d,m),$(C,f),.33)}return $(d,f)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(d){const f=(d-this.startTime)/this.duration;if(f<1){const s=this.scrollLeft(f),r=this.scrollTop(f);return new S(s,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(d,f,s){return x.start(d,f,s)}static start(d,f,s){s=s+10;const r=Date.now()-10;return new x(d,f,r,s)}}function O(a){return Math.pow(a,3)}function p(a){return 1-O(1-a)}},82787:function(vt,be,i){"use strict";var c=i(30613),F;(function(g){g[g.Ignore=0]="Ignore",g[g.Info=1]="Info",g[g.Warning=2]="Warning",g[g.Error=3]="Error"})(F||(F={})),function(g){const A="error",S="warning",$="warn",N="info",x="ignore";function O(a){return a?c.qq(A,a)?g.Error:c.qq(S,a)||c.qq($,a)?g.Warning:c.qq(N,a)?g.Info:g.Ignore:g.Ignore}g.fromValue=O;function p(a){switch(a){case g.Error:return A;case g.Warning:return S;case g.Info:return N;default:return x}}g.toString=p}(F||(F={})),be.Z=F},39589:function(vt,be,i){"use strict";i.d(be,{G:function(){return g}});var c=i(41420);const F=c.li.performance&&typeof c.li.performance.now=="function";class g{static create(S=!0){return new g(S)}constructor(S){this._highResolution=F&&S,this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?c.li.performance.now():Date.now()}}},30613:function(vt,be,i){"use strict";i.d(be,{$i:function(){return le},B4:function(){return Fe},C8:function(){return je},GF:function(){return s},HO:function(){return pe},IO:function(){return r},J_:function(){return ye},K7:function(){return $e},Kw:function(){return ne},LC:function(){return u},Mh:function(){return H},P1:function(){return P},PJ:function(){return ae},Qe:function(){return se},R1:function(){return f},T5:function(){return M},TT:function(){return D},Ut:function(){return _e},V8:function(){return _},W1:function(){return G},WU:function(){return $},YK:function(){return q},YU:function(){return N},ZG:function(){return X},ZH:function(){return L},ZK:function(){return Le},ab:function(){return Re},c1:function(){return Ce},df:function(){return z},ec:function(){return x},fy:function(){return O},j3:function(){return p},j_:function(){return I},m5:function(){return A},mK:function(){return K},mr:function(){return m},oH:function(){return ot},oL:function(){return a},ok:function(){return Y},ow:function(){return b},qq:function(){return Q},qu:function(){return E},rL:function(){return U},uS:function(){return J},un:function(){return d},uq:function(){return C},vH:function(){return y},vU:function(){return Te},zY:function(){return w}});var c=i(53228),F=i(48911),g;function A(ge){return!ge||typeof ge!="string"?!0:ge.trim().length===0}const S=/{(\d+)}/g;function $(ge,...ve){return ve.length===0?ge:ge.replace(S,function(we,Oe){const He=parseInt(Oe,10);return isNaN(He)||He<0||He>=ve.length?we:ve[He]})}function N(ge){return ge.replace(/[<>&]/g,function(ve){switch(ve){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ve}})}function x(ge){return ge.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function O(ge,ve=" "){const we=p(ge,ve);return a(we,ve)}function p(ge,ve){if(!ge||!ve)return ge;const we=ve.length;if(we===0||ge.length===0)return ge;let Oe=0;for(;ge.indexOf(ve,Oe)===Oe;)Oe=Oe+we;return ge.substring(Oe)}function a(ge,ve){if(!ge||!ve)return ge;const we=ve.length,Oe=ge.length;if(we===0||Oe===0)return ge;let He=Oe,mt=-1;for(;mt=ge.lastIndexOf(ve,He-1),!(mt===-1||mt+we!==He);){if(mt===0)return"";He=mt}return ge.substring(0,He)}function d(ge){return ge.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function f(ge){return ge.replace(/\*/g,"")}function s(ge,ve,we={}){if(!ge)throw new Error("Cannot create regex from empty string");ve||(ge=x(ge)),we.wholeWord&&(/\B/.test(ge.charAt(0))||(ge="\\b"+ge),/\B/.test(ge.charAt(ge.length-1))||(ge=ge+"\\b"));let Oe="";return we.global&&(Oe+="g"),we.matchCase||(Oe+="i"),we.multiline&&(Oe+="m"),we.unicode&&(Oe+="u"),new RegExp(ge,Oe)}function r(ge){return ge.source==="^"||ge.source==="^$"||ge.source==="$"||ge.source==="^\\s*$"?!1:!!(ge.exec("")&&ge.lastIndex===0)}function m(ge){return(ge.global?"g":"")+(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")}function C(ge){return ge.split(/\r\n|\r|\n/)}function u(ge){for(let ve=0,we=ge.length;ve<we;ve++){const Oe=ge.charCodeAt(ve);if(Oe!==32&&Oe!==9)return ve}return-1}function _(ge,ve=0,we=ge.length){for(let Oe=ve;Oe<we;Oe++){const He=ge.charCodeAt(Oe);if(He!==32&&He!==9)return ge.substring(ve,Oe)}return ge.substring(ve,we)}function b(ge,ve=ge.length-1){for(let we=ve;we>=0;we--){const Oe=ge.charCodeAt(we);if(Oe!==32&&Oe!==9)return we}return-1}function E(ge,ve){return ge<ve?-1:ge>ve?1:0}function D(ge,ve,we=0,Oe=ge.length,He=0,mt=ve.length){for(;we<Oe&&He<mt;we++,He++){const Ut=ge.charCodeAt(we),ut=ve.charCodeAt(He);if(Ut<ut)return-1;if(Ut>ut)return 1}const bt=Oe-we,kt=mt-He;return bt<kt?-1:bt>kt?1:0}function w(ge,ve){return I(ge,ve,0,ge.length,0,ve.length)}function I(ge,ve,we=0,Oe=ge.length,He=0,mt=ve.length){for(;we<Oe&&He<mt;we++,He++){let Ut=ge.charCodeAt(we),ut=ve.charCodeAt(He);if(Ut===ut)continue;if(Ut>=128||ut>=128)return D(ge.toLowerCase(),ve.toLowerCase(),we,Oe,He,mt);K(Ut)&&(Ut-=32),K(ut)&&(ut-=32);const Dt=Ut-ut;if(Dt!==0)return Dt}const bt=Oe-we,kt=mt-He;return bt<kt?-1:bt>kt?1:0}function M(ge){return ge>=48&&ge<=57}function K(ge){return ge>=97&&ge<=122}function z(ge){return ge>=65&&ge<=90}function Q(ge,ve){return ge.length===ve.length&&I(ge,ve)===0}function Y(ge,ve){const we=ve.length;return ve.length>ge.length?!1:I(ge,ve,0,we)===0}function H(ge,ve){const we=Math.min(ge.length,ve.length);let Oe;for(Oe=0;Oe<we;Oe++)if(ge.charCodeAt(Oe)!==ve.charCodeAt(Oe))return Oe;return we}function P(ge,ve){const we=Math.min(ge.length,ve.length);let Oe;const He=ge.length-1,mt=ve.length-1;for(Oe=0;Oe<we;Oe++)if(ge.charCodeAt(He-Oe)!==ve.charCodeAt(mt-Oe))return Oe;return we}function X(ge){return 55296<=ge&&ge<=56319}function q(ge){return 56320<=ge&&ge<=57343}function U(ge,ve){return(ge-55296<<10)+(ve-56320)+65536}function L(ge,ve,we){const Oe=ge.charCodeAt(we);if(X(Oe)&&we+1<ve){const He=ge.charCodeAt(we+1);if(q(He))return U(Oe,He)}return Oe}function B(ge,ve){const we=ge.charCodeAt(ve-1);if(q(we)&&ve>1){const Oe=ge.charCodeAt(ve-2);if(X(Oe))return U(Oe,we)}return we}class j{get offset(){return this._offset}constructor(ve,we=0){this._str=ve,this._len=ve.length,this._offset=we}setOffset(ve){this._offset=ve}prevCodePoint(){const ve=B(this._str,this._offset);return this._offset-=ve>=65536?2:1,ve}nextCodePoint(){const ve=L(this._str,this._len,this._offset);return this._offset+=ve>=65536?2:1,ve}eol(){return this._offset>=this._len}}class G{get offset(){return this._iterator.offset}constructor(ve,we=0){this._iterator=new j(ve,we)}nextGraphemeLength(){const ve=Ke.getInstance(),we=this._iterator,Oe=we.offset;let He=ve.getGraphemeBreakType(we.nextCodePoint());for(;!we.eol();){const mt=we.offset,bt=ve.getGraphemeBreakType(we.nextCodePoint());if(xe(He,bt)){we.setOffset(mt);break}He=bt}return we.offset-Oe}prevGraphemeLength(){const ve=Ke.getInstance(),we=this._iterator,Oe=we.offset;let He=ve.getGraphemeBreakType(we.prevCodePoint());for(;we.offset>0;){const mt=we.offset,bt=ve.getGraphemeBreakType(we.prevCodePoint());if(xe(bt,He)){we.setOffset(mt);break}He=bt}return Oe-we.offset}eol(){return this._iterator.eol()}}function y(ge,ve){return new G(ge,ve).nextGraphemeLength()}function pe(ge,ve){return new G(ge,ve).prevGraphemeLength()}function ye(ge,ve){ve>0&&q(ge.charCodeAt(ve))&&ve--;const we=ve+y(ge,ve);return[we-pe(ge,we),we]}let me;function Se(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function _e(ge){return me||(me=Se()),me.test(ge)}const he=/^[\t\n\r\x20-\x7E]*$/;function le(ge){return he.test(ge)}const se=/[\u2028\u2029]/;function Re(ge){return se.test(ge)}function $e(ge){return ge>=11904&&ge<=55215||ge>=63744&&ge<=64255||ge>=65281&&ge<=65374}function je(ge){return ge>=127462&&ge<=127487||ge===8986||ge===8987||ge===9200||ge===9203||ge>=9728&&ge<=10175||ge===11088||ge===11093||ge>=127744&&ge<=128591||ge>=128640&&ge<=128764||ge>=128992&&ge<=129008||ge>=129280&&ge<=129535||ge>=129648&&ge<=129782}const Ce=String.fromCharCode(65279);function J(ge){return!!(ge&&ge.length>0&&ge.charCodeAt(0)===65279)}function ne(ge,ve=!1){return ge?(ve&&(ge=ge.replace(/\\./g,"")),ge.toLowerCase()!==ge):!1}function ae(ge){return ge=ge%(2*26),ge<26?String.fromCharCode(97+ge):String.fromCharCode(65+ge-26)}function xe(ge,ve){return ge===0?ve!==5&&ve!==7:ge===2&&ve===3?!1:ge===4||ge===2||ge===3||ve===4||ve===2||ve===3?!0:!(ge===8&&(ve===8||ve===9||ve===11||ve===12)||(ge===11||ge===9)&&(ve===9||ve===10)||(ge===12||ge===10)&&ve===10||ve===5||ve===13||ve===7||ge===1||ge===13&&ve===14||ge===6&&ve===6)}class Ke{static getInstance(){return Ke._INSTANCE||(Ke._INSTANCE=new Ke),Ke._INSTANCE}constructor(){this._data=ct()}getGraphemeBreakType(ve){if(ve<32)return ve===10?3:ve===13?2:4;if(ve<127)return 0;const we=this._data,Oe=we.length/3;let He=1;for(;He<=Oe;)if(ve<we[3*He])He=2*He;else if(ve>we[3*He+1])He=2*He+1;else return we[3*He+2];return 0}}Ke._INSTANCE=null;function ct(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ot(ge,ve){if(ge===0)return 0;const we=dt(ge,ve);if(we!==void 0)return we;const Oe=new j(ve,ge);return Oe.prevCodePoint(),Oe.offset}function dt(ge,ve){const we=new j(ve,ge);let Oe=we.prevCodePoint();for(;et(Oe)||Oe===65039||Oe===8419;){if(we.offset===0)return;Oe=we.prevCodePoint()}if(!je(Oe))return;let He=we.offset;return He>0&&we.prevCodePoint()===8205&&(He=we.offset),He}function et(ge){return 127995<=ge&&ge<=127999}const Fe="\xA0";class Le{static getInstance(ve){return Le.cache.get(Array.from(ve))}static getLocales(){return Le._locales.value}constructor(ve){this.confusableDictionary=ve}isAmbiguous(ve){return this.confusableDictionary.has(ve)}getPrimaryConfusable(ve){return this.confusableDictionary.get(ve)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}g=Le,Le.ambiguousCharacterData=new F.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Le.cache=new c.t(ge=>{function ve(ut){const Dt=new Map;for(let ft=0;ft<ut.length;ft+=2)Dt.set(ut[ft],ut[ft+1]);return Dt}function we(ut,Dt){const ft=new Map(ut);for(const[Ft,Et]of Dt)ft.set(Ft,Et);return ft}function Oe(ut,Dt){if(!ut)return Dt;const ft=new Map;for(const[Ft,Et]of ut)Dt.has(Ft)&&ft.set(Ft,Et);return ft}const He=g.ambiguousCharacterData.value;let mt=ge.filter(ut=>!ut.startsWith("_")&&ut in He);mt.length===0&&(mt=["_default"]);let bt;for(const ut of mt){const Dt=ve(He[ut]);bt=Oe(bt,Dt)}const kt=ve(He._common),Ut=we(kt,bt);return new Le(Ut)}),Le._locales=new F.o(()=>Object.keys(Le.ambiguousCharacterData.value).filter(ge=>!ge.startsWith("_")));class Te{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Te.getRawData())),this._data}static isInvisibleCharacter(ve){return Te.getData().has(ve)}static get codePoints(){return Te.getData()}}Te._data=void 0},88925:function(vt,be,i){"use strict";i.d(be,{n:function(){return c}});const c=Symbol("MicrotaskDelay")},71818:function(vt,be,i){"use strict";i.d(be,{Id:function(){return N}});var c=i(30613);class F{constructor(){this._value="",this._pos=0}reset(O){return this._value=O,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(O){const p=O.charCodeAt(0),a=this._value.charCodeAt(this._pos);return p-a}value(){return this._value[this._pos]}}class g{constructor(O=!0){this._caseSensitive=O}reset(O){return this._value=O,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let O=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(O)this._from++;else break;else O=!1;return this}cmp(O){return this._caseSensitive?(0,c.TT)(O,this._value,0,O.length,this._from,this._to):(0,c.j_)(O,this._value,0,O.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class A{constructor(O=!0,p=!0){this._splitOnBackslash=O,this._caseSensitive=p}reset(O){this._from=0,this._to=0,this._value=O,this._valueLen=O.length;for(let p=O.length-1;p>=0;p--,this._valueLen--){const a=this._value.charCodeAt(p);if(!(a===47||this._splitOnBackslash&&a===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let O=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(p===47||this._splitOnBackslash&&p===92)if(O)this._from++;else break;else O=!1}return this}cmp(O){return this._caseSensitive?(0,c.TT)(O,this._value,0,O.length,this._from,this._to):(0,c.j_)(O,this._value,0,O.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class S{constructor(O,p){this._ignorePathCasing=O,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(O){return this._value=O,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new A(!1,!this._ignorePathCasing(O)),this._pathIterator.reset(O.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(O)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(O){if(this._states[this._stateIdx]===1)return(0,c.zY)(O,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,c.zY)(O,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(O);if(this._states[this._stateIdx]===4)return(0,c.qu)(O,this._value.query);if(this._states[this._stateIdx]===5)return(0,c.qu)(O,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class ${constructor(){this.height=1}rotateLeft(){const O=this.right;return this.right=O.left,O.left=this,this.updateHeight(),O.updateHeight(),O}rotateRight(){const O=this.left;return this.left=O.right,O.right=this,this.updateHeight(),O.updateHeight(),O}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var O,p;return(p=(O=this.left)===null||O===void 0?void 0:O.height)!==null&&p!==void 0?p:0}get heightRight(){var O,p;return(p=(O=this.right)===null||O===void 0?void 0:O.height)!==null&&p!==void 0?p:0}}class N{static forUris(O=()=>!1,p=()=>!1){return new N(new S(O,p))}static forStrings(){return new N(new F)}static forConfigKeys(){return new N(new g)}constructor(O){this._iter=O}clear(){this._root=void 0}set(O,p){const a=this._iter.reset(O);let d;this._root||(this._root=new $,this._root.segment=a.value());const f=[];for(d=this._root;;){const r=a.cmp(d.segment);if(r>0)d.left||(d.left=new $,d.left.segment=a.value()),f.push([-1,d]),d=d.left;else if(r<0)d.right||(d.right=new $,d.right.segment=a.value()),f.push([1,d]),d=d.right;else if(a.hasNext())a.next(),d.mid||(d.mid=new $,d.mid.segment=a.value()),f.push([0,d]),d=d.mid;else break}const s=d.value;d.value=p,d.key=O;for(let r=f.length-1;r>=0;r--){const m=f[r][1];m.updateHeight();const C=m.balanceFactor();if(C<-1||C>1){const u=f[r][0],_=f[r+1][0];if(u===1&&_===1)f[r][1]=m.rotateLeft();else if(u===-1&&_===-1)f[r][1]=m.rotateRight();else if(u===1&&_===-1)m.right=f[r+1][1]=f[r+1][1].rotateRight(),f[r][1]=m.rotateLeft();else if(u===-1&&_===1)m.left=f[r+1][1]=f[r+1][1].rotateLeft(),f[r][1]=m.rotateRight();else throw new Error;if(r>0)switch(f[r-1][0]){case-1:f[r-1][1].left=f[r][1];break;case 1:f[r-1][1].right=f[r][1];break;case 0:f[r-1][1].mid=f[r][1];break}else this._root=f[0][1]}}return s}get(O){var p;return(p=this._getNode(O))===null||p===void 0?void 0:p.value}_getNode(O){const p=this._iter.reset(O);let a=this._root;for(;a;){const d=p.cmp(a.segment);if(d>0)a=a.left;else if(d<0)a=a.right;else if(p.hasNext())p.next(),a=a.mid;else break}return a}has(O){const p=this._getNode(O);return!((p==null?void 0:p.value)===void 0&&(p==null?void 0:p.mid)===void 0)}delete(O){return this._delete(O,!1)}deleteSuperstr(O){return this._delete(O,!0)}_delete(O,p){var a;const d=this._iter.reset(O),f=[];let s=this._root;for(;s;){const r=d.cmp(s.segment);if(r>0)f.push([-1,s]),s=s.left;else if(r<0)f.push([1,s]),s=s.right;else if(d.hasNext())d.next(),f.push([0,s]),s=s.mid;else break}if(s){if(p?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const r=this._min(s.right);if(r.key){const{key:m,value:C,segment:u}=r;this._delete(r.key,!1),s.key=m,s.value=C,s.segment=u}}else{const r=(a=s.left)!==null&&a!==void 0?a:s.right;if(f.length>0){const[m,C]=f[f.length-1];switch(m){case-1:C.left=r;break;case 0:C.mid=r;break;case 1:C.right=r;break}}else this._root=r}for(let r=f.length-1;r>=0;r--){const m=f[r][1];m.updateHeight();const C=m.balanceFactor();if(C>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),f[r][1]=m.rotateLeft()):C<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),f[r][1]=m.rotateRight()),r>0)switch(f[r-1][0]){case-1:f[r-1][1].left=f[r][1];break;case 1:f[r-1][1].right=f[r][1];break;case 0:f[r-1][1].mid=f[r][1];break}else this._root=f[0][1]}}}_min(O){for(;O.left;)O=O.left;return O}findSubstr(O){const p=this._iter.reset(O);let a=this._root,d;for(;a;){const f=p.cmp(a.segment);if(f>0)a=a.left;else if(f<0)a=a.right;else if(p.hasNext())p.next(),d=a.value||d,a=a.mid;else break}return a&&a.value||d}findSuperstr(O){return this._findSuperstrOrElement(O,!1)}_findSuperstrOrElement(O,p){const a=this._iter.reset(O);let d=this._root;for(;d;){const f=a.cmp(d.segment);if(f>0)d=d.left;else if(f<0)d=d.right;else if(a.hasNext())a.next(),d=d.mid;else return d.mid?this._entries(d.mid):p?d.value:void 0}}forEach(O){for(const[p,a]of this)O(a,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(O){const p=[];return this._dfsEntries(O,p),p[Symbol.iterator]()}_dfsEntries(O,p){O&&(O.left&&this._dfsEntries(O.left,p),O.value&&p.push([O.key,O.value]),O.mid&&this._dfsEntries(O.mid,p),O.right&&this._dfsEntries(O.right,p))}}},81189:function(vt,be,i){"use strict";i.d(be,{k:function(){return g}});var c=i(54195),F;(function(A){function S($){return $&&typeof $=="object"&&typeof $.id=="string"}A.isThemeColor=S})(F||(F={}));var g;(function(A){A.iconNameSegment="[A-Za-z0-9]+",A.iconNameExpression="[A-Za-z0-9-]+",A.iconModifierExpression="~[A-Za-z]+",A.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${A.iconNameExpression})(${A.iconModifierExpression})?$`);function $(m){const C=S.exec(m.id);if(!C)return $(c.l.error);const[,u,_]=C,b=["codicon","codicon-"+u];return _&&b.push("codicon-modifier-"+_.substring(1)),b}A.asClassNameArray=$;function N(m){return $(m).join(" ")}A.asClassName=N;function x(m){return"."+$(m).join(".")}A.asCSSSelector=x;function O(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color=="undefined"||F.isThemeColor(m.color))}A.isThemeIcon=O;const p=new RegExp(`^\\$\\((${A.iconNameExpression}(?:${A.iconModifierExpression})?)\\)$`);function a(m){const C=p.exec(m);if(!C)return;const[,u]=C;return{id:u}}A.fromString=a;function d(m){return{id:m}}A.fromId=d;function f(m,C){let u=m.id;const _=u.lastIndexOf("~");return _!==-1&&(u=u.substring(0,_)),C&&(u=`${u}~${C}`),{id:u}}A.modify=f;function s(m){const C=m.id.lastIndexOf("~");if(C!==-1)return m.id.substring(C+1)}A.getModifier=s;function r(m,C){var u,_;return m.id===C.id&&((u=m.color)===null||u===void 0?void 0:u.id)===((_=C.color)===null||_===void 0?void 0:_.id)}A.isEqual=r})(g||(g={}))},67770:function(vt,be,i){"use strict";i.d(be,{$K:function(){return x},D8:function(){return f},HD:function(){return c},Jp:function(){return O},Kn:function(){return F},TW:function(){return S},cW:function(){return a},f6:function(){return r},fU:function(){return g},hj:function(){return A},jn:function(){return $},mf:function(){return d},o8:function(){return N},p_:function(){return p}});function c(m){return typeof m=="string"}function F(m){return typeof m=="object"&&m!==null&&!Array.isArray(m)&&!(m instanceof RegExp)&&!(m instanceof Date)}function g(m){const C=Object.getPrototypeOf(Uint8Array);return typeof m=="object"&&m instanceof C}function A(m){return typeof m=="number"&&!isNaN(m)}function S(m){return!!m&&typeof m[Symbol.iterator]=="function"}function $(m){return m===!0||m===!1}function N(m){return typeof m=="undefined"}function x(m){return!O(m)}function O(m){return N(m)||m===null}function p(m,C){if(!m)throw new Error(C?`Unexpected type, expected '${C}'`:"Unexpected type")}function a(m){if(O(m))throw new Error("Assertion Failed: argument is undefined or null");return m}function d(m){return typeof m=="function"}function f(m,C){const u=Math.min(m.length,C.length);for(let _=0;_<u;_++)s(m[_],C[_])}function s(m,C){if(c(C)){if(typeof m!==C)throw new Error(`argument does not match constraint: typeof ${C}`)}else if(d(C)){try{if(m instanceof C)return}catch(u){}if(!O(m)&&m.constructor===C||C.length===1&&C.call(void 0,m)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function r(m){return m===null?void 0:m}},28161:function(vt,be,i){"use strict";i.d(be,{A:function(){return F},K:function(){return c}});function c(g){return g<0?0:g>255?255:g|0}function F(g){return g<0?0:g>4294967295?4294967295:g|0}},39508:function(vt,be,i){"use strict";i.d(be,{o:function(){return d},q:function(){return u}});var c=i(33392),F=i(41420);const g=/^\w[\w\d+.-]*$/,A=/^\//,S=/^\/\//;function $(w,I){if(!w.scheme&&I)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!g.test(w.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!A.test(w.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(w.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function N(w,I){return!w&&!I?"file":w}function x(w,I){switch(w){case"https":case"http":case"file":I?I[0]!==p&&(I=p+I):I=p;break}return I}const O="",p="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(I){return I instanceof d?!0:I?typeof I.authority=="string"&&typeof I.fragment=="string"&&typeof I.path=="string"&&typeof I.query=="string"&&typeof I.scheme=="string"&&typeof I.fsPath=="string"&&typeof I.with=="function"&&typeof I.toString=="function":!1}constructor(I,M,K,z,Q,Y=!1){typeof I=="object"?(this.scheme=I.scheme||O,this.authority=I.authority||O,this.path=I.path||O,this.query=I.query||O,this.fragment=I.fragment||O):(this.scheme=N(I,Y),this.authority=M||O,this.path=x(this.scheme,K||O),this.query=z||O,this.fragment=Q||O,$(this,Y))}get fsPath(){return u(this,!1)}with(I){if(!I)return this;let{scheme:M,authority:K,path:z,query:Q,fragment:Y}=I;return M===void 0?M=this.scheme:M===null&&(M=O),K===void 0?K=this.authority:K===null&&(K=O),z===void 0?z=this.path:z===null&&(z=O),Q===void 0?Q=this.query:Q===null&&(Q=O),Y===void 0?Y=this.fragment:Y===null&&(Y=O),M===this.scheme&&K===this.authority&&z===this.path&&Q===this.query&&Y===this.fragment?this:new s(M,K,z,Q,Y)}static parse(I,M=!1){const K=a.exec(I);return K?new s(K[2]||O,D(K[4]||O),D(K[5]||O),D(K[7]||O),D(K[9]||O),M):new s(O,O,O,O,O)}static file(I){let M=O;if(F.ED&&(I=I.replace(/\\/g,p)),I[0]===p&&I[1]===p){const K=I.indexOf(p,2);K===-1?(M=I.substring(2),I=p):(M=I.substring(2,K),I=I.substring(K)||p)}return new s("file",M,I,O,O)}static from(I){const M=new s(I.scheme,I.authority,I.path,I.query,I.fragment);return $(M,!0),M}static joinPath(I,...M){if(!I.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let K;return F.ED&&I.scheme==="file"?K=d.file(c.Ku.join(u(I,!0),...M)).path:K=c.KR.join(I.path,...M),I.with({path:K})}toString(I=!1){return _(this,I)}toJSON(){return this}static revive(I){if(I){if(I instanceof d)return I;{const M=new s(I);return M._formatted=I.external,M._fsPath=I._sep===f?I.fsPath:null,M}}else return I}}const f=F.ED?1:void 0;class s extends d{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=u(this,!1)),this._fsPath}toString(I=!1){return I?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){const I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=f),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function m(w,I,M){let K,z=-1;for(let Q=0;Q<w.length;Q++){const Y=w.charCodeAt(Q);if(Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===45||Y===46||Y===95||Y===126||I&&Y===47||M&&Y===91||M&&Y===93||M&&Y===58)z!==-1&&(K+=encodeURIComponent(w.substring(z,Q)),z=-1),K!==void 0&&(K+=w.charAt(Q));else{K===void 0&&(K=w.substr(0,Q));const H=r[Y];H!==void 0?(z!==-1&&(K+=encodeURIComponent(w.substring(z,Q)),z=-1),K+=H):z===-1&&(z=Q)}}return z!==-1&&(K+=encodeURIComponent(w.substring(z))),K!==void 0?K:w}function C(w){let I;for(let M=0;M<w.length;M++){const K=w.charCodeAt(M);K===35||K===63?(I===void 0&&(I=w.substr(0,M)),I+=r[K]):I!==void 0&&(I+=w[M])}return I!==void 0?I:w}function u(w,I){let M;return w.authority&&w.path.length>1&&w.scheme==="file"?M=`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?I?M=w.path.substr(1):M=w.path[1].toLowerCase()+w.path.substr(2):M=w.path,F.ED&&(M=M.replace(/\//g,"\\")),M}function _(w,I){const M=I?C:m;let K="",{scheme:z,authority:Q,path:Y,query:H,fragment:P}=w;if(z&&(K+=z,K+=":"),(Q||z==="file")&&(K+=p,K+=p),Q){let X=Q.indexOf("@");if(X!==-1){const q=Q.substr(0,X);Q=Q.substr(X+1),X=q.lastIndexOf(":"),X===-1?K+=M(q,!1,!1):(K+=M(q.substr(0,X),!1,!1),K+=":",K+=M(q.substr(X+1),!1,!0)),K+="@"}Q=Q.toLowerCase(),X=Q.lastIndexOf(":"),X===-1?K+=M(Q,!1,!0):(K+=M(Q.substr(0,X),!1,!0),K+=Q.substr(X))}if(Y){if(Y.length>=3&&Y.charCodeAt(0)===47&&Y.charCodeAt(2)===58){const X=Y.charCodeAt(1);X>=65&&X<=90&&(Y=`/${String.fromCharCode(X+32)}:${Y.substr(3)}`)}else if(Y.length>=2&&Y.charCodeAt(1)===58){const X=Y.charCodeAt(0);X>=65&&X<=90&&(Y=`${String.fromCharCode(X+32)}:${Y.substr(2)}`)}K+=M(Y,!0,!1)}return H&&(K+="?",K+=M(H,!1,!1)),P&&(K+="#",K+=I?P:m(P,!1,!1)),K}function b(w){try{return decodeURIComponent(w)}catch(I){return w.length>3?w.substr(0,3)+b(w.substr(3)):w}}const E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function D(w){return w.match(E)?w.replace(E,I=>b(I)):w}},93059:function(vt,be,i){"use strict";i.d(be,{R:function(){return c}});const c=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let F;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?F=crypto.getRandomValues.bind(crypto):F=function(S){for(let $=0;$<S.length;$++)S[$]=Math.floor(Math.random()*256);return S};const g=new Uint8Array(16),A=[];for(let S=0;S<256;S++)A.push(S.toString(16).padStart(2,"0"));return function(){F(g),g[6]=g[6]&15|64,g[8]=g[8]&63|128;let $=0,N="";return N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N+="-",N+=A[g[$++]],N+=A[g[$++]],N+="-",N+=A[g[$++]],N+=A[g[$++]],N+="-",N+=A[g[$++]],N+=A[g[$++]],N+="-",N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N+=A[g[$++]],N}}()},23179:function(vt,be,i){"use strict";i.d(be,{H:function(){return f}});var c=i(97e3);var F=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,$=(s,r,m,C)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of A(r))!S.call(s,u)&&u!==m&&F(s,u,{get:()=>r[u],enumerable:!(C=g(r,u))||C.enumerable});return s},N=(s,r,m)=>($(s,r,"default"),m&&$(m,r,"default")),x={};N(x,c);var O={},p={},a=class{constructor(s){Qn(this,"_languageId");Qn(this,"_loadingTriggered");Qn(this,"_lazyLoadPromise");Qn(this,"_lazyLoadPromiseResolve");Qn(this,"_lazyLoadPromiseReject");this._languageId=s,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((r,m)=>{this._lazyLoadPromiseResolve=r,this._lazyLoadPromiseReject=m})}static getOrCreate(s){return p[s]||(p[s]=new a(s)),p[s]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,O[this._languageId].loader().then(s=>this._lazyLoadPromiseResolve(s),s=>this._lazyLoadPromiseReject(s))),this._lazyLoadPromise}};function d(s){return ua(this,null,function*(){yield a.getOrCreate(s).load(),x.editor.createModel("",s).dispose()})}function f(s){const r=s.id;O[r]=s,x.languages.register(s);const m=a.getOrCreate(r);x.languages.registerTokensProviderFactory(r,{create:()=>ua(this,null,function*(){return(yield m.load()).language})}),x.languages.onLanguage(r,()=>ua(this,null,function*(){const C=yield m.load();x.languages.setLanguageConfiguration(r,C.conf)}))}},16847:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>i.e(1318).then(i.bind(i,31318))})},81878:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>i.e(4626).then(i.bind(i,44626))})},9413:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>i.e(756).then(i.bind(i,70756))})},58659:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>i.e(6880).then(i.bind(i,86880))})},99484:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>i.e(9576).then(i.bind(i,79576))})},92965:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>i.e(4857).then(i.bind(i,74857))})},96028:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>i.e(1283).then(i.bind(i,81283))})},47090:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>i.e(1673).then(i.bind(i,81673))})},57684:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>i.e(8669).then(i.bind(i,48669))}),(0,c.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>i.e(8669).then(i.bind(i,48669))})},59293:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>i.e(5231).then(i.bind(i,85231))})},77761:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>i.e(8222).then(i.bind(i,28222))})},98854:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>i.e(2900).then(i.bind(i,72900))})},8421:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>i.e(471).then(i.bind(i,80471))})},49651:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>i.e(1619).then(i.bind(i,31619))})},34517:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>i.e(8795).then(i.bind(i,38795))})},2855:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>i.e(292).then(i.bind(i,10292))})},49346:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>i.e(5627).then(i.bind(i,75627))})},59001:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>i.e(2463).then(i.bind(i,52463))})},68271:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagAutoInterpolationDollar)}),(0,c.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagAngleInterpolationDollar)}),(0,c.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagBracketInterpolationDollar)}),(0,c.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagAngleInterpolationBracket)}),(0,c.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagBracketInterpolationBracket)}),(0,c.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagAutoInterpolationDollar)}),(0,c.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>i.e(2405).then(i.bind(i,62405)).then(F=>F.TagAutoInterpolationBracket)})},6637:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>i.e(1461).then(i.bind(i,11461))})},65780:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>i.e(2690).then(i.bind(i,62690))})},48324:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>i.e(3876).then(i.bind(i,83876))})},84108:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>i.e(4031).then(i.bind(i,54031))})},3058:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>i.e(151).then(i.bind(i,30151))})},97759:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>i.e(7988).then(i.bind(i,27988))})},66792:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>i.e(566).then(i.bind(i,80566))})},47491:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>i.e(8117).then(i.bind(i,57768))})},39854:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>i.e(7787).then(i.bind(i,57787))})},42974:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>i.e(5979).then(i.bind(i,45979))})},61943:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>i.e(6188).then(i.bind(i,36188))})},15124:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>i.e(8888).then(i.bind(i,18888))})},92286:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>i.e(9007).then(i.bind(i,69007))})},77874:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>i.e(5679).then(i.bind(i,5679))})},7236:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>i.e(9714).then(i.bind(i,89714))})},97813:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>i.e(942).then(i.bind(i,70942))})},86502:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>i.e(9431).then(i.bind(i,99431))})},42632:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>i.e(9719).then(i.bind(i,19719))})},9045:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>i.e(1740).then(i.bind(i,21740))})},59463:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>i.e(6359).then(i.bind(i,76359))})},96651:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>i.e(9669).then(i.bind(i,19669))})},51279:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>i.e(4698).then(i.bind(i,24698))})},62833:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>i.e(5e3).then(i.bind(i,25e3))})},31285:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>i.e(5395).then(i.bind(i,25395))})},98341:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>i.e(1415).then(i.bind(i,51415))})},80641:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>i.e(8309).then(i.bind(i,38309))})},67743:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"pla",extensions:[".pla"],loader:()=>i.e(4075).then(i.bind(i,54075))})},29153:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>i.e(1206).then(i.bind(i,31206))})},46764:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>i.e(530).then(i.bind(i,80530))})},67630:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>i.e(2989).then(i.bind(i,12989))})},3045:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>i.e(2603).then(i.bind(i,32603))})},13603:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>i.e(7260).then(i.bind(i,7260))})},32477:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>i.e(4798).then(i.bind(i,44798))})},1786:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>i.e(117).then(i.bind(i,30117))})},63888:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>i.e(5326).then(i.bind(i,65326))})},50283:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>i.e(5035).then(i.bind(i,75035))})},95774:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>i.e(2701).then(i.bind(i,52701))})},88672:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>i.e(5618).then(i.bind(i,55618))})},92643:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>i.e(8436).then(i.bind(i,8436))})},24166:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>i.e(3624).then(i.bind(i,3624))})},73518:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>i.e(5498).then(i.bind(i,5498))})},75885:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>i.e(1460).then(i.bind(i,91460))})},23088:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>i.e(2076).then(i.bind(i,12076))})},39914:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>i.e(6463).then(i.bind(i,6463))})},19089:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>i.e(6451).then(i.bind(i,10874))})},50425:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>i.e(4043).then(i.bind(i,44043))})},29259:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>i.e(395).then(i.bind(i,30395))})},50017:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>i.e(5012).then(i.bind(i,15012))})},66567:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>i.e(6078).then(i.bind(i,36078))})},62469:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>i.e(8112).then(i.bind(i,98112))})},43555:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>i.e(2702).then(i.bind(i,72702))})},56066:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>i.e(7).then(i.bind(i,10007))})},8740:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>i.e(4324).then(i.bind(i,54324))}),(0,c.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>i.e(4324).then(i.bind(i,54324))})},7969:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>i.e(2431).then(i.bind(i,12431))})},11723:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>i.e(3310).then(i.bind(i,73310))})},63742:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>i.e(4627).then(i.bind(i,74627))})},57054:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>i.e(6410).then(i.bind(i,86410))})},50073:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>i.e(9821).then(i.bind(i,89821))})},22815:function(vt,be,i){"use strict";i.r(be);var c=i(23179);(0,c.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>i.e(2042).then(i.bind(i,12042))})},99144:function(vt,be,i){"use strict";i.d(be,{N:function(){return F}});var c=i(56693);function F(g,A){g instanceof c.Z?(g.setFontFamily(A.getMassagedFontFamily()),g.setFontWeight(A.fontWeight),g.setFontSize(A.fontSize),g.setFontFeatureSettings(A.fontFeatureSettings),g.setFontVariationSettings(A.fontVariationSettings),g.setLineHeight(A.lineHeight),g.setLetterSpacing(A.letterSpacing)):(g.style.fontFamily=A.getMassagedFontFamily(),g.style.fontWeight=A.fontWeight,g.style.fontSize=A.fontSize+"px",g.style.fontFeatureSettings=A.fontFeatureSettings,g.style.fontVariationSettings=A.fontVariationSettings,g.style.lineHeight=A.lineHeight+"px",g.style.letterSpacing=A.letterSpacing+"px")}},70202:function(vt,be,i){"use strict";i.d(be,{I:function(){return g}});var c=i(52357),F=i(94162);class g extends c.JT{constructor(S,$){super(),this._onDidChange=this._register(new F.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(S=>{S&&S[0]&&S[0].contentRect?this.observe({width:S[0].contentRect.width,height:S[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,$){let N=0,x=0;$?(N=$.width,x=$.height):this._referenceDomElement&&(N=this._referenceDomElement.clientWidth,x=this._referenceDomElement.clientHeight),N=Math.max(5,N),x=Math.max(5,x),(this._width!==N||this._height!==x)&&(this._width=N,this._height=x,S&&this._onDidChange.fire())}}},66832:function(vt,be,i){"use strict";i.d(be,{g:function(){return d}});var c=i(26766),F=i(94162),g=i(52357),A=i(99144);class S{constructor(s,r){this.chr=s,this.type=r,this.width=0}fulfill(s){this.width=s}}class ${constructor(s,r){this._bareFontInfo=s,this._requests=r,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const s=document.createElement("div");s.style.position="absolute",s.style.top="-50000px",s.style.width="50000px";const r=document.createElement("div");(0,A.N)(r,this._bareFontInfo),s.appendChild(r);const m=document.createElement("div");(0,A.N)(m,this._bareFontInfo),m.style.fontWeight="bold",s.appendChild(m);const C=document.createElement("div");(0,A.N)(C,this._bareFontInfo),C.style.fontStyle="italic",s.appendChild(C);const u=[];for(const _ of this._requests){let b;_.type===0&&(b=r),_.type===2&&(b=m),_.type===1&&(b=C),b.appendChild(document.createElement("br"));const E=document.createElement("span");$._render(E,_),b.appendChild(E),u.push(E)}this._container=s,this._testElements=u}static _render(s,r){if(r.chr===" "){let m="\xA0";for(let C=0;C<8;C++)m+=m;s.innerText=m}else{let m=r.chr;for(let C=0;C<8;C++)m+=m;s.textContent=m}}_readFromDomElements(){for(let s=0,r=this._requests.length;s<r;s++){const m=this._requests[s],C=this._testElements[s];m.fulfill(C.offsetWidth/256)}}}function N(f,s){new $(f,s).read()}var x=i(32052),O=i(21858);class p extends g.JT{constructor(){super(),this._onDidChange=this._register(new F.Q5),this.onDidChange=this._onDidChange.event,this._cache=new a,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new a,this._onDidChange.fire()}_writeToCache(s,r){this._cache.put(s,r),!r.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let r=!1;for(const m of s)m.isTrusted||(r=!0,this._cache.remove(m));r&&this._onDidChange.fire()}readFontInfo(s){if(!this._cache.has(s)){let r=this._actualReadFontInfo(s);(r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.spaceWidth<=2||r.maxDigitWidth<=2)&&(r=new O.pR({pixelRatio:c.PixelRatio.value,fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,fontVariationSettings:r.fontVariationSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:r.isMonospace,typicalHalfwidthCharacterWidth:Math.max(r.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(r.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:r.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(r.spaceWidth,5),middotWidth:Math.max(r.middotWidth,5),wsmiddotWidth:Math.max(r.wsmiddotWidth,5),maxDigitWidth:Math.max(r.maxDigitWidth,5)},!1)),this._writeToCache(s,r)}return this._cache.get(s)}_createRequest(s,r,m,C){const u=new S(s,r);return m.push(u),C==null||C.push(u),u}_actualReadFontInfo(s){const r=[],m=[],C=this._createRequest("n",0,r,m),u=this._createRequest("\uFF4D",0,r,null),_=this._createRequest(" ",0,r,m),b=this._createRequest("0",0,r,m),E=this._createRequest("1",0,r,m),D=this._createRequest("2",0,r,m),w=this._createRequest("3",0,r,m),I=this._createRequest("4",0,r,m),M=this._createRequest("5",0,r,m),K=this._createRequest("6",0,r,m),z=this._createRequest("7",0,r,m),Q=this._createRequest("8",0,r,m),Y=this._createRequest("9",0,r,m),H=this._createRequest("\u2192",0,r,m),P=this._createRequest("\uFFEB",0,r,null),X=this._createRequest("\xB7",0,r,m),q=this._createRequest(String.fromCharCode(11825),0,r,null),U="|/-_ilm%";for(let y=0,pe=U.length;y<pe;y++)this._createRequest(U.charAt(y),0,r,m),this._createRequest(U.charAt(y),1,r,m),this._createRequest(U.charAt(y),2,r,m);N(s,r);const L=Math.max(b.width,E.width,D.width,w.width,I.width,M.width,K.width,z.width,Q.width,Y.width);let B=s.fontFeatureSettings===x.n0.OFF;const j=m[0].width;for(let y=1,pe=m.length;B&&y<pe;y++){const ye=j-m[y].width;if(ye<-.001||ye>.001){B=!1;break}}let G=!0;return B&&P.width!==j&&(G=!1),P.width>H.width&&(G=!1),new O.pR({pixelRatio:c.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:B,typicalHalfwidthCharacterWidth:C.width,typicalFullwidthCharacterWidth:u.width,canUseHalfwidthRightwardsArrow:G,spaceWidth:_.width,middotWidth:X.width,wsmiddotWidth:q.width,maxDigitWidth:L},!0)}}class a{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const r=s.getId();return!!this._values[r]}get(s){const r=s.getId();return this._values[r]}put(s,r){const m=s.getId();this._keys[m]=s,this._values[m]=r}remove(s){const r=s.getId();delete this._keys[r],delete this._values[r]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}const d=new p},13760:function(vt,be,i){"use strict";i.d(be,{n:function(){return g}});var c=i(94162);class F{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new c.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(S){return S==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(S,$){$==="terminalFocus"?this._tabFocusTerminal=S:this._tabFocusEditor=S,this._onDidChangeTabFocus.fire()}}const g=new F},23230:function(vt,be,i){"use strict";i.d(be,{Fz:function(){return C},Nl:function(){return r},RA:function(){return s},Tj:function(){return _},pd:function(){return f}});var c=i(26766),F=i(16563),g=i(25396),A=i(87415),S=i(96425),$=i(39460),N=i(94162),x=i(52357),O=i(70112),p=i(30613),a=i(9246),d=i(15489),f;(function(b){b.Tap="-monaco-textarea-synthetic-tap"})(f||(f={}));const s={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this._lastState=null}set(E,D){this._lastState={lastCopiedValue:E,data:D}}get(E){return this._lastState&&this._lastState.lastCopiedValue===E?this._lastState.data:(this._lastState=null,null)}}r.INSTANCE=new r;class m{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(E){E=E||"";const D={text:E,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=E.length,D}}class C extends x.JT{get textAreaState(){return this._textAreaState}constructor(E,D,w,I){super(),this._host=E,this._textArea=D,this._OS=w,this._browser=I,this._onFocus=this._register(new N.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new N.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new N.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new N.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new N.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new N.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new N.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new N.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new N.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new N.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new N.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new $.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new $.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=a.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let M=null;this._register(this._textArea.onKeyDown(K=>{const z=new A.y(K);(z.keyCode===109||this._currentComposition&&z.keyCode===1)&&z.stopPropagation(),z.equals(9)&&z.preventDefault(),M=z,this._onKeyDown.fire(z)})),this._register(this._textArea.onKeyUp(K=>{const z=new A.y(K);this._onKeyUp.fire(z)})),this._register(this._textArea.onCompositionStart(K=>{a.al&&console.log("[compositionstart]",K);const z=new m;if(this._currentComposition){this._currentComposition=z;return}if(this._currentComposition=z,this._OS===2&&M&&M.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===K.data&&(M.code==="ArrowRight"||M.code==="ArrowLeft")){a.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",K),z.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:K.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:K.data});return}this._onCompositionStart.fire({data:K.data})})),this._register(this._textArea.onCompositionUpdate(K=>{a.al&&console.log("[compositionupdate]",K);const z=this._currentComposition;if(!z)return;if(this._browser.isAndroid){const Y=a.un.readFromTextArea(this._textArea,this._textAreaState),H=a.un.deduceAndroidCompositionInput(this._textAreaState,Y);this._textAreaState=Y,this._onType.fire(H),this._onCompositionUpdate.fire(K);return}const Q=z.handleCompositionUpdate(K.data);this._textAreaState=a.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(Q),this._onCompositionUpdate.fire(K)})),this._register(this._textArea.onCompositionEnd(K=>{a.al&&console.log("[compositionend]",K);const z=this._currentComposition;if(!z)return;if(this._currentComposition=null,this._browser.isAndroid){const Y=a.un.readFromTextArea(this._textArea,this._textAreaState),H=a.un.deduceAndroidCompositionInput(this._textAreaState,Y);this._textAreaState=Y,this._onType.fire(H),this._onCompositionEnd.fire();return}const Q=z.handleCompositionUpdate(K.data);this._textAreaState=a.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(Q),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(K=>{if(a.al&&console.log("[input]",K),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const z=a.un.readFromTextArea(this._textArea,this._textAreaState),Q=a.un.deduceInput(this._textAreaState,z,this._OS===2);Q.replacePrevCharCnt===0&&Q.text.length===1&&(p.ZG(Q.text.charCodeAt(0))||Q.text.charCodeAt(0)===127)||(this._textAreaState=z,(Q.text!==""||Q.replacePrevCharCnt!==0||Q.replaceNextCharCnt!==0||Q.positionDelta!==0)&&this._onType.fire(Q))})),this._register(this._textArea.onCut(K=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(K),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(K=>{this._ensureClipboardGetsEditorSelection(K)})),this._register(this._textArea.onPaste(K=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),K.preventDefault(),!K.clipboardData)return;let[z,Q]=u.getTextData(K.clipboardData);z&&(Q=Q||r.INSTANCE.get(z),this._onPaste.fire({text:z,metadata:Q}))})),this._register(this._textArea.onFocus(()=>{const K=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!K&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let E=0;return F.nm(document,"selectionchange",D=>{if(S.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const w=Date.now(),I=w-E;if(E=w,I<5)return;const M=w-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),M<100||!this._textAreaState.selection)return;const K=this._textArea.getValue();if(this._textAreaState.value!==K)return;const z=this._textArea.getSelectionStart(),Q=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===z&&this._textAreaState.selectionEnd===Q)return;const Y=this._textAreaState.deduceEditorPosition(z),H=this._host.deduceModelPosition(Y[0],Y[1],Y[2]),P=this._textAreaState.deduceEditorPosition(Q),X=this._host.deduceModelPosition(P[0],P[1],P[2]),q=new d.Y(H.lineNumber,H.column,X.lineNumber,X.column);this._onSelectionChangeRequest.fire(q)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(E){this._hasFocus!==E&&(this._hasFocus=E,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(E,D){this._hasFocus||(D=D.collapseSelection()),D.writeToTextArea(E,this._textArea,this._hasFocus),this._textAreaState=D}writeScreenReaderContent(E){this._currentComposition||this._setAndWriteTextAreaState(E,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(E){const D=this._host.getDataToCopy(),w={version:1,isFromEmptySelection:D.isFromEmptySelection,multicursorText:D.multicursorText,mode:D.mode};r.INSTANCE.set(this._browser.isFirefox?D.text.replace(/\r\n/g,`
`):D.text,w),E.preventDefault(),E.clipboardData&&u.setTextData(E.clipboardData,D.text,D.html,w)}}class u{static getTextData(E){const D=E.getData(O.v.text);let w=null;const I=E.getData("vscode-editor-data");if(typeof I=="string")try{w=JSON.parse(I),w.version!==1&&(w=null)}catch(M){}return D.length===0&&w===null&&E.files.length>0?[Array.prototype.slice.call(E.files,0).map(K=>K.name).join(`
`),null]:[D,w]}static setTextData(E,D,w,I){E.setData(O.v.text,D),typeof w=="string"&&E.setData("text/html",w),E.setData("vscode-editor-data",JSON.stringify(I))}}class _ extends x.JT{constructor(E){super(),this._actual=E,this.onKeyDown=this._register(new g.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new g.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new g.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new g.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new g.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new g.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new g.Y(this._actual,"input")).event,this.onCut=this._register(new g.Y(this._actual,"cut")).event,this.onCopy=this._register(new g.Y(this._actual,"copy")).event,this.onPaste=this._register(new g.Y(this._actual,"paste")).event,this.onFocus=this._register(new g.Y(this._actual,"focus")).event,this.onBlur=this._register(new g.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new N.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.B.onKeyDown())),this._register(this.onBeforeInput(()=>S.B.onBeforeInput())),this._register(this.onInput(()=>S.B.onInput())),this._register(this.onKeyUp(()=>S.B.onKeyUp())),this._register(F.nm(this._actual,f.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const E=F.Ay(this._actual);return E?E.activeElement===this._actual:F.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(E){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(E,D){const w=this._actual;w.value!==D&&(this.setIgnoreSelectionChangeTime("setValue"),w.value=D)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(E,D,w){const I=this._actual;let M=null;const K=F.Ay(I);K?M=K.activeElement:M=document.activeElement;const z=M===I,Q=I.selectionStart,Y=I.selectionEnd;if(z&&Q===D&&Y===w){c.isFirefox&&window.parent!==window&&I.focus();return}if(z){this.setIgnoreSelectionChangeTime("setSelectionRange"),I.setSelectionRange(D,w),c.isFirefox&&window.parent!==window&&I.focus();return}try{const H=F.vL(I);this.setIgnoreSelectionChangeTime("setSelectionRange"),I.focus(),I.setSelectionRange(D,w),F._0(I,H)}catch(H){}}}},9246:function(vt,be,i){"use strict";i.d(be,{al:function(){return g},ee:function(){return S},un:function(){return A}});var c=i(30613),F=i(22445);const g=!1;class A{constructor(N,x,O,p,a){this.value=N,this.selectionStart=x,this.selectionEnd=O,this.selection=p,this.newlineCountBeforeSelection=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(N,x){const O=N.getValue(),p=N.getSelectionStart(),a=N.getSelectionEnd();let d;if(x){const f=O.substring(0,p),s=x.value.substring(0,x.selectionStart);f===s&&(d=x.newlineCountBeforeSelection)}return new A(O,p,a,null,d)}collapseSelection(){return this.selectionStart===this.value.length?this:new A(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(N,x,O){g&&console.log(`writeToTextArea ${N}: ${this.toString()}`),x.setValue(N,this.value),O&&x.setSelectionRange(N,this.selectionStart,this.selectionEnd)}deduceEditorPosition(N){var x,O,p,a,d,f,s,r;if(N<=this.selectionStart){const u=this.value.substring(N,this.selectionStart);return this._finishDeduceEditorPosition((O=(x=this.selection)===null||x===void 0?void 0:x.getStartPosition())!==null&&O!==void 0?O:null,u,-1)}if(N>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,N);return this._finishDeduceEditorPosition((a=(p=this.selection)===null||p===void 0?void 0:p.getEndPosition())!==null&&a!==void 0?a:null,u,1)}const m=this.value.substring(this.selectionStart,N);if(m.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((f=(d=this.selection)===null||d===void 0?void 0:d.getStartPosition())!==null&&f!==void 0?f:null,m,1);const C=this.value.substring(N,this.selectionEnd);return this._finishDeduceEditorPosition((r=(s=this.selection)===null||s===void 0?void 0:s.getEndPosition())!==null&&r!==void 0?r:null,C,-1)}_finishDeduceEditorPosition(N,x,O){let p=0,a=-1;for(;(a=x.indexOf(`
`,a+1))!==-1;)p++;return[N,O*x.length,p]}static deduceInput(N,x,O){if(!N)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};g&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${N.toString()}`),console.log(`CURRENT STATE: ${x.toString()}`));const p=Math.min(c.Mh(N.value,x.value),N.selectionStart,x.selectionStart),a=Math.min(c.P1(N.value,x.value),N.value.length-N.selectionEnd,x.value.length-x.selectionEnd),d=N.value.substring(p,N.value.length-a),f=x.value.substring(p,x.value.length-a),s=N.selectionStart-p,r=N.selectionEnd-p,m=x.selectionStart-p,C=x.selectionEnd-p;if(g&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${d}>, selectionStart: ${s}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${m}, selectionEnd: ${C}`)),m===C){const _=N.selectionStart-p;return g&&console.log(`REMOVE PREVIOUS: ${_} chars`),{text:f,replacePrevCharCnt:_,replaceNextCharCnt:0,positionDelta:0}}const u=r-s;return{text:f,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(N,x){if(!N)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(g&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${N.toString()}`),console.log(`CURRENT STATE: ${x.toString()}`)),N.value===x.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:x.selectionEnd-N.selectionEnd};const O=Math.min(c.Mh(N.value,x.value),N.selectionEnd),p=Math.min(c.P1(N.value,x.value),N.value.length-N.selectionEnd),a=N.value.substring(O,N.value.length-p),d=x.value.substring(O,x.value.length-p),f=N.selectionStart-O,s=N.selectionEnd-O,r=x.selectionStart-O,m=x.selectionEnd-O;return g&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${f}, selectionEnd: ${s}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${r}, selectionEnd: ${m}`)),{text:d,replacePrevCharCnt:s,replaceNextCharCnt:a.length-s,positionDelta:m-d.length}}}A.EMPTY=new A("",0,0,null,void 0);class S{static _getPageOfLine(N,x){return Math.floor((N-1)/x)}static _getRangeForPage(N,x){const O=N*x,p=O+1,a=O+x;return new F.e(p,1,a+1,1)}static fromEditorSelection(N,x,O,p){const d=S._getPageOfLine(x.startLineNumber,O),f=S._getRangeForPage(d,O),s=S._getPageOfLine(x.endLineNumber,O),r=S._getRangeForPage(s,O);let m=f.intersectRanges(new F.e(1,1,x.startLineNumber,x.startColumn));if(p&&N.getValueLengthInRange(m,1)>500){const w=N.modifyPosition(m.getEndPosition(),-500);m=F.e.fromPositions(w,m.getEndPosition())}const C=N.getValueInRange(m,1),u=N.getLineCount(),_=N.getLineMaxColumn(u);let b=r.intersectRanges(new F.e(x.endLineNumber,x.endColumn,u,_));if(p&&N.getValueLengthInRange(b,1)>500){const w=N.modifyPosition(b.getStartPosition(),500);b=F.e.fromPositions(b.getStartPosition(),w)}const E=N.getValueInRange(b,1);let D;if(d===s||d+1===s)D=N.getValueInRange(x,1);else{const w=f.intersectRanges(x),I=r.intersectRanges(x);D=N.getValueInRange(w,1)+String.fromCharCode(8230)+N.getValueInRange(I,1)}return p&&D.length>2*500&&(D=D.substring(0,500)+String.fromCharCode(8230)+D.substring(D.length-500,D.length)),new A(C+D+E,C.length,C.length+D.length,x,m.endLineNumber-m.startLineNumber)}}},66631:function(vt,be,i){"use strict";i.r(be),i.d(be,{CoreEditingCommands:function(){return K},CoreEditorCommand:function(){return u},CoreNavigationCommands:function(){return D},EditorScroll_:function(){return _},RevealLine_:function(){return b}});var c=i(15779),F=i(26766),g=i(67770),A=i(26017),S=i(98981),$=i(76356),N=i(48657),x=i(43976),O=i(22445);class p{static columnSelect(H,P,X,q,U,L){const B=Math.abs(U-X)+1,j=X>U,G=q>L,y=q<L,pe=[];for(let ye=0;ye<B;ye++){const me=X+(j?-ye:ye),Se=H.columnFromVisibleColumn(P,me,q),_e=H.columnFromVisibleColumn(P,me,L),he=H.visibleColumnFromColumn(P,new x.L(me,Se)),le=H.visibleColumnFromColumn(P,new x.L(me,_e));y&&(he>L||le<q)||G&&(le>q||he<L)||pe.push(new N.rS(new O.e(me,Se,me,Se),0,0,new x.L(me,_e),0))}if(pe.length===0)for(let ye=0;ye<B;ye++){const me=X+(j?-ye:ye),Se=P.getLineMaxColumn(me);pe.push(new N.rS(new O.e(me,Se,me,Se),0,0,new x.L(me,Se),0))}return{viewStates:pe,reversed:j,fromLineNumber:X,fromVisualColumn:q,toLineNumber:U,toVisualColumn:L}}static columnSelectLeft(H,P,X){let q=X.toViewVisualColumn;return q>0&&q--,p.columnSelect(H,P,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,q)}static columnSelectRight(H,P,X){let q=0;const U=Math.min(X.fromViewLineNumber,X.toViewLineNumber),L=Math.max(X.fromViewLineNumber,X.toViewLineNumber);for(let j=U;j<=L;j++){const G=P.getLineMaxColumn(j),y=H.visibleColumnFromColumn(P,new x.L(j,G));q=Math.max(q,y)}let B=X.toViewVisualColumn;return B<q&&B++,this.columnSelect(H,P,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,B)}static columnSelectUp(H,P,X,q){const U=q?H.pageSize:1,L=Math.max(1,X.toViewLineNumber-U);return this.columnSelect(H,P,X.fromViewLineNumber,X.fromViewVisualColumn,L,X.toViewVisualColumn)}static columnSelectDown(H,P,X,q){const U=q?H.pageSize:1,L=Math.min(P.getLineCount(),X.toViewLineNumber+U);return this.columnSelect(H,P,X.fromViewLineNumber,X.fromViewVisualColumn,L,X.toViewVisualColumn)}}var a=i(60989),d=i(28238),f=i(33033),s=i(73805),r=i(23286),m=i(59477);const C=0;class u extends S._l{runEditorCommand(H,P,X){const q=P._getViewModel();q&&this.runCoreEditorCommand(q,X||{})}}var _;(function(Y){const H=function(X){if(!g.Kn(X))return!1;const q=X;return!(!g.HD(q.to)||!g.o8(q.by)&&!g.HD(q.by)||!g.o8(q.value)&&!g.hj(q.value)||!g.o8(q.revealCursor)&&!g.jn(q.revealCursor))};Y.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:H,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Y.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},Y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function P(X){let q;switch(X.to){case Y.RawDirection.Up:q=1;break;case Y.RawDirection.Right:q=2;break;case Y.RawDirection.Down:q=3;break;case Y.RawDirection.Left:q=4;break;default:return null}let U;switch(X.by){case Y.RawUnit.Line:U=1;break;case Y.RawUnit.WrappedLine:U=2;break;case Y.RawUnit.Page:U=3;break;case Y.RawUnit.HalfPage:U=4;break;case Y.RawUnit.Editor:U=5;break;case Y.RawUnit.Column:U=6;break;default:U=2}const L=Math.floor(X.value||1),B=!!X.revealCursor;return{direction:q,unit:U,value:L,revealCursor:B,select:!!X.select}}Y.parse=P})(_||(_={}));var b;(function(Y){const H=function(P){if(!g.Kn(P))return!1;const X=P;return!(!g.hj(X.lineNumber)&&!g.HD(X.lineNumber)||!g.o8(X.at)&&!g.HD(X.at))};Y.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:H,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Y.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(b||(b={}));class E{constructor(H){H.addImplementation(1e4,"code-editor",(P,X)=>{const q=P.get($.$).getFocusedCodeEditor();return q&&q.hasTextFocus()?this._runEditorCommand(P,q,X):!1}),H.addImplementation(1e3,"generic-dom-input-textarea",(P,X)=>{const q=document.activeElement;return q&&["input","textarea"].indexOf(q.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),H.addImplementation(0,"generic-dom",(P,X)=>{const q=P.get($.$).getActiveCodeEditor();return q?(q.focus(),this._runEditorCommand(P,q,X)):!1})}_runEditorCommand(H,P,X){const q=this.runEditorCommand(H,P,X);return q||!0}}var D;(function(Y){class H extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){if(!Re.position)return;se.model.pushStackElement(),se.setCursorStates(Re.source,3,[d.P.moveTo(se,se.getPrimaryCursorState(),this._inSelectionMode,Re.position,Re.viewPosition)])&&Re.revealType!==2&&se.revealPrimaryCursor(Re.source,!0,!0)}}Y.MoveTo=(0,S.fK)(new H({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),Y.MoveToSelect=(0,S.fK)(new H({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends u{runCoreEditorCommand(se,Re){se.model.pushStackElement();const $e=this._getColumnSelectResult(se,se.getPrimaryCursorState(),se.getCursorColumnSelectData(),Re);$e!==null&&(se.setCursorStates(Re.source,3,$e.viewStates.map(je=>N.Vi.fromViewState(je))),se.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:$e.fromLineNumber,fromViewVisualColumn:$e.fromVisualColumn,toViewLineNumber:$e.toLineNumber,toViewVisualColumn:$e.toVisualColumn}),$e.reversed?se.revealTopMostCursor(Re.source):se.revealBottomMostCursor(Re.source))}}Y.ColumnSelect=(0,S.fK)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(le,se,Re,$e){if(typeof $e.position=="undefined"||typeof $e.viewPosition=="undefined"||typeof $e.mouseColumn=="undefined")return null;const je=le.model.validatePosition($e.position),Ce=le.coordinatesConverter.validateViewPosition(new x.L($e.viewPosition.lineNumber,$e.viewPosition.column),je),J=$e.doColumnSelect?Re.fromViewLineNumber:Ce.lineNumber,ne=$e.doColumnSelect?Re.fromViewVisualColumn:$e.mouseColumn-1;return p.columnSelect(le.cursorConfig,le,J,ne,Ce.lineNumber,$e.mouseColumn-1)}}),Y.CursorColumnSelectLeft=(0,S.fK)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(le,se,Re,$e){return p.columnSelectLeft(le.cursorConfig,le,Re)}}),Y.CursorColumnSelectRight=(0,S.fK)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(le,se,Re,$e){return p.columnSelectRight(le.cursorConfig,le,Re)}});class X extends P{constructor(se){super(se),this._isPaged=se.isPaged}_getColumnSelectResult(se,Re,$e,je){return p.columnSelectUp(se.cursorConfig,se,$e,this._isPaged)}}Y.CursorColumnSelectUp=(0,S.fK)(new X({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3600,linux:{primary:0}}})),Y.CursorColumnSelectPageUp=(0,S.fK)(new X({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3595,linux:{primary:0}}}));class q extends P{constructor(se){super(se),this._isPaged=se.isPaged}_getColumnSelectResult(se,Re,$e,je){return p.columnSelectDown(se.cursorConfig,se,$e,this._isPaged)}}Y.CursorColumnSelectDown=(0,S.fK)(new q({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3602,linux:{primary:0}}})),Y.CursorColumnSelectPageDown=(0,S.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3596,linux:{primary:0}}}));class U extends u{constructor(){super({id:"cursorMove",precondition:void 0,description:d.N.description})}runCoreEditorCommand(se,Re){const $e=d.N.parse(Re);$e&&this._runCursorMove(se,Re.source,$e)}_runCursorMove(se,Re,$e){se.model.pushStackElement(),se.setCursorStates(Re,3,U._move(se,se.getCursorStates(),$e)),se.revealPrimaryCursor(Re,!0)}static _move(se,Re,$e){const je=$e.select,Ce=$e.value;switch($e.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return d.P.simpleMove(se,Re,$e.direction,je,Ce,$e.unit);case 11:case 13:case 12:case 14:return d.P.viewportMove(se,Re,$e.direction,je,Ce);default:return null}}}Y.CursorMoveImpl=U,Y.CursorMove=(0,S.fK)(new U);class L extends u{constructor(se){super(se),this._staticArgs=se.args}runCoreEditorCommand(se,Re){let $e=this._staticArgs;this._staticArgs.value===-1&&($e={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Re.pageSize||se.cursorConfig.pageSize}),se.model.pushStackElement(),se.setCursorStates(Re.source,3,d.P.simpleMove(se,se.getCursorStates(),$e.direction,$e.select,$e.value,$e.unit)),se.revealPrimaryCursor(Re.source,!0)}}Y.CursorLeft=(0,S.fK)(new L({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),Y.CursorLeftSelect=(0,S.fK)(new L({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1039}})),Y.CursorRight=(0,S.fK)(new L({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),Y.CursorRightSelect=(0,S.fK)(new L({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1041}})),Y.CursorUp=(0,S.fK)(new L({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),Y.CursorUpSelect=(0,S.fK)(new L({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),Y.CursorPageUp=(0,S.fK)(new L({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:11}})),Y.CursorPageUpSelect=(0,S.fK)(new L({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1035}})),Y.CursorDown=(0,S.fK)(new L({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),Y.CursorDownSelect=(0,S.fK)(new L({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),Y.CursorPageDown=(0,S.fK)(new L({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:12}})),Y.CursorPageDownSelect=(0,S.fK)(new L({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1036}})),Y.CreateCursor=(0,S.fK)(new class extends u{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(le,se){if(!se.position)return;let Re;se.wholeLine?Re=d.P.line(le,le.getPrimaryCursorState(),!1,se.position,se.viewPosition):Re=d.P.moveTo(le,le.getPrimaryCursorState(),!1,se.position,se.viewPosition);const $e=le.getCursorStates();if($e.length>1){const je=Re.modelState?Re.modelState.position:null,Ce=Re.viewState?Re.viewState.position:null;for(let J=0,ne=$e.length;J<ne;J++){const ae=$e[J];if(!(je&&!ae.modelState.selection.containsPosition(je))&&!(Ce&&!ae.viewState.selection.containsPosition(Ce))){$e.splice(J,1),le.model.pushStackElement(),le.setCursorStates(se.source,3,$e);return}}}$e.push(Re),le.model.pushStackElement(),le.setCursorStates(se.source,3,$e)}}),Y.LastCursorMoveToSelect=(0,S.fK)(new class extends u{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(le,se){if(!se.position)return;const Re=le.getLastAddedCursorIndex(),$e=le.getCursorStates(),je=$e.slice(0);je[Re]=d.P.moveTo(le,$e[Re],!0,se.position,se.viewPosition),le.model.pushStackElement(),le.setCursorStates(se.source,3,je)}});class B extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,d.P.moveToBeginningOfLine(se,se.getCursorStates(),this._inSelectionMode)),se.revealPrimaryCursor(Re.source,!0)}}Y.CursorHome=(0,S.fK)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),Y.CursorHomeSelect=(0,S.fK)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class j extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,this._exec(se.getCursorStates())),se.revealPrimaryCursor(Re.source,!0)}_exec(se){const Re=[];for(let $e=0,je=se.length;$e<je;$e++){const Ce=se[$e],J=Ce.modelState.position.lineNumber;Re[$e]=N.Vi.fromModelState(Ce.modelState.move(this._inSelectionMode,J,1,0))}return Re}}Y.CursorLineStart=(0,S.fK)(new j({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:0,mac:{primary:287}}})),Y.CursorLineStartSelect=(0,S.fK)(new j({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:0,mac:{primary:1311}}}));class G extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,d.P.moveToEndOfLine(se,se.getCursorStates(),this._inSelectionMode,Re.sticky||!1)),se.revealPrimaryCursor(Re.source,!0)}}Y.CursorEnd=(0,S.fK)(new G({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:C,kbExpr:s.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:c.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),Y.CursorEndSelect=(0,S.fK)(new G({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:C,kbExpr:s.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:c.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class y extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,this._exec(se,se.getCursorStates())),se.revealPrimaryCursor(Re.source,!0)}_exec(se,Re){const $e=[];for(let je=0,Ce=Re.length;je<Ce;je++){const J=Re[je],ne=J.modelState.position.lineNumber,ae=se.model.getLineMaxColumn(ne);$e[je]=N.Vi.fromModelState(J.modelState.move(this._inSelectionMode,ne,ae,0))}return $e}}Y.CursorLineEnd=(0,S.fK)(new y({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:0,mac:{primary:291}}})),Y.CursorLineEndSelect=(0,S.fK)(new y({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:0,mac:{primary:1315}}}));class pe extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,d.P.moveToBeginningOfBuffer(se,se.getCursorStates(),this._inSelectionMode)),se.revealPrimaryCursor(Re.source,!0)}}Y.CursorTop=(0,S.fK)(new pe({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2062,mac:{primary:2064}}})),Y.CursorTopSelect=(0,S.fK)(new pe({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class ye extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){se.model.pushStackElement(),se.setCursorStates(Re.source,3,d.P.moveToEndOfBuffer(se,se.getCursorStates(),this._inSelectionMode)),se.revealPrimaryCursor(Re.source,!0)}}Y.CursorBottom=(0,S.fK)(new ye({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2061,mac:{primary:2066}}})),Y.CursorBottomSelect=(0,S.fK)(new ye({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class me extends u{constructor(){super({id:"editorScroll",precondition:void 0,description:_.description})}determineScrollMethod(se){const Re=[6],$e=[1,2,3,4,5,6],je=[4,2],Ce=[1,3];return Re.includes(se.unit)&&je.includes(se.direction)?this._runHorizontalEditorScroll.bind(this):$e.includes(se.unit)&&Ce.includes(se.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(se,Re){const $e=_.parse(Re);if(!$e)return;const je=this.determineScrollMethod($e);je&&je(se,Re.source,$e)}_runVerticalEditorScroll(se,Re,$e){const je=this._computeDesiredScrollTop(se,$e);if($e.revealCursor){const Ce=se.getCompletelyVisibleViewRangeAtScrollTop(je);se.setCursorStates(Re,3,[d.P.findPositionInViewportIfOutside(se,se.getPrimaryCursorState(),Ce,$e.select)])}se.viewLayout.setScrollPosition({scrollTop:je},0)}_computeDesiredScrollTop(se,Re){if(Re.unit===1){const Ce=se.viewLayout.getFutureViewport(),J=se.getCompletelyVisibleViewRangeAtScrollTop(Ce.top),ne=se.coordinatesConverter.convertViewRangeToModelRange(J);let ae;Re.direction===1?ae=Math.max(1,ne.startLineNumber-Re.value):ae=Math.min(se.model.getLineCount(),ne.startLineNumber+Re.value);const xe=se.coordinatesConverter.convertModelPositionToViewPosition(new x.L(ae,1));return se.viewLayout.getVerticalOffsetForLineNumber(xe.lineNumber)}if(Re.unit===5){let Ce=0;return Re.direction===3&&(Ce=se.model.getLineCount()-se.cursorConfig.pageSize),se.viewLayout.getVerticalOffsetForLineNumber(Ce)}let $e;Re.unit===3?$e=se.cursorConfig.pageSize*Re.value:Re.unit===4?$e=Math.round(se.cursorConfig.pageSize/2)*Re.value:$e=Re.value;const je=(Re.direction===1?-1:1)*$e;return se.viewLayout.getCurrentScrollTop()+je*se.cursorConfig.lineHeight}_runHorizontalEditorScroll(se,Re,$e){const je=this._computeDesiredScrollLeft(se,$e);se.viewLayout.setScrollPosition({scrollLeft:je},0)}_computeDesiredScrollLeft(se,Re){const $e=(Re.direction===4?-1:1)*Re.value;return se.viewLayout.getCurrentScrollLeft()+$e*se.cursorConfig.typicalHalfwidthCharacterWidth}}Y.EditorScrollImpl=me,Y.EditorScroll=(0,S.fK)(new me),Y.ScrollLineUp=(0,S.fK)(new class extends u{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Up,by:_.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollPageUp=(0,S.fK)(new class extends u{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Up,by:_.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollEditorTop=(0,S.fK)(new class extends u{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Up,by:_.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollLineDown=(0,S.fK)(new class extends u{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Down,by:_.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollPageDown=(0,S.fK)(new class extends u{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Down,by:_.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollEditorBottom=(0,S.fK)(new class extends u{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Down,by:_.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollLeft=(0,S.fK)(new class extends u{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Left,by:_.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:se.source})}}),Y.ScrollRight=(0,S.fK)(new class extends u{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus}})}runCoreEditorCommand(le,se){Y.EditorScroll.runCoreEditorCommand(le,{to:_.RawDirection.Right,by:_.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:se.source})}});class Se extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){Re.position&&(se.model.pushStackElement(),se.setCursorStates(Re.source,3,[d.P.word(se,se.getPrimaryCursorState(),this._inSelectionMode,Re.position)]),Re.revealType!==2&&se.revealPrimaryCursor(Re.source,!0,!0))}}Y.WordSelect=(0,S.fK)(new Se({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),Y.WordSelectDrag=(0,S.fK)(new Se({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),Y.LastCursorWordSelect=(0,S.fK)(new class extends u{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(le,se){if(!se.position)return;const Re=le.getLastAddedCursorIndex(),$e=le.getCursorStates(),je=$e.slice(0),Ce=$e[Re];je[Re]=d.P.word(le,Ce,Ce.modelState.hasSelection(),se.position),le.model.pushStackElement(),le.setCursorStates(se.source,3,je)}});class _e extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){Re.position&&(se.model.pushStackElement(),se.setCursorStates(Re.source,3,[d.P.line(se,se.getPrimaryCursorState(),this._inSelectionMode,Re.position,Re.viewPosition)]),Re.revealType!==2&&se.revealPrimaryCursor(Re.source,!1,!0))}}Y.LineSelect=(0,S.fK)(new _e({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),Y.LineSelectDrag=(0,S.fK)(new _e({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class he extends u{constructor(se){super(se),this._inSelectionMode=se.inSelectionMode}runCoreEditorCommand(se,Re){if(!Re.position)return;const $e=se.getLastAddedCursorIndex(),je=se.getCursorStates(),Ce=je.slice(0);Ce[$e]=d.P.line(se,je[$e],this._inSelectionMode,Re.position,Re.viewPosition),se.model.pushStackElement(),se.setCursorStates(Re.source,3,Ce)}}Y.LastCursorLineSelect=(0,S.fK)(new he({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),Y.LastCursorLineSelectDrag=(0,S.fK)(new he({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),Y.CancelSelection=(0,S.fK)(new class extends u{constructor(){super({id:"cancelSelection",precondition:s.u.hasNonEmptySelection,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(le,se){le.model.pushStackElement(),le.setCursorStates(se.source,3,[d.P.cancelSelection(le,le.getPrimaryCursorState())]),le.revealPrimaryCursor(se.source,!0)}}),Y.RemoveSecondaryCursors=(0,S.fK)(new class extends u{constructor(){super({id:"removeSecondaryCursors",precondition:s.u.hasMultipleSelections,kbOpts:{weight:C+1,kbExpr:s.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(le,se){le.model.pushStackElement(),le.setCursorStates(se.source,3,[le.getPrimaryCursorState()]),le.revealPrimaryCursor(se.source,!0),(0,A.i7)(c.NC("removedCursor","Removed secondary cursors"))}}),Y.RevealLine=(0,S.fK)(new class extends u{constructor(){super({id:"revealLine",precondition:void 0,description:b.description})}runCoreEditorCommand(le,se){const Re=se,$e=Re.lineNumber||0;let je=typeof $e=="number"?$e+1:parseInt($e)+1;je<1&&(je=1);const Ce=le.model.getLineCount();je>Ce&&(je=Ce);const J=new O.e(je,1,je,le.model.getLineMaxColumn(je));let ne=0;if(Re.at)switch(Re.at){case b.RawAtArgument.Top:ne=3;break;case b.RawAtArgument.Center:ne=1;break;case b.RawAtArgument.Bottom:ne=4;break;default:break}const ae=le.coordinatesConverter.convertModelRangeToViewRange(J);le.revealRange(se.source,!1,ae,ne,0)}}),Y.SelectAll=new class extends E{constructor(){super(S.Sq)}runDOMCommand(){F.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(le,se,Re){const $e=se._getViewModel();$e&&this.runCoreEditorCommand($e,Re)}runCoreEditorCommand(le,se){le.model.pushStackElement(),le.setCursorStates("keyboard",3,[d.P.selectAll(le,le.getPrimaryCursorState())])}},Y.SetSelection=(0,S.fK)(new class extends u{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(le,se){se.selection&&(le.model.pushStackElement(),le.setCursorStates(se.source,3,[N.Vi.fromModelSelection(se.selection)]))}})})(D||(D={}));const w=r.Ao.and(s.u.textInputFocus,s.u.columnSelection);function I(Y,H){m.W.registerKeybindingRule({id:Y,primary:H,when:w,weight:C+1})}I(D.CursorColumnSelectLeft.id,1039),I(D.CursorColumnSelectRight.id,1041),I(D.CursorColumnSelectUp.id,1040),I(D.CursorColumnSelectPageUp.id,1035),I(D.CursorColumnSelectDown.id,1042),I(D.CursorColumnSelectPageDown.id,1036);function M(Y){return Y.register(),Y}var K;(function(Y){class H extends S._l{runEditorCommand(X,q,U){const L=q._getViewModel();L&&this.runCoreEditingCommand(q,L,U||{})}}Y.CoreEditingCommand=H,Y.LineBreakInsert=(0,S.fK)(new class extends H{constructor(){super({id:"lineBreakInsert",precondition:s.u.writable,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(P,X,q){P.pushUndoStop(),P.executeCommands(this.id,f.u6.lineBreakInsert(X.cursorConfig,X.model,X.getCursorStates().map(U=>U.modelState.selection)))}}),Y.Outdent=(0,S.fK)(new class extends H{constructor(){super({id:"outdent",precondition:s.u.writable,kbOpts:{weight:C,kbExpr:r.Ao.and(s.u.editorTextFocus,s.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(P,X,q){P.pushUndoStop(),P.executeCommands(this.id,f.u6.outdent(X.cursorConfig,X.model,X.getCursorStates().map(U=>U.modelState.selection))),P.pushUndoStop()}}),Y.Tab=(0,S.fK)(new class extends H{constructor(){super({id:"tab",precondition:s.u.writable,kbOpts:{weight:C,kbExpr:r.Ao.and(s.u.editorTextFocus,s.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,X,q){P.pushUndoStop(),P.executeCommands(this.id,f.u6.tab(X.cursorConfig,X.model,X.getCursorStates().map(U=>U.modelState.selection))),P.pushUndoStop()}}),Y.DeleteLeft=(0,S.fK)(new class extends H{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(P,X,q){const[U,L]=a.A.deleteLeft(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map(B=>B.modelState.selection),X.getCursorAutoClosedCharacters());U&&P.pushUndoStop(),P.executeCommands(this.id,L),X.setPrevEditOperationType(2)}}),Y.DeleteRight=(0,S.fK)(new class extends H{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:C,kbExpr:s.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(P,X,q){const[U,L]=a.A.deleteRight(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map(B=>B.modelState.selection));U&&P.pushUndoStop(),P.executeCommands(this.id,L),X.setPrevEditOperationType(3)}}),Y.Undo=new class extends E{constructor(){super(S.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,X,q){if(!(!X.hasModel()||X.getOption(86)===!0))return X.getModel().undo()}},Y.Redo=new class extends E{constructor(){super(S.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,X,q){if(!(!X.hasModel()||X.getOption(86)===!0))return X.getModel().redo()}}})(K||(K={}));class z extends S.mY{constructor(H,P,X){super({id:H,precondition:void 0,description:X}),this._handlerId=P}runCommand(H,P){const X=H.get($.$).getFocusedCodeEditor();X&&X.trigger("keyboard",this._handlerId,P)}}function Q(Y,H){M(new z("default:"+Y,Y)),M(new z(Y,Y,H))}Q("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Q("replacePreviousChar"),Q("compositionType"),Q("compositionStart"),Q("compositionEnd"),Q("paste"),Q("cut")},84344:function(vt,be,i){"use strict";i.d(be,{d:function(){return u},B:function(){return r}});var c=i(2020),F=i(39193),g=i(70112),A=i(39508),S=i(15463),$=i(13540),N=i(20009),x=i(94814);const O={EDITORS:"CodeEditors",FILES:"CodeFiles"};function p(_){var b;const E=[];if(_.dataTransfer&&_.dataTransfer.types.length>0){const I=_.dataTransfer.getData(O.EDITORS);if(I)try{E.push(...(0,$.Q)(I))}catch(z){}else try{const z=_.dataTransfer.getData(c.g.RESOURCES);E.push(...a(z))}catch(z){}if(!((b=_.dataTransfer)===null||b===void 0)&&b.files)for(let z=0;z<_.dataTransfer.files.length;z++){const Q=_.dataTransfer.files[z];if(Q&&Q.path)try{E.push({resource:A.o.file(Q.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(Y){}}const M=_.dataTransfer.getData(O.FILES);if(M)try{const z=JSON.parse(M);for(const Q of z)E.push({resource:A.o.file(Q),isExternal:!0,allowWorkspaceOpen:!0})}catch(z){}const K=x.B.as(f.DragAndDropContribution).getAll();for(const z of K){const Q=_.dataTransfer.getData(z.dataFormatKey);if(Q)try{E.push(...z.getEditorInputs(Q))}catch(Y){}}}const D=[],w=new S.Y9;for(const I of E)I.resource?w.has(I.resource)||(D.push(I),w.set(I.resource,!0)):D.push(I);return D}function a(_){const b=[];if(_){const E=JSON.parse(_);for(const D of E)if(D.indexOf(":")>0){const{selection:w,uri:I}=(0,N.xI)(A.o.parse(D));b.push({resource:I,options:{selection:w}})}}return b}class d{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const f={DragAndDropContribution:"workbench.contributions.dragAndDrop"};x.B.add(f.DragAndDropContribution,new d);var s=function(_,b,E,D){function w(I){return I instanceof E?I:new E(function(M){M(I)})}return new(E||(E=Promise))(function(I,M){function K(Y){try{Q(D.next(Y))}catch(H){M(H)}}function z(Y){try{Q(D.throw(Y))}catch(H){M(H)}}function Q(Y){Y.done?I(Y.value):w(Y.value).then(K,z)}Q((D=D.apply(_,b||[])).next())})};function r(_){const b=new F.Hl;for(const E of _.items){const D=E.type;if(E.kind==="string"){const w=new Promise(I=>E.getAsString(I));b.append(D,(0,F.ZO)(w))}else if(E.kind==="file"){const w=E.getAsFile();w&&b.append(D,m(w))}}return b}function m(_){const b=_.path?A.o.parse(_.path):void 0;return(0,F.Ix)(_.name,b,()=>s(this,void 0,void 0,function*(){return new Uint8Array(yield _.arrayBuffer())}))}const C=Object.freeze([O.EDITORS,O.FILES,c.g.RESOURCES]);function u(_,b,E=!1){var D;if(b.dataTransfer&&(E||!_.has(g.v.uriList))){const w=p(b).filter(I=>I.resource).map(I=>I.resource.toString());for(const I of(D=b.dataTransfer)===null||D===void 0?void 0:D.items){const M=I.getAsFile();M&&w.push(M.path?A.o.file(M.path).toString():M.name)}w.length&&_.replace(g.v.uriList,(0,F.ZO)(F.Z0.create(w)))}for(const w of C)_.delete(w)}},60920:function(vt,be,i){"use strict";i.d(be,{CL:function(){return F},Pi:function(){return S},QI:function(){return g}});var c=i(12957);function F($){return $&&typeof $.getEditorType=="function"?$.getEditorType()===c.g.ICodeEditor:!1}function g($){return $&&typeof $.getEditorType=="function"?$.getEditorType()===c.g.IDiffEditor:!1}function A($){return!!$&&typeof $=="object"&&typeof $.onDidChangeActiveEditor=="function"}function S($){return F($)?$:g($)?$.getModifiedEditor():A($)&&F($.activeCodeEditor)?$.activeCodeEditor:null}},25149:function(vt,be,i){"use strict";i.d(be,{AL:function(){return m},N5:function(){return s},Pp:function(){return d},YN:function(){return N},gy:function(){return f},kG:function(){return a},rU:function(){return x},t7:function(){return C},tC:function(){return r}});var c=i(16563),F=i(69782),g=i(74580),A=i(39460),S=i(52357),$=i(78382);class N{constructor(E,D){this.x=E,this.y=D,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new x(this.x-window.scrollX,this.y-window.scrollY)}}class x{constructor(E,D){this.clientX=E,this.clientY=D,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new N(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class O{constructor(E,D,w,I){this.x=E,this.y=D,this.width=w,this.height=I,this._editorPagePositionBrand=void 0}}class p{constructor(E,D){this.x=E,this.y=D,this._positionRelativeToEditorBrand=void 0}}function a(b){const E=c.i(b);return new O(E.left,E.top,E.width,E.height)}function d(b,E,D){const w=E.width/b.offsetWidth,I=E.height/b.offsetHeight,M=(D.x-E.x)/w,K=(D.y-E.y)/I;return new p(M,K)}class f extends g.n{constructor(E,D,w){super(E),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=D,this.pos=new N(this.posx,this.posy),this.editorPos=a(w),this.relativePos=d(w,this.editorPos,this.pos)}}class s{constructor(E){this._editorViewDomNode=E}_create(E){return new f(E,!1,this._editorViewDomNode)}onContextMenu(E,D){return c.nm(E,"contextmenu",w=>{D(this._create(w))})}onMouseUp(E,D){return c.nm(E,"mouseup",w=>{D(this._create(w))})}onMouseDown(E,D){return c.nm(E,c.tw.MOUSE_DOWN,w=>{D(this._create(w))})}onPointerDown(E,D){return c.nm(E,c.tw.POINTER_DOWN,w=>{D(this._create(w),w.pointerId)})}onMouseLeave(E,D){return c.nm(E,c.tw.MOUSE_LEAVE,w=>{D(this._create(w))})}onMouseMove(E,D){return c.nm(E,"mousemove",w=>D(this._create(w)))}}class r{constructor(E){this._editorViewDomNode=E}_create(E){return new f(E,!1,this._editorViewDomNode)}onPointerUp(E,D){return c.nm(E,"pointerup",w=>{D(this._create(w))})}onPointerDown(E,D){return c.nm(E,c.tw.POINTER_DOWN,w=>{D(this._create(w),w.pointerId)})}onPointerLeave(E,D){return c.nm(E,c.tw.POINTER_LEAVE,w=>{D(this._create(w))})}onPointerMove(E,D){return c.nm(E,"pointermove",w=>D(this._create(w)))}}class m extends S.JT{constructor(E){super(),this._editorViewDomNode=E,this._globalPointerMoveMonitor=this._register(new F.C),this._keydownListener=null}startMonitoring(E,D,w,I,M){this._keydownListener=c.mu(document,"keydown",K=>{K.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,K.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(E,D,w,K=>{I(new f(K,!0,this._editorViewDomNode))},K=>{this._keydownListener.dispose(),M(K)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class C{constructor(E){this._editor=E,this._instanceId=++C._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new A.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(E){const D=this.getOrCreateRule(E);return D.increaseRefCount(),{className:D.className,dispose:()=>{D.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(E){const D=this.computeUniqueKey(E);let w=this._rules.get(D);if(!w){const I=this._counter++;w=new u(D,`dyn-rule-${this._instanceId}-${I}`,c.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,E),this._rules.set(D,w)}return w}computeUniqueKey(E){return JSON.stringify(E)}garbageCollect(){for(const E of this._rules.values())E.hasReferences()||(this._rules.delete(E.key),E.dispose())}}C._idPool=0;class u{constructor(E,D,w,I){this.key=E,this.className=D,this.properties=I,this._referenceCount=0,this._styleElement=c.dS(w),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(E,D){let w=`.${E} {`;for(const I in D){const M=D[I];let K;typeof M=="object"?K=(0,$.n_1)(M.id):K=M;const z=_(I);w+=`
	${z}: ${K};`}return w+=`
}`,w}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function _(b){return b.replace(/(^[A-Z])/,([E])=>E.toLowerCase()).replace(/([A-Z])/g,([E])=>`-${E.toLowerCase()}`)}},98981:function(vt,be,i){"use strict";i.d(be,{AJ:function(){return C},QG:function(){return z},Qr:function(){return M},R6:function(){return b},Sq:function(){return L},Uc:function(){return Y},_K:function(){return Q},_l:function(){return _},fK:function(){return I},jY:function(){return E},kz:function(){return U},mY:function(){return m},n_:function(){return q},rn:function(){return K},sb:function(){return w},x1:function(){return D}});var c=i(15779),F=i(39508),g=i(76356),A=i(43976),S=i(6033),$=i(58295),N=i(49597),x=i(21760),O=i(23286),p=i(64700),a=i(59477),d=i(94814),f=i(43257),s=i(67770),r=i(18166);class m{constructor(j){this.id=j.id,this.precondition=j.precondition,this._kbOpts=j.kbOpts,this._menuOpts=j.menuOpts,this._description=j.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const j=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const G of j){let y=G.kbExpr;this.precondition&&(y?y=O.Ao.and(y,this.precondition):y=this.precondition);const pe={id:this.id,weight:G.weight,args:G.args,when:y,primary:G.primary,secondary:G.secondary,win:G.win,linux:G.linux,mac:G.mac};a.W.registerKeybindingRule(pe)}}x.P.registerCommand({id:this.id,handler:(j,G)=>this.runCommand(j,G),description:this._description})}_registerMenuItem(j){N.BH.appendMenuItem(j.menuId,{group:j.group,command:{id:this.id,title:j.title,icon:j.icon,precondition:this.precondition},when:j.when,order:j.order})}}class C extends m{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,G,y){return this._implementations.push({priority:j,name:G,implementation:y}),this._implementations.sort((pe,ye)=>ye.priority-pe.priority),{dispose:()=>{for(let pe=0;pe<this._implementations.length;pe++)if(this._implementations[pe].implementation===y){this._implementations.splice(pe,1);return}}}}runCommand(j,G){const y=j.get(r.VZ);y.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const pe of this._implementations){const ye=pe.implementation(j,G);if(ye)return y.trace(`Command '${this.id}' was handled by '${pe.name}'.`),typeof ye=="boolean"?void 0:ye}y.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class u extends m{constructor(j,G){super(G),this.command=j}runCommand(j,G){return this.command.runCommand(j,G)}}class _ extends m{static bindToContribution(j){return class extends _{constructor(y){super(y),this._callback=y.handler}runEditorCommand(y,pe,ye){const me=j(pe);me&&this._callback(me,ye)}}}static runEditorCommand(j,G,y,pe){const ye=j.get(g.$),me=ye.getFocusedCodeEditor()||ye.getActiveCodeEditor();if(me)return me.invokeWithinContext(Se=>{if(Se.get(O.i6).contextMatchesRules((0,s.f6)(y)))return pe(Se,me,G)})}runCommand(j,G){return _.runEditorCommand(j,G,this.precondition,(y,pe,ye)=>this.runEditorCommand(y,pe,ye))}}class b extends _{static convertOptions(j){let G;Array.isArray(j.menuOpts)?G=j.menuOpts:j.menuOpts?G=[j.menuOpts]:G=[];function y(pe){return pe.menuId||(pe.menuId=N.eH.EditorContext),pe.title||(pe.title=j.label),pe.when=O.Ao.and(j.precondition,pe.when),pe}return Array.isArray(j.contextMenuOpts)?G.push(...j.contextMenuOpts.map(y)):j.contextMenuOpts&&G.push(y(j.contextMenuOpts)),j.menuOpts=G,j}constructor(j){super(b.convertOptions(j)),this.label=j.label,this.alias=j.alias}runEditorCommand(j,G,y){return this.reportTelemetry(j,G),this.run(j,G,y||{})}reportTelemetry(j,G){j.get(f.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class E extends b{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,G){return this._implementations.push([j,G]),this._implementations.sort((y,pe)=>pe[0]-y[0]),{dispose:()=>{for(let y=0;y<this._implementations.length;y++)if(this._implementations[y][1]===G){this._implementations.splice(y,1);return}}}}run(j,G,y){for(const pe of this._implementations){const ye=pe[1](j,G,y);if(ye)return typeof ye=="boolean"?void 0:ye}}}class D extends N.Ke{run(j,...G){const y=j.get(g.$),pe=y.getFocusedCodeEditor()||y.getActiveCodeEditor();if(pe)return pe.invokeWithinContext(ye=>{if(ye.get(O.i6).contextMatchesRules((0,s.f6)(this.desc.precondition)))return this.runEditorCommand(ye,pe,...G)})}}function w(B,j){x.P.registerCommand(B,function(G,...y){const pe=G.get(p.TG),[ye,me]=y;(0,s.p_)(F.o.isUri(ye)),(0,s.p_)(A.L.isIPosition(me));const Se=G.get(S.q).getModel(ye);if(Se){const _e=A.L.lift(me);return pe.invokeFunction(j,Se,_e,...y.slice(2))}return G.get($.S).createModelReference(ye).then(_e=>new Promise((he,le)=>{try{const se=pe.invokeFunction(j,_e.object.textEditorModel,A.L.lift(me),y.slice(2));he(se)}catch(se){le(se)}}).finally(()=>{_e.dispose()}))})}function I(B){return P.INSTANCE.registerEditorCommand(B),B}function M(B){const j=new B;return P.INSTANCE.registerEditorAction(j),j}function K(B){return P.INSTANCE.registerEditorAction(B),B}function z(B){P.INSTANCE.registerEditorAction(B)}function Q(B,j,G){P.INSTANCE.registerEditorContribution(B,j,G)}var Y;(function(B){function j(me){return P.INSTANCE.getEditorCommand(me)}B.getEditorCommand=j;function G(){return P.INSTANCE.getEditorActions()}B.getEditorActions=G;function y(){return P.INSTANCE.getEditorContributions()}B.getEditorContributions=y;function pe(me){return P.INSTANCE.getEditorContributions().filter(Se=>me.indexOf(Se.id)>=0)}B.getSomeEditorContributions=pe;function ye(){return P.INSTANCE.getDiffEditorContributions()}B.getDiffEditorContributions=ye})(Y||(Y={}));const H={EditorCommonContributions:"editor.contributions"};class P{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(j,G,y){this.editorContributions.push({id:j,ctor:G,instantiation:y})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(j){j.register(),this.editorActions.push(j)}getEditorActions(){return this.editorActions}registerEditorCommand(j){j.register(),this.editorCommands[j.id]=j}getEditorCommand(j){return this.editorCommands[j]||null}}P.INSTANCE=new P,d.B.add(H.EditorCommonContributions,P.INSTANCE);function X(B){return B.register(),B}const q=X(new C({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:N.eH.MenubarEditMenu,group:"1_do",title:c.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:N.eH.CommandPalette,group:"",title:c.NC("undo","Undo"),order:1}]}));X(new u(q,{id:"default:undo",precondition:void 0}));const U=X(new C({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:N.eH.MenubarEditMenu,group:"1_do",title:c.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:N.eH.CommandPalette,group:"",title:c.NC("redo","Redo"),order:1}]}));X(new u(U,{id:"default:redo",precondition:void 0}));const L=X(new C({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:N.eH.MenubarSelectionMenu,group:"1_basic",title:c.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:N.eH.CommandPalette,group:"",title:c.NC("selectAll","Select All"),order:1}]}))},24467:function(vt,be,i){"use strict";i.d(be,{Gl:function(){return $},fo:function(){return S},vu:function(){return A}});var c=i(64700),F=i(39508),g=i(67770);const A=(0,c.yh)("IWorkspaceEditService");class S{constructor(O){this.metadata=O}static convert(O){return O.edits.map(p=>{if($.is(p))return $.lift(p);if(N.is(p))return N.lift(p);throw new Error("Unsupported edit")})}}class $ extends S{static is(O){return O instanceof $?!0:(0,g.Kn)(O)&&F.o.isUri(O.resource)&&(0,g.Kn)(O.textEdit)}static lift(O){return O instanceof $?O:new $(O.resource,O.textEdit,O.versionId,O.metadata)}constructor(O,p,a=void 0,d){super(d),this.resource=O,this.textEdit=p,this.versionId=a}}class N extends S{static is(O){return O instanceof N?!0:(0,g.Kn)(O)&&(Boolean(O.newResource)||Boolean(O.oldResource))}static lift(O){return O instanceof N?O:new N(O.oldResource,O.newResource,O.options,O.metadata)}constructor(O,p,a={},d){super(d),this.oldResource=O,this.newResource=p,this.options=a}}},76356:function(vt,be,i){"use strict";i.d(be,{$:function(){return F}});var c=i(64700);const F=(0,c.yh)("codeEditorService")},43167:function(vt,be,i){"use strict";i.d(be,{Z:function(){return c}});class c{static capture(g){let A=null,S=0;if(g.getScrollTop()!==0){const $=g.getVisibleRanges();if($.length>0){A=$[0].getStartPosition();const N=g.getTopForPosition(A.lineNumber,A.column);S=g.getScrollTop()-N}}return new c(A,S,g.getPosition())}constructor(g,A,S){this._visiblePosition=g,this._visiblePositionScrollDelta=A,this._cursorPosition=S}restore(g){if(this._visiblePosition){const A=g.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);g.setScrollTop(A+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(g){const A=g.getPosition();if(!this._cursorPosition||!A)return;const S=g.getTopForLineNumber(A.lineNumber)-g.getTopForLineNumber(this._cursorPosition.lineNumber);g.setScrollTop(g.getScrollTop()+S)}}},76934:function(vt,be,i){"use strict";i.d(be,{Gm:function(){return Jo}});var c=i(91680),F=i(98981),g=function(wt,e,o,v){var k=arguments.length,Z=k<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(wt,e,o,v);else for(var Ne=wt.length-1;Ne>=0;Ne--)(ce=wt[Ne])&&(Z=(k<3?ce(Z):k>3?ce(e,o,Z):ce(e,o))||Z);return k>3&&Z&&Object.defineProperty(e,o,Z),Z},A=function(wt,e){return function(o,v){e(o,v,wt)}};let S=class{constructor(e,o){}dispose(){}};S.ID="editor.contrib.markerDecorations",S=g([A(1,c.i)],S),(0,F._K)(S.ID,S,0);var $=i(15779),N=i(16563),x=i(50505),O=i(94162),p=i(52357),a=i(571),d=i(26766),f=i(16842),s=i(60060),r=i(41420),m=i(70202),C=i(66832);class u{constructor(e,o){this.key=e,this.migrate=o}apply(e){const o=u._read(e,this.key),v=Z=>u._read(e,Z),k=(Z,ce)=>u._write(e,Z,ce);this.migrate(o,v,k)}static _read(e,o){if(typeof e=="undefined")return;const v=o.indexOf(".");if(v>=0){const k=o.substring(0,v);return this._read(e[k],o.substring(v+1))}return e[o]}static _write(e,o,v){const k=o.indexOf(".");if(k>=0){const Z=o.substring(0,k);e[Z]=e[Z]||{},this._write(e[Z],o.substring(k+1),v);return}e[o]=v}}u.items=[];function _(wt,e){u.items.push(new u(wt,e))}function b(wt,e){_(wt,(o,v,k)=>{if(typeof o!="undefined"){for(const[Z,ce]of e)if(o===Z){k(wt,ce);return}}})}function E(wt){u.items.forEach(e=>e.apply(wt))}b("wordWrap",[[!0,"on"],[!1,"off"]]),b("lineNumbers",[[!0,"on"],[!1,"off"]]),b("cursorBlinking",[["visible","solid"]]),b("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),b("renderLineHighlight",[[!0,"line"],[!1,"none"]]),b("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),b("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),b("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),b("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),b("autoIndent",[[!1,"advanced"],[!0,"full"]]),b("matchBrackets",[[!0,"always"],[!1,"never"]]),b("renderFinalNewline",[[!0,"on"],[!1,"off"]]),b("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),_("autoClosingBrackets",(wt,e,o)=>{wt===!1&&(o("autoClosingBrackets","never"),typeof e("autoClosingQuotes")=="undefined"&&o("autoClosingQuotes","never"),typeof e("autoSurround")=="undefined"&&o("autoSurround","never"))}),_("renderIndentGuides",(wt,e,o)=>{typeof wt!="undefined"&&(o("renderIndentGuides",void 0),typeof e("guides.indentation")=="undefined"&&o("guides.indentation",!!wt))}),_("highlightActiveIndentGuide",(wt,e,o)=>{typeof wt!="undefined"&&(o("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")=="undefined"&&o("guides.highlightActiveIndentation",!!wt))});const D={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};_("suggest.filteredTypes",(wt,e,o)=>{if(wt&&typeof wt=="object"){for(const v of Object.entries(D))wt[v[0]]===!1&&typeof e(`suggest.${v[1]}`)=="undefined"&&o(`suggest.${v[1]}`,!1);o("suggest.filteredTypes",void 0)}}),_("quickSuggestions",(wt,e,o)=>{if(typeof wt=="boolean"){const v=wt?"on":"off";o("quickSuggestions",{comments:v,strings:v,other:v})}}),_("experimental.stickyScroll.enabled",(wt,e,o)=>{typeof wt=="boolean"&&(o("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")=="undefined"&&o("stickyScroll.enabled",wt))}),_("experimental.stickyScroll.maxLineCount",(wt,e,o)=>{typeof wt=="number"&&(o("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")=="undefined"&&o("stickyScroll.maxLineCount",wt))});var w=i(13760),I=i(32052),M=i(79426),K=i(21858),z=i(75845),Q=function(wt,e,o,v){var k=arguments.length,Z=k<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(wt,e,o,v);else for(var Ne=wt.length-1;Ne>=0;Ne--)(ce=wt[Ne])&&(Z=(k<3?ce(Z):k>3?ce(e,o,Z):ce(e,o))||Z);return k>3&&Z&&Object.defineProperty(e,o,Z),Z},Y=function(wt,e){return function(o,v){e(o,v,wt)}};let H=class extends p.JT{constructor(e,o,v,k){super(),this._accessibilityService=k,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new I.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new m.I(v,o.dimension)),this._rawOptions=B(o),this._validatedOptions=L.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(M.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(w.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(C.g.onDidChange(()=>this._recomputeOptions())),this._register(d.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),o=L.checkEquals(this.options,e);o!==null&&(this.options=e,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const e=this._readEnvConfiguration(),o=K.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),v=this._readFontInfo(o),k={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:v,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:w.n.getTabFocusMode("editorFocus"),accessibilitySupport:e.accessibilitySupport};return L.computeOptions(this._validatedOptions,k)}_readEnvConfiguration(){return{extraEditorClassName:X(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:d.isWebKit||d.isFirefox,pixelRatio:d.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return C.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const o=B(e);L.applyUpdate(this._rawOptions,o)&&(this._validatedOptions=L.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const o=P(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};H=Q([Y(3,z.F)],H);function P(wt){let e=0;for(;wt;)wt=Math.floor(wt/10),e++;return e||1}function X(){let wt="";return!d.isSafari&&!d.isWebkitWebView&&(wt+="no-user-select "),d.isSafari&&(wt+="no-minimap-shadow ",wt+="enable-user-select "),r.dz&&(wt+="mac "),wt}class q{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,o){this._values[e]=o}}class U{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,o){this._values[e]=o}}class L{static validateOptions(e){const o=new q;for(const v of I.Bc){const k=v.name==="_never_"?void 0:e[v.name];o._write(v.id,v.validate(k))}return o}static computeOptions(e,o){const v=new U;for(const k of I.Bc)v._write(k.id,k.compute(o,v,e._read(k.id)));return v}static _deepEquals(e,o){if(typeof e!="object"||typeof o!="object"||!e||!o)return e===o;if(Array.isArray(e)||Array.isArray(o))return Array.isArray(e)&&Array.isArray(o)?f.fS(e,o):!1;if(Object.keys(e).length!==Object.keys(o).length)return!1;for(const v in e)if(!L._deepEquals(e[v],o[v]))return!1;return!0}static checkEquals(e,o){const v=[];let k=!1;for(const Z of I.Bc){const ce=!L._deepEquals(e._read(Z.id),o._read(Z.id));v[Z.id]=ce,ce&&(k=!0)}return k?new I.Bb(v):null}static applyUpdate(e,o){let v=!1;for(const k of I.Bc)if(o.hasOwnProperty(k.name)){const Z=k.applyUpdate(e[k.name],o[k.name]);e[k.name]=Z.newValue,v=v||Z.didChange}return v}}function B(wt){const e=s.I8(wt);return E(e),e}var j=i(76356),G=i(15489),y=i(56693),pe=i(92759),ye=i(74580),me=i(25149);class Se extends p.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let v=0,k=e.length;v<k;v++){const Z=e[v];switch(Z.type){case 0:this.onCompositionStart(Z)&&(o=!0);break;case 1:this.onCompositionEnd(Z)&&(o=!0);break;case 2:this.onConfigurationChanged(Z)&&(o=!0);break;case 3:this.onCursorStateChanged(Z)&&(o=!0);break;case 4:this.onDecorationsChanged(Z)&&(o=!0);break;case 5:this.onFlushed(Z)&&(o=!0);break;case 6:this.onFocusChanged(Z)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(Z)&&(o=!0);break;case 8:this.onLineMappingChanged(Z)&&(o=!0);break;case 9:this.onLinesChanged(Z)&&(o=!0);break;case 10:this.onLinesDeleted(Z)&&(o=!0);break;case 11:this.onLinesInserted(Z)&&(o=!0);break;case 12:this.onRevealRangeRequest(Z)&&(o=!0);break;case 13:this.onScrollChanged(Z)&&(o=!0);break;case 15:this.onTokensChanged(Z)&&(o=!0);break;case 14:this.onThemeChanged(Z)&&(o=!0);break;case 16:this.onTokensColorsChanged(Z)&&(o=!0);break;case 17:this.onZonesChanged(Z)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(Z)}}o&&(this._shouldRender=!0)}}class _e extends Se{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class he{static write(e,o){e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){const v=[];let k=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(v[k++]=this.read(e)),e=e.parentElement;const Z=new Uint8Array(k);for(let ce=0;ce<k;ce++)Z[ce]=v[k-ce-1];return Z}}class le{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const v=this._viewLayout.getCurrentViewport();this.scrollTop=v.top,this.scrollLeft=v.left,this.viewportWidth=v.width,this.viewportHeight=v.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,o){return this._viewLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class se extends le{constructor(e,o,v){super(e,o),this._renderingContextBrand=void 0,this._viewLines=v}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Re{constructor(e,o,v){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=v}}class $e{static from(e){const o=new Array(e.length);for(let v=0,k=e.length;v<k;v++){const Z=e[v];o[v]=new $e(Z.left,Z.width)}return o}constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}class je{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class Ce{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class J{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class ne{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,v,k,Z){const ce=this._createRange();try{return ce.setStart(e,o),ce.setEnd(v,k),ce.getClientRects()}catch(Ne){return null}finally{this._detachRange(ce,Z)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(je.compare);const o=[];let v=0,k=e[0];for(let Z=1,ce=e.length;Z<ce;Z++){const Ne=e[Z];k.left+k.width+.9>=Ne.left?k.width=Math.max(k.width,Ne.left+Ne.width-k.left):(o[v++]=k,k=Ne)}return o[v++]=k,o}static _createHorizontalRangesFromClientRects(e,o,v){if(!e||e.length===0)return null;const k=[];for(let Z=0,ce=e.length;Z<ce;Z++){const Ne=e[Z];k[Z]=new je(Math.max(0,(Ne.left-o)/v),Ne.width/v)}return this._mergeAdjacentRanges(k)}static readHorizontalRanges(e,o,v,k,Z,ce){const Qe=e.children.length-1;if(0>Qe)return null;if(o=Math.min(Qe,Math.max(0,o)),k=Math.min(Qe,Math.max(0,k)),o===k&&v===Z&&v===0&&!e.children[o].firstChild){const Tt=e.children[o].getClientRects();return ce.markDidDomLayout(),this._createHorizontalRangesFromClientRects(Tt,ce.clientRectDeltaLeft,ce.clientRectScale)}o!==k&&k>0&&Z===0&&(k--,Z=1073741824);let qe=e.children[o].firstChild,it=e.children[k].firstChild;if((!qe||!it)&&(!qe&&v===0&&o>0&&(qe=e.children[o-1].firstChild,v=1073741824),!it&&Z===0&&k>0&&(it=e.children[k-1].firstChild,Z=1073741824)),!qe||!it)return null;v=Math.min(qe.textContent.length,Math.max(0,v)),Z=Math.min(it.textContent.length,Math.max(0,Z));const gt=this._readClientRects(qe,v,it,Z,ce.endNode);return ce.markDidDomLayout(),this._createHorizontalRangesFromClientRects(gt,ce.clientRectDeltaLeft,ce.clientRectScale)}}var ae=i(47004),xe=i(8101),Ke=i(33479);const ct=function(){return r.tY?!0:!(r.IJ||d.isFirefox||d.isSafari)}();let ot=!0;class dt{constructor(e,o){this.themeType=o;const v=e.options,k=v.get(47);v.get(35)==="off"?this.renderWhitespace=v.get(93):this.renderWhitespace="none",this.renderControlCharacters=v.get(88),this.spaceWidth=k.spaceWidth,this.middotWidth=k.middotWidth,this.wsmiddotWidth=k.wsmiddotWidth,this.useMonospaceOptimizations=k.isMonospace&&!v.get(30),this.canUseHalfwidthRightwardsArrow=k.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(63),this.stopRenderingLineAfter=v.get(111),this.fontLigatures=v.get(48)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class et{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,y.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(0,Ke.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,v,k){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const Z=v.getViewLineRenderingData(e),ce=this._options,Ne=ae.Kp.filter(Z.inlineDecorations,e,Z.minColumn,Z.maxColumn);let Qe=null;if((0,Ke.c3)(ce.themeType)||this._options.renderWhitespace==="selection"){const Tt=v.selections;for(const Nt of Tt){if(Nt.endLineNumber<e||Nt.startLineNumber>e)continue;const zt=Nt.startLineNumber===e?Nt.startColumn:Z.minColumn,Yt=Nt.endLineNumber===e?Nt.endColumn:Z.maxColumn;zt<Yt&&((0,Ke.c3)(ce.themeType)&&Ne.push(new ae.Kp(zt,Yt,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Qe||(Qe=[]),Qe.push(new xe.zG(zt-1,Yt-1))))}}const qe=new xe.IJ(ce.useMonospaceOptimizations,ce.canUseHalfwidthRightwardsArrow,Z.content,Z.continuesWithWrappedLine,Z.isBasicASCII,Z.containsRTL,Z.minColumn-1,Z.tokens,Ne,Z.tabSize,Z.startVisibleColumn,ce.spaceWidth,ce.middotWidth,ce.wsmiddotWidth,ce.stopRenderingLineAfter,ce.renderWhitespace,ce.renderControlCharacters,ce.fontLigatures!==I.n0.OFF,Qe);if(this._renderedViewLine&&this._renderedViewLine.input.equals(qe))return!1;k.appendString('<div style="top:'),k.appendString(String(o)),k.appendString("px;height:"),k.appendString(String(this._options.lineHeight)),k.appendString('px;" class="'),k.appendString(et.CLASS_NAME),k.appendString('">');const it=(0,xe.d1)(qe,k);k.appendString("</div>");let gt=null;return ot&&ct&&Z.isBasicASCII&&ce.useMonospaceOptimizations&&it.containsForeignElements===0&&(gt=new Fe(this._renderedViewLine?this._renderedViewLine.domNode:null,qe,it.characterMapping)),gt||(gt=ge(this._renderedViewLine?this._renderedViewLine.domNode:null,qe,it.characterMapping,it.containsRTL,it.containsForeignElements)),this._renderedViewLine=gt,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Fe:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Fe?this._renderedViewLine.monospaceAssumptionsAreValid():ot}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Fe&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,v,k){if(!this._renderedViewLine)return null;o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const Z=this._renderedViewLine.input.stopRenderingLineAfter;if(Z!==-1&&o>Z+1&&v>Z+1)return new J(!0,[new je(this.getWidth(k),0)]);Z!==-1&&o>Z+1&&(o=Z+1),Z!==-1&&v>Z+1&&(v=Z+1);const ce=this._renderedViewLine.getVisibleRangesForRange(e,o,v,k);return ce&&ce.length>0?new J(!1,ce):null}getColumnOfNodeOffset(e,o,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,v):1}}et.CLASS_NAME="view-line";class Fe{constructor(e,o,v){this._cachedWidth=-1,this.domNode=e,this.input=o;const k=Math.floor(o.lineContent.length/300);if(k>0){this._keyColumnPixelOffsetCache=new Float32Array(k);for(let Z=0;Z<k;Z++)this._keyColumnPixelOffsetCache[Z]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=v,this._charWidth=o.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const o=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*o)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return ot;if(this.input.lineContent.length<300){const e=this.getWidth(null),o=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),ot=!1)}return ot}toSlowRenderedLine(){return ge(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,v,k){const Z=this._getColumnPixelOffset(e,o,k),ce=this._getColumnPixelOffset(e,v,k);return[new je(Z,ce-Z)]}_getColumnPixelOffset(e,o,v){if(o<=300){const qe=this._characterMapping.getHorizontalOffset(o);return this._charWidth*qe}const k=Math.floor((o-1)/300)-1,Z=(k+1)*300+1;let ce=-1;if(this._keyColumnPixelOffsetCache&&(ce=this._keyColumnPixelOffsetCache[k],ce===-1&&(ce=this._actualReadPixelOffset(e,Z,v),this._keyColumnPixelOffsetCache[k]=ce)),ce===-1){const qe=this._characterMapping.getHorizontalOffset(o);return this._charWidth*qe}const Ne=this._characterMapping.getHorizontalOffset(Z),Qe=this._characterMapping.getHorizontalOffset(o);return ce+this._charWidth*(Qe-Ne)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,o,v){if(!this.domNode)return-1;const k=this._characterMapping.getDomPosition(o),Z=ne.readHorizontalRanges(this._getReadingTarget(this.domNode),k.partIndex,k.charIndex,k.partIndex,k.charIndex,v);return!Z||Z.length===0?-1:Z[0].left}getColumnOfNodeOffset(e,o,v){const k=o.textContent.length;let Z=-1;for(;o;)o=o.previousSibling,Z++;return this._characterMapping.getColumn(new xe.Nd(Z,v),k)}}class Le{constructor(e,o,v,k,Z){if(this.domNode=e,this.input=o,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=Z,this._cachedWidth=-1,this._pixelOffsetCache=null,!k||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ce=0,Ne=this._characterMapping.length;ce<=Ne;ce++)this._pixelOffsetCache[ce]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,v,k){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const Z=this._readPixelOffset(this.domNode,e,o,k);if(Z===-1)return null;const ce=this._readPixelOffset(this.domNode,e,v,k);return ce===-1?null:[new je(Z,ce-Z)]}return this._readVisibleRangesForRange(this.domNode,e,o,v,k)}_readVisibleRangesForRange(e,o,v,k,Z){if(v===k){const ce=this._readPixelOffset(e,o,v,Z);return ce===-1?null:[new je(ce,0)]}else return this._readRawVisibleRangesForRange(e,v,k,Z)}_readPixelOffset(e,o,v,k){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(k);const Z=this._getReadingTarget(e);return Z.firstChild?(k.markDidDomLayout(),Z.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const Z=this._pixelOffsetCache[v];if(Z!==-1)return Z;const ce=this._actualReadPixelOffset(e,o,v,k);return this._pixelOffsetCache[v]=ce,ce}return this._actualReadPixelOffset(e,o,v,k)}_actualReadPixelOffset(e,o,v,k){if(this._characterMapping.length===0){const Qe=ne.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,k);return!Qe||Qe.length===0?-1:Qe[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(k);const Z=this._characterMapping.getDomPosition(v),ce=ne.readHorizontalRanges(this._getReadingTarget(e),Z.partIndex,Z.charIndex,Z.partIndex,Z.charIndex,k);if(!ce||ce.length===0)return-1;const Ne=ce[0].left;if(this.input.isBasicASCII){const Qe=this._characterMapping.getHorizontalOffset(v),qe=Math.round(this.input.spaceWidth*Qe);if(Math.abs(qe-Ne)<=1)return qe}return Ne}_readRawVisibleRangesForRange(e,o,v,k){if(o===1&&v===this._characterMapping.length)return[new je(0,this.getWidth(k))];const Z=this._characterMapping.getDomPosition(o),ce=this._characterMapping.getDomPosition(v);return ne.readHorizontalRanges(this._getReadingTarget(e),Z.partIndex,Z.charIndex,ce.partIndex,ce.charIndex,k)}getColumnOfNodeOffset(e,o,v){const k=o.textContent.length;let Z=-1;for(;o;)o=o.previousSibling,Z++;return this._characterMapping.getColumn(new xe.Nd(Z,v),k)}}class Te extends Le{_readVisibleRangesForRange(e,o,v,k,Z){const ce=super._readVisibleRangesForRange(e,o,v,k,Z);if(!ce||ce.length===0||v===k||v===1&&k===this._characterMapping.length)return ce;if(!this.input.containsRTL){const Ne=this._readPixelOffset(e,o,k,Z);if(Ne!==-1){const Qe=ce[ce.length-1];Qe.left<Ne&&(Qe.width=Ne-Qe.left)}}return ce}}const ge=function(){return d.isWebKit?ve:we}();function ve(wt,e,o,v,k){return new Te(wt,e,o,v,k)}function we(wt,e,o,v,k){return new Le(wt,e,o,v,k)}var Oe=i(43976),He=i(22445),mt=i(90863),bt=i(14867);class kt{constructor(e=null){this.hitTarget=e,this.type=0}}class Ut{constructor(e,o,v){this.position=e,this.spanNode=o,this.injectedText=v,this.type=1}}var ut;(function(wt){function e(o,v,k){const Z=o.getPositionFromDOMInfo(v,k);return Z?new Ut(Z,v,null):new kt(v)}wt.createFromDOMInfo=e})(ut||(ut={}));class Dt{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class ft{static _deduceRage(e,o=null){return!o&&e?new He.e(e.lineNumber,e.column,e.lineNumber,e.column):o!=null?o:null}static createUnknown(e,o,v){return{type:0,element:e,mouseColumn:o,position:v,range:this._deduceRage(v)}}static createTextarea(e,o){return{type:1,element:e,mouseColumn:o,position:null,range:null}}static createMargin(e,o,v,k,Z,ce){return{type:e,element:o,mouseColumn:v,position:k,range:Z,detail:ce}}static createViewZone(e,o,v,k,Z){return{type:e,element:o,mouseColumn:v,position:k,range:this._deduceRage(k),detail:Z}}static createContentText(e,o,v,k,Z){return{type:6,element:e,mouseColumn:o,position:v,range:this._deduceRage(v,k),detail:Z}}static createContentEmpty(e,o,v,k){return{type:7,element:e,mouseColumn:o,position:v,range:this._deduceRage(v),detail:k}}static createContentWidget(e,o,v){return{type:9,element:e,mouseColumn:o,position:null,range:null,detail:v}}static createScrollbar(e,o,v){return{type:11,element:e,mouseColumn:o,position:v,range:this._deduceRage(v)}}static createOverlayWidget(e,o,v){return{type:12,element:e,mouseColumn:o,position:null,range:null,detail:v}}static createOutsideEditor(e,o,v,k){return{type:13,element:null,mouseColumn:e,position:o,range:this._deduceRage(o),outsidePosition:v,outsideDistance:k}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Ft{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Et{constructor(e,o,v){this.viewModel=e.viewModel;const k=e.configuration.options;this.layoutInfo=k.get(138),this.viewDomNode=o.viewDomNode,this.lineHeight=k.get(63),this.stickyTabStops=k.get(110),this.typicalHalfwidthCharacterWidth=k.get(47).typicalHalfwidthCharacterWidth,this.lastRenderData=v,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return Et.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const v=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(v){const k=v.verticalOffset+v.height/2,Z=e.viewModel.getLineCount();let ce=null,Ne,Qe=null;return v.afterLineNumber!==Z&&(Qe=new Oe.L(v.afterLineNumber+1,1)),v.afterLineNumber>0&&(ce=new Oe.L(v.afterLineNumber,e.viewModel.getLineMaxColumn(v.afterLineNumber))),Qe===null?Ne=ce:ce===null?Ne=Qe:o<k?Ne=ce:Ne=Qe,{viewZoneId:v.id,afterLineNumber:v.afterLineNumber,positionBefore:ce,positionAfter:Qe,position:Ne}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const k=this._context.viewModel.getLineCount(),Z=this._context.viewModel.getLineMaxColumn(k);return{range:new He.e(k,Z,k,Z),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),v=this._context.viewModel.getLineMaxColumn(o);return{range:new He.e(o,1,o,v),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return Et._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,v){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===v)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Ze{constructor(e,o,v,k){this.editorPos=o,this.pos=v,this.relativePos=k,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,_t._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class St extends Ze{constructor(e,o,v,k,Z){super(e,o,v,k),this._ctx=e,Z?(this.target=Z,this.targetPath=he.collect(Z,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?mt.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return ft.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return ft.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,o,v,k){return ft.createMargin(e,this.target,this._getMouseColumn(o),o,v,k)}fulfillViewZone(e,o,v){return ft.createViewZone(e,this.target,this._getMouseColumn(o),o,v)}fulfillContentText(e,o,v){return ft.createContentText(this.target,this._getMouseColumn(e),e,o,v)}fulfillContentEmpty(e,o){return ft.createContentEmpty(this.target,this._getMouseColumn(e),e,o)}fulfillContentWidget(e){return ft.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return ft.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return ft.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new St(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const jt={isAfterLines:!0};function Ct(wt){return{isAfterLines:!1,horizontalDistanceToText:wt}}class _t{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,v=he.collect(o,this._viewHelper.viewDomNode);return!!(Ft.isChildOfContentWidgets(v)||Ft.isChildOfOverflowingContentWidgets(v)||Ft.isChildOfOverlayWidgets(v))}createMouseTarget(e,o,v,k,Z){const ce=new Et(this._context,this._viewHelper,e),Ne=new St(ce,o,v,k,Z);try{const Qe=_t._createMouseTarget(ce,Ne,!1);if(Qe.type===6&&ce.stickyTabStops&&Qe.position!==null){const qe=_t._snapToSoftTabBoundary(Qe.position,ce.viewModel),it=He.e.fromPositions(qe,qe).plusRange(Qe.range);return Ne.fulfillContentText(qe,it,Qe.detail)}return Qe}catch(Qe){return Ne.fulfillUnknown()}}static _createMouseTarget(e,o,v){if(o.target===null){if(v)return o.fulfillUnknown();const ce=_t._doHitTest(e,o);return ce.type===1?_t.createMouseTargetFromHitTestPosition(e,o,ce.spanNode,ce.position,ce.injectedText):this._createMouseTarget(e,o.withTarget(ce.hitTarget),!0)}const k=o;let Z=null;return Z=Z||_t._hitTestContentWidget(e,k),Z=Z||_t._hitTestOverlayWidget(e,k),Z=Z||_t._hitTestMinimap(e,k),Z=Z||_t._hitTestScrollbarSlider(e,k),Z=Z||_t._hitTestViewZone(e,k),Z=Z||_t._hitTestMargin(e,k),Z=Z||_t._hitTestViewCursor(e,k),Z=Z||_t._hitTestTextArea(e,k),Z=Z||_t._hitTestViewLines(e,k,v),Z=Z||_t._hitTestScrollbar(e,k),Z||o.fulfillUnknown()}static _hitTestContentWidget(e,o){if(Ft.isChildOfContentWidgets(o.targetPath)||Ft.isChildOfOverflowingContentWidgets(o.targetPath)){const v=e.findAttribute(o.target,"widgetId");return v?o.fulfillContentWidget(v):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,o){if(Ft.isChildOfOverlayWidgets(o.targetPath)){const v=e.findAttribute(o.target,"widgetId");return v?o.fulfillOverlayWidget(v):o.fulfillUnknown()}return null}static _hitTestViewCursor(e,o){if(o.target){const v=e.lastRenderData.lastViewCursorsRenderData;for(const k of v)if(o.target===k.domNode)return o.fulfillContentText(k.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const v=e.lastRenderData.lastViewCursorsRenderData,k=o.mouseContentHorizontalOffset,Z=o.mouseVerticalOffset;for(const ce of v){if(k<ce.contentLeft||k>ce.contentLeft+ce.width)continue;const Ne=e.getVerticalOffsetForLineNumber(ce.position.lineNumber);if(Ne<=Z&&Z<=Ne+ce.height)return o.fulfillContentText(ce.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,o){const v=e.getZoneAtCoord(o.mouseVerticalOffset);if(v){const k=o.isInContentArea?8:5;return o.fulfillViewZone(k,v.position,v)}return null}static _hitTestTextArea(e,o){return Ft.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(e,o){if(o.isInMarginArea){const v=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),k=v.range.getStartPosition();let Z=Math.abs(o.relativePos.x);const ce={isAfterLines:v.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:Z};return Z-=e.layoutInfo.glyphMarginLeft,Z<=e.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,k,v.range,ce):(Z-=e.layoutInfo.glyphMarginWidth,Z<=e.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,k,v.range,ce):(Z-=e.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,k,v.range,ce)))}return null}static _hitTestViewLines(e,o,v){if(!Ft.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new Oe.L(1,1),jt);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const Z=e.viewModel.getLineCount(),ce=e.viewModel.getLineMaxColumn(Z);return o.fulfillContentEmpty(new Oe.L(Z,ce),jt)}if(v){if(Ft.isStrictChildOfViewLines(o.targetPath)){const Z=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.viewModel.getLineLength(Z)===0){const Ne=e.getLineWidth(Z),Qe=Ct(o.mouseContentHorizontalOffset-Ne);return o.fulfillContentEmpty(new Oe.L(Z,1),Qe)}const ce=e.getLineWidth(Z);if(o.mouseContentHorizontalOffset>=ce){const Ne=Ct(o.mouseContentHorizontalOffset-ce),Qe=new Oe.L(Z,e.viewModel.getLineMaxColumn(Z));return o.fulfillContentEmpty(Qe,Ne)}}return o.fulfillUnknown()}const k=_t._doHitTest(e,o);return k.type===1?_t.createMouseTargetFromHitTestPosition(e,o,k.spanNode,k.position,k.injectedText):this._createMouseTarget(e,o.withTarget(k.hitTarget),!0)}static _hitTestMinimap(e,o){if(Ft.isChildOfMinimap(o.targetPath)){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),k=e.viewModel.getLineMaxColumn(v);return o.fulfillScrollbar(new Oe.L(v,k))}return null}static _hitTestScrollbarSlider(e,o){if(Ft.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const v=o.target.className;if(v&&/\b(slider|scrollbar)\b/.test(v)){const k=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),Z=e.viewModel.getLineMaxColumn(k);return o.fulfillScrollbar(new Oe.L(k,Z))}}return null}static _hitTestScrollbar(e,o){if(Ft.isChildOfScrollableElement(o.targetPath)){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),k=e.viewModel.getLineMaxColumn(v);return o.fulfillScrollbar(new Oe.L(v,k))}return null}getMouseColumn(e){const o=this._context.configuration.options,v=o.get(138),k=this._context.viewLayout.getCurrentScrollLeft()+e.x-v.contentLeft;return _t._getMouseColumn(k,o.get(47).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,v,k,Z){const ce=k.lineNumber,Ne=k.column,Qe=e.getLineWidth(ce);if(o.mouseContentHorizontalOffset>Qe){const si=Ct(o.mouseContentHorizontalOffset-Qe);return o.fulfillContentEmpty(k,si)}const qe=e.visibleRangeForPosition(ce,Ne);if(!qe)return o.fulfillUnknown(k);const it=qe.left;if(Math.abs(o.mouseContentHorizontalOffset-it)<1)return o.fulfillContentText(k,null,{mightBeForeignElement:!!Z,injectedText:Z});const gt=[];if(gt.push({offset:qe.left,column:Ne}),Ne>1){const si=e.visibleRangeForPosition(ce,Ne-1);si&&gt.push({offset:si.left,column:Ne-1})}const Tt=e.viewModel.getLineMaxColumn(ce);if(Ne<Tt){const si=e.visibleRangeForPosition(ce,Ne+1);si&&gt.push({offset:si.left,column:Ne+1})}gt.sort((si,fi)=>si.offset-fi.offset);const Nt=o.pos.toClientCoordinates(),zt=v.getBoundingClientRect(),Yt=zt.left<=Nt.clientX&&Nt.clientX<=zt.right;let Xt=null;for(let si=1;si<gt.length;si++){const fi=gt[si-1],_i=gt[si];if(fi.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=_i.offset){Xt=new He.e(ce,fi.column,ce,_i.column);const Ai=Math.abs(fi.offset-o.mouseContentHorizontalOffset),Ii=Math.abs(_i.offset-o.mouseContentHorizontalOffset);k=Ai<Ii?new Oe.L(ce,fi.column):new Oe.L(ce,_i.column);break}}return o.fulfillContentText(k,Xt,{mightBeForeignElement:!Yt||!!Z,injectedText:Z})}static _doHitTestWithCaretRangeFromPoint(e,o){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),k=e.getVerticalOffsetForLineNumber(v),Z=k+e.lineHeight;if(!(v===e.viewModel.getLineCount()&&o.mouseVerticalOffset>Z)){const Ne=Math.floor((k+Z)/2);let Qe=o.pos.y+(Ne-o.mouseVerticalOffset);Qe<=o.editorPos.y&&(Qe=o.editorPos.y+1),Qe>=o.editorPos.y+o.editorPos.height&&(Qe=o.editorPos.y+o.editorPos.height-1);const qe=new me.YN(o.pos.x,Qe),it=this._actualDoHitTestWithCaretRangeFromPoint(e,qe.toClientCoordinates());if(it.type===1)return it}return this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const v=N.Ay(e.viewDomNode);let k;if(v?typeof v.caretRangeFromPoint=="undefined"?k=Kt(v,o.clientX,o.clientY):k=v.caretRangeFromPoint(o.clientX,o.clientY):k=document.caretRangeFromPoint(o.clientX,o.clientY),!k||!k.startContainer)return new kt;const Z=k.startContainer;if(Z.nodeType===Z.TEXT_NODE){const ce=Z.parentNode,Ne=ce?ce.parentNode:null,Qe=Ne?Ne.parentNode:null;return(Qe&&Qe.nodeType===Qe.ELEMENT_NODE?Qe.className:null)===et.CLASS_NAME?ut.createFromDOMInfo(e,ce,k.startOffset):new kt(Z.parentNode)}else if(Z.nodeType===Z.ELEMENT_NODE){const ce=Z.parentNode,Ne=ce?ce.parentNode:null;return(Ne&&Ne.nodeType===Ne.ELEMENT_NODE?Ne.className:null)===et.CLASS_NAME?ut.createFromDOMInfo(e,Z,Z.textContent.length):new kt(Z)}return new kt}static _doHitTestWithCaretPositionFromPoint(e,o){const v=document.caretPositionFromPoint(o.clientX,o.clientY);if(v.offsetNode.nodeType===v.offsetNode.TEXT_NODE){const k=v.offsetNode.parentNode,Z=k?k.parentNode:null,ce=Z?Z.parentNode:null;return(ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null)===et.CLASS_NAME?ut.createFromDOMInfo(e,v.offsetNode.parentNode,v.offset):new kt(v.offsetNode.parentNode)}if(v.offsetNode.nodeType===v.offsetNode.ELEMENT_NODE){const k=v.offsetNode.parentNode,Z=k&&k.nodeType===k.ELEMENT_NODE?k.className:null,ce=k?k.parentNode:null,Ne=ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null;if(Z===et.CLASS_NAME){const Qe=v.offsetNode.childNodes[Math.min(v.offset,v.offsetNode.childNodes.length-1)];if(Qe)return ut.createFromDOMInfo(e,Qe,0)}else if(Ne===et.CLASS_NAME)return ut.createFromDOMInfo(e,v.offsetNode,0)}return new kt(v.offsetNode)}static _snapToSoftTabBoundary(e,o){const v=o.getLineContent(e.lineNumber),{tabSize:k}=o.model.getOptions(),Z=bt.l.atomicPosition(v,e.column-1,k,2);return Z!==-1?new Oe.L(e.lineNumber,Z+1):e}static _doHitTest(e,o){let v=new kt;if(typeof document.caretRangeFromPoint=="function"?v=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(v=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),v.type===1){const k=e.viewModel.getInjectedTextAt(v.position),Z=e.viewModel.normalizePosition(v.position,2);(k||!Z.equals(v.position))&&(v=new Ut(Z,v.spanNode,k))}return v}}function Kt(wt,e,o){const v=document.createRange();let k=wt.elementFromPoint(e,o);if(k!==null){for(;k&&k.firstChild&&k.firstChild.nodeType!==k.firstChild.TEXT_NODE&&k.lastChild&&k.lastChild.firstChild;)k=k.lastChild;const Z=k.getBoundingClientRect(),ce=window.getComputedStyle(k,null).getPropertyValue("font"),Ne=k.innerText;let Qe=Z.left,qe=0,it;if(e>Z.left+Z.width)qe=Ne.length;else{const gt=Zt.getInstance();for(let Tt=0;Tt<Ne.length+1;Tt++){if(it=gt.getCharWidth(Ne.charAt(Tt),ce)/2,Qe+=it,e<Qe){qe=Tt;break}Qe+=it}}v.setStart(k.firstChild,qe),v.setEnd(k.firstChild,qe)}return v}class Zt{static getInstance(){return Zt._INSTANCE||(Zt._INSTANCE=new Zt),Zt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,o){const v=e+o;if(this._cache[v])return this._cache[v];const k=this._canvas.getContext("2d");k.font=o;const ce=k.measureText(e).width;return this._cache[v]=ce,ce}}Zt._INSTANCE=null;var li=i(66690);class ri extends Se{constructor(e,o,v){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=o,this.viewHelper=v,this.mouseTargetFactory=new _t(this._context,v),this._mouseDownOperation=this._register(new Ui(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(ce,Ne)=>this._createMouseTarget(ce,Ne),ce=>this._getMouseColumn(ce))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(138).height;const k=new me.N5(this.viewHelper.viewDomNode);this._register(k.onContextMenu(this.viewHelper.viewDomNode,ce=>this._onContextMenu(ce,!0))),this._register(k.onMouseMove(this.viewHelper.viewDomNode,ce=>{this._onMouseMove(ce),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=N.nm(document,"mousemove",Ne=>{this.viewHelper.viewDomNode.contains(Ne.target)||this._onMouseLeave(new me.gy(Ne,!1,this.viewHelper.viewDomNode))}))})),this._register(k.onMouseUp(this.viewHelper.viewDomNode,ce=>this._onMouseUp(ce))),this._register(k.onMouseLeave(this.viewHelper.viewDomNode,ce=>this._onMouseLeave(ce)));let Z=0;this._register(k.onPointerDown(this.viewHelper.viewDomNode,(ce,Ne)=>{Z=Ne})),this._register(N.nm(this.viewHelper.viewDomNode,N.tw.POINTER_UP,ce=>{this._mouseDownOperation.onPointerUp()})),this._register(k.onMouseDown(this.viewHelper.viewDomNode,ce=>this._onMouseDown(ce,Z))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=li.Io.INSTANCE;let o=0,v=M.C.getZoomLevel(),k=!1,Z=0;const ce=Qe=>{if(this.viewController.emitMouseWheel(Qe),!this._context.configuration.options.get(72))return;const qe=new ye.q(Qe);if(e.acceptStandardWheelEvent(qe),e.isPhysicalMouseWheel()){if(Ne(Qe)){const it=M.C.getZoomLevel(),gt=qe.deltaY>0?1:-1;M.C.setZoomLevel(it+gt),qe.preventDefault(),qe.stopPropagation()}}else Date.now()-o>50&&(v=M.C.getZoomLevel(),k=Ne(Qe),Z=0),o=Date.now(),Z+=qe.deltaY,k&&(M.C.setZoomLevel(v+Z/5),qe.preventDefault(),qe.stopPropagation())};this._register(N.nm(this.viewHelper.viewDomNode,N.tw.MOUSE_WHEEL,ce,{capture:!0,passive:!1}));function Ne(Qe){return r.dz?(Qe.metaKey||Qe.ctrlKey)&&!Qe.shiftKey&&!Qe.altKey:Qe.ctrlKey&&!Qe.metaKey&&!Qe.shiftKey&&!Qe.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(138)){const o=this._context.configuration.options.get(138).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,o){const k=new me.rU(e,o).toPageCoordinates(),Z=(0,me.kG)(this.viewHelper.viewDomNode);if(k.y<Z.y||k.y>Z.y+Z.height||k.x<Z.x||k.x>Z.x+Z.width)return null;const ce=(0,me.Pp)(this.viewHelper.viewDomNode,Z,k);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Z,k,ce,null)}_createMouseTarget(e,o){let v=e.target;if(!this.viewHelper.viewDomNode.contains(v)){const k=N.Ay(this.viewHelper.viewDomNode);k&&(v=k.elementsFromPoint(e.posx,e.posy).find(Z=>this.viewHelper.viewDomNode.contains(Z)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,o?v:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,o){const v=this._createMouseTarget(e,!0),k=v.type===6||v.type===7,Z=v.type===2||v.type===3||v.type===4,ce=v.type===3,Ne=this._context.configuration.options.get(103),Qe=v.type===8||v.type===5,qe=v.type===9;let it=e.leftButton||e.middleButton;r.dz&&e.leftButton&&e.ctrlKey&&(it=!1);const gt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(it&&(k||ce&&Ne))gt(),this._mouseDownOperation.start(v.type,e,o);else if(Z)e.preventDefault();else if(Qe){const Tt=v.detail;it&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Tt.viewZoneId)&&(gt(),this._mouseDownOperation.start(v.type,e,o),e.preventDefault())}else qe&&this.viewHelper.shouldSuppressMouseDownOnWidget(v.detail)&&(gt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:v})}}class Ui extends p.JT{constructor(e,o,v,k,Z,ce){super(),this._context=e,this._viewController=o,this._viewHelper=v,this._mouseTargetFactory=k,this._createMouseTarget=Z,this._getMouseColumn=ce,this._mouseMoveMonitor=this._register(new me.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new on(this._context,this._viewHelper,this._mouseTargetFactory,(Ne,Qe,qe)=>this._dispatchMouse(Ne,Qe,qe))),this._mouseState=new un,this._currentSelection=new G.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(e,o,v){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const k=this._findMousePosition(o,!0);if(!k||!k.position)return;this._mouseState.trySetCount(o.detail,k.position),o.detail=this._mouseState.count;const Z=this._context.configuration.options;if(!Z.get(86)&&Z.get(32)&&!Z.get(19)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&k.type===6&&k.position&&this._currentSelection.containsPosition(k.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,o.buttons,ce=>this._onMouseDownThenMove(ce),ce=>{const Ne=this._findMousePosition(this._lastMouseEvent,!1);ce&&ce instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Ne?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(k,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,o.buttons,ce=>this._onMouseDownThenMove(ce),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,v=this._context.viewModel,k=this._context.viewLayout,Z=this._getMouseColumn(e);if(e.posy<o.y){const Ne=o.y-e.posy,Qe=Math.max(k.getCurrentScrollTop()-Ne,0),qe=Et.getZoneAtCoord(this._context,Qe);if(qe){const gt=this._helpPositionJumpOverViewZone(qe);if(gt)return ft.createOutsideEditor(Z,gt,"above",Ne)}const it=k.getLineNumberAtVerticalOffset(Qe);return ft.createOutsideEditor(Z,new Oe.L(it,1),"above",Ne)}if(e.posy>o.y+o.height){const Ne=e.posy-o.y-o.height,Qe=k.getCurrentScrollTop()+e.relativePos.y,qe=Et.getZoneAtCoord(this._context,Qe);if(qe){const gt=this._helpPositionJumpOverViewZone(qe);if(gt)return ft.createOutsideEditor(Z,gt,"below",Ne)}const it=k.getLineNumberAtVerticalOffset(Qe);return ft.createOutsideEditor(Z,new Oe.L(it,v.getLineMaxColumn(it)),"below",Ne)}const ce=k.getLineNumberAtVerticalOffset(k.getCurrentScrollTop()+e.relativePos.y);if(e.posx<o.x){const Ne=o.x-e.posx;return ft.createOutsideEditor(Z,new Oe.L(ce,1),"left",Ne)}if(e.posx>o.x+o.width){const Ne=e.posx-o.x-o.width;return ft.createOutsideEditor(Z,new Oe.L(ce,v.getLineMaxColumn(ce)),"right",Ne)}return null}_findMousePosition(e,o){const v=this._getPositionOutsideEditor(e);if(v)return v;const k=this._createMouseTarget(e,o);if(!k.position)return null;if(k.type===8||k.type===5){const ce=this._helpPositionJumpOverViewZone(k.detail);if(ce)return ft.createViewZone(k.type,k.element,k.mouseColumn,ce,k.detail)}return k}_helpPositionJumpOverViewZone(e){const o=new Oe.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),v=e.positionBefore,k=e.positionAfter;return v&&k?v.isBefore(o)?v:k:null}_dispatchMouse(e,o,v){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:v,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class on extends p.JT{constructor(e,o,v,k){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=v,this._dispatchMouse=k,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,o){this._operation?this._operation.setPosition(e,o):this._operation=new Qi(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class Qi extends p.JT{constructor(e,o,v,k,Z,ce){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=v,this._dispatchMouse=k,this._position=Z,this._mouseEvent=ce,this._lastTime=Date.now(),this._animationFrameDisposable=N.jL(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,o){this._position=e,this._mouseEvent=o}_tick(){const e=Date.now(),o=e-this._lastTime;return this._lastTime=e,o}_getScrollSpeed(){const e=this._context.configuration.options.get(63),o=this._context.configuration.options.get(138).height/e,v=this._position.outsideDistance/e;return v<=1.5?Math.max(30,o*(1+v)):v<=3?Math.max(60,o*(2+v)):Math.max(200,o*(7+v))}_execute(){const e=this._context.configuration.options.get(63),o=this._getScrollSpeed(),v=this._tick(),k=o*(v/1e3)*e,Z=this._position.outsidePosition==="above"?-k:k;this._context.viewModel.viewLayout.deltaScrollNow(0,Z),this._viewHelper.renderNow();const ce=this._context.viewLayout.getLinesViewportData(),Ne=this._position.outsidePosition==="above"?ce.startLineNumber:ce.endLineNumber;let Qe;{const qe=(0,me.kG)(this._viewHelper.viewDomNode),it=this._context.configuration.options.get(138).horizontalScrollbarHeight,gt=new me.YN(this._mouseEvent.pos.x,qe.y+qe.height-it-.1),Tt=(0,me.Pp)(this._viewHelper.viewDomNode,qe,gt);Qe=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),qe,gt,Tt,null)}(!Qe.position||Qe.position.lineNumber!==Ne)&&(this._position.outsidePosition==="above"?Qe=ft.createOutsideEditor(this._position.mouseColumn,new Oe.L(Ne,1),"above",this._position.outsideDistance):Qe=ft.createOutsideEditor(this._position.mouseColumn,new Oe.L(Ne,this._context.viewModel.getLineMaxColumn(Ne)),"below",this._position.outsideDistance)),this._dispatchMouse(Qe,!0,2),this._animationFrameDisposable=N.jL(()=>this._execute())}}class un{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const v=new Date().getTime();v-this._lastSetMouseDownCountTime>un.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=v,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}un.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Sn=i(78215),bn=i(23230);class Cn extends ri{constructor(e,o,v){super(e,o,v),this._register(pe.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Tap,Z=>this.onTap(Z))),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Change,Z=>this.onChange(Z))),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Contextmenu,Z=>this._onContextMenu(new me.gy(Z,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(N.nm(this.viewHelper.linesContentDomNode,"pointerdown",Z=>{const ce=Z.pointerType;if(ce==="mouse"){this._lastPointerType="mouse";return}else ce==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const k=new me.tC(this.viewHelper.viewDomNode);this._register(k.onPointerMove(this.viewHelper.viewDomNode,Z=>this._onMouseMove(Z))),this._register(k.onPointerUp(this.viewHelper.viewDomNode,Z=>this._onMouseUp(Z))),this._register(k.onPointerLeave(this.viewHelper.viewDomNode,Z=>this._onMouseLeave(Z))),this._register(k.onPointerDown(this.viewHelper.viewDomNode,(Z,ce)=>this._onMouseDown(Z,ce)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new me.gy(e,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:o.type===6&&o.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,o){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,o)}}class Fi extends ri{constructor(e,o,v){super(e,o,v),this._register(pe.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Tap,k=>this.onTap(k))),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Change,k=>this.onChange(k))),this._register(N.nm(this.viewHelper.linesContentDomNode,pe.t.Contextmenu,k=>this._onContextMenu(new me.gy(k,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new me.gy(e,!1,this.viewHelper.viewDomNode),!1);if(o.position){const v=document.createEvent("CustomEvent");v.initEvent(bn.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(v),this.viewController.moveTo(o.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class On extends p.JT{constructor(e,o,v){super(),r.gn&&Sn.D.pointerEvents?this.handler=this._register(new Cn(e,o,v)):window.TouchEvent?this.handler=this._register(new Fi(e,o,v)):this.handler=this._register(new ri(e,o,v))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var rn=i(30613),pn=i(99144),ui=i(9246);class Mt extends Se{}var At=i(901),Wt=i(34467);class qt extends Mt{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Oe.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(63);const o=e.get(64);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(89);const v=e.get(138);this._lineNumbersLeft=v.lineNumbersLeft,this._lineNumbersWidth=v.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let v=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,v=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(v=!0),v}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Oe.L(e,1));if(o.column!==1)return"";const v=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(v);if(this._renderLineNumbers===2){const k=Math.abs(this._lastCursorModelPosition.lineNumber-v);return k===0?'<span class="relative-current-line-number">'+v+"</span>":String(k)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===v||v%10===0?String(v):"":String(v)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=r.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",v=e.visibleRange.startLineNumber,k=e.visibleRange.endLineNumber,Z=this._context.viewModel.getLineCount(),ce=[];for(let Ne=v;Ne<=k;Ne++){const Qe=Ne-v,qe=this._getLineRenderLineNumber(Ne);if(!qe){ce[Qe]="";continue}let it="";if(Ne===Z&&this._context.viewModel.getLineLength(Ne)===0){if(this._renderFinalNewline==="off"){ce[Qe]="";continue}this._renderFinalNewline==="dimmed"&&(it=" dimmed-line-number")}Ne===this._activeLineNumber&&(it=" active-line-number"),ce[Qe]=`<div class="${qt.CLASS_NAME}${o}${it}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${qe}</div>`}this._renderResult=ce}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}qt.CLASS_NAME="line-numbers",(0,At.Ic)((wt,e)=>{const o=wt.getColor(Wt.hw),v=wt.getColor(Wt.Bj);v?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${v}; }`):o&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)});class at extends _e{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(138);this._canUseLayerHinting=!o.get(29),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,y.X)(document.createElement("div")),this._domNode.setClassName(at.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(at.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(138);return this._canUseLayerHinting=!o.get(29),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const v=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}at.CLASS_NAME="glyph-margin",at.OUTER_CLASS_NAME="margin";var Ve=i(36669),ze=i(73943),Ae=i(33686),Ge=i(87799),st=i(85498);class rt{constructor(e,o,v,k,Z){this._context=e,this.modelLineNumber=o,this.distanceToModelLineStart=v,this.widthOfHiddenLineTextBefore=k,this.distanceToModelLineEnd=Z,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const o=new Oe.L(this.modelLineNumber,this.distanceToModelLineStart+1),v=new Oe.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const xt=d.isFirefox;class Vt extends _e{constructor(e,o,v){super(e),this._primaryCursorPosition=new Oe.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=v,this._scrollLeft=0,this._scrollTop=0;const k=this._context.configuration.options,Z=k.get(138);this._setAccessibilityOptions(k),this._contentLeft=Z.contentLeft,this._contentWidth=Z.contentWidth,this._contentHeight=Z.height,this._fontInfo=k.get(47),this._lineHeight=k.get(63),this._emptySelectionClipboard=k.get(34),this._copyWithSyntaxHighlighting=k.get(22),this._visibleTextArea=null,this._selections=[new G.Y(1,1,1,1)],this._modelSelections=[new G.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.X)(document.createElement("textarea")),he.write(this.textArea,6),this.textArea.setClassName(`inputarea ${ze.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:ce}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${ce*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(k)),this.textArea.setAttribute("tabindex",String(k.get(118))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",$.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Ne={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:it=>this._context.viewModel.getLineMaxColumn(it),getValueInRange:(it,gt)=>this._context.viewModel.getValueInRange(it,gt),getValueLengthInRange:(it,gt)=>this._context.viewModel.getValueLengthInRange(it,gt),modifyPosition:(it,gt)=>this._context.viewModel.modifyPosition(it,gt)},Qe={getDataToCopy:()=>{const it=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,r.ED),gt=this._context.viewModel.model.getEOL(),Tt=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Nt=Array.isArray(it)?it:null,zt=Array.isArray(it)?it.join(gt):it;let Yt,Xt=null;if(bn.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&zt.length<65536){const si=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);si&&(Yt=si.html,Xt=si.mode)}return{isFromEmptySelection:Tt,multicursorText:Nt,text:zt,html:Yt,mode:Xt}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const it=this._selections[0];if(r.dz&&it.isEmpty()){const Tt=it.getStartPosition();let Nt=this._getWordBeforePosition(Tt);if(Nt.length===0&&(Nt=this._getCharacterBeforePosition(Tt)),Nt.length>0)return new ui.un(Nt,Nt.length,Nt.length,He.e.fromPositions(Tt),0)}const gt=500;if(r.dz&&!it.isEmpty()&&Ne.getValueLengthInRange(it,0)<gt){const Tt=Ne.getValueInRange(it,0);return new ui.un(Tt,0,Tt.length,it,0)}if(d.isSafari&&!it.isEmpty()){const Tt="vscode-placeholder";return new ui.un(Tt,0,Tt.length,null,void 0)}return ui.un.EMPTY}if(d.isAndroid){const it=this._selections[0];if(it.isEmpty()){const gt=it.getStartPosition(),[Tt,Nt]=this._getAndroidWordAtPosition(gt);if(Tt.length>0)return new ui.un(Tt,Nt,Nt,He.e.fromPositions(gt),0)}return ui.un.EMPTY}return ui.ee.fromEditorSelection(Ne,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(it,gt,Tt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(it,gt,Tt)},qe=this._register(new bn.Tj(this.textArea.domNode));this._textAreaInput=this._register(new bn.Fz(Qe,qe,r.OS,d)),this._register(this._textAreaInput.onKeyDown(it=>{this._viewController.emitKeyDown(it)})),this._register(this._textAreaInput.onKeyUp(it=>{this._viewController.emitKeyUp(it)})),this._register(this._textAreaInput.onPaste(it=>{let gt=!1,Tt=null,Nt=null;it.metadata&&(gt=this._emptySelectionClipboard&&!!it.metadata.isFromEmptySelection,Tt=typeof it.metadata.multicursorText!="undefined"?it.metadata.multicursorText:null,Nt=it.metadata.mode),this._viewController.paste(it.text,gt,Tt,Nt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(it=>{it.replacePrevCharCnt||it.replaceNextCharCnt||it.positionDelta?(ui.al&&console.log(` => compositionType: <<${it.text}>>, ${it.replacePrevCharCnt}, ${it.replaceNextCharCnt}, ${it.positionDelta}`),this._viewController.compositionType(it.text,it.replacePrevCharCnt,it.replaceNextCharCnt,it.positionDelta)):(ui.al&&console.log(` => type: <<${it.text}>>`),this._viewController.type(it.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(it=>{this._viewController.setSelection(it)})),this._register(this._textAreaInput.onCompositionStart(it=>{const gt=this.textArea.domNode,Tt=this._modelSelections[0],{distanceToModelLineStart:Nt,widthOfHiddenTextBefore:zt}=(()=>{const Xt=gt.value.substring(0,Math.min(gt.selectionStart,gt.selectionEnd)),si=Xt.lastIndexOf(`
`),fi=Xt.substring(si+1),_i=fi.lastIndexOf("	"),Ai=fi.length-_i-1,Ii=Tt.getStartPosition(),Hi=Math.min(Ii.column-1,Ai),zi=Ii.column-1-Hi,ji=fi.substring(0,fi.length-Hi),{tabSize:xi}=this._context.viewModel.model.getOptions(),fn=Gt(ji,this._fontInfo,xi);return{distanceToModelLineStart:zi,widthOfHiddenTextBefore:fn}})(),{distanceToModelLineEnd:Yt}=(()=>{const Xt=gt.value.substring(Math.max(gt.selectionStart,gt.selectionEnd)),si=Xt.indexOf(`
`),fi=si===-1?Xt:Xt.substring(0,si),_i=fi.indexOf("	"),Ai=_i===-1?fi.length:fi.length-_i-1,Ii=Tt.getEndPosition(),Hi=Math.min(this._context.viewModel.model.getLineMaxColumn(Ii.lineNumber)-Ii.column,Ai);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Ii.lineNumber)-Ii.column-Hi}})();this._context.viewModel.revealRange("keyboard",!0,He.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new rt(this._context,Tt.startLineNumber,Nt,zt,Yt),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${ze.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(it=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${ze.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(st.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeScreenReaderContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',v=this._context.viewModel.getLineContent(e.lineNumber),k=(0,Ve.u)(o);let Z=!0,ce=e.column,Ne=!0,Qe=e.column,qe=0;for(;qe<50&&(Z||Ne);){if(Z&&ce<=1&&(Z=!1),Z){const it=v.charCodeAt(ce-2);k.get(it)!==0?Z=!1:ce--}if(Ne&&Qe>v.length&&(Ne=!1),Ne){const it=v.charCodeAt(Qe-1);k.get(it)!==0?Ne=!1:Qe++}qe++}return[v.substring(ce-1,Qe-1),e.column-ce]}_getWordBeforePosition(e){const o=this._context.viewModel.getLineContent(e.lineNumber),v=(0,Ve.u)(this._context.configuration.options.get(124));let k=e.column,Z=0;for(;k>1;){const ce=o.charCodeAt(k-2);if(v.get(ce)!==0||Z>50)return o.substring(k-1,e.column-1);Z++,k--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const v=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!rn.ZG(v.charCodeAt(0)))return v}return""}_getAriaLabel(e){return e.get(2)===1?$.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",r.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===I.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o;const k=e.get(138).wrappingColumn;if(k!==-1&&this._accessibilitySupport!==1){const Z=e.get(47);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(k*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=xt?0:1}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(138);this._setAccessibilityOptions(o),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._contentHeight=v.height,this._fontInfo=o.get(47),this._lineHeight=o.get(63),this._emptySelectionClipboard=o.get(34),this._copyWithSyntaxHighlighting=o.get(22),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:k}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${k*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(118))),(e.hasChanged(31)||e.hasChanged(86))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!st.F.enabled||e.get(31)&&e.get(86)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var o;this._primaryCursorPosition=new Oe.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(o=this._visibleTextArea)===null||o===void 0||o.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const k=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,ce=this._visibleTextArea.startPosition,Ne=this._visibleTextArea.endPosition;if(ce&&Ne&&k&&Z&&Z.left>=this._scrollLeft&&k.left<=this._scrollLeft+this._contentWidth){const Qe=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,qe=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let it=this._visibleTextArea.widthOfHiddenLineTextBefore,gt=this._contentLeft+k.left-this._scrollLeft,Tt=Z.left-k.left+1;if(gt<this._contentLeft){const fi=this._contentLeft-gt;gt+=fi,it+=fi,Tt-=fi}Tt>this._contentWidth&&(Tt=this._contentWidth);const Nt=this._context.viewModel.getViewLineData(ce.lineNumber),zt=Nt.tokens.findTokenIndexAtOffset(ce.column-1),Yt=Nt.tokens.findTokenIndexAtOffset(Ne.column-1),Xt=zt===Yt,si=this._visibleTextArea.definePresentation(Xt?Nt.tokens.getPresentation(zt):null);this.textArea.domNode.scrollTop=qe*this._lineHeight,this.textArea.domNode.scrollLeft=it,this._doRender({lastRenderPosition:null,top:Qe,left:gt,width:Tt,height:this._lineHeight,useCover:!1,color:(Ae.RW.getColorMap()||[])[si.foreground],italic:si.italic,bold:si.bold,underline:si.underline,strikethrough:si.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const o=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(o<this._contentLeft||o>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const v=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(v<0||v>this._contentHeight){this._renderAtTopLeft();return}if(r.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:v,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const k=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=k*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:v,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:xt?0:1,useCover:!1})}_newlinecount(e){let o=0,v=-1;do{if(v=e.indexOf(`
`,v+1),v===-1)break;o++}while(!0);return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:xt?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const o=this.textArea,v=this.textAreaCover;(0,pn.N)(o,this._fontInfo),o.setTop(e.top),o.setLeft(e.left),o.setWidth(e.width),o.setHeight(e.height),o.setColor(e.color?Ge.Il.Format.CSS.formatHex(e.color):""),o.setFontStyle(e.italic?"italic":""),e.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),v.setTop(e.useCover?e.top:0),v.setLeft(e.useCover?e.left:0),v.setWidth(e.useCover?e.width:0),v.setHeight(e.useCover?e.height:0);const k=this._context.configuration.options;k.get(54)?v.setClassName("monaco-editor-background textAreaCover "+at.OUTER_CLASS_NAME):k.get(64).renderType!==0?v.setClassName("monaco-editor-background textAreaCover "+qt.CLASS_NAME):v.setClassName("monaco-editor-background textAreaCover")}}function Gt(wt,e,o){if(wt.length===0)return 0;const v=document.createElement("div");v.style.position="absolute",v.style.top="-50000px",v.style.width="50000px";const k=document.createElement("span");(0,pn.N)(k,e),k.style.whiteSpace="pre",k.style.tabSize=`${o*e.spaceWidth}px`,k.append(wt),v.appendChild(k),document.body.appendChild(v);const Z=k.offsetWidth;return document.body.removeChild(v),Z}var ai=i(66631);class Si{constructor(e,o,v,k){this.configuration=e,this.viewModel=o,this.userInputEvents=v,this.commandDelegate=k}paste(e,o,v,k){this.commandDelegate.paste(e,o,v,k)}type(e){this.commandDelegate.type(e)}compositionType(e,o,v,k){this.commandDelegate.compositionType(e,o,v,k)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){ai.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new Oe.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(74)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(74)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,v=r.IJ&&o.get(101),k=o.get(19);e.middleButton&&!v?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):k?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,o){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:o}}moveTo(e,o){ai.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_moveToSelect(e,o){ai.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_columnSelect(e,o,v){e=this._validateViewColumn(e),ai.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:v})}_createCursor(e,o){e=this._validateViewColumn(e),ai.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e,o){ai.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelect(e,o){ai.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelectDrag(e,o){ai.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorWordSelect(e,o){ai.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelect(e,o){ai.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelectDrag(e,o){ai.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelect(e,o){ai.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelectDrag(e,o){ai.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_selectAll(){ai.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class hi{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var o;(o=this.onKeyDown)===null||o===void 0||o.call(this,e)}emitKeyUp(e){var o;(o=this.onKeyUp)===null||o===void 0||o.call(this,e)}emitContextMenu(e){var o;(o=this.onContextMenu)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var o;(o=this.onMouseMove)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var o;(o=this.onMouseLeave)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var o;(o=this.onMouseDown)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var o;(o=this.onMouseUp)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var o;(o=this.onMouseDrag)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var o;(o=this.onMouseDrop)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var o;(o=this.onMouseWheel)===null||o===void 0||o.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return hi.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){const v=Object.assign({},e);return v.position&&(v.position=o.convertViewPositionToModelPosition(v.position)),v.range&&(v.range=o.convertViewRangeToModelRange(v.range)),v}}var Di=i(82336),Ni;class yi{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const v=this.getStartLineNumber(),k=this.getEndLineNumber();if(o<v){const Qe=o-e+1;return this._rendLineNumberStart-=Qe,null}if(e>k)return null;let Z=0,ce=0;for(let Qe=v;Qe<=k;Qe++){const qe=Qe-this._rendLineNumberStart;e<=Qe&&Qe<=o&&(ce===0?(Z=qe,ce=1):ce++)}if(e<v){let Qe=0;o<v?Qe=o-e+1:Qe=v-e,this._rendLineNumberStart-=Qe}return this._lines.splice(Z,ce)}onLinesChanged(e,o){const v=e+o-1;if(this.getCount()===0)return!1;const k=this.getStartLineNumber(),Z=this.getEndLineNumber();let ce=!1;for(let Ne=e;Ne<=v;Ne++)Ne>=k&&Ne<=Z&&(this._lines[Ne-this._rendLineNumberStart].onContentChanged(),ce=!0);return ce}onLinesInserted(e,o){if(this.getCount()===0)return null;const v=o-e+1,k=this.getStartLineNumber(),Z=this.getEndLineNumber();if(e<=k)return this._rendLineNumberStart+=v,null;if(e>Z)return null;if(v+e>Z)return this._lines.splice(e-this._rendLineNumberStart,Z-e+1);const ce=[];for(let gt=0;gt<v;gt++)ce[gt]=this._createLine();const Ne=e-this._rendLineNumberStart,Qe=this._lines.slice(0,Ne),qe=this._lines.slice(Ne,this._lines.length-v),it=this._lines.slice(this._lines.length-v,this._lines.length);return this._lines=Qe.concat(ce).concat(qe),it}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),v=this.getEndLineNumber();let k=!1;for(let Z=0,ce=e.length;Z<ce;Z++){const Ne=e[Z];if(Ne.toLineNumber<o||Ne.fromLineNumber>v)continue;const Qe=Math.max(o,Ne.fromLineNumber),qe=Math.min(v,Ne.toLineNumber);for(let it=Qe;it<=qe;it++){const gt=it-this._rendLineNumberStart;this._lines[gt].onTokensChanged(),k=!0}}return k}}class Zi{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new yi(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,y.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(138)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let v=0,k=o.length;v<k;v++){const Z=o[v].getDomNode();Z&&this.domNode.domNode.removeChild(Z)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let v=0,k=o.length;v<k;v++){const Z=o[v].getDomNode();Z&&this.domNode.domNode.removeChild(Z)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),v=new Ri(this.domNode.domNode,this._host,e),k={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},Z=v.render(k,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(Z.rendLineNumberStart,Z.lines)}}class Ri{constructor(e,o,v){this.domNode=e,this.host=o,this.viewportData=v}render(e,o,v,k){const Z={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(Z.rendLineNumberStart+Z.linesLength-1<o||v<Z.rendLineNumberStart){Z.rendLineNumberStart=o,Z.linesLength=v-o+1,Z.lines=[];for(let ce=o;ce<=v;ce++)Z.lines[ce-o]=this.host.createVisibleLine();return this._finishRendering(Z,!0,k),Z}if(this._renderUntouchedLines(Z,Math.max(o-Z.rendLineNumberStart,0),Math.min(v-Z.rendLineNumberStart,Z.linesLength-1),k,o),Z.rendLineNumberStart>o){const ce=o,Ne=Math.min(v,Z.rendLineNumberStart-1);ce<=Ne&&(this._insertLinesBefore(Z,ce,Ne,k,o),Z.linesLength+=Ne-ce+1)}else if(Z.rendLineNumberStart<o){const ce=Math.min(Z.linesLength,o-Z.rendLineNumberStart);ce>0&&(this._removeLinesBefore(Z,ce),Z.linesLength-=ce)}if(Z.rendLineNumberStart=o,Z.rendLineNumberStart+Z.linesLength-1<v){const ce=Z.rendLineNumberStart+Z.linesLength,Ne=v;ce<=Ne&&(this._insertLinesAfter(Z,ce,Ne,k,o),Z.linesLength+=Ne-ce+1)}else if(Z.rendLineNumberStart+Z.linesLength-1>v){const ce=Math.max(0,v-Z.rendLineNumberStart+1),Qe=Z.linesLength-1-ce+1;Qe>0&&(this._removeLinesAfter(Z,Qe),Z.linesLength-=Qe)}return this._finishRendering(Z,!1,k),Z}_renderUntouchedLines(e,o,v,k,Z){const ce=e.rendLineNumberStart,Ne=e.lines;for(let Qe=o;Qe<=v;Qe++){const qe=ce+Qe;Ne[Qe].layoutLine(qe,k[qe-Z])}}_insertLinesBefore(e,o,v,k,Z){const ce=[];let Ne=0;for(let Qe=o;Qe<=v;Qe++)ce[Ne++]=this.host.createVisibleLine();e.lines=ce.concat(e.lines)}_removeLinesBefore(e,o){for(let v=0;v<o;v++){const k=e.lines[v].getDomNode();k&&this.domNode.removeChild(k)}e.lines.splice(0,o)}_insertLinesAfter(e,o,v,k,Z){const ce=[];let Ne=0;for(let Qe=o;Qe<=v;Qe++)ce[Ne++]=this.host.createVisibleLine();e.lines=e.lines.concat(ce)}_removeLinesAfter(e,o){const v=e.linesLength-o;for(let k=0;k<o;k++){const Z=e.lines[v+k].getDomNode();Z&&this.domNode.removeChild(Z)}e.lines.splice(v,o)}_finishRenderingNewLines(e,o,v,k){Ri._ttPolicy&&(v=Ri._ttPolicy.createHTML(v));const Z=this.domNode.lastChild;o||!Z?this.domNode.innerHTML=v:Z.insertAdjacentHTML("afterend",v);let ce=this.domNode.lastChild;for(let Ne=e.linesLength-1;Ne>=0;Ne--){const Qe=e.lines[Ne];k[Ne]&&(Qe.setDomNode(ce),ce=ce.previousSibling)}}_finishRenderingInvalidLines(e,o,v){const k=document.createElement("div");Ri._ttPolicy&&(o=Ri._ttPolicy.createHTML(o)),k.innerHTML=o;for(let Z=0;Z<e.linesLength;Z++){const ce=e.lines[Z];if(v[Z]){const Ne=k.firstChild,Qe=ce.getDomNode();Qe.parentNode.replaceChild(Ne,Qe),ce.setDomNode(Ne)}}}_finishRendering(e,o,v){const k=Ri._sb,Z=e.linesLength,ce=e.lines,Ne=e.rendLineNumberStart,Qe=[];{k.reset();let qe=!1;for(let it=0;it<Z;it++){const gt=ce[it];Qe[it]=!1,!(gt.getDomNode()||!gt.renderLine(it+Ne,v[it],this.viewportData,k))&&(Qe[it]=!0,qe=!0)}qe&&this._finishRenderingNewLines(e,o,k.build(),Qe)}{k.reset();let qe=!1;const it=[];for(let gt=0;gt<Z;gt++){const Tt=ce[gt];it[gt]=!1,!(Qe[gt]||!Tt.renderLine(gt+Ne,v[gt],this.viewportData,k))&&(it[gt]=!0,qe=!0)}qe&&this._finishRenderingInvalidLines(e,k.build(),it)}}}Ri._ttPolicy=(Ni=window.trustedTypes)===null||Ni===void 0?void 0:Ni.createPolicy("editorViewLayer",{createHTML:wt=>wt}),Ri._sb=new Di.HT(1e5);class Dn extends _e{constructor(e){super(e),this._visibleLines=new Zi(this),this.domNode=this._visibleLines.domNode;const v=this._context.configuration.options.get(47);(0,pn.N)(this.domNode,v),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Bi(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let ce=o;ce<=v;ce++)this._visibleLines.getVisibleLine(ce).onConfigurationChanged(e);const Z=this._context.configuration.options.get(47);return(0,pn.N)(this.domNode,Z),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(v=>v.shouldRender());for(let v=0,k=o.length;v<k;v++){const Z=o[v];Z.prepareRender(e),Z.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Bi{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(63),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,y.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(63)}renderLine(e,o,v,k){let Z="";for(let ce=0,Ne=this._dynamicOverlays.length;ce<Ne;ce++){const Qe=this._dynamicOverlays[ce];Z+=Qe.render(v.startLineNumber,e)}return this._renderedContent===Z?!1:(this._renderedContent=Z,k.appendString('<div style="position:absolute;top:'),k.appendString(String(o)),k.appendString("px;width:100%;height:"),k.appendString(String(this._lineHeight)),k.appendString('px;">'),k.appendString(Z),k.appendString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class ln extends Dn{constructor(e){super(e);const v=this._context.configuration.options.get(138);this._contentWidth=v.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const v=this._context.configuration.options.get(138);return this._contentWidth=v.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Ht extends Dn{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(138);this._contentLeft=v.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,pn.N)(this.domNode,o.get(47))}onConfigurationChanged(e){const o=this._context.configuration.options;(0,pn.N)(this.domNode,o.get(47));const v=o.get(138);return this._contentLeft=v.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class fe extends _e{constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,y.X)(document.createElement("div")),he.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,y.X)(document.createElement("div")),he.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const o of e)this._widgets[o].updateAnchorViewPosition()}addWidget(e){const o=new De(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,v,k,Z){this._widgets[e.getId()].setPosition(o,v,k,Z),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const v=this._widgets[o];delete this._widgets[o];const k=v.domNode.domNode;k.parentNode.removeChild(k),k.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].render(e)}}class De{constructor(e,o,v){this._primaryAnchor=new ie(null,null),this._secondaryAnchor=new ie(null,null),this._context=e,this._viewDomNode=o,this._actual=v,this.domNode=(0,y.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const k=this._context.configuration.options,Z=k.get(138);this._fixedOverflowWidgets=k.get(39),this._contentWidth=Z.contentWidth,this._contentLeft=Z.contentLeft,this._lineHeight=k.get(63),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(63),e.hasChanged(138)){const v=o.get(138);this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,o,v){this._affinity=e,this._primaryAnchor=k(o,this._context.viewModel,this._affinity),this._secondaryAnchor=k(v,this._context.viewModel,this._affinity);function k(Z,ce,Ne){if(!Z)return new ie(null,null);const Qe=ce.model.validatePosition(Z);if(ce.coordinatesConverter.modelPositionIsVisible(Qe)){const qe=ce.coordinatesConverter.convertModelPositionToViewPosition(Qe,Ne!=null?Ne:void 0);return new ie(Z,qe)}return new ie(Z,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,o,v,k){this._setPosition(k,e,o),this._preference=v,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,o,v,k){const Z=e.top,ce=Z,Ne=e.top+e.height,Qe=k.viewportHeight-Ne,qe=Z-v,it=ce>=v,gt=Ne,Tt=Qe>=v;let Nt=e.left;return Nt+o>k.scrollLeft+k.viewportWidth&&(Nt=k.scrollLeft+k.viewportWidth-o),Nt<k.scrollLeft&&(Nt=k.scrollLeft),{fitsAbove:it,aboveTop:qe,fitsBelow:Tt,belowTop:gt,left:Nt}}_layoutHorizontalSegmentInPage(e,o,v,k){const Ne=Math.max(15,o.left-k),Qe=Math.min(o.left+o.width+k,e.width-15);let qe=o.left+v-window.scrollX;if(qe+k>Qe){const it=qe-(Qe-k);qe-=it,v-=it}if(qe<Ne){const it=qe-Ne;qe-=it,v-=it}return[v,qe]}_layoutBoxInPage(e,o,v,k){const Z=e.top-v,ce=e.top+e.height,Ne=N.i(this._viewDomNode.domNode),Qe=Ne.top+Z-window.scrollY,qe=Ne.top+ce-window.scrollY,it=N.D6(document.body),[gt,Tt]=this._layoutHorizontalSegmentInPage(it,Ne,e.left-k.scrollLeft+this._contentLeft,o),Nt=22,zt=22,Yt=Qe>=Nt,Xt=qe+v<=it.height-zt;return this._fixedOverflowWidgets?{fitsAbove:Yt,aboveTop:Math.max(Qe,Nt),fitsBelow:Xt,belowTop:qe,left:Tt}:{fitsAbove:Yt,aboveTop:Z,fitsBelow:Xt,belowTop:ce,left:gt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Ie(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var o,v;const k=Ne(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Z=((o=this._secondaryAnchor.viewPosition)===null||o===void 0?void 0:o.lineNumber)===((v=this._primaryAnchor.viewPosition)===null||v===void 0?void 0:v.lineNumber)?this._secondaryAnchor.viewPosition:null,ce=Ne(Z,this._affinity,this._lineHeight);return{primary:k,secondary:ce};function Ne(Qe,qe,it){if(!Qe)return null;const gt=e.visibleRangeForPosition(Qe);if(!gt)return null;const Tt=Qe.column===1&&qe===3?0:gt.left,Nt=e.getVerticalOffsetForLineNumber(Qe.lineNumber)-e.scrollTop;return new We(Nt,Tt,it)}}_reduceAnchorCoordinates(e,o,v){if(!o)return e;const k=this._context.configuration.options.get(47);let Z=o.left;return Z<e.left?Z=Math.max(Z,e.left-v+k.typicalFullwidthCharacterWidth):Z=Math.min(Z,e.left+v-k.typicalFullwidthCharacterWidth),new We(e.top,Z,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:o,secondary:v}=this._getAnchorsCoordinates(e);if(!o)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let ce=null;if(typeof this._actual.beforeRender=="function"&&(ce=nt(this._actual.beforeRender,this._actual)),ce)this._cachedDomNodeOffsetWidth=ce.width,this._cachedDomNodeOffsetHeight=ce.height;else{const Qe=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Qe.width),this._cachedDomNodeOffsetHeight=Math.round(Qe.height)}}const k=this._reduceAnchorCoordinates(o,v,this._cachedDomNodeOffsetWidth);let Z;this.allowEditorOverflow?Z=this._layoutBoxInPage(k,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):Z=this._layoutBoxInViewport(k,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let ce=1;ce<=2;ce++)for(const Ne of this._preference)if(Ne===1){if(!Z)return null;if(ce===2||Z.fitsAbove)return{coordinate:new Ie(Z.aboveTop,Z.left),position:1}}else if(Ne===2){if(!Z)return null;if(ce===2||Z.fitsBelow)return{coordinate:new Ie(Z.belowTop,Z.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Ie(k.top,k.left)),position:0}:{coordinate:new Ie(k.top,k.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&nt(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&nt(this._actual.afterRender,this._actual,this._renderData.position)}}class ie{constructor(e,o){this.modelPosition=e,this.viewPosition=o}}class Ie{constructor(e,o){this.top=e,this.left=o,this._coordinateBrand=void 0}}class We{constructor(e,o,v){this.top=e,this.left=o,this.height=v,this._anchorCoordinateBrand=void 0}}function nt(wt,e,...o){try{return wt.call(e,...o)}catch(v){return null}}class lt extends Mt{constructor(e){super(),this._context=e;const o=this._context.configuration.options,v=o.get(138);this._lineHeight=o.get(63),this._renderLineHighlight=o.get(90),this._renderLineHighlightOnlyWhenFocus=o.get(91),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new G.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=this._selections.map(k=>k.positionLineNumber);o.sort((k,Z)=>k-Z),f.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,e=!0);const v=this._selections.every(k=>k.isEmpty());return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(138);return this._lineHeight=o.get(63),this._renderLineHighlight=o.get(90),this._renderLineHighlightOnlyWhenFocus=o.get(91),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),v=e.visibleRange.startLineNumber,k=e.visibleRange.endLineNumber,Z=this._cursorLineNumbers.length;let ce=0;const Ne=[];for(let Qe=v;Qe<=k;Qe++){const qe=Qe-v;for(;ce<Z&&this._cursorLineNumbers[ce]<Qe;)ce++;ce<Z&&this._cursorLineNumbers[ce]===Qe?Ne[qe]=o:Ne[qe]=""}this._renderData=Ne}render(e,o){if(!this._renderData)return"";const v=o-e;return v>=this._renderData.length?"":this._renderData[v]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Pt extends lt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class $t extends lt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,At.Ic)((wt,e)=>{const o=wt.getColor(Wt.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||wt.defines(Wt.Mm)){const v=wt.getColor(Wt.Mm);v&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${v}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${v}; }`),(0,Ke.c3)(wt.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class ti extends Mt{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(63),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(63),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let v=[],k=0;for(let Qe=0,qe=o.length;Qe<qe;Qe++){const it=o[Qe];it.options.className&&(v[k++]=it)}v=v.sort((Qe,qe)=>{if(Qe.options.zIndex<qe.options.zIndex)return-1;if(Qe.options.zIndex>qe.options.zIndex)return 1;const it=Qe.options.className,gt=qe.options.className;return it<gt?-1:it>gt?1:He.e.compareRangesUsingStarts(Qe.range,qe.range)});const Z=e.visibleRange.startLineNumber,ce=e.visibleRange.endLineNumber,Ne=[];for(let Qe=Z;Qe<=ce;Qe++){const qe=Qe-Z;Ne[qe]=""}this._renderWholeLineDecorations(e,v,Ne),this._renderNormalDecorations(e,v,Ne),this._renderResult=Ne}_renderWholeLineDecorations(e,o,v){const k=String(this._lineHeight),Z=e.visibleRange.startLineNumber,ce=e.visibleRange.endLineNumber;for(let Ne=0,Qe=o.length;Ne<Qe;Ne++){const qe=o[Ne];if(!qe.options.isWholeLine)continue;const it='<div class="cdr '+qe.options.className+'" style="left:0;width:100%;height:'+k+'px;"></div>',gt=Math.max(qe.range.startLineNumber,Z),Tt=Math.min(qe.range.endLineNumber,ce);for(let Nt=gt;Nt<=Tt;Nt++){const zt=Nt-Z;v[zt]+=it}}}_renderNormalDecorations(e,o,v){const k=String(this._lineHeight),Z=e.visibleRange.startLineNumber;let ce=null,Ne=!1,Qe=null;for(let qe=0,it=o.length;qe<it;qe++){const gt=o[qe];if(gt.options.isWholeLine)continue;const Tt=gt.options.className,Nt=Boolean(gt.options.showIfCollapsed);let zt=gt.range;if(Nt&&zt.endColumn===1&&zt.endLineNumber!==zt.startLineNumber&&(zt=new He.e(zt.startLineNumber,zt.startColumn,zt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(zt.endLineNumber-1))),ce===Tt&&Ne===Nt&&He.e.areIntersectingOrTouching(Qe,zt)){Qe=He.e.plusRange(Qe,zt);continue}ce!==null&&this._renderNormalDecoration(e,Qe,ce,Ne,k,Z,v),ce=Tt,Ne=Nt,Qe=zt}ce!==null&&this._renderNormalDecoration(e,Qe,ce,Ne,k,Z,v)}_renderNormalDecoration(e,o,v,k,Z,ce,Ne){const Qe=e.linesVisibleRangesForRange(o,v==="findMatch");if(Qe)for(let qe=0,it=Qe.length;qe<it;qe++){const gt=Qe[qe];if(gt.outsideRenderedLine)continue;const Tt=gt.lineNumber-ce;if(k&&gt.ranges.length===1){const Nt=gt.ranges[0];if(Nt.width<this._typicalHalfwidthCharacterWidth){const zt=Math.round(Nt.left+Nt.width/2),Yt=Math.max(0,Math.round(zt-this._typicalHalfwidthCharacterWidth/2));gt.ranges[0]=new $e(Yt,this._typicalHalfwidthCharacterWidth)}}for(let Nt=0,zt=gt.ranges.length;Nt<zt;Nt++){const Yt=gt.ranges[Nt],Xt='<div class="cdr '+v+'" style="left:'+String(Yt.left)+"px;width:"+String(Yt.width)+"px;height:"+Z+'px;"></div>';Ne[Tt]+=Xt}}}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}class Qt extends _e{constructor(e,o,v,k){super(e);const Z=this._context.configuration.options,ce=Z.get(97),Ne=Z.get(71),Qe=Z.get(37),qe=Z.get(100),it={listenOnDomNode:v.domNode,className:"editor-scrollable "+(0,At.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:ce.vertical,horizontal:ce.horizontal,verticalHasArrows:ce.verticalHasArrows,horizontalHasArrows:ce.horizontalHasArrows,verticalScrollbarSize:ce.verticalScrollbarSize,verticalSliderSize:ce.verticalSliderSize,horizontalScrollbarSize:ce.horizontalScrollbarSize,horizontalSliderSize:ce.horizontalSliderSize,handleMouseWheel:ce.handleMouseWheel,alwaysConsumeMouseWheel:ce.alwaysConsumeMouseWheel,arrowSize:ce.arrowSize,mouseWheelScrollSensitivity:Ne,fastScrollSensitivity:Qe,scrollPredominantAxis:qe,scrollByPage:ce.scrollByPage};this.scrollbar=this._register(new li.$Z(o.domNode,it,this._context.viewLayout.getScrollable())),he.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,y.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const gt=(Tt,Nt,zt)=>{const Yt={};if(Nt){const Xt=Tt.scrollTop;Xt&&(Yt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Xt,Tt.scrollTop=0)}if(zt){const Xt=Tt.scrollLeft;Xt&&(Yt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Xt,Tt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(Yt,1)};this._register(N.nm(v.domNode,"scroll",Tt=>gt(v.domNode,!0,!0))),this._register(N.nm(o.domNode,"scroll",Tt=>gt(o.domNode,!0,!1))),this._register(N.nm(k.domNode,"scroll",Tt=>gt(k.domNode,!0,!1))),this._register(N.nm(this.scrollbarDomNode.domNode,"scroll",Tt=>gt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(138);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(69).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(97)||e.hasChanged(71)||e.hasChanged(37)){const o=this._context.configuration.options,v=o.get(97),k=o.get(71),Z=o.get(37),ce=o.get(100),Ne={vertical:v.vertical,horizontal:v.horizontal,verticalScrollbarSize:v.verticalScrollbarSize,horizontalScrollbarSize:v.horizontalScrollbarSize,scrollByPage:v.scrollByPage,handleMouseWheel:v.handleMouseWheel,mouseWheelScrollSensitivity:k,fastScrollSensitivity:Z,scrollPredominantAxis:ce};this.scrollbar.updateOptions(Ne)}return e.hasChanged(138)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,At.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class Jt{constructor(e,o,v){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(v)}}class di extends Mt{_render(e,o,v){const k=[];for(let Ne=e;Ne<=o;Ne++){const Qe=Ne-e;k[Qe]=[]}if(v.length===0)return k;v.sort((Ne,Qe)=>Ne.className===Qe.className?Ne.startLineNumber===Qe.startLineNumber?Ne.endLineNumber-Qe.endLineNumber:Ne.startLineNumber-Qe.startLineNumber:Ne.className<Qe.className?-1:1);let Z=null,ce=0;for(let Ne=0,Qe=v.length;Ne<Qe;Ne++){const qe=v[Ne],it=qe.className;let gt=Math.max(qe.startLineNumber,e)-e;const Tt=Math.min(qe.endLineNumber,o)-e;Z===it?(gt=Math.max(ce+1,gt),ce=Math.max(ce,Tt)):(Z=it,ce=Tt);for(let Nt=gt;Nt<=ce;Nt++)k[Nt].push(Z)}return k}}class Ci extends di{constructor(e){super(),this._context=e;const o=this._context.configuration.options,v=o.get(138);this._lineHeight=o.get(63),this._glyphMargin=o.get(54),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(138);return this._lineHeight=o.get(63),this._glyphMargin=o.get(54),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let k=0;for(let Z=0,ce=o.length;Z<ce;Z++){const Ne=o[Z],Qe=Ne.options.glyphMarginClassName;Qe&&(v[k++]=new Jt(Ne.range.startLineNumber,Ne.range.endLineNumber,Qe))}return v}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,k=this._render(o,v,this._getDecorations(e)),Z=this._lineHeight.toString(),ce=this._glyphMarginLeft.toString(),Ne=this._glyphMarginWidth.toString(),Qe='" style="left:'+ce+"px;width:"+Ne+"px;height:"+Z+'px;"></div>',qe=[];for(let it=o;it<=v;it++){const gt=it-o,Tt=k[gt];Tt.length===0?qe[gt]="":qe[gt]='<div class="cgmr codicon '+Tt.join(" ")+Qe}this._renderResult=qe}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var gi=i(67770),Ei=i(63633),Pi=i(45331);class tn extends Mt{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,v=o.get(139),k=o.get(47);this._lineHeight=o.get(63),this._spaceWidth=k.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*k.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(139),k=o.get(47);return this._lineHeight=o.get(63),this._spaceWidth=k.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*k.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(e){var o;const k=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(k)?!1:(this._primaryPosition=k,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,v,k,Z;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const ce=e.visibleRange.startLineNumber,Ne=e.visibleRange.endLineNumber,Qe=e.scrollWidth,qe=this._lineHeight,it=this._primaryPosition,gt=this.getGuidesByLine(ce,Math.min(Ne+1,this._context.viewModel.getLineCount()),it),Tt=[];for(let Nt=ce;Nt<=Ne;Nt++){const zt=Nt-ce,Yt=gt[zt];let Xt="";const si=(v=(o=e.visibleRangeForPosition(new Oe.L(Nt,1)))===null||o===void 0?void 0:o.left)!==null&&v!==void 0?v:0;for(const fi of Yt){const _i=fi.column===-1?si+(fi.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new Oe.L(Nt,fi.column)).left;if(_i>Qe||this._maxIndentLeft>0&&_i>this._maxIndentLeft)break;const Ai=fi.horizontalLine?fi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ii=fi.horizontalLine?((Z=(k=e.visibleRangeForPosition(new Oe.L(Nt,fi.horizontalLine.endColumn)))===null||k===void 0?void 0:k.left)!==null&&Z!==void 0?Z:_i+this._spaceWidth)-_i:this._spaceWidth;Xt+=`<div class="core-guide ${fi.className} ${Ai}" style="left:${_i}px;height:${qe}px;width:${Ii}px"></div>`}Tt[zt]=Xt}this._renderResult=Tt}getGuidesByLine(e,o,v){const k=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,o,v,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Pi.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Pi.s6.EnabledForActive:Pi.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Z=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,o):null;let ce=0,Ne=0,Qe=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&v){const gt=this._context.viewModel.getActiveIndentGuide(v.lineNumber,e,o);ce=gt.startLineNumber,Ne=gt.endLineNumber,Qe=gt.indent}const{indentSize:qe}=this._context.viewModel.model.getOptions(),it=[];for(let gt=e;gt<=o;gt++){const Tt=new Array;it.push(Tt);const Nt=k?k[gt-e]:[],zt=new f.H9(Nt),Yt=Z?Z[gt-e]:0;for(let Xt=1;Xt<=Yt;Xt++){const si=(Xt-1)*qe+1,fi=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Nt.length===0)&&ce<=gt&&gt<=Ne&&Xt===Qe;Tt.push(...zt.takeWhile(Ai=>Ai.visibleColumn<si)||[]);const _i=zt.peek();(!_i||_i.visibleColumn!==si||_i.horizontalLine)&&Tt.push(new Pi.UO(si,-1,fi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}Tt.push(...zt.takeWhile(Xt=>!0)||[])}return it}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}function an(wt){if(!(wt&&wt.isTransparent()))return wt}(0,At.Ic)((wt,e)=>{const o=[{bracketColor:Wt.zJ,guideColor:Wt.oV,guideColorActive:Wt.Qb},{bracketColor:Wt.Vs,guideColor:Wt.m$,guideColorActive:Wt.m3},{bracketColor:Wt.CE,guideColor:Wt.DS,guideColorActive:Wt.To},{bracketColor:Wt.UP,guideColor:Wt.lS,guideColorActive:Wt.L7},{bracketColor:Wt.r0,guideColor:Wt.Jn,guideColorActive:Wt.HV},{bracketColor:Wt.m1,guideColor:Wt.YF,guideColorActive:Wt.f9}],v=new Ei.W,k=o.map(Z=>{var ce,Ne;const Qe=wt.getColor(Z.bracketColor),qe=wt.getColor(Z.guideColor),it=wt.getColor(Z.guideColorActive),gt=an((ce=an(qe))!==null&&ce!==void 0?ce:Qe==null?void 0:Qe.transparent(.3)),Tt=an((Ne=an(it))!==null&&Ne!==void 0?Ne:Qe);if(!(!gt||!Tt))return{guideColor:gt,guideColorActive:Tt}}).filter(gi.$K);if(k.length>0){for(let Z=0;Z<30;Z++){const ce=k[Z%k.length];e.addRule(`.monaco-editor .${v.getInlineClassNameOfLevel(Z).replace(/ /g,".")} { --guide-color: ${ce.guideColor}; --guide-color-active: ${ce.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${v.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${v.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${v.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var nn=i(39460);class cn{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,o){this._domNode=e,this.endNode=o,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class En{constructor(){this._currentVisibleRange=new He.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Rn{constructor(e,o,v,k,Z,ce,Ne){this.minimalReveal=e,this.lineNumber=o,this.startColumn=v,this.endColumn=k,this.startScrollTop=Z,this.stopScrollTop=ce,this.scrollType=Ne,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class ps{constructor(e,o,v,k,Z){this.minimalReveal=e,this.selections=o,this.startScrollTop=v,this.stopScrollTop=k,this.scrollType=Z,this.type="selections";let ce=o[0].startLineNumber,Ne=o[0].endLineNumber;for(let Qe=1,qe=o.length;Qe<qe;Qe++){const it=o[Qe];ce=Math.min(ce,it.startLineNumber),Ne=Math.max(Ne,it.endLineNumber)}this.minLineNumber=ce,this.maxLineNumber=Ne}}class mn extends _e{constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Zi(this),this.domNode=this._visibleLines.domNode;const v=this._context.configuration,k=this._context.configuration.options,Z=k.get(47),ce=k.get(139);this._lineHeight=k.get(63),this._typicalHalfwidthCharacterWidth=Z.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ce.isViewportWrapping,this._revealHorizontalRightPadding=k.get(94),this._cursorSurroundingLines=k.get(26),this._cursorSurroundingLinesStyle=k.get(27),this._canUseLayerHinting=!k.get(29),this._viewLineOptions=new dt(v,this._context.theme.type),he.write(this.domNode,7),this.domNode.setClassName(`view-lines ${ze.S}`),(0,pn.N)(this.domNode,Z),this._maxLineWidth=0,this._asyncUpdateLineWidths=new nn.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new nn.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new En,this._horizontalRevealRequest=null,this._stickyScrollEnabled=k.get(109).enabled,this._maxNumberStickyLines=k.get(109).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new et(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(139)&&(this._maxLineWidth=0);const o=this._context.configuration.options,v=o.get(47),k=o.get(139);return this._lineHeight=o.get(63),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._isViewportWrapping=k.isViewportWrapping,this._revealHorizontalRightPadding=o.get(94),this._cursorSurroundingLines=o.get(26),this._cursorSurroundingLinesStyle=o.get(27),this._canUseLayerHinting=!o.get(29),this._stickyScrollEnabled=o.get(109).enabled,this._maxNumberStickyLines=o.get(109).maxLineCount,(0,pn.N)(this.domNode,v),this._onOptionsMaybeChanged(),e.hasChanged(138)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new dt(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const v=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();for(let Z=v;Z<=k;Z++)this._visibleLines.getVisibleLine(Z).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let k=!1;for(let Z=o;Z<=v;Z++)k=this._visibleLines.getVisibleLine(Z).onSelectionChanged()||k;return k}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let k=o;k<=v;k++)this._visibleLines.getVisibleLine(k).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(o===-1)return!1;let v=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?v={scrollTop:v.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Rn(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new ps(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const Z=Math.abs(this._context.viewLayout.getCurrentScrollTop()-v.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(v,Z),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),v=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>v)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const v=this._getViewLineDomNode(e);if(v===null)return null;const k=this._getLineNumberFor(v);if(k===-1||k<1||k>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(k)===1)return new Oe.L(k,1);const Z=this._visibleLines.getStartLineNumber(),ce=this._visibleLines.getEndLineNumber();if(k<Z||k>ce)return null;let Ne=this._visibleLines.getVisibleLine(k).getColumnOfNodeOffset(k,e,o);const Qe=this._context.viewModel.getLineMinColumn(k);return Ne<Qe&&(Ne=Qe),new Oe.L(k,Ne)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===et.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let k=o;k<=v;k++){const Z=this._visibleLines.getVisibleLine(k);if(e===Z.getDomNode())return k}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();if(e<o||e>v)return-1;const k=new cn(this.domNode.domNode,this._textRangeRestingSpot),Z=this._visibleLines.getVisibleLine(e).getWidth(k);return this._updateLineWidthsSlowIfDomDidLayout(k),Z}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const v=e.endLineNumber,k=He.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!k)return null;const Z=[];let ce=0;const Ne=new cn(this.domNode.domNode,this._textRangeRestingSpot);let Qe=0;o&&(Qe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Oe.L(k.startLineNumber,1)).lineNumber);const qe=this._visibleLines.getStartLineNumber(),it=this._visibleLines.getEndLineNumber();for(let gt=k.startLineNumber;gt<=k.endLineNumber;gt++){if(gt<qe||gt>it)continue;const Tt=gt===k.startLineNumber?k.startColumn:1,Nt=gt===k.endLineNumber?k.endColumn:this._context.viewModel.getLineMaxColumn(gt),zt=this._visibleLines.getVisibleLine(gt).getVisibleRangesForRange(gt,Tt,Nt,Ne);if(zt){if(o&&gt<v){const Yt=Qe;Qe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Oe.L(gt+1,1)).lineNumber,Yt!==Qe&&(zt.ranges[zt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Z[ce++]=new Re(zt.outsideRenderedLine,gt,$e.from(zt.ranges))}}return this._updateLineWidthsSlowIfDomDidLayout(Ne),ce===0?null:Z}_visibleRangesForLineRange(e,o,v){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const k=new cn(this.domNode.domNode,this._textRangeRestingSpot),Z=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,v,k);return this._updateLineWidthsSlowIfDomDidLayout(k),Z}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new Ce(o.outsideRenderedLine,o.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let k=1,Z=!0;for(let ce=o;ce<=v;ce++){const Ne=this._visibleLines.getVisibleLine(ce);if(e&&!Ne.getWidthIsFast()){Z=!1;continue}k=Math.max(k,Ne.getWidth(null))}return Z&&o===1&&v===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(k),Z}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const v=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();for(let Z=v;Z<=k;Z++){const ce=this._visibleLines.getVisibleLine(Z);if(ce.needsMonospaceFontCheck()){const Ne=ce.getWidth(null);Ne>o&&(o=Ne,e=Z)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let Z=v;Z<=k;Z++)this._visibleLines.getVisibleLine(Z).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const v=this._horizontalRevealRequest;if(e.startLineNumber<=v.minLineNumber&&v.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const k=this._computeScrollLeftToReveal(v);k&&(this._isViewportWrapping||this._ensureMaxLineWidth(k.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:k.scrollLeft},v.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),r.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const v=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();for(let Z=v;Z<=k;Z++)if(this._visibleLines.getVisibleLine(Z).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,v,k,Z,ce){const Ne=e.top,Qe=e.height,qe=Ne+Qe;let it,gt,Tt;if(Z&&Z.length>0){let si=Z[0].startLineNumber,fi=Z[0].endLineNumber;for(let _i=1,Ai=Z.length;_i<Ai;_i++){const Ii=Z[_i];si=Math.min(si,Ii.startLineNumber),fi=Math.max(fi,Ii.endLineNumber)}it=!1,gt=this._context.viewLayout.getVerticalOffsetForLineNumber(si),Tt=this._context.viewLayout.getVerticalOffsetForLineNumber(fi)+this._lineHeight}else if(k)it=!0,gt=this._context.viewLayout.getVerticalOffsetForLineNumber(k.startLineNumber),Tt=this._context.viewLayout.getVerticalOffsetForLineNumber(k.endLineNumber)+this._lineHeight;else return-1;const Nt=(o==="mouse"||v)&&this._cursorSurroundingLinesStyle==="default";let zt=0,Yt=0;if(Nt)v||(zt=this._lineHeight);else{const si=Math.min(Qe/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?zt=Math.max(si,this._maxNumberStickyLines)*this._lineHeight:zt=si*this._lineHeight,Yt=Math.max(0,si-1)*this._lineHeight}v||(ce===0||ce===4)&&(Yt+=this._lineHeight),gt-=zt,Tt+=Yt;let Xt;if(Tt-gt>Qe){if(!it)return-1;Xt=gt}else if(ce===5||ce===6)if(ce===6&&Ne<=gt&&Tt<=qe)Xt=Ne;else{const si=Math.max(5*this._lineHeight,Qe*.2),fi=gt-si,_i=Tt-Qe;Xt=Math.max(_i,fi)}else if(ce===1||ce===2)if(ce===2&&Ne<=gt&&Tt<=qe)Xt=Ne;else{const si=(gt+Tt)/2;Xt=Math.max(0,si-Qe/2)}else Xt=this._computeMinimumScrolling(Ne,qe,gt,Tt,ce===3,ce===4);return Xt}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),v=this._context.configuration.options.get(138),k=o.left,Z=k+o.width-v.verticalScrollbarWidth;let ce=1073741824,Ne=0;if(e.type==="range"){const qe=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!qe)return null;for(const it of qe.ranges)ce=Math.min(ce,Math.round(it.left)),Ne=Math.max(Ne,Math.round(it.left+it.width))}else for(const qe of e.selections){if(qe.startLineNumber!==qe.endLineNumber)return null;const it=this._visibleRangesForLineRange(qe.startLineNumber,qe.startColumn,qe.endColumn);if(!it)return null;for(const gt of it.ranges)ce=Math.min(ce,Math.round(gt.left)),Ne=Math.max(Ne,Math.round(gt.left+gt.width))}return e.minimalReveal||(ce=Math.max(0,ce-mn.HORIZONTAL_EXTRA_PX),Ne+=this._revealHorizontalRightPadding),e.type==="selections"&&Ne-ce>o.width?null:{scrollLeft:this._computeMinimumScrolling(k,Z,ce,Ne),maxHorizontalOffset:Ne}}_computeMinimumScrolling(e,o,v,k,Z,ce){e=e|0,o=o|0,v=v|0,k=k|0,Z=!!Z,ce=!!ce;const Ne=o-e;if(k-v<Ne){if(Z)return v;if(ce)return Math.max(0,k-Ne);if(v<e)return v;if(k>o)return Math.max(0,k-Ne)}else return v;return e}}mn.HORIZONTAL_EXTRA_PX=30;class Xn extends di{constructor(e){super(),this._context=e;const v=this._context.configuration.options.get(138);this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const v=this._context.configuration.options.get(138);return this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let k=0;for(let Z=0,ce=o.length;Z<ce;Z++){const Ne=o[Z],Qe=Ne.options.linesDecorationsClassName;Qe&&(v[k++]=new Jt(Ne.range.startLineNumber,Ne.range.endLineNumber,Qe));const qe=Ne.options.firstLineDecorationClassName;qe&&(v[k++]=new Jt(Ne.range.startLineNumber,Ne.range.startLineNumber,qe))}return v}prepareRender(e){const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,k=this._render(o,v,this._getDecorations(e)),Z=this._decorationsLeft.toString(),ce=this._decorationsWidth.toString(),Ne='" style="left:'+Z+"px;width:"+ce+'px;"></div>',Qe=[];for(let qe=o;qe<=v;qe++){const it=qe-o,gt=k[it];let Tt="";for(let Nt=0,zt=gt.length;Nt<zt;Nt++)Tt+='<div class="cldr '+gt[Nt]+Ne;Qe[it]=Tt}this._renderResult=Qe}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class us extends di{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let k=0;for(let Z=0,ce=o.length;Z<ce;Z++){const Ne=o[Z],Qe=Ne.options.marginClassName;Qe&&(v[k++]=new Jt(Ne.range.startLineNumber,Ne.range.endLineNumber,Qe))}return v}prepareRender(e){const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,k=this._render(o,v,this._getDecorations(e)),Z=[];for(let ce=o;ce<=v;ce++){const Ne=ce-o,Qe=k[Ne];let qe="";for(let it=0,gt=Qe.length;it<gt;it++)qe+='<div class="cmdr '+Qe[it]+'" style=""></div>';Z[Ne]=qe}this._renderResult=Z}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}var qi=i(69782);class ii{constructor(e,o,v,k){this._rgba8Brand=void 0,this.r=ii._clamp(e),this.g=ii._clamp(o),this.b=ii._clamp(v),this.a=ii._clamp(k)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}ii.Empty=new ii(0,0,0,0);class Oi extends p.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,p.dk)(new Oi)),this._INSTANCE}constructor(){super(),this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Ae.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=Ae.RW.getColorMap();if(!e){this._colors=[ii.Empty],this._backgroundIsLight=!0;return}this._colors=[ii.Empty];for(let v=1;v<e.length;v++){const k=e[v].rgba;this._colors[v]=new ii(k.r,k.g,k.b,Math.round(k.a*255))}const o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Oi._INSTANCE=null;var Vi=i(36885),yn=i(78382);const An=(()=>{const wt=[];for(let e=32;e<=126;e++)wt.push(e);return wt.push(65533),wt})(),Kn=(wt,e)=>(wt-=32,wt<0||wt>96?e<=2?(wt+96)%96:96-1:wt);var Hn=i(28161);class $n{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=$n.soften(e,12/15),this.charDataLight=$n.soften(e,50/60)}static soften(e,o){const v=new Uint8ClampedArray(e.length);for(let k=0,Z=e.length;k<Z;k++)v[k]=(0,Hn.K)(e[k]*o);return v}renderChar(e,o,v,k,Z,ce,Ne,Qe,qe,it,gt){const Tt=1*this.scale,Nt=2*this.scale,zt=gt?1:Nt;if(o+Tt>e.width||v+zt>e.height){console.warn("bad render request outside image data");return}const Yt=it?this.charDataLight:this.charDataNormal,Xt=Kn(k,qe),si=e.width*4,fi=Ne.r,_i=Ne.g,Ai=Ne.b,Ii=Z.r-fi,Hi=Z.g-_i,zi=Z.b-Ai,ji=Math.max(ce,Qe),xi=e.data;let fn=Xt*Tt*Nt,hn=v*si+o*4;for(let en=0;en<zt;en++){let gn=hn;for(let kn=0;kn<Tt;kn++){const Vn=Yt[fn++]/255*(ce/255);xi[gn++]=fi+Ii*Vn,xi[gn++]=_i+Hi*Vn,xi[gn++]=Ai+zi*Vn,xi[gn++]=ji}hn+=si}}blockRenderChar(e,o,v,k,Z,ce,Ne,Qe){const qe=1*this.scale,it=2*this.scale,gt=Qe?1:it;if(o+qe>e.width||v+gt>e.height){console.warn("bad render request outside image data");return}const Tt=e.width*4,Nt=.5*(Z/255),zt=ce.r,Yt=ce.g,Xt=ce.b,si=k.r-zt,fi=k.g-Yt,_i=k.b-Xt,Ai=zt+si*Nt,Ii=Yt+fi*Nt,Hi=Xt+_i*Nt,zi=Math.max(Z,Ne),ji=e.data;let xi=v*Tt+o*4;for(let fn=0;fn<gt;fn++){let hn=xi;for(let en=0;en<qe;en++)ji[hn++]=Ai,ji[hn++]=Ii,ji[hn++]=Hi,ji[hn++]=zi;xi+=Tt}}}var ss=i(52473);const Lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},T=wt=>{const e=new Uint8ClampedArray(wt.length/2);for(let o=0;o<wt.length;o+=2)e[o>>1]=Lt[wt[o]]<<4|Lt[wt[o+1]]&15;return e},ee={1:(0,ss.I)(()=>T("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,ss.I)(()=>T("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class re{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let v;return ee[e]?v=new $n(ee[e](),e):v=re.createFromSampleData(re.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=v,v}static createSampleData(e){const o=document.createElement("canvas"),v=o.getContext("2d");o.style.height=`${16}px`,o.height=16,o.width=96*10,o.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${e}`,v.textBaseline="middle";let k=0;for(const Z of An)v.fillText(String.fromCharCode(Z),k,16/2),k+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const k=re._downsample(e,o);return new $n(k,o)}static _downsampleChar(e,o,v,k,Z){const ce=1*Z,Ne=2*Z;let Qe=k,qe=0;for(let it=0;it<Ne;it++){const gt=it/Ne*16,Tt=(it+1)/Ne*16;for(let Nt=0;Nt<ce;Nt++){const zt=Nt/ce*10,Yt=(Nt+1)/ce*10;let Xt=0,si=0;for(let _i=gt;_i<Tt;_i++){const Ai=o+Math.floor(_i)*3840,Ii=1-(_i-Math.floor(_i));for(let Hi=zt;Hi<Yt;Hi++){const zi=1-(Hi-Math.floor(Hi)),ji=Ai+Math.floor(Hi)*4,xi=zi*Ii;si+=xi,Xt+=e[ji]*e[ji+3]/255*xi}}const fi=Xt/si;qe=Math.max(qe,fi),v[Qe++]=(0,Hn.K)(fi)}}return qe}static _downsample(e,o){const v=2*o*1*o,k=v*96,Z=new Uint8ClampedArray(k);let ce=0,Ne=0,Qe=0;for(let qe=0;qe<96;qe++)Qe=Math.max(Qe,this._downsampleChar(e,Ne,Z,ce,o)),ce+=v,Ne+=10*4;if(Qe>0){const qe=255/Qe;for(let it=0;it<k;it++)Z[it]*=qe}return Z}}var Me=i(48117);const Ue=140,tt=2;class yt{constructor(e,o,v){const k=e.options,Z=k.get(136),ce=k.get(138),Ne=ce.minimap,Qe=k.get(47),qe=k.get(69);this.renderMinimap=Ne.renderMinimap,this.size=qe.size,this.minimapHeightIsEditorHeight=Ne.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=k.get(99),this.paddingTop=k.get(80).top,this.paddingBottom=k.get(80).bottom,this.showSlider=qe.showSlider,this.autohide=qe.autohide,this.pixelRatio=Z,this.typicalHalfwidthCharacterWidth=Qe.typicalHalfwidthCharacterWidth,this.lineHeight=k.get(63),this.minimapLeft=Ne.minimapLeft,this.minimapWidth=Ne.minimapWidth,this.minimapHeight=ce.height,this.canvasInnerWidth=Ne.minimapCanvasInnerWidth,this.canvasInnerHeight=Ne.minimapCanvasInnerHeight,this.canvasOuterWidth=Ne.minimapCanvasOuterWidth,this.canvasOuterHeight=Ne.minimapCanvasOuterHeight,this.isSampling=Ne.minimapIsSampling,this.editorHeight=ce.height,this.fontScale=Ne.minimapScale,this.minimapLineHeight=Ne.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,ss.I)(()=>re.create(this.fontScale,Qe.fontFamily)),this.defaultBackgroundColor=v.getColor(2),this.backgroundColor=yt._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=yt._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const v=e.getColor(yn.kVY);return v?new ii(v.rgba.r,v.rgba.g,v.rgba.b,Math.round(255*v.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(yn.Itd);return o?ii._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Ye{constructor(e,o,v,k,Z,ce,Ne,Qe,qe){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=v,this._computedSliderRatio=k,this.sliderTop=Z,this.sliderHeight=ce,this.topPaddingLineCount=Ne,this.startLineNumber=Qe,this.endLineNumber=qe}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const o=Math.max(this.startLineNumber,e.startLineNumber),v=Math.min(this.endLineNumber,e.endLineNumber);return o>v?null:[o,v]}getYForLineNumber(e,o){return+(e-this.startLineNumber+this.topPaddingLineCount)*o}static create(e,o,v,k,Z,ce,Ne,Qe,qe,it,gt){const Tt=e.pixelRatio,Nt=e.minimapLineHeight,zt=Math.floor(e.canvasInnerHeight/Nt),Yt=e.lineHeight;if(e.minimapHeightIsEditorHeight){let Hi=Qe*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(Hi+=Math.max(0,Z-e.lineHeight-e.paddingBottom));const zi=Math.max(1,Math.floor(Z*Z/Hi)),ji=Math.max(0,e.minimapHeight-zi),xi=ji/(it-Z),fn=qe*xi,hn=ji>0,en=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),gn=Math.floor(e.paddingTop/e.lineHeight);return new Ye(qe,it,hn,xi,fn,zi,gn,1,Math.min(Ne,en))}let Xt;if(ce&&v!==Ne){const Hi=v-o+1;Xt=Math.floor(Hi*Nt/Tt)}else{const Hi=Z/Yt;Xt=Math.floor(Hi*Nt/Tt)}const si=Math.floor(e.paddingTop/Yt);let fi=Math.floor(e.paddingBottom/Yt);if(e.scrollBeyondLastLine){const Hi=Z/Yt;fi=Math.max(fi,Hi-1)}let _i;if(fi>0){const Hi=Z/Yt;_i=(si+Ne+fi-Hi-1)*Nt/Tt}else _i=Math.max(0,(si+Ne)*Nt/Tt-Xt);_i=Math.min(e.minimapHeight-Xt,_i);const Ai=_i/(it-Z),Ii=qe*Ai;if(zt>=si+Ne+fi){const Hi=_i>0;return new Ye(qe,it,Hi,Ai,Ii,Xt,si,1,Ne)}else{let Hi;o>1?Hi=o+si:Hi=Math.max(1,qe/Yt);let zi,ji=Math.max(1,Math.floor(Hi-Ii*Tt/Nt));ji<si?(zi=si-ji+1,ji=1):(zi=0,ji=Math.max(1,ji-si)),gt&&gt.scrollHeight===it&&(gt.scrollTop>qe&&(ji=Math.min(ji,gt.startLineNumber),zi=Math.max(zi,gt.topPaddingLineCount)),gt.scrollTop<qe&&(ji=Math.max(ji,gt.startLineNumber),zi=Math.min(zi,gt.topPaddingLineCount)));const xi=Math.min(Ne,ji-zi+zt-1),fn=(qe-k)/Yt;let hn;return qe>e.paddingTop?hn=(o-ji+zi+fn)*Nt/Tt:hn=qe/e.paddingTop*(zi+fn)*Nt/Tt,new Ye(qe,it,!0,Ai,hn,Xt,zi,ji,xi)}}}class V{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}V.INVALID=new V(-1);class de{constructor(e,o,v){this.renderedLayout=e,this._imageData=o,this._renderedLines=new yi(()=>V.INVALID),this._renderedLines._set(e.startLineNumber,v)}linesEquals(e){if(!this.scrollEquals(e))return!1;const v=this._renderedLines._get().lines;for(let k=0,Z=v.length;k<Z;k++)if(v[k].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Ee{constructor(e,o,v,k){this._backgroundFillData=Ee._createBackgroundFillData(o,v,k),this._buffers=[e.createImageData(o,v),e.createImageData(o,v)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,v){const k=v.r,Z=v.g,ce=v.b,Ne=v.a,Qe=new Uint8ClampedArray(e*o*4);let qe=0;for(let it=0;it<o;it++)for(let gt=0;gt<e;gt++)Qe[qe]=k,Qe[qe+1]=Z,Qe[qe+2]=ce,Qe[qe+3]=Ne,qe+=4;return Qe}}class Xe{static compute(e,o,v){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:k}=I.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),Z=o/k,ce=Z/2;if(!v||v.minimapLines.length===0){const Xt=[];if(Xt[0]=1,k>1){for(let si=0,fi=k-1;si<fi;si++)Xt[si]=Math.round(si*Z+ce);Xt[k-1]=o}return[new Xe(Z,Xt),[]]}const Ne=v.minimapLines,Qe=Ne.length,qe=[];let it=0,gt=0,Tt=1;const Nt=10;let zt=[],Yt=null;for(let Xt=0;Xt<k;Xt++){const si=Math.max(Tt,Math.round(Xt*Z)),fi=Math.max(si,Math.round((Xt+1)*Z));for(;it<Qe&&Ne[it]<si;){if(zt.length<Nt){const Ai=it+1+gt;Yt&&Yt.type==="deleted"&&Yt._oldIndex===it-1?Yt.deleteToLineNumber++:(Yt={type:"deleted",_oldIndex:it,deleteFromLineNumber:Ai,deleteToLineNumber:Ai},zt.push(Yt)),gt--}it++}let _i;if(it<Qe&&Ne[it]<=fi)_i=Ne[it],it++;else if(Xt===0?_i=1:Xt+1===k?_i=o:_i=Math.round(Xt*Z+ce),zt.length<Nt){const Ai=it+1+gt;Yt&&Yt.type==="inserted"&&Yt._i===Xt-1?Yt.insertToLineNumber++:(Yt={type:"inserted",_i:Xt,insertFromLineNumber:Ai,insertToLineNumber:Ai},zt.push(Yt)),gt++}qe[Xt]=_i,Tt=_i}if(zt.length<Nt)for(;it<Qe;){const Xt=it+1+gt;Yt&&Yt.type==="deleted"&&Yt._oldIndex===it-1?Yt.deleteToLineNumber++:(Yt={type:"deleted",_oldIndex:it,deleteFromLineNumber:Xt,deleteToLineNumber:Xt},zt.push(Yt)),gt--,it++}else zt=[{type:"flush"}];return[new Xe(Z,qe),zt]}constructor(e,o){this.samplingRatio=e,this.minimapLines=o}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let v=this.modelLineToMinimapLine(e)-1;for(;v>0&&this.minimapLines[v-1]>=e;)v--;let k=this.modelLineToMinimapLine(o)-1;for(;k+1<this.minimapLines.length&&this.minimapLines[k+1]<=o;)k++;if(v===k){const Z=this.minimapLines[v];if(Z<e||Z>o)return null}return[v+1,k+1]}decorationLineRangeToMinimapLineRange(e,o){let v=this.modelLineToMinimapLine(e),k=this.modelLineToMinimapLine(o);return e!==o&&k===v&&(k===this.minimapLines.length?v>1&&v--:k++),[v,k]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let v=this.minimapLines.length,k=0;for(let Z=this.minimapLines.length-1;Z>=0&&!(this.minimapLines[Z]<e.fromLineNumber);Z--)this.minimapLines[Z]<=e.toLineNumber?(this.minimapLines[Z]=Math.max(1,e.fromLineNumber-1),v=Math.min(v,Z),k=Math.max(k,Z)):this.minimapLines[Z]-=o;return[v,k]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let v=this.minimapLines.length-1;v>=0&&!(this.minimapLines[v]<e.fromLineNumber);v--)this.minimapLines[v]+=o}}class Pe extends _e{constructor(e){super(e),this.tokensColorTracker=Oi.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new yt(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=Xe.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new pt(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new yt(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return o?this._actual.onLinesChanged(o[0],o[1]-o[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[o,v]=this._samplingState.onLinesDeleted(e);return o<=v&&this._actual.onLinesChanged(o+1,v-o+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const o=[];for(const v of e.ranges){const k=this._samplingState.modelLineRangeToMinimapLineRange(v.fromLineNumber,v.toLineNumber);k&&o.push({fromLineNumber:k[0],toLineNumber:k[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),v=this._samplingState.modelLineToMinimapLine(v));const k={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:v,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(k)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[o,v]=Xe.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const k of v)switch(k.type){case"deleted":this._actual.onLinesDeleted(k.deleteFromLineNumber,k.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(k.insertFromLineNumber,k.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,v){if(this._samplingState){const k=[];for(let Z=0,ce=o-e+1;Z<ce;Z++)v[Z]?k[Z]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+Z-1]):k[Z]=null;return k}return this._context.viewModel.getMinimapLinesRenderingData(e,o,v).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,v]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new G.Y(o,e.startColumn,v,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let v;if(this._samplingState){const Z=this._samplingState.minimapLines[e-1],ce=this._samplingState.minimapLines[o-1];v=new He.e(Z,1,ce,this._context.viewModel.getLineMaxColumn(ce))}else v=new He.e(e,1,o,this._context.viewModel.getLineMaxColumn(o));const k=this._context.viewModel.getDecorationsInViewport(v,!0);if(this._samplingState){const Z=[];for(const ce of k){if(!ce.options.minimap)continue;const Ne=ce.range,Qe=this._samplingState.modelLineToMinimapLine(Ne.startLineNumber),qe=this._samplingState.modelLineToMinimapLine(Ne.endLineNumber);Z.push(new Vi.$l(new He.e(Qe,Ne.startColumn,qe,Ne.endColumn),ce.options))}return Z}return k}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new He.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class pt extends p.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(yn.ov3),this._domNode=(0,y.X)(document.createElement("div")),he.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,y.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,y.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,y.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,y.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,y.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=N.mu(this._domNode.domNode,N.tw.POINTER_DOWN,v=>{if(v.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(v.button===0&&this._lastRenderData){const qe=N.i(this._slider.domNode),it=qe.top+qe.height/2;this._startSliderDragging(v,it,this._lastRenderData.renderedLayout)}return}const Z=this._model.options.minimapLineHeight,ce=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*v.offsetY;let Qe=Math.floor(ce/Z)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;Qe=Math.min(Qe,this._model.getLineCount()),this._model.revealLineNumber(Qe)}),this._sliderPointerMoveMonitor=new qi.C,this._sliderPointerDownListener=N.mu(this._slider.domNode,N.tw.POINTER_DOWN,v=>{v.preventDefault(),v.stopPropagation(),v.button===0&&this._lastRenderData&&this._startSliderDragging(v,v.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=pe.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=N.nm(this._domNode.domNode,pe.t.Start,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(v))},{passive:!1}),this._sliderTouchMoveListener=N.nm(this._domNode.domNode,pe.t.Change,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(v)},{passive:!1}),this._sliderTouchEndListener=N.mu(this._domNode.domNode,pe.t.End,v=>{v.preventDefault(),v.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,v){if(!e.target||!(e.target instanceof Element))return;const k=e.pageX;this._slider.toggleClassName("active",!0);const Z=(ce,Ne)=>{const Qe=N.i(this._domNode.domNode),qe=Math.min(Math.abs(Ne-k),Math.abs(Ne-Qe.left),Math.abs(Ne-Qe.left-Qe.width));if(r.ED&&qe>Ue){this._model.setScrollTop(v.scrollTop);return}const it=ce-o;this._model.setScrollTop(v.getDesiredScrollTopFromDelta(it))};e.pageY!==o&&Z(e.pageY,k),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,ce=>Z(ce.pageY,ce.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,v=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(v)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Ee(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesDeleted(e,o),!0}onLinesInserted(e,o){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(yn.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const v=Ye.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(v.sliderNeeded?"block":"none"),this._slider.setTop(v.sliderTop),this._slider.setHeight(v.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(v.sliderHeight),this.renderDecorations(v),this._lastRenderData=this.renderLines(v)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(He.e.compareRangesUsingStarts);const v=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);v.sort((Tt,Nt)=>(Tt.options.zIndex||0)-(Nt.options.zIndex||0));const{canvasInnerWidth:k,canvasInnerHeight:Z}=this._model.options,ce=this._model.options.minimapLineHeight,Ne=this._model.options.minimapCharWidth,Qe=this._model.getOptions().tabSize,qe=this._decorationsCanvas.domNode.getContext("2d");qe.clearRect(0,0,k,Z);const it=new It(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(qe,o,it,e,ce),this._renderDecorationsLineHighlights(qe,v,it,e,ce);const gt=new It(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(qe,o,gt,e,ce,Qe,Ne,k),this._renderDecorationsHighlights(qe,v,gt,e,ce,Qe,Ne,k)}}_renderSelectionLineHighlights(e,o,v,k,Z){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let ce=0,Ne=0;for(const Qe of o){const qe=k.intersectWithViewport(Qe);if(!qe)continue;const[it,gt]=qe;for(let zt=it;zt<=gt;zt++)v.set(zt,!0);const Tt=k.getYForLineNumber(it,Z),Nt=k.getYForLineNumber(gt,Z);Ne>=Tt||(Ne>ce&&e.fillRect(I.y0,ce,e.canvas.width,Ne-ce),ce=Tt),Ne=Nt}Ne>ce&&e.fillRect(I.y0,ce,e.canvas.width,Ne-ce)}_renderDecorationsLineHighlights(e,o,v,k,Z){const ce=new Map;for(let Ne=o.length-1;Ne>=0;Ne--){const Qe=o[Ne],qe=Qe.options.minimap;if(!qe||qe.position!==Me.F5.Inline)continue;const it=k.intersectWithViewport(Qe.range);if(!it)continue;const[gt,Tt]=it,Nt=qe.getColor(this._theme.value);if(!Nt||Nt.isTransparent())continue;let zt=ce.get(Nt.toString());zt||(zt=Nt.transparent(.5).toString(),ce.set(Nt.toString(),zt)),e.fillStyle=zt;for(let Yt=gt;Yt<=Tt;Yt++){if(v.has(Yt))continue;v.set(Yt,!0);const Xt=k.getYForLineNumber(gt,Z);e.fillRect(I.y0,Xt,e.canvas.width,Z)}}}_renderSelectionsHighlights(e,o,v,k,Z,ce,Ne,Qe){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const qe of o){const it=k.intersectWithViewport(qe);if(!it)continue;const[gt,Tt]=it;for(let Nt=gt;Nt<=Tt;Nt++)this.renderDecorationOnLine(e,v,qe,this._selectionColor,k,Nt,Z,Z,ce,Ne,Qe)}}_renderDecorationsHighlights(e,o,v,k,Z,ce,Ne,Qe){for(const qe of o){const it=qe.options.minimap;if(!it)continue;const gt=k.intersectWithViewport(qe.range);if(!gt)continue;const[Tt,Nt]=gt,zt=it.getColor(this._theme.value);if(!(!zt||zt.isTransparent()))for(let Yt=Tt;Yt<=Nt;Yt++)switch(it.position){case Me.F5.Inline:this.renderDecorationOnLine(e,v,qe.range,zt,k,Yt,Z,Z,ce,Ne,Qe);continue;case Me.F5.Gutter:{const Xt=k.getYForLineNumber(Yt,Z),si=2;this.renderDecoration(e,zt,si,Xt,tt,Z);continue}}}}renderDecorationOnLine(e,o,v,k,Z,ce,Ne,Qe,qe,it,gt){const Tt=Z.getYForLineNumber(ce,Qe);if(Tt+Ne<0||Tt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Nt,endLineNumber:zt}=v,Yt=Nt===ce?v.startColumn:1,Xt=zt===ce?v.endColumn:this._model.getLineMaxColumn(ce),si=this.getXOffsetForPosition(o,ce,Yt,qe,it,gt),fi=this.getXOffsetForPosition(o,ce,Xt,qe,it,gt);this.renderDecoration(e,k,si,Tt,fi-si,Ne)}getXOffsetForPosition(e,o,v,k,Z,ce){if(v===1)return I.y0;if((v-1)*Z>=ce)return ce;let Qe=e.get(o);if(!Qe){const qe=this._model.getLineContent(o);Qe=[I.y0];let it=I.y0;for(let gt=1;gt<qe.length+1;gt++){const Tt=qe.charCodeAt(gt-1),Nt=Tt===9?k*Z:rn.K7(Tt)?2*Z:Z,zt=it+Nt;if(zt>=ce){Qe[gt]=ce;break}Qe[gt]=zt,it=zt}e.set(o,Qe)}return v-1<Qe.length?Qe[v-1]:ce}renderDecoration(e,o,v,k,Z,ce){e.fillStyle=o&&o.toString()||"",e.fillRect(v,k,Z,ce)}renderLines(e){const o=e.startLineNumber,v=e.endLineNumber,k=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Vn=this._lastRenderData._get();return new de(e,Vn.imageData,Vn.lines)}const Z=this._getBuffer();if(!Z)return null;const[ce,Ne,Qe]=pt._renderUntouchedLines(Z,e.topPaddingLineCount,o,v,k,this._lastRenderData),qe=this._model.getMinimapLinesRenderingData(o,v,Qe),it=this._model.getOptions().tabSize,gt=this._model.options.defaultBackgroundColor,Tt=this._model.options.backgroundColor,Nt=this._model.options.foregroundAlpha,zt=this._model.tokensColorTracker,Yt=zt.backgroundIsLight(),Xt=this._model.options.renderMinimap,si=this._model.options.charRenderer(),fi=this._model.options.fontScale,_i=this._model.options.minimapCharWidth,Ii=(Xt===1?2:2+1)*fi,Hi=k>Ii?Math.floor((k-Ii)/2):0,zi=Tt.a/255,ji=new ii(Math.round((Tt.r-gt.r)*zi+gt.r),Math.round((Tt.g-gt.g)*zi+gt.g),Math.round((Tt.b-gt.b)*zi+gt.b),255);let xi=e.topPaddingLineCount*k;const fn=[];for(let Vn=0,rs=v-o+1;Vn<rs;Vn++)Qe[Vn]&&pt._renderLine(Z,ji,Tt.a,Yt,Xt,_i,zt,Nt,si,xi,Hi,it,qe[Vn],fi,k),fn[Vn]=new V(xi),xi+=k;const hn=ce===-1?0:ce,gn=(Ne===-1?Z.height:Ne)-hn;return this._canvas.domNode.getContext("2d").putImageData(Z,0,0,0,hn,Z.width,gn),new de(e,Z,fn)}static _renderUntouchedLines(e,o,v,k,Z,ce){const Ne=[];if(!ce){for(let xi=0,fn=k-v+1;xi<fn;xi++)Ne[xi]=!0;return[-1,-1,Ne]}const Qe=ce._get(),qe=Qe.imageData.data,it=Qe.rendLineNumberStart,gt=Qe.lines,Tt=gt.length,Nt=e.width,zt=e.data,Yt=(k-v+1)*Z*Nt*4;let Xt=-1,si=-1,fi=-1,_i=-1,Ai=-1,Ii=-1,Hi=o*Z;for(let xi=v;xi<=k;xi++){const fn=xi-v,hn=xi-it,en=hn>=0&&hn<Tt?gt[hn].dy:-1;if(en===-1){Ne[fn]=!0,Hi+=Z;continue}const gn=en*Nt*4,kn=(en+Z)*Nt*4,Vn=Hi*Nt*4,rs=(Hi+Z)*Nt*4;_i===gn&&Ii===Vn?(_i=kn,Ii=rs):(fi!==-1&&(zt.set(qe.subarray(fi,_i),Ai),Xt===-1&&fi===0&&fi===Ai&&(Xt=_i),si===-1&&_i===Yt&&fi===Ai&&(si=fi)),fi=gn,_i=kn,Ai=Vn,Ii=rs),Ne[fn]=!1,Hi+=Z}fi!==-1&&(zt.set(qe.subarray(fi,_i),Ai),Xt===-1&&fi===0&&fi===Ai&&(Xt=_i),si===-1&&_i===Yt&&fi===Ai&&(si=fi));const zi=Xt===-1?-1:Xt/(Nt*4),ji=si===-1?-1:si/(Nt*4);return[zi,ji,Ne]}static _renderLine(e,o,v,k,Z,ce,Ne,Qe,qe,it,gt,Tt,Nt,zt,Yt){const Xt=Nt.content,si=Nt.tokens,fi=e.width-ce,_i=Yt===1;let Ai=I.y0,Ii=0,Hi=0;for(let zi=0,ji=si.getCount();zi<ji;zi++){const xi=si.getEndOffset(zi),fn=si.getForeground(zi),hn=Ne.getColor(fn);for(;Ii<xi;Ii++){if(Ai>fi)return;const en=Xt.charCodeAt(Ii);if(en===9){const gn=Tt-(Ii+Hi)%Tt;Hi+=gn-1,Ai+=gn*ce}else if(en===32)Ai+=ce;else{const gn=rn.K7(en)?2:1;for(let kn=0;kn<gn;kn++)if(Z===2?qe.blockRenderChar(e,Ai,it+gt,hn,Qe,o,v,_i):qe.renderChar(e,Ai,it+gt,en,hn,Qe,o,v,zt,k,_i),Ai+=ce,Ai>fi)return}}}}}class It{constructor(e,o,v){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=v,this._values=[];for(let k=0,Z=this._endLineNumber-this._startLineNumber+1;k<Z;k++)this._values[k]=v}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class Rt extends _e{constructor(e){super(e);const v=this._context.configuration.options.get(138);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,y.X)(document.createElement("div")),he.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const v=this._context.configuration.options.get(138);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(e){const o=(0,y.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const v=this._widgets[e.getId()];return v.preference===o?!1:(v.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const k=this._widgets[o].domNode.domNode;delete this._widgets[o],k.parentNode.removeChild(k),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.setTop("");return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const v=o.domNode.clientHeight;o.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let v=0,k=o.length;v<k;v++){const Z=o[v];this._renderWidget(this._widgets[Z])}}}class ei{constructor(e,o){const v=e.options;this.lineHeight=v.get(63),this.pixelRatio=v.get(136),this.overviewRulerLanes=v.get(79),this.renderBorder=v.get(78);const k=o.getColor(Wt.zw);this.borderColor=k?k.toString():null,this.hideCursor=v.get(56);const Z=o.getColor(Wt.n0);this.cursorColor=Z?Z.transparent(.7).toString():null,this.themeType=o.type;const ce=v.get(69),Ne=ce.enabled,Qe=ce.side,qe=o.getColor(Wt.e_),it=Ae.RW.getDefaultBackground();qe?this.backgroundColor=qe:Ne&&Qe==="right"?this.backgroundColor=it:this.backgroundColor=null;const Tt=v.get(138).overviewRuler;this.top=Tt.top,this.right=Tt.right,this.domWidth=Tt.width,this.domHeight=Tt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Nt,zt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Nt,this.w=zt}_initLanes(e,o,v){const k=o-e;if(v>=3){const Z=Math.floor(k/3),ce=Math.floor(k/3),Ne=k-Z-ce,Qe=e,qe=Qe+Z,it=Qe+Z+Ne;return[[0,Qe,qe,Qe,it,Qe,qe,Qe],[0,Z,Ne,Z+Ne,ce,Z+Ne+ce,Ne+ce,Z+Ne+ce]]}else if(v===2){const Z=Math.floor(k/2),ce=k-Z,Ne=e,Qe=Ne+Z;return[[0,Ne,Ne,Ne,Qe,Ne,Ne,Ne],[0,Z,Z,Z,ce,Z+ce,Z+ce,Z+ce]]}else{const Z=e,ce=k;return[[0,Z,Z,Z,Z,Z,Z,Z],[0,ce,ce,ce,ce,ce,ce,ce]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&Ge.Il.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class ni extends _e{constructor(e){super(e),this._domNode=(0,y.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Ae.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new ei(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,v=e.selections.length;o<v;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(Oe.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?Ge.Il.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const o=this._settings.canvasWidth,v=this._settings.canvasHeight,k=this._settings.lineHeight,Z=this._context.viewLayout,ce=this._context.viewLayout.getScrollHeight(),Ne=v/ce,Qe=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),qe=6*this._settings.pixelRatio|0,it=qe/2|0,gt=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(gt.fillStyle=Ge.Il.Format.CSS.formatHexA(e),gt.fillRect(0,0,o,v)):(gt.clearRect(0,0,o,v),gt.fillStyle=Ge.Il.Format.CSS.formatHexA(e),gt.fillRect(0,0,o,v)):gt.clearRect(0,0,o,v);const Tt=this._settings.x,Nt=this._settings.w;Qe.sort(Vi.SQ.cmp);for(const zt of Qe){const Yt=zt.color,Xt=zt.data;gt.fillStyle=Yt;let si=0,fi=0,_i=0;for(let Ai=0,Ii=Xt.length/3;Ai<Ii;Ai++){const Hi=Xt[3*Ai],zi=Xt[3*Ai+1],ji=Xt[3*Ai+2];let xi=Z.getVerticalOffsetForLineNumber(zi)*Ne|0,fn=(Z.getVerticalOffsetForLineNumber(ji)+k)*Ne|0;if(fn-xi<qe){let en=(xi+fn)/2|0;en<it?en=it:en+it>v&&(en=v-it),xi=en-it,fn=en+it}xi>_i+1||Hi!==si?(Ai!==0&&gt.fillRect(Tt[si],fi,Nt[si],_i-fi),si=Hi,fi=xi,_i=fn):fn>_i&&(_i=fn)}gt.fillRect(Tt[si],fi,Nt[si],_i-fi)}if(!this._settings.hideCursor&&this._settings.cursorColor){const zt=2*this._settings.pixelRatio|0,Yt=zt/2|0,Xt=this._settings.x[7],si=this._settings.w[7];gt.fillStyle=this._settings.cursorColor;let fi=-100,_i=-100;for(let Ai=0,Ii=this._cursorPositions.length;Ai<Ii;Ai++){const Hi=this._cursorPositions[Ai];let zi=Z.getVerticalOffsetForLineNumber(Hi.lineNumber)*Ne|0;zi<Yt?zi=Yt:zi+Yt>v&&(zi=v-Yt);const ji=zi-Yt,xi=ji+zt;ji>_i+1?(Ai!==0&&gt.fillRect(Xt,fi,si,_i-fi),fi=ji,_i=xi):xi>_i&&(_i=xi)}gt.fillRect(Xt,fi,si,_i-fi)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(gt.beginPath(),gt.lineWidth=1,gt.strokeStyle=this._settings.borderColor,gt.moveTo(0,0),gt.lineTo(0,v),gt.stroke(),gt.moveTo(0,0),gt.lineTo(o,0),gt.stroke())}}var pi=i(14326);class mi extends Se{constructor(e,o){super(),this._context=e;const v=this._context.configuration.options;this._domNode=(0,y.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new pi.Tj(k=>this._context.viewLayout.getVerticalOffsetForLineNumber(k)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(63)),this._zoneManager.setPixelRatio(v.get(136)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(63)&&(this._zoneManager.setLineHeight(o.get(63)),this._render()),e.hasChanged(136)&&(this._zoneManager.setPixelRatio(o.get(136)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),k=this._zoneManager.getId2Color(),Z=this._domNode.domNode.getContext("2d");return Z.clearRect(0,0,e,o),v.length>0&&this._renderOneLane(Z,v,k,e),!0}_renderOneLane(e,o,v,k){let Z=0,ce=0,Ne=0;for(const Qe of o){const qe=Qe.colorId,it=Qe.from,gt=Qe.to;qe!==Z?(e.fillRect(0,ce,k,Ne-ce),Z=qe,e.fillStyle=v[Z],ce=it,Ne=gt):Ne>=it?Ne=Math.max(Ne,gt):(e.fillRect(0,ce,k,Ne-ce),ce=it,Ne=gt)}e.fillRect(0,ce,k,Ne-ce)}}class wi extends _e{constructor(e){super(e),this.domNode=(0,y.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(96),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(96),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:k}=this._context.viewModel.model.getOptions(),Z=k;let ce=o-e;for(;ce>0;){const Ne=(0,y.X)(document.createElement("div"));Ne.setClassName("view-ruler"),Ne.setWidth(Z),this.domNode.appendChild(Ne),this._renderedRulers.push(Ne),ce--}return}let v=e-o;for(;v>0;){const k=this._renderedRulers.pop();this.domNode.removeChild(k),v--}}render(e){this._ensureRulersCount();for(let o=0,v=this._rulers.length;o<v;o++){const k=this._renderedRulers[o],Z=this._rulers[o];k.setBoxShadow(Z.color?`1px 0 0 0 ${Z.color} inset`:""),k.setHeight(Math.min(e.scrollHeight,1e6)),k.setLeft(Z.column*this._typicalHalfwidthCharacterWidth)}}}class ci extends _e{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(97);this._useShadows=v.useShadows,this._domNode=(0,y.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(138);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.verticalScrollbarWidth}onConfigurationChanged(e){const v=this._context.configuration.options.get(97);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class vi{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Ti{constructor(e,o){this.lineNumber=e,this.ranges=o}}function Yi(wt){return new vi(wt)}function Zn(wt){return new Ti(wt.lineNumber,wt.ranges.map(Yi))}class wn extends Mt{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(63),this._roundedSelection=o.get(95),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(63),this._roundedSelection=o.get(95),this._typicalHalfwidthCharacterWidth=o.get(47).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,v=e.length;o<v;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,v){const k=this._typicalHalfwidthCharacterWidth/4;let Z=null,ce=null;if(v&&v.length>0&&o.length>0){const Ne=o[0].lineNumber;if(Ne===e.startLineNumber)for(let qe=0;!Z&&qe<v.length;qe++)v[qe].lineNumber===Ne&&(Z=v[qe].ranges[0]);const Qe=o[o.length-1].lineNumber;if(Qe===e.endLineNumber)for(let qe=v.length-1;!ce&&qe>=0;qe--)v[qe].lineNumber===Qe&&(ce=v[qe].ranges[0]);Z&&!Z.startStyle&&(Z=null),ce&&!ce.startStyle&&(ce=null)}for(let Ne=0,Qe=o.length;Ne<Qe;Ne++){const qe=o[Ne].ranges[0],it=qe.left,gt=qe.left+qe.width,Tt={top:0,bottom:0},Nt={top:0,bottom:0};if(Ne>0){const zt=o[Ne-1].ranges[0].left,Yt=o[Ne-1].ranges[0].left+o[Ne-1].ranges[0].width;Cs(it-zt)<k?Tt.top=2:it>zt&&(Tt.top=1),Cs(gt-Yt)<k?Nt.top=2:zt<gt&&gt<Yt&&(Nt.top=1)}else Z&&(Tt.top=Z.startStyle.top,Nt.top=Z.endStyle.top);if(Ne+1<Qe){const zt=o[Ne+1].ranges[0].left,Yt=o[Ne+1].ranges[0].left+o[Ne+1].ranges[0].width;Cs(it-zt)<k?Tt.bottom=2:zt<it&&it<Yt&&(Tt.bottom=1),Cs(gt-Yt)<k?Nt.bottom=2:gt<Yt&&(Nt.bottom=1)}else ce&&(Tt.bottom=ce.startStyle.bottom,Nt.bottom=ce.endStyle.bottom);qe.startStyle=Tt,qe.endStyle=Nt}}_getVisibleRangesWithStyle(e,o,v){const Z=(o.linesVisibleRangesForRange(e,!0)||[]).map(Zn);return!this._visibleRangesHaveGaps(Z)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,Z,v),Z}_createSelectionPiece(e,o,v,k,Z){return'<div class="cslr '+v+'" style="top:'+e.toString()+"px;left:"+k.toString()+"px;width:"+Z.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,v,k){if(k.length===0)return;const Z=!!k[0].ranges[0].startStyle,ce=this._lineHeight.toString(),Ne=(this._lineHeight-1).toString(),Qe=k[0].lineNumber,qe=k[k.length-1].lineNumber;for(let it=0,gt=k.length;it<gt;it++){const Tt=k[it],Nt=Tt.lineNumber,zt=Nt-o,Yt=v&&(Nt===qe||Nt===Qe)?Ne:ce,Xt=v&&Nt===Qe?1:0;let si="",fi="";for(let _i=0,Ai=Tt.ranges.length;_i<Ai;_i++){const Ii=Tt.ranges[_i];if(Z){const zi=Ii.startStyle,ji=Ii.endStyle;if(zi.top===1||zi.bottom===1){si+=this._createSelectionPiece(Xt,Yt,wn.SELECTION_CLASS_NAME,Ii.left-wn.ROUNDED_PIECE_WIDTH,wn.ROUNDED_PIECE_WIDTH);let xi=wn.EDITOR_BACKGROUND_CLASS_NAME;zi.top===1&&(xi+=" "+wn.SELECTION_TOP_RIGHT),zi.bottom===1&&(xi+=" "+wn.SELECTION_BOTTOM_RIGHT),si+=this._createSelectionPiece(Xt,Yt,xi,Ii.left-wn.ROUNDED_PIECE_WIDTH,wn.ROUNDED_PIECE_WIDTH)}if(ji.top===1||ji.bottom===1){si+=this._createSelectionPiece(Xt,Yt,wn.SELECTION_CLASS_NAME,Ii.left+Ii.width,wn.ROUNDED_PIECE_WIDTH);let xi=wn.EDITOR_BACKGROUND_CLASS_NAME;ji.top===1&&(xi+=" "+wn.SELECTION_TOP_LEFT),ji.bottom===1&&(xi+=" "+wn.SELECTION_BOTTOM_LEFT),si+=this._createSelectionPiece(Xt,Yt,xi,Ii.left+Ii.width,wn.ROUNDED_PIECE_WIDTH)}}let Hi=wn.SELECTION_CLASS_NAME;if(Z){const zi=Ii.startStyle,ji=Ii.endStyle;zi.top===0&&(Hi+=" "+wn.SELECTION_TOP_LEFT),zi.bottom===0&&(Hi+=" "+wn.SELECTION_BOTTOM_LEFT),ji.top===0&&(Hi+=" "+wn.SELECTION_TOP_RIGHT),ji.bottom===0&&(Hi+=" "+wn.SELECTION_BOTTOM_RIGHT)}fi+=this._createSelectionPiece(Xt,Yt,Hi,Ii.left,Ii.width)}e[zt][0]+=si,e[zt][1]+=fi}}prepareRender(e){const o=[],v=e.visibleRange.startLineNumber,k=e.visibleRange.endLineNumber;for(let ce=v;ce<=k;ce++){const Ne=ce-v;o[Ne]=["",""]}const Z=[];for(let ce=0,Ne=this._selections.length;ce<Ne;ce++){const Qe=this._selections[ce];if(Qe.isEmpty()){Z[ce]=null;continue}const qe=this._getVisibleRangesWithStyle(Qe,e,this._previousFrameVisibleRangesWithStyle[ce]);Z[ce]=qe,this._actualRenderOneSelection(o,v,this._selections.length>1,qe)}this._previousFrameVisibleRangesWithStyle=Z,this._renderResult=o.map(([ce,Ne])=>ce+Ne)}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}wn.SELECTION_CLASS_NAME="selected-text",wn.SELECTION_TOP_LEFT="top-left-radius",wn.SELECTION_BOTTOM_LEFT="bottom-left-radius",wn.SELECTION_TOP_RIGHT="top-right-radius",wn.SELECTION_BOTTOM_RIGHT="bottom-right-radius",wn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",wn.ROUNDED_PIECE_WIDTH=10,(0,At.Ic)((wt,e)=>{const o=wt.getColor(yn.yb5);o&&!o.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)});function Cs(wt){return wt<0?-wt:wt}class bs{constructor(e,o,v,k,Z,ce,Ne){this.top=e,this.left=o,this.paddingLeft=v,this.width=k,this.height=Z,this.textContent=ce,this.textContentClassName=Ne}}class Ms{constructor(e){this._context=e;const o=this._context.configuration.options,v=o.get(47);this._cursorStyle=o.get(25),this._lineHeight=o.get(63),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(28),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,y.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${ze.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,pn.N)(this._domNode,v),this._domNode.setDisplay("none"),this._position=new Oe.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(47);return this._cursorStyle=o.get(25),this._lineHeight=o.get(63),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(28),this._typicalHalfwidthCharacterWidth),(0,pn.N)(this._domNode,v),!0}onCursorPositionChanged(e,o){return o?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:o}=this._position,v=this._context.viewModel.getLineContent(e),[k,Z]=rn.J_(v,o-1);return[new Oe.L(e,k+1),v.substring(k,Z)]}_prepareRender(e){let o="",v="";const[k,Z]=this._getGraphemeAwarePosition();if(this._cursorStyle===I.d2.Line||this._cursorStyle===I.d2.LineThin){const Tt=e.visibleRangeForPosition(k);if(!Tt||Tt.outsideRenderedLine)return null;let Nt;this._cursorStyle===I.d2.Line?(Nt=N.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Nt>2&&(o=Z,v=this._getTokenClassName(k))):Nt=N.Uh(1);let zt=Tt.left,Yt=0;Nt>=2&&zt>=1&&(Yt=1,zt-=Yt);const Xt=e.getVerticalOffsetForLineNumber(k.lineNumber)-e.bigNumbersDelta;return new bs(Xt,zt,Yt,Nt,this._lineHeight,o,v)}const ce=e.linesVisibleRangesForRange(new He.e(k.lineNumber,k.column,k.lineNumber,k.column+Z.length),!1);if(!ce||ce.length===0)return null;const Ne=ce[0];if(Ne.outsideRenderedLine||Ne.ranges.length===0)return null;const Qe=Ne.ranges[0],qe=Z==="	"?this._typicalHalfwidthCharacterWidth:Qe.width<1?this._typicalHalfwidthCharacterWidth:Qe.width;this._cursorStyle===I.d2.Block&&(o=Z,v=this._getTokenClassName(k));let it=e.getVerticalOffsetForLineNumber(k.lineNumber)-e.bigNumbersDelta,gt=this._lineHeight;return(this._cursorStyle===I.d2.Underline||this._cursorStyle===I.d2.UnderlineThin)&&(it+=this._lineHeight-2,gt=2),new bs(it,Qe.left,0,qe,gt,o,v)}_getTokenClassName(e){const o=this._context.viewModel.getViewLineData(e.lineNumber),v=o.tokens.findTokenIndexAtOffset(e.column-1);return o.tokens.getClassName(v)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${ze.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class xn extends _e{constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(86),this._cursorBlinking=o.get(23),this._cursorStyle=o.get(25),this._cursorSmoothCaretAnimation=o.get(24),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Ms(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new nn._F,this._cursorFlatBlinkInterval=new nn.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(86),this._cursorBlinking=o.get(23),this._cursorStyle=o.get(25),this._cursorSmoothCaretAnimation=o.get(24),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let v=0,k=this._secondaryCursors.length;v<k;v++)this._secondaryCursors[v].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o,v){const k=this._secondaryCursors.length!==o.length||this._cursorSmoothCaretAnimation==="explicit"&&v!==3;if(this._primaryCursor.onCursorPositionChanged(e,k),this._updateBlinking(),this._secondaryCursors.length<o.length){const Z=o.length-this._secondaryCursors.length;for(let ce=0;ce<Z;ce++){const Ne=new Ms(this._context);this._domNode.domNode.insertBefore(Ne.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Ne)}}else if(this._secondaryCursors.length>o.length){const Z=this._secondaryCursors.length-o.length;for(let ce=0;ce<Z;ce++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Z=0;Z<o.length;Z++)this._secondaryCursors[Z].onCursorPositionChanged(o[Z],k)}onCursorStateChanged(e){const o=[];for(let k=0,Z=e.selections.length;k<Z;k++)o[k]=e.selections[k].getPosition();this._onCursorPositionChanged(o[0],o.slice(1),e.reason);const v=e.selections[0].isEmpty();return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=v=>{for(let k=0,Z=e.ranges.length;k<Z;k++)if(e.ranges[k].fromLineNumber<=v.lineNumber&&v.lineNumber<=e.ranges[k].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const v of this._secondaryCursors)if(o(v.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,v=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!v&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},xn.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},xn.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case I.d2.Line:e+=" cursor-line-style";break;case I.d2.Block:e+=" cursor-block-style";break;case I.d2.Underline:e+=" cursor-underline-style";break;case I.d2.LineThin:e+=" cursor-line-thin-style";break;case I.d2.BlockOutline:e+=" cursor-block-outline-style";break;case I.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,v=this._secondaryCursors.length;o<v;o++)this._secondaryCursors[o].prepareRender(e)}render(e){const o=[];let v=0;const k=this._primaryCursor.render(e);k&&(o[v++]=k);for(let Z=0,ce=this._secondaryCursors.length;Z<ce;Z++){const Ne=this._secondaryCursors[Z].render(e);Ne&&(o[v++]=Ne)}this._renderData=o}getLastRenderData(){return this._renderData}}xn.BLINK_INTERVAL=500,(0,At.Ic)((wt,e)=>{const o=wt.getColor(Wt.n0);if(o){let v=wt.getColor(Wt.fY);v||(v=o.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${v}; }`),(0,Ke.c3)(wt.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${v}; border-right: 1px solid ${v}; }`)}});const Gn=()=>{throw new Error("Invalid change accessor")};class Ss extends _e{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(138);this._lineHeight=o.get(63),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,this.domNode=(0,y.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const k of e)o.set(k.id,k);let v=!1;return this._context.viewModel.changeWhitespace(k=>{const Z=Object.keys(this._zones);for(let ce=0,Ne=Z.length;ce<Ne;ce++){const Qe=Z[ce],qe=this._zones[Qe],it=this._computeWhitespaceProps(qe.delegate);qe.isInHiddenArea=it.isInHiddenArea;const gt=o.get(Qe);gt&&(gt.afterLineNumber!==it.afterViewLineNumber||gt.height!==it.heightInPx)&&(k.changeOneWhitespace(Qe,it.afterViewLineNumber,it.heightInPx),this._safeCallOnComputedHeight(qe.delegate,it.heightInPx),v=!0)}}),v}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(138);return this._lineHeight=o.get(63),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,e.hasChanged(63)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn!="undefined")o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const ce=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new Oe.L(ce,this._context.viewModel.model.getLineMaxColumn(ce))}let v;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?v=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):v=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const k=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,e.afterColumnAffinity),Z=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(v);return{isInHiddenArea:!Z,afterViewLineNumber:k.lineNumber,heightInPx:Z?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.viewModel.changeWhitespace(v=>{const k={addZone:Z=>(o=!0,this._addZone(v,Z)),removeZone:Z=>{Z&&(o=this._removeZone(v,Z)||o)},layoutZone:Z=>{Z&&(o=this._layoutZone(v,Z)||o)}};Co(e,k),k.addZone=Gn,k.removeZone=Gn,k.layoutZone=Gn}),o}_addZone(e,o){const v=this._computeWhitespaceProps(o),Z={whitespaceId:e.insertWhitespace(v.afterViewLineNumber,this._getZoneOrdinal(o),v.heightInPx,v.minWidthInPx),delegate:o,isInHiddenArea:v.isInHiddenArea,isVisible:!1,domNode:(0,y.X)(o.domNode),marginDomNode:o.marginDomNode?(0,y.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(Z.delegate,v.heightInPx),Z.domNode.setPosition("absolute"),Z.domNode.domNode.style.width="100%",Z.domNode.setDisplay("none"),Z.domNode.setAttribute("monaco-view-zone",Z.whitespaceId),this.domNode.appendChild(Z.domNode),Z.marginDomNode&&(Z.marginDomNode.setPosition("absolute"),Z.marginDomNode.domNode.style.width="100%",Z.marginDomNode.setDisplay("none"),Z.marginDomNode.setAttribute("monaco-view-zone",Z.whitespaceId),this.marginDomNode.appendChild(Z.marginDomNode)),this._zones[Z.whitespaceId]=Z,this.setShouldRender(),Z.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const v=this._zones[o];return delete this._zones[o],e.removeWhitespace(v.whitespaceId),v.domNode.removeAttribute("monaco-visible-view-zone"),v.domNode.removeAttribute("monaco-view-zone"),v.domNode.domNode.parentNode.removeChild(v.domNode.domNode),v.marginDomNode&&(v.marginDomNode.removeAttribute("monaco-visible-view-zone"),v.marginDomNode.removeAttribute("monaco-view-zone"),v.marginDomNode.domNode.parentNode.removeChild(v.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const v=this._zones[o],k=this._computeWhitespaceProps(v.delegate);return v.isInHiddenArea=k.isInHiddenArea,e.changeOneWhitespace(v.whitespaceId,k.afterViewLineNumber,k.heightInPx),this._safeCallOnComputedHeight(v.delegate,k.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const o=this._zones[e];return Boolean(o.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(v){(0,x.dL)(v)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(v){(0,x.dL)(v)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,v={};let k=!1;for(const ce of o)this._zones[ce.id].isInHiddenArea||(v[ce.id]=ce,k=!0);const Z=Object.keys(this._zones);for(let ce=0,Ne=Z.length;ce<Ne;ce++){const Qe=Z[ce],qe=this._zones[Qe];let it=0,gt=0,Tt="none";v.hasOwnProperty(Qe)?(it=v[Qe].verticalOffset-e.bigNumbersDelta,gt=v[Qe].height,Tt="block",qe.isVisible||(qe.domNode.setAttribute("monaco-visible-view-zone","true"),qe.isVisible=!0),this._safeCallOnDomNodeTop(qe.delegate,e.getScrolledTopFromAbsoluteTop(v[Qe].verticalOffset))):(qe.isVisible&&(qe.domNode.removeAttribute("monaco-visible-view-zone"),qe.isVisible=!1),this._safeCallOnDomNodeTop(qe.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),qe.domNode.setTop(it),qe.domNode.setHeight(gt),qe.domNode.setDisplay(Tt),qe.marginDomNode&&(qe.marginDomNode.setTop(it),qe.marginDomNode.setHeight(gt),qe.marginDomNode.setDisplay(Tt))}k&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Co(wt,e){try{return wt(e)}catch(o){(0,x.dL)(o)}}class Ar{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class va{constructor(e,o,v){this.configuration=e,this.theme=new Ar(o),this.viewModel=v,this.viewLayout=v.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class or{constructor(e,o,v,k){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=v,this._model=k,this.visibleRange=new He.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class bo extends _e{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=(0,y.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const v=this._context.configuration.options.get(138),k=v.contentWidth-v.verticalScrollbarWidth;return this.contentWidth!==k&&(this.contentWidth=k,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let o=0;const v=e.getDecorationsInViewport();for(const k of v){if(!k.options.blockClassName)continue;let Z=this.blocks[o];Z||(Z=this.blocks[o]=(0,y.X)(document.createElement("div")),this.domNode.appendChild(Z));let ce,Ne;k.options.blockIsAfterEnd?(ce=e.getVerticalOffsetAfterLineNumber(k.range.endLineNumber,!1),Ne=e.getVerticalOffsetAfterLineNumber(k.range.endLineNumber,!0)):(ce=e.getVerticalOffsetForLineNumber(k.range.startLineNumber,!0),Ne=k.range.isEmpty()?e.getVerticalOffsetForLineNumber(k.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(k.range.endLineNumber,!0)),Z.setClassName("blockDecorations-block "+k.options.blockClassName),Z.setLeft(e.scrollLeft),Z.setWidth(this.contentWidth),Z.setTop(ce),Z.setHeight(Ne-ce),o++}for(let k=o;k<this.blocks.length;k++)this.blocks[k].domNode.remove();this.blocks.length=o}}var rr=i(96425);class ar extends Mt{constructor(e){super(),this._context=e,this._options=new ys(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=new ys(this._context.configuration);return this._options.equals(o)?e.hasChanged(138):(this._options=o,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,k=e.visibleRange.endLineNumber-o+1,Z=new Array(k);for(let Ne=0;Ne<k;Ne++)Z[Ne]=!0;const ce=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,Z);this._renderResult=[];for(let Ne=e.viewportData.startLineNumber;Ne<=e.viewportData.endLineNumber;Ne++){const Qe=Ne-e.viewportData.startLineNumber,qe=ce.data[Qe];let it=null;if(this._options.renderWhitespace==="selection"){const gt=this._selection;for(const Tt of gt){if(Tt.endLineNumber<Ne||Tt.startLineNumber>Ne)continue;const Nt=Tt.startLineNumber===Ne?Tt.startColumn:qe.minColumn,zt=Tt.endLineNumber===Ne?Tt.endColumn:qe.maxColumn;Nt<zt&&(it||(it=[]),it.push(new xe.zG(Nt-1,zt-1)))}}this._renderResult[Qe]=this._applyRenderWhitespace(e,Ne,it,qe)}}_applyRenderWhitespace(e,o,v,k){if(this._options.renderWhitespace==="selection"&&!v||this._options.renderWhitespace==="trailing"&&k.continuesWithWrappedLine)return"";const Z=this._context.theme.getColor(Wt.dI),ce=this._options.renderWithSVG,Ne=k.content,Qe=this._options.stopRenderingLineAfter===-1?Ne.length:Math.min(this._options.stopRenderingLineAfter,Ne.length),qe=k.continuesWithWrappedLine,it=k.minColumn-1,gt=this._options.renderWhitespace==="boundary",Tt=this._options.renderWhitespace==="trailing",Nt=this._options.lineHeight,zt=this._options.middotWidth,Yt=this._options.wsmiddotWidth,Xt=this._options.spaceWidth,si=Math.abs(Yt-Xt),fi=Math.abs(zt-Xt),_i=si<fi?11825:183,Ai=this._options.canUseHalfwidthRightwardsArrow;let Ii="",Hi=!1,zi=rn.LC(Ne),ji;zi===-1?(Hi=!0,zi=Qe,ji=Qe):ji=rn.ow(Ne);let xi=0,fn=v&&v[xi],hn=0;for(let en=it;en<Qe;en++){const gn=Ne.charCodeAt(en);if(fn&&en>=fn.endOffset&&(xi++,fn=v&&v[xi]),gn!==9&&gn!==32||Tt&&!Hi&&en<=ji)continue;if(gt&&en>=zi&&en<=ji&&gn===32){const Vn=en-1>=0?Ne.charCodeAt(en-1):0,rs=en+1<Qe?Ne.charCodeAt(en+1):0;if(Vn!==32&&rs!==32)continue}if(gt&&qe&&en===Qe-1){const Vn=en-1>=0?Ne.charCodeAt(en-1):0;if(gn===32&&Vn!==32&&Vn!==9)continue}if(v&&(!fn||fn.startOffset>en||fn.endOffset<=en))continue;const kn=e.visibleRangeForPosition(new Oe.L(o,en+1));kn&&(ce?(hn=Math.max(hn,kn.left),gn===9?Ii+=this._renderArrow(Nt,Xt,kn.left):Ii+=`<circle cx="${(kn.left+Xt/2).toFixed(2)}" cy="${(Nt/2).toFixed(2)}" r="${(Xt/7).toFixed(2)}" />`):gn===9?Ii+=`<div class="mwh" style="left:${kn.left}px;height:${Nt}px;">${Ai?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:Ii+=`<div class="mwh" style="left:${kn.left}px;height:${Nt}px;">${String.fromCharCode(_i)}</div>`)}return ce?(hn=Math.round(hn+Xt),`<svg style="position:absolute;width:${hn}px;height:${Nt}px" viewBox="0 0 ${hn} ${Nt}" xmlns="http://www.w3.org/2000/svg" fill="${Z}">`+Ii+"</svg>"):Ii}_renderArrow(e,o,v){const k=o/7,Z=o,ce=e/2,Ne=v,Qe={x:0,y:k/2},qe={x:100/125*Z,y:Qe.y},it={x:qe.x-.2*qe.x,y:qe.y+.2*qe.x},gt={x:it.x+.1*qe.x,y:it.y+.1*qe.x},Tt={x:gt.x+.35*qe.x,y:gt.y-.35*qe.x},Nt={x:Tt.x,y:-Tt.y},zt={x:gt.x,y:-gt.y},Yt={x:it.x,y:-it.y},Xt={x:qe.x,y:-qe.y},si={x:Qe.x,y:-Qe.y};return`<path d="M ${[Qe,qe,it,gt,Tt,Nt,zt,Yt,Xt,si].map(Ai=>`${(Ne+Ai.x).toFixed(2)} ${(ce+Ai.y).toFixed(2)}`).join(" L ")}" />`}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}class ys{constructor(e){const o=e.options,v=o.get(47),k=o.get(35);k==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):k==="svg"?(this.renderWhitespace=o.get(93),this.renderWithSVG=!0):(this.renderWhitespace=o.get(93),this.renderWithSVG=!1),this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(63),this.stopRenderingLineAfter=o.get(111)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class Js extends Se{constructor(e,o,v,k,Z,ce){super(),this._selections=[new G.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ne=new Si(o,k,Z,e);this._context=new va(o,v,k),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Vt(this._context,Ne,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,y.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,y.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,y.X)(document.createElement("div")),he.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Qt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new mn(this._context,this._linesContent),this._viewZones=new Ss(this._context),this._viewParts.push(this._viewZones);const Qe=new ni(this._context);this._viewParts.push(Qe);const qe=new ci(this._context);this._viewParts.push(qe);const it=new ln(this._context);this._viewParts.push(it),it.addDynamicOverlay(new Pt(this._context)),it.addDynamicOverlay(new wn(this._context)),it.addDynamicOverlay(new tn(this._context)),it.addDynamicOverlay(new ti(this._context)),it.addDynamicOverlay(new ar(this._context));const gt=new Ht(this._context);this._viewParts.push(gt),gt.addDynamicOverlay(new $t(this._context)),gt.addDynamicOverlay(new Ci(this._context)),gt.addDynamicOverlay(new us(this._context)),gt.addDynamicOverlay(new Xn(this._context)),gt.addDynamicOverlay(new qt(this._context));const Tt=new at(this._context);Tt.getDomNode().appendChild(this._viewZones.marginDomNode),Tt.getDomNode().appendChild(gt.getDomNode()),this._viewParts.push(Tt),this._contentWidgets=new fe(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new xn(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Rt(this._context),this._viewParts.push(this._overlayWidgets);const Nt=new wi(this._context);this._viewParts.push(Nt);const zt=new bo(this._context);this._viewParts.push(zt);const Yt=new Pe(this._context);if(this._viewParts.push(Yt),Qe){const Xt=this._scrollbar.getOverviewRulerLayoutInfo();Xt.parent.insertBefore(Qe.getDomNode(),Xt.insertBefore)}this._linesContent.appendChild(it.getDomNode()),this._linesContent.appendChild(Nt.domNode),this._linesContent.appendChild(zt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Tt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(qe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Yt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ce?ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new On(this._context,Ne,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){rr.B.onRenderStart(),this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new Dt(e,o)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Oe.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const o=this._context.configuration.options.get(138);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(135)+" "+(0,At.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=N.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ho(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let o=0;for(const v of this._viewParts)v.shouldRender()&&(e[o++]=v);return e}_actualRender(){if(!N.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const v=new or(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(v),this._viewLines.shouldRender()&&(this._viewLines.renderText(v),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const k=new se(this._context.viewLayout,v,this._viewLines);for(const Z of e)Z.prepareRender(k);for(const Z of e)Z.render(k),Z.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.tokenizeViewport()}getOffsetForColumn(e,o){const v=this._context.viewModel.model.validatePosition({lineNumber:e,column:o}),k=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v);this._flushAccumulatedAndRenderNow();const Z=this._viewLines.visibleRangeForPosition(new Oe.L(k.lineNumber,k.column));return Z?Z.left:-1}getTargetAtClientPoint(e,o){const v=this._pointerHandler.getTargetAtClientPoint(e,o);return v?hi.convertViewToModelMouseTarget(v,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new mi(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const v of this._viewParts)v.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var o,v,k,Z,ce,Ne,Qe,qe;this._contentWidgets.setWidgetPosition(e.widget,(v=(o=e.position)===null||o===void 0?void 0:o.position)!==null&&v!==void 0?v:null,(Z=(k=e.position)===null||k===void 0?void 0:k.secondaryPosition)!==null&&Z!==void 0?Z:null,(Ne=(ce=e.position)===null||ce===void 0?void 0:ce.preference)!==null&&Ne!==void 0?Ne:null,(qe=(Qe=e.position)===null||Qe===void 0?void 0:Qe.positionAffinity)!==null&&qe!==void 0?qe:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function ho(wt){try{return wt()}catch(e){(0,x.dL)(e)}}var kr=i(37282),fo=i(12957),Fn=i(73805),oo=i(73740),Jn=i(48657);class Qs{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Jn.rS(new He.e(1,1,1,1),0,0,new Oe.L(1,1),0),new Jn.rS(new He.e(1,1,1,1),0,0,new Oe.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Jn.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!o.isEmpty()?G.Y.fromRange(o.collapseToEnd(),this.modelState.selection.getDirection()):G.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,v){this._setState(e,o,v)}static _validatePositionWithCache(e,o,v,k){return o.equals(v)?k:e.normalizePosition(o,2)}static _validateViewState(e,o){const v=o.position,k=o.selectionStart.getStartPosition(),Z=o.selectionStart.getEndPosition(),ce=e.normalizePosition(v,2),Ne=this._validatePositionWithCache(e,k,v,ce),Qe=this._validatePositionWithCache(e,Z,k,Ne);return v.equals(ce)&&k.equals(Ne)&&Z.equals(Qe)?o:new Jn.rS(He.e.fromPositions(Ne,Qe),o.selectionStartKind,o.selectionStartLeftoverVisibleColumns+k.column-Ne.column,ce,o.leftoverVisibleColumns+v.column-ce.column)}_setState(e,o,v){if(v&&(v=Qs._validateViewState(e.viewModel,v)),o){const k=e.model.validateRange(o.selectionStart),Z=o.selectionStart.equalsRange(k)?o.selectionStartLeftoverVisibleColumns:0,ce=e.model.validatePosition(o.position),Ne=o.position.equals(ce)?o.leftoverVisibleColumns:0;o=new Jn.rS(k,o.selectionStartKind,Z,ce,Ne)}else{if(!v)return;const k=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),Z=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(v.position));o=new Jn.rS(k,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,Z,v.leftoverVisibleColumns)}if(v){const k=e.coordinatesConverter.validateViewRange(v.selectionStart,o.selectionStart),Z=e.coordinatesConverter.validateViewPosition(v.position,o.position);v=new Jn.rS(k,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Z,o.leftoverVisibleColumns)}else{const k=e.coordinatesConverter.convertModelPositionToViewPosition(new Oe.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),Z=e.coordinatesConverter.convertModelPositionToViewPosition(new Oe.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),ce=new He.e(k.lineNumber,k.column,Z.lineNumber,Z.column),Ne=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);v=new Jn.rS(ce,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Ne,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=v,this._updateTrackedRange(e)}}class Ts{constructor(e){this.context=e,this.cursors=[new Qs(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,f.VJ)(this.cursors,(0,f.tT)(e=>e.viewState.position,Oe.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,f.jV)(this.cursors,(0,f.tT)(e=>e.viewState.position,Oe.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(Jn.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.cursors.length-1,v=e.length;if(o<v){const k=v-o;for(let Z=0;Z<k;Z++)this._addSecondaryCursor()}else if(o>v){const k=o-v;for(let Z=0;Z<k;Z++)this._removeSecondaryCursor(this.cursors.length-2)}for(let k=0;k<v;k++)this.cursors[k+1].setState(this.context,e[k].modelState,e[k].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Qs(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),o=[];for(let v=0,k=e.length;v<k;v++)o.push({index:v,selection:e[v].modelState.selection});o.sort((0,f.tT)(v=>v.selection,He.e.compareRangesUsingStarts));for(let v=0;v<o.length-1;v++){const k=o[v],Z=o[v+1],ce=k.selection,Ne=Z.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Qe;if(Ne.isEmpty()||ce.isEmpty()?Qe=Ne.getStartPosition().isBeforeOrEqual(ce.getEndPosition()):Qe=Ne.getStartPosition().isBefore(ce.getEndPosition()),Qe){const qe=k.index<Z.index?v:v+1,it=k.index<Z.index?v+1:v,gt=o[it].index,Tt=o[qe].index,Nt=o[it].selection,zt=o[qe].selection;if(!Nt.equalsSelection(zt)){const Yt=Nt.plusRange(zt),Xt=Nt.selectionStartLineNumber===Nt.startLineNumber&&Nt.selectionStartColumn===Nt.startColumn,si=zt.selectionStartLineNumber===zt.startLineNumber&&zt.selectionStartColumn===zt.startColumn;let fi;gt===this.lastAddedCursorIndex?(fi=Xt,this.lastAddedCursorIndex=Tt):fi=si;let _i;fi?_i=new G.Y(Yt.startLineNumber,Yt.startColumn,Yt.endLineNumber,Yt.endColumn):_i=new G.Y(Yt.endLineNumber,Yt.endColumn,Yt.startLineNumber,Yt.startColumn),o[qe].selection=_i;const Ai=Jn.Vi.fromModelSelection(_i);e[Tt].setState(this.context,Ai.modelState,Ai.viewState)}for(const Yt of o)Yt.index>gt&&Yt.index--;e.splice(gt,1),o.splice(it,1),this._removeSecondaryCursor(gt-1),v--}}}}class lr{constructor(e,o,v,k){this._cursorContextBrand=void 0,this.model=e,this.viewModel=o,this.coordinatesConverter=v,this.cursorConfig=k}}var Bo=i(60989),Zs=i(33033),vs=i(60667);class ro{constructor(){this.type=0}}class Ws{constructor(){this.type=1}}class yo{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Bn{constructor(e,o,v){this.selections=e,this.modelSelections=o,this.reason=v,this.type=3}}class ns{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class wo{constructor(){this.type=5}}class qs{constructor(e){this.type=6,this.isFocused=e}}class dr{constructor(){this.type=7}}class Lo{constructor(){this.type=8}}class Fr{constructor(e,o){this.fromLineNumber=e,this.count=o,this.type=9}}class Wo{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class Do{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class So{constructor(e,o,v,k,Z,ce,Ne){this.source=e,this.minimalReveal=o,this.range=v,this.selections=k,this.verticalType=Z,this.revealHorizontal=ce,this.scrollType=Ne,this.type=12}}class Br{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class ao{constructor(e){this.theme=e,this.type=14}}class Wr{constructor(e){this.type=15,this.ranges=e}}class Vr{constructor(){this.type=16}}class go{constructor(){this.type=17}}class eo extends p.JT{constructor(){super(),this._onEvent=this._register(new O.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,v=this._outgoingEvents.length;o<v;o++){const k=this._outgoingEvents[o].kind===e.kind?this._outgoingEvents[o].attemptToMerge(e):null;if(k){this._outgoingEvents[o]=k;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,v=this._eventHandlers.length;o<v;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new hs),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const v of e)this._addOutgoingEvent(v);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const v of o)v.handleEvents(e)}}}class hs{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Vs{constructor(e,o,v,k){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=v,this.contentHeight=k,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Vs(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Vo{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new Vo(this.oldHasFocus,e.hasFocus)}}class Hs{constructor(e,o,v,k,Z,ce,Ne,Qe){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=v,this._oldScrollTop=k,this.scrollWidth=Z,this.scrollLeft=ce,this.scrollHeight=Ne,this.scrollTop=Qe,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Hs(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Rs{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class $i{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ys{constructor(e,o,v,k,Z,ce,Ne){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=v,this.modelVersionId=k,this.source=Z,this.reason=ce,this.reachedMaxCursorCount=Ne}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const v=e.length,k=o.length;if(v!==k)return!1;for(let Z=0;Z<v;Z++)if(!e[Z].equalsSelection(o[Z]))return!1;return!0}isNoOp(){return Ys._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Ys(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Eo{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ho{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Es{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Uo{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class cr{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class mo{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class sn{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class Tn extends p.JT{constructor(e,o,v,k){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=v,this.context=new lr(this._model,this._viewModel,this._coordinatesConverter,k),this._cursors=new Ts(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,p.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new lr(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const v=this._autoClosedActions[o];v.isValid(e)||(v.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,v,k){let Z=!1;const ce=this.context.cursorConfig.multiCursorLimit;k!==null&&k.length>ce&&(k=k.slice(0,ce),Z=!0);const Ne=Yn.from(this._model,this);return this._cursors.setStates(k),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,v,Ne,Z)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,v,k,Z,ce){const Ne=this._cursors.getViewPositions();let Qe=null,qe=null;Ne.length>1?qe=this._cursors.getViewSelections():Qe=He.e.fromPositions(Ne[0],Ne[0]),e.emitViewEvent(new So(o,v,Qe,qe,k,Z,ce))}saveState(){const e=[],o=this._cursors.getSelections();for(let v=0,k=o.length;v<k;v++){const Z=o[v];e.push({inSelectionMode:!Z.isEmpty(),selectionStart:{lineNumber:Z.selectionStartLineNumber,column:Z.selectionStartColumn},position:{lineNumber:Z.positionLineNumber,column:Z.positionColumn}})}return e}restoreState(e,o){const v=[];for(let k=0,Z=o.length;k<Z;k++){const ce=o[k];let Ne=1,Qe=1;ce.position&&ce.position.lineNumber&&(Ne=ce.position.lineNumber),ce.position&&ce.position.column&&(Qe=ce.position.column);let qe=Ne,it=Qe;ce.selectionStart&&ce.selectionStart.lineNumber&&(qe=ce.selectionStart.lineNumber),ce.selectionStart&&ce.selectionStart.column&&(it=ce.selectionStart.column),v.push({selectionStartLineNumber:qe,selectionStartColumn:it,positionLineNumber:Ne,positionColumn:Qe})}this.setStates(e,"restoreState",0,Jn.Vi.fromModelSelections(v)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,o){if(o instanceof vs.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const v=o.rawContentChangedEvent;if(this._knownModelVersionId=v.versionId,this._isHandling)return;const k=v.containsEvent(1);if(this._prevEditOperationType=0,k)this._cursors.dispose(),this._cursors=new Ts(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&v.resultingSelection&&v.resultingSelection.length>0){const Z=Jn.Vi.fromModelSelections(v.resultingSelection);this.setStates(e,"modelChange",v.isUndoing?5:v.isRedoing?6:2,Z)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const Z=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Jn.Vi.fromModelSelections(Z))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),v=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:v.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,v)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,v,k){this.setStates(e,o,k,Jn.Vi.fromModelSelections(v))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){const v=[],k=[];for(let Ne=0,Qe=e.length;Ne<Qe;Ne++)v.push({range:e[Ne],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),k.push({range:o[Ne],options:{description:"auto-closed-enclosing",stickiness:1}});const Z=this._model.deltaDecorations([],v),ce=this._model.deltaDecorations([],k);this._autoClosedActions.push(new In(this._model,Z,ce))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=ds.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);const v=[],k=[];for(let Z=0;Z<e.commands.length;Z++){const ce=e.commands[Z];ce instanceof Zs.g_&&ce.enclosingRange&&ce.closeCharacterRange&&(v.push(ce.closeCharacterRange),k.push(ce.enclosingRange))}v.length>0&&this._pushAutoClosedAction(v,k),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,v,k,Z){const ce=Yn.from(this._model,this);if(ce.equals(k))return!1;const Ne=this._cursors.getSelections(),Qe=this._cursors.getViewSelections();if(e.emitViewEvent(new Bn(Qe,Ne,v)),!k||k.cursorState.length!==ce.cursorState.length||ce.cursorState.some((qe,it)=>!qe.modelState.equals(k.cursorState[it].modelState))){const qe=k?k.cursorState.map(gt=>gt.modelState.selection):null,it=k?k.modelVersionId:0;e.emitOutgoingEvent(new Ys(qe,Ne,it,ce.modelVersionId,o||"keyboard",v,Z))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const o=[];for(let v=0,k=e.length;v<k;v++){const Z=e[v];if(!Z.text||Z.text.indexOf(`
`)>=0)return null;const ce=Z.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ce)return null;const Ne=ce[1],Qe=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ne);if(!Qe||Qe.length!==1)return null;const qe=Qe[0].open,it=Z.text.length-ce[2].length-1,gt=Z.text.lastIndexOf(qe,it-1);if(gt===-1)return null;o.push([gt,it])}return o}executeEdits(e,o,v,k){let Z=null;o==="snippet"&&(Z=this._findAutoClosingPairs(v)),Z&&(v[0]._isTracked=!0);const ce=[],Ne=[],Qe=this._model.pushEditOperations(this.getSelections(),v,qe=>{if(Z)for(let gt=0,Tt=Z.length;gt<Tt;gt++){const[Nt,zt]=Z[gt],Yt=qe[gt],Xt=Yt.range.startLineNumber,si=Yt.range.startColumn-1+Nt,fi=Yt.range.startColumn-1+zt;ce.push(new He.e(Xt,fi+1,Xt,fi+2)),Ne.push(new He.e(Xt,si+1,Xt,fi+2))}const it=k(qe);return it&&(this._isHandling=!0),it});Qe&&(this._isHandling=!1,this.setSelections(e,o,Qe,0)),ce.length>0&&this._pushAutoClosedAction(ce,Ne)}_executeEdit(e,o,v,k=0){if(this.context.cursorConfig.readOnly)return;const Z=Yn.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(ce){(0,x.dL)(ce)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,v,k,Z,!1)&&this.revealPrimary(o,v,!1,0,!0,0)}getAutoClosedCharacters(){return In.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new fs(this._model,this.getSelections())}endComposition(e,o){const v=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{o==="keyboard"&&this._executeEditOperation(Zs.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,v,this.getSelections(),this.getAutoClosedCharacters()))},e,o)}type(e,o,v){this._executeEdit(()=>{if(v==="keyboard"){const k=o.length;let Z=0;for(;Z<k;){const ce=rn.vH(o,Z),Ne=o.substr(Z,ce);this._executeEditOperation(Zs.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ne)),Z+=ce}}else this._executeEditOperation(Zs.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,v)}compositionType(e,o,v,k,Z,ce){if(o.length===0&&v===0&&k===0){if(Z!==0){const Ne=this.getSelections().map(Qe=>{const qe=Qe.getPosition();return new G.Y(qe.lineNumber,qe.column+Z,qe.lineNumber,qe.column+Z)});this.setSelections(e,ce,Ne,0)}return}this._executeEdit(()=>{this._executeEditOperation(Zs.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,v,k,Z))},e,ce)}paste(e,o,v,k,Z){this._executeEdit(()=>{this._executeEditOperation(Zs.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,v,k||[]))},e,Z,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(Bo.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,v){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Jn.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,v)}executeCommands(e,o,v){this._executeEdit(()=>{this._executeEditOperation(new Jn.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,v)}}class Yn{static from(e,o){return new Yn(e.getVersionId(),o.getCursorStates())}constructor(e,o){this.modelVersionId=e,this.cursorState=o}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,v=this.cursorState.length;o<v;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class In{static getAllAutoClosedCharacters(e){let o=[];for(const v of e)o=o.concat(v.getAutoClosedCharactersRanges());return o}constructor(e,o,v){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=v}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const v=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);v&&e.push(v)}return e}isValid(e){const o=[];for(let v=0;v<this._autoClosedEnclosingDecorations.length;v++){const k=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[v]);if(k&&(o.push(k),k.startLineNumber!==k.endLineNumber))return!1}o.sort(He.e.compareRangesUsingStarts),e.sort(He.e.compareRangesUsingStarts);for(let v=0;v<e.length;v++)if(v>=o.length||!o[v].strictContainsRange(e[v]))return!1;return!0}}class ds{static executeCommands(e,o,v){const k={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},Z=this._innerExecuteCommands(k,v);for(let ce=0,Ne=k.trackedRanges.length;ce<Ne;ce++)k.model._setTrackedRange(k.trackedRanges[ce],null,0);return Z}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const v=this._getEditOperations(e,o);if(v.operations.length===0)return null;const k=v.operations,Z=this._getLoserCursorMap(k);if(Z.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ce=[];for(let qe=0,it=k.length;qe<it;qe++)Z.hasOwnProperty(k[qe].identifier.major.toString())||ce.push(k[qe]);v.hadTrackedEditOperation&&ce.length>0&&(ce[0]._isTracked=!0);let Ne=e.model.pushEditOperations(e.selectionsBefore,ce,qe=>{const it=[];for(let Nt=0;Nt<e.selectionsBefore.length;Nt++)it[Nt]=[];for(const Nt of qe)Nt.identifier&&it[Nt.identifier.major].push(Nt);const gt=(Nt,zt)=>Nt.identifier.minor-zt.identifier.minor,Tt=[];for(let Nt=0;Nt<e.selectionsBefore.length;Nt++)it[Nt].length>0?(it[Nt].sort(gt),Tt[Nt]=o[Nt].computeCursorState(e.model,{getInverseEditOperations:()=>it[Nt],getTrackedSelection:zt=>{const Yt=parseInt(zt,10),Xt=e.model._getTrackedRange(e.trackedRanges[Yt]);return e.trackedRangesDirection[Yt]===0?new G.Y(Xt.startLineNumber,Xt.startColumn,Xt.endLineNumber,Xt.endColumn):new G.Y(Xt.endLineNumber,Xt.endColumn,Xt.startLineNumber,Xt.startColumn)}})):Tt[Nt]=e.selectionsBefore[Nt];return Tt});Ne||(Ne=e.selectionsBefore);const Qe=[];for(const qe in Z)Z.hasOwnProperty(qe)&&Qe.push(parseInt(qe,10));Qe.sort((qe,it)=>it-qe);for(const qe of Qe)Ne.splice(qe,1);return Ne}static _arrayIsEmpty(e){for(let o=0,v=e.length;o<v;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let v=[],k=!1;for(let Z=0,ce=o.length;Z<ce;Z++){const Ne=o[Z];if(Ne){const Qe=this._getEditOperationsFromCommand(e,Z,Ne);v=v.concat(Qe.operations),k=k||Qe.hadTrackedEditOperation}}return{operations:v,hadTrackedEditOperation:k}}static _getEditOperationsFromCommand(e,o,v){const k=[];let Z=0;const ce=(gt,Tt,Nt=!1)=>{He.e.isEmpty(gt)&&Tt===""||k.push({identifier:{major:o,minor:Z++},range:gt,text:Tt,forceMoveMarkers:Nt,isAutoWhitespaceEdit:v.insertsAutoWhitespace})};let Ne=!1;const it={addEditOperation:ce,addTrackedEditOperation:(gt,Tt,Nt)=>{Ne=!0,ce(gt,Tt,Nt)},trackSelection:(gt,Tt)=>{const Nt=G.Y.liftSelection(gt);let zt;if(Nt.isEmpty())if(typeof Tt=="boolean")Tt?zt=2:zt=3;else{const si=e.model.getLineMaxColumn(Nt.startLineNumber);Nt.startColumn===si?zt=2:zt=3}else zt=1;const Yt=e.trackedRanges.length,Xt=e.model._setTrackedRange(null,Nt,zt);return e.trackedRanges[Yt]=Xt,e.trackedRangesDirection[Yt]=Nt.getDirection(),Yt.toString()}};try{v.getEditOperations(e.model,it)}catch(gt){return(0,x.dL)(gt),{operations:[],hadTrackedEditOperation:!1}}return{operations:k,hadTrackedEditOperation:Ne}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((v,k)=>-He.e.compareRangesUsingEnds(v.range,k.range));const o={};for(let v=1;v<e.length;v++){const k=e[v-1],Z=e[v];if(He.e.getStartPosition(k.range).isBefore(He.e.getEndPosition(Z.range))){let ce;k.identifier.major>Z.identifier.major?ce=k.identifier.major:ce=Z.identifier.major,o[ce.toString()]=!0;for(let Ne=0;Ne<e.length;Ne++)e[Ne].identifier.major===ce&&(e.splice(Ne,1),Ne<v&&v--,Ne--);v>0&&v--}}return o}}class Us{constructor(e,o,v){this.text=e,this.startSelection=o,this.endSelection=v}}class fs{static _capture(e,o){const v=[];for(const k of o){if(k.startLineNumber!==k.endLineNumber)return null;v.push(new Us(e.getLineContent(k.startLineNumber),k.startColumn-1,k.endColumn-1))}return v}constructor(e,o){this._original=fs._capture(e,o)}deduceOutcome(e,o){if(!this._original)return null;const v=fs._capture(e,o);if(!v||this._original.length!==v.length)return null;const k=[];for(let Z=0,ce=this._original.length;Z<ce;Z++)k.push(fs._deduceOutcome(this._original[Z],v[Z]));return k}static _deduceOutcome(e,o){const v=Math.min(e.startSelection,o.startSelection,rn.Mh(e.text,o.text)),k=Math.min(e.text.length-e.endSelection,o.text.length-o.endSelection,rn.P1(e.text,o.text)),Z=e.text.substring(v,e.text.length-k),ce=o.text.substring(v,o.text.length-k);return new Zs.Nu(Z,e.startSelection-v,e.endSelection-v,ce,o.startSelection-v,o.endSelection-v)}}var zs=i(9821),Hr=i(90574),Pd=i(61301);class Pn{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,v=this._changes,k=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,v,k)}}class al{constructor(e,o,v,k,Z){this.id=e,this.afterLineNumber=o,this.ordinal=v,this.height=k,this.minWidth=Z,this.prefixSum=0}}class xo{constructor(e,o,v,k){this._instanceId=rn.PJ(++xo.INSTANCE_COUNT),this._pendingChanges=new Pn,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=v,this._paddingBottom=k}static findInsertionIndex(e,o,v){let k=0,Z=e.length;for(;k<Z;){const ce=k+Z>>>1;o===e[ce].afterLineNumber?v<e[ce].ordinal?Z=ce:k=ce+1:o<e[ce].afterLineNumber?Z=ce:k=ce+1}return k}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(k,Z,ce,Ne)=>{o=!0,k=k|0,Z=Z|0,ce=ce|0,Ne=Ne|0;const Qe=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new al(Qe,k,Z,ce,Ne)),Qe},changeOneWhitespace:(k,Z,ce)=>{o=!0,Z=Z|0,ce=ce|0,this._pendingChanges.change({id:k,newAfterLineNumber:Z,newHeight:ce})},removeWhitespace:k=>{o=!0,this._pendingChanges.remove({id:k})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,v){if((e.length>0||v.length>0)&&(this._minWidth=-1),e.length+o.length+v.length<=1){for(const Qe of e)this._insertWhitespace(Qe);for(const Qe of o)this._changeOneWhitespace(Qe.id,Qe.newAfterLineNumber,Qe.newHeight);for(const Qe of v){const qe=this._findWhitespaceIndex(Qe.id);qe!==-1&&this._removeWhitespace(qe)}return}const k=new Set;for(const Qe of v)k.add(Qe.id);const Z=new Map;for(const Qe of o)Z.set(Qe.id,Qe);const ce=Qe=>{const qe=[];for(const it of Qe)if(!k.has(it.id)){if(Z.has(it.id)){const gt=Z.get(it.id);it.afterLineNumber=gt.newAfterLineNumber,it.height=gt.newHeight}qe.push(it)}return qe},Ne=ce(this._arr).concat(ce(e));Ne.sort((Qe,qe)=>Qe.afterLineNumber===qe.afterLineNumber?Qe.ordinal-qe.ordinal:Qe.afterLineNumber-qe.afterLineNumber),this._arr=Ne,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=xo.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let v=0,k=o.length;v<k;v++)if(o[v].id===e)return v;return-1}_changeOneWhitespace(e,o,v){const k=this._findWhitespaceIndex(e);if(k!==-1&&(this._arr[k].height!==v&&(this._arr[k].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,k-1)),this._arr[k].afterLineNumber!==o)){const Z=this._arr[k];this._removeWhitespace(k),Z.afterLineNumber=o,this._insertWhitespace(Z)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let v=0,k=this._arr.length;v<k;v++){const Z=this._arr[v].afterLineNumber;e<=Z&&Z<=o?this._arr[v].afterLineNumber=e-1:Z>o&&(this._arr[v].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let v=0,k=this._arr.length;v<k;v++){const Z=this._arr[v].afterLineNumber;e<=Z&&(this._arr[v].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let v=o;v<=e;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let v=0,k=o.length-1;for(;v<=k;){const ce=(k-v|0)/2|0,Ne=v+ce|0;if(o[Ne].afterLineNumber<e){if(Ne+1>=o.length||o[Ne+1].afterLineNumber>=e)return Ne;v=Ne+1|0}else k=Ne-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const v=this._findLastWhitespaceBeforeLineNumber(e)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;let v;e>1?v=this._lineHeight*(e-1):v=0;const k=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(o?1:0));return v+k+this._paddingTop}getVerticalOffsetAfterLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;const v=this._lineHeight*e,k=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(o?1:0));return v+k+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,v=this._arr.length;o<v;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,v=this._lineHeight;let k=1,Z=o;for(;k<Z;){const ce=(k+Z)/2|0,Ne=this.getVerticalOffsetForLineNumber(ce)|0;if(e>=Ne+v)k=ce+1;else{if(e>=Ne)return ce;Z=ce}}return k>o?o:k}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const v=this._lineHeight,k=this.getLineNumberAtOrAfterVerticalOffset(e)|0,Z=this.getVerticalOffsetForLineNumber(k)|0;let ce=this._lineCount|0,Ne=this.getFirstWhitespaceIndexAfterLineNumber(k)|0;const Qe=this.getWhitespacesCount()|0;let qe,it;Ne===-1?(Ne=Qe,it=ce+1,qe=0):(it=this.getAfterLineNumberForWhitespaceIndex(Ne)|0,qe=this.getHeightForWhitespaceIndex(Ne)|0);let gt=Z,Tt=gt;const Nt=5e5;let zt=0;Z>=Nt&&(zt=Math.floor(Z/Nt)*Nt,zt=Math.floor(zt/v)*v,Tt-=zt);const Yt=[],Xt=e+(o-e)/2;let si=-1;for(let Ii=k;Ii<=ce;Ii++){if(si===-1){const Hi=gt,zi=gt+v;(Hi<=Xt&&Xt<zi||Hi>Xt)&&(si=Ii)}for(gt+=v,Yt[Ii-k]=Tt,Tt+=v;it===Ii;)Tt+=qe,gt+=qe,Ne++,Ne>=Qe?it=ce+1:(it=this.getAfterLineNumberForWhitespaceIndex(Ne)|0,qe=this.getHeightForWhitespaceIndex(Ne)|0);if(gt>=o){ce=Ii;break}}si===-1&&(si=ce);const fi=this.getVerticalOffsetForLineNumber(ce)|0;let _i=k,Ai=ce;return _i<Ai&&Z<e&&_i++,_i<Ai&&fi+v>o&&Ai--,{bigNumbersDelta:zt,startLineNumber:k,endLineNumber:ce,relativeVerticalOffset:Yt,centeredLineNumber:si,completelyVisibleStartLineNumber:_i,completelyVisibleEndLineNumber:Ai}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let v;o>=1?v=this._lineHeight*o:v=0;let k;return e>0?k=this.getWhitespacesAccumulatedHeight(e-1):k=0,v+k+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const k=this.getVerticalOffsetForWhitespaceIndex(v),Z=this.getHeightForWhitespaceIndex(v);if(e>=k+Z)return-1;for(;o<v;){const ce=Math.floor((o+v)/2),Ne=this.getVerticalOffsetForWhitespaceIndex(ce),Qe=this.getHeightForWhitespaceIndex(ce);if(e>=Ne+Qe)o=ce+1;else{if(e>=Ne)return ce;v=ce}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(o);if(v>e)return null;const k=this.getHeightForWhitespaceIndex(o),Z=this.getIdForWhitespaceIndex(o),ce=this.getAfterLineNumberForWhitespaceIndex(o);return{id:Z,afterLineNumber:ce,verticalOffset:v,height:k}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),k=this.getWhitespacesCount()-1;if(v<0)return[];const Z=[];for(let ce=v;ce<=k;ce++){const Ne=this.getVerticalOffsetForWhitespaceIndex(ce),Qe=this.getHeightForWhitespaceIndex(ce);if(Ne>=o)break;Z.push({id:this.getIdForWhitespaceIndex(ce),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ce),verticalOffset:Ne,height:Qe})}return Z}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}xo.INSTANCE_COUNT=0;const ll=125;class po{constructor(e,o,v,k){e=e|0,o=o|0,v=v|0,k=k|0,e<0&&(e=0),o<0&&(o=0),v<0&&(v=0),k<0&&(k=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=v,this.contentHeight=k,this.scrollHeight=Math.max(v,k)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Io extends p.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new O.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new po(0,0,0,0),this._scrollable=this._register(new Pd.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const v=o.contentWidth!==e.contentWidth,k=o.contentHeight!==e.contentHeight;(v||k)&&this._onDidContentSizeChange.fire(new Vs(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class _a extends p.JT{constructor(e,o,v){super(),this._configuration=e;const k=this._configuration.options,Z=k.get(138),ce=k.get(80);this._linesLayout=new xo(o,k.get(63),ce.top,ce.bottom),this._scrollable=this._register(new Io(0,v)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new po(Z.contentWidth,0,Z.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(108)?ll:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(63)&&this._linesLayout.setLineHeight(o.get(63)),e.hasChanged(80)){const v=o.get(80);this._linesLayout.setPadding(v.top,v.bottom)}if(e.hasChanged(138)){const v=o.get(138),k=v.contentWidth,Z=v.height,ce=this._scrollable.getScrollDimensions(),Ne=ce.contentWidth;this._scrollable.setScrollDimensions(new po(k,ce.contentWidth,Z,this._getContentHeight(k,Z,Ne)))}else this._updateHeight();e.hasChanged(108)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const k=this._configuration.options.get(97);return k.horizontal===2||e>=o?0:k.horizontalScrollbarSize}_getContentHeight(e,o,v){const k=this._configuration.options;let Z=this._linesLayout.getLinesTotalHeight();return k.get(99)?Z+=Math.max(0,o-k.get(63)-k.get(80).bottom):Z+=this._getHorizontalScrollbarHeight(e,v),Z}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,v=e.height,k=e.contentWidth;this._scrollable.setScrollDimensions(new po(o,e.contentWidth,v,this._getContentHeight(o,v,k)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new Vi.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new Vi.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,v=o.get(139),k=o.get(47),Z=o.get(138);if(v.isViewportWrapping){const ce=o.get(69);return e>Z.contentWidth+k.typicalHalfwidthCharacterWidth&&ce.enabled&&ce.side==="right"?e+Z.verticalScrollbarWidth:e}else{const ce=o.get(98)*k.typicalHalfwidthCharacterWidth,Ne=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+ce+Z.verticalScrollbarWidth,Ne)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new po(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),o=e.scrollTop,v=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),k=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(v);return{scrollTop:o,scrollTopWithoutViewZones:o-k,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,o)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,o){const v=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:v.scrollLeft+e,scrollTop:v.scrollTop+o})}}var Ca=i(41449),ur=i(28273);function zo(wt,e){return wt===null?e?jo.INSTANCE:Os.INSTANCE:new Ls(wt,e)}class Ls{constructor(e,o){this._projectionData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,o,v){this._assertVisible();const k=v>0?this._projectionData.breakOffsets[v-1]:0,Z=this._projectionData.breakOffsets[v];let ce;if(this._projectionData.injectionOffsets!==null){const Ne=this._projectionData.injectionOffsets.map((qe,it)=>new vs.gk(0,0,qe+1,this._projectionData.injectionOptions[it],0));ce=vs.gk.applyInjectedText(e.getLineContent(o),Ne).substring(k,Z)}else ce=e.getValueInRange({startLineNumber:o,startColumn:k+1,endLineNumber:o,endColumn:Z+1});return v>0&&(ce=zr(this._projectionData.wrappedTextIndentLength)+ce),ce}getViewLineLength(e,o,v){return this._assertVisible(),this._projectionData.getLineLength(v)}getViewLineMinColumn(e,o,v){return this._assertVisible(),this._projectionData.getMinOutputOffset(v)+1}getViewLineMaxColumn(e,o,v){return this._assertVisible(),this._projectionData.getMaxOutputOffset(v)+1}getViewLineData(e,o,v){const k=new Array;return this.getViewLinesData(e,o,v,1,0,[!0],k),k[0]}getViewLinesData(e,o,v,k,Z,ce,Ne){this._assertVisible();const Qe=this._projectionData,qe=Qe.injectionOffsets,it=Qe.injectionOptions;let gt=null;if(qe){gt=[];let Nt=0,zt=0;for(let Yt=0;Yt<Qe.getOutputLineCount();Yt++){const Xt=new Array;gt[Yt]=Xt;const si=Yt>0?Qe.breakOffsets[Yt-1]:0,fi=Qe.breakOffsets[Yt];for(;zt<qe.length;){const _i=it[zt].content.length,Ai=qe[zt]+Nt,Ii=Ai+_i;if(Ai>fi)break;if(si<Ii){const Hi=it[zt];if(Hi.inlineClassName){const zi=Yt>0?Qe.wrappedTextIndentLength:0,ji=zi+Math.max(Ai-si,0),xi=zi+Math.min(Ii-si,fi);ji!==xi&&Xt.push(new Vi.Wx(ji,xi,Hi.inlineClassName,Hi.inlineClassNameAffectsLetterSpacing))}}if(Ii<=fi)Nt+=_i,zt++;else break}}}let Tt;qe?Tt=e.tokenization.getLineTokens(o).withInserted(qe.map((Nt,zt)=>({offset:Nt,text:it[zt].content,tokenMetadata:ur.A.defaultTokenMetadata}))):Tt=e.tokenization.getLineTokens(o);for(let Nt=v;Nt<v+k;Nt++){const zt=Z+Nt-v;if(!ce[zt]){Ne[zt]=null;continue}Ne[zt]=this._getViewLineData(Tt,gt?gt[Nt]:null,Nt)}}_getViewLineData(e,o,v){this._assertVisible();const k=this._projectionData,Z=v>0?k.wrappedTextIndentLength:0,ce=v>0?k.breakOffsets[v-1]:0,Ne=k.breakOffsets[v],Qe=e.sliceAndInflate(ce,Ne,Z);let qe=Qe.getLineContent();v>0&&(qe=zr(k.wrappedTextIndentLength)+qe);const it=this._projectionData.getMinOutputOffset(v)+1,gt=qe.length+1,Tt=v+1<this.getViewLineCount(),Nt=v===0?0:k.breakOffsetsVisibleColumn[v-1];return new Vi.IP(qe,Tt,it,gt,Nt,Qe,o)}getModelColumnOfViewPosition(e,o){return this._assertVisible(),this._projectionData.translateToInputOffset(e,o-1)+1}getViewPositionOfModelPosition(e,o,v=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,v).toPosition(e)}getViewLineNumberOfModelPosition(e,o){this._assertVisible();const v=this._projectionData.translateToOutputPosition(o-1);return e+v.outputLineIndex}normalizePosition(e,o,v){const k=o.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,o.column-1,v).toPosition(k)}getInjectedTextAt(e,o){return this._projectionData.getInjectedText(e,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class jo{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Os.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,v){return e.getLineContent(o)}getViewLineLength(e,o,v){return e.getLineLength(o)}getViewLineMinColumn(e,o,v){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,v){return e.getLineMaxColumn(o)}getViewLineData(e,o,v){const k=e.tokenization.getLineTokens(o),Z=k.getLineContent();return new Vi.IP(Z,!1,1,Z.length+1,0,k.inflate(),null)}getViewLinesData(e,o,v,k,Z,ce,Ne){if(!ce[Z]){Ne[Z]=null;return}Ne[Z]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new Oe.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,v){return o}getInjectedTextAt(e,o){return null}}jo.INSTANCE=new jo;class Os{constructor(){}isVisible(){return!1}setVisible(e){return e?jo.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,v){throw new Error("Not supported")}getViewLineLength(e,o,v){throw new Error("Not supported")}getViewLineMinColumn(e,o,v){throw new Error("Not supported")}getViewLineMaxColumn(e,o,v){throw new Error("Not supported")}getViewLineData(e,o,v){throw new Error("Not supported")}getViewLinesData(e,o,v,k,Z,ce,Ne){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,v){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}Os.INSTANCE=new Os;const Ur=[""];function zr(wt){if(wt>=Ur.length)for(let e=1;e<=wt;e++)Ur[e]=hr(e);return Ur[wt]}function hr(wt){return new Array(wt+1).join(" ")}var No=i(70268);class fr{constructor(e,o,v,k,Z,ce,Ne,Qe,qe,it){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=v,this._monospaceLineBreaksComputerFactory=k,this.fontInfo=Z,this.tabSize=ce,this.wrappingStrategy=Ne,this.wrappingColumn=Qe,this.wrappingIndent=qe,this.wordBreak=it,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Sa(this)}_constructLines(e,o){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const v=this.model.getLinesContent(),k=this.model.getInjectedTextDecorations(this._editorId),Z=v.length,ce=this.createLineBreaksComputer(),Ne=new f.H9(vs.gk.fromDecorations(k));for(let Yt=0;Yt<Z;Yt++){const Xt=Ne.takeWhile(si=>si.lineNumber===Yt+1);ce.addRequest(v[Yt],Xt,o?o[Yt]:null)}const Qe=ce.finalize(),qe=[],it=this.hiddenAreasDecorationIds.map(Yt=>this.model.getDecorationRange(Yt)).sort(He.e.compareRangesUsingStarts);let gt=1,Tt=0,Nt=-1,zt=Nt+1<it.length?Tt+1:Z+2;for(let Yt=0;Yt<Z;Yt++){const Xt=Yt+1;Xt===zt&&(Nt++,gt=it[Nt].startLineNumber,Tt=it[Nt].endLineNumber,zt=Nt+1<it.length?Tt+1:Z+2);const si=Xt>=gt&&Xt<=Tt,fi=zo(Qe[Yt],!si);qe[Yt]=fi.getViewLineCount(),this.modelLineProjections[Yt]=fi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new No.Ck(qe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const o=e.map(Tt=>this.model.validateRange(Tt)),v=ba(o),k=this.hiddenAreasDecorationIds.map(Tt=>this.model.getDecorationRange(Tt)).sort(He.e.compareRangesUsingStarts);if(v.length===k.length){let Tt=!1;for(let Nt=0;Nt<v.length;Nt++)if(!v[Nt].equalsRange(k[Nt])){Tt=!0;break}if(!Tt)return!1}const Z=v.map(Tt=>({range:Tt,options:oo.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Z);const ce=v;let Ne=1,Qe=0,qe=-1,it=qe+1<ce.length?Qe+1:this.modelLineProjections.length+2,gt=!1;for(let Tt=0;Tt<this.modelLineProjections.length;Tt++){const Nt=Tt+1;Nt===it&&(qe++,Ne=ce[qe].startLineNumber,Qe=ce[qe].endLineNumber,it=qe+1<ce.length?Qe+1:this.modelLineProjections.length+2);let zt=!1;if(Nt>=Ne&&Nt<=Qe?this.modelLineProjections[Tt].isVisible()&&(this.modelLineProjections[Tt]=this.modelLineProjections[Tt].setVisible(!1),zt=!0):(gt=!0,this.modelLineProjections[Tt].isVisible()||(this.modelLineProjections[Tt]=this.modelLineProjections[Tt].setVisible(!0),zt=!0)),zt){const Yt=this.modelLineProjections[Tt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Tt,Yt)}}return gt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,v,k,Z){const ce=this.fontInfo.equals(e),Ne=this.wrappingStrategy===o,Qe=this.wrappingColumn===v,qe=this.wrappingIndent===k,it=this.wordBreak===Z;if(ce&&Ne&&Qe&&qe&&it)return!1;const gt=ce&&Ne&&!Qe&&qe&&it;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=v,this.wrappingIndent=k,this.wordBreak=Z;let Tt=null;if(gt){Tt=[];for(let Nt=0,zt=this.modelLineProjections.length;Nt<zt;Nt++)Tt[Nt]=this.modelLineProjections[Nt].getProjectionData()}return this._constructLines(!1,Tt),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,v){if(!e||e<=this._validModelVersionId)return null;const k=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Z=this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections.splice(o-1,v-o+1),this.projectedModelLineLineCounts.removeValues(o-1,v-o+1),new Wo(k,Z)}onModelLinesInserted(e,o,v,k){if(!e||e<=this._validModelVersionId)return null;const Z=o>2&&!this.modelLineProjections[o-2].isVisible(),ce=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let Ne=0;const Qe=[],qe=[];for(let it=0,gt=k.length;it<gt;it++){const Tt=zo(k[it],!Z);Qe.push(Tt);const Nt=Tt.getViewLineCount();Ne+=Nt,qe[it]=Nt}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(Qe).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,qe),new Do(ce,ce+Ne-1)}onModelLineChanged(e,o,v){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const k=o-1,Z=this.modelLineProjections[k].getViewLineCount(),ce=this.modelLineProjections[k].isVisible(),Ne=zo(v,ce);this.modelLineProjections[k]=Ne;const Qe=this.modelLineProjections[k].getViewLineCount();let qe=!1,it=0,gt=-1,Tt=0,Nt=-1,zt=0,Yt=-1;Z>Qe?(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=it+Qe-1,zt=gt+1,Yt=zt+(Z-Qe)-1,qe=!0):Z<Qe?(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=it+Z-1,Tt=gt+1,Nt=Tt+(Qe-Z)-1,qe=!0):(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=it+Qe-1),this.projectedModelLineLineCounts.setValue(k,Qe);const Xt=it<=gt?new Fr(it,gt-it+1):null,si=Tt<=Nt?new Do(Tt,Nt):null,fi=zt<=Yt?new Wo(zt,Yt):null;return[qe,Xt,si,fi]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,v){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),v=this._toValidViewLineNumber(v);const k=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),Z=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),ce=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),Ne=this.model.guides.getActiveIndentGuide(k.lineNumber,Z.lineNumber,ce.lineNumber),Qe=this.convertModelPositionToViewPosition(Ne.startLineNumber,1),qe=this.convertModelPositionToViewPosition(Ne.endLineNumber,this.model.getLineMaxColumn(Ne.endLineNumber));return{startLineNumber:Qe.lineNumber,endLineNumber:qe.lineNumber,indent:Ne.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),v=o.index,k=o.remainder;return new Ko(v+1,k)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],v=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),k=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,v);return new Oe.L(e.modelLineNumber,k)}getModelEndPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],v=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),k=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,v);return new Oe.L(e.modelLineNumber,k)}getViewLineInfosGroupedByModelRanges(e,o){const v=this.getViewLineInfo(e),k=this.getViewLineInfo(o),Z=new Array;let ce=this.getModelStartPositionOfViewLine(v),Ne=new Array;for(let Qe=v.modelLineNumber;Qe<=k.modelLineNumber;Qe++){const qe=this.modelLineProjections[Qe-1];if(qe.isVisible()){const it=Qe===v.modelLineNumber?v.modelLineWrappedLineIdx:0,gt=Qe===k.modelLineNumber?k.modelLineWrappedLineIdx+1:qe.getViewLineCount();for(let Tt=it;Tt<gt;Tt++)Ne.push(new Ko(Qe,Tt))}if(!qe.isVisible()&&ce){const it=new Oe.L(Qe-1,this.model.getLineMaxColumn(Qe-1)+1),gt=He.e.fromPositions(ce,it);Z.push(new jr(gt,Ne)),Ne=[],ce=null}else qe.isVisible()&&!ce&&(ce=new Oe.L(Qe,1))}if(ce){const Qe=He.e.fromPositions(ce,this.getModelEndPositionOfViewLine(k));Z.push(new jr(Qe,Ne))}return Z}getViewLinesBracketGuides(e,o,v,k){const Z=v?this.convertViewPositionToModelPosition(v.lineNumber,v.column):null,ce=[];for(const Ne of this.getViewLineInfosGroupedByModelRanges(e,o)){const Qe=Ne.modelRange.startLineNumber,qe=this.model.guides.getLinesBracketGuides(Qe,Ne.modelRange.endLineNumber,Z,k);for(const it of Ne.viewLines){const Tt=qe[it.modelLineNumber-Qe].map(Nt=>{if(Nt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.forWrappedLinesAfterColumn).lineNumber>=it.modelLineWrappedLineIdx||Nt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.forWrappedLinesBeforeOrAtColumn).lineNumber<it.modelLineWrappedLineIdx)return;if(!Nt.horizontalLine)return Nt;let zt=-1;if(Nt.column!==-1){const si=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.column);if(si.lineNumber===it.modelLineWrappedLineIdx)zt=si.column;else if(si.lineNumber<it.modelLineWrappedLineIdx)zt=this.getMinColumnOfViewLine(it);else if(si.lineNumber>it.modelLineWrappedLineIdx)return}const Yt=this.convertModelPositionToViewPosition(it.modelLineNumber,Nt.horizontalLine.endColumn),Xt=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.horizontalLine.endColumn);return Xt.lineNumber===it.modelLineWrappedLineIdx?new Pi.UO(Nt.visibleColumn,zt,Nt.className,new Pi.vW(Nt.horizontalLine.top,Yt.column),-1,-1):Xt.lineNumber<it.modelLineWrappedLineIdx||Nt.visibleColumn!==-1?void 0:new Pi.UO(Nt.visibleColumn,zt,Nt.className,new Pi.vW(Nt.horizontalLine.top,this.getMaxColumnOfViewLine(it)),-1,-1)});ce.push(Tt.filter(Nt=>!!Nt))}}return ce}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const v=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),k=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let Z=[];const ce=[],Ne=[],Qe=v.lineNumber-1,qe=k.lineNumber-1;let it=null;for(let zt=Qe;zt<=qe;zt++){const Yt=this.modelLineProjections[zt];if(Yt.isVisible()){const Xt=Yt.getViewLineNumberOfModelPosition(0,zt===Qe?v.column:1),si=Yt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(zt+1)),fi=si-Xt+1;let _i=0;fi>1&&Yt.getViewLineMinColumn(this.model,zt+1,si)===1&&(_i=Xt===0?1:2),ce.push(fi),Ne.push(_i),it===null&&(it=new Oe.L(zt+1,0))}else it!==null&&(Z=Z.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,zt)),it=null)}it!==null&&(Z=Z.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,k.lineNumber)),it=null);const gt=o-e+1,Tt=new Array(gt);let Nt=0;for(let zt=0,Yt=Z.length;zt<Yt;zt++){let Xt=Z[zt];const si=Math.min(gt-Nt,ce[zt]),fi=Ne[zt];let _i;fi===2?_i=0:fi===1?_i=1:_i=si;for(let Ai=0;Ai<si;Ai++)Ai===_i&&(Xt=0),Tt[Nt++]=Xt}return Tt}getViewLineContent(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(e,o,v){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const k=this.projectedModelLineLineCounts.getIndexOf(e-1);let Z=e;const ce=k.index,Ne=k.remainder,Qe=[];for(let qe=ce,it=this.model.getLineCount();qe<it;qe++){const gt=this.modelLineProjections[qe];if(!gt.isVisible())continue;const Tt=qe===ce?Ne:0;let Nt=gt.getViewLineCount()-Tt,zt=!1;if(Z+Nt>o&&(zt=!0,Nt=o-Z+1),gt.getViewLinesData(this.model,qe+1,Tt,Nt,Z-e,v,Qe),Z+=Nt,zt)break}return Qe}validateViewPosition(e,o,v){e=this._toValidViewLineNumber(e);const k=this.projectedModelLineLineCounts.getIndexOf(e-1),Z=k.index,ce=k.remainder,Ne=this.modelLineProjections[Z],Qe=Ne.getViewLineMinColumn(this.model,Z+1,ce),qe=Ne.getViewLineMaxColumn(this.model,Z+1,ce);o<Qe&&(o=Qe),o>qe&&(o=qe);const it=Ne.getModelColumnOfViewPosition(ce,o);return this.model.validatePosition(new Oe.L(Z+1,it)).equals(v)?new Oe.L(e,o):this.convertModelPositionToViewPosition(v.lineNumber,v.column)}validateViewRange(e,o){const v=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),k=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new He.e(v.lineNumber,v.column,k.lineNumber,k.column)}convertViewPositionToModelPosition(e,o){const v=this.getViewLineInfo(e),k=this.modelLineProjections[v.modelLineNumber-1].getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,o);return this.model.validatePosition(new Oe.L(v.modelLineNumber,k))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),v=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new He.e(o.lineNumber,o.column,v.lineNumber,v.column)}convertModelPositionToViewPosition(e,o,v=2){const k=this.model.validatePosition(new Oe.L(e,o)),Z=k.lineNumber,ce=k.column;let Ne=Z-1,Qe=!1;for(;Ne>0&&!this.modelLineProjections[Ne].isVisible();)Ne--,Qe=!0;if(Ne===0&&!this.modelLineProjections[Ne].isVisible())return new Oe.L(1,1);const qe=1+this.projectedModelLineLineCounts.getPrefixSum(Ne);let it;return Qe?it=this.modelLineProjections[Ne].getViewPositionOfModelPosition(qe,this.model.getLineMaxColumn(Ne+1),v):it=this.modelLineProjections[Z-1].getViewPositionOfModelPosition(qe,ce,v),it}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const v=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return He.e.fromPositions(v)}else{const v=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),k=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new He.e(v.lineNumber,v.column,k.lineNumber,k.column)}}getViewLineNumberOfModelPosition(e,o){let v=e-1;if(this.modelLineProjections[v].isVisible()){const Z=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(Z,o)}for(;v>0&&!this.modelLineProjections[v].isVisible();)v--;if(v===0&&!this.modelLineProjections[v].isVisible())return 1;const k=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(k,this.model.getLineMaxColumn(v+1))}getDecorationsInRange(e,o,v,k){const Z=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),ce=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(ce.lineNumber-Z.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new He.e(Z.lineNumber,1,ce.lineNumber,ce.column),o,v,k);let Ne=[];const Qe=Z.lineNumber-1,qe=ce.lineNumber-1;let it=null;for(let zt=Qe;zt<=qe;zt++)if(this.modelLineProjections[zt].isVisible())it===null&&(it=new Oe.L(zt+1,zt===Qe?Z.column:1));else if(it!==null){const Xt=this.model.getLineMaxColumn(zt);Ne=Ne.concat(this.model.getDecorationsInRange(new He.e(it.lineNumber,it.column,zt,Xt),o,v,k)),it=null}it!==null&&(Ne=Ne.concat(this.model.getDecorationsInRange(new He.e(it.lineNumber,it.column,ce.lineNumber,ce.column),o,v,k)),it=null),Ne.sort((zt,Yt)=>{const Xt=He.e.compareRangesUsingStarts(zt.range,Yt.range);return Xt===0?zt.id<Yt.id?-1:zt.id>Yt.id?1:0:Xt});const gt=[];let Tt=0,Nt=null;for(const zt of Ne){const Yt=zt.id;Nt!==Yt&&(Nt=Yt,gt[Tt++]=zt)}return gt}getInjectedTextAt(e){const o=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,e.column)}normalizePosition(e,o){const v=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[v.modelLineNumber-1].normalizePosition(v.modelLineWrappedLineIdx,e,o)}getLineIndentColumn(e){const o=this.getViewLineInfo(e);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}function ba(wt){if(wt.length===0)return[];const e=wt.slice();e.sort(He.e.compareRangesUsingStarts);const o=[];let v=e[0].startLineNumber,k=e[0].endLineNumber;for(let Z=1,ce=e.length;Z<ce;Z++){const Ne=e[Z];Ne.startLineNumber>k+1?(o.push(new He.e(v,1,k,1)),v=Ne.startLineNumber,k=Ne.endLineNumber):Ne.endLineNumber>k&&(k=Ne.endLineNumber)}return o.push(new He.e(v,1,k,1)),o}class Ko{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}}class jr{constructor(e,o){this.modelRange=e,this.viewLines=o}}class Sa{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class dl{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new ya(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,v,k){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(o,v,k)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,v){return new Wo(o,v)}onModelLinesInserted(e,o,v,k){return new Do(o,v)}onModelLineChanged(e,o,v){return[!1,new Fr(o,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,v){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,v){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const v=o-e+1,k=new Array(v);for(let Z=0;Z<v;Z++)k[Z]=0;return k}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const o=this.model.tokenization.getLineTokens(e),v=o.getLineContent();return new Vi.IP(v,!1,1,v.length+1,0,o.inflate(),null)}getViewLinesData(e,o,v){const k=this.model.getLineCount();e=Math.min(Math.max(1,e),k),o=Math.min(Math.max(1,o),k);const Z=[];for(let ce=e;ce<=o;ce++){const Ne=ce-e;Z[Ne]=v[Ne]?this.getViewLineData(ce):null}return Z}getDecorationsInRange(e,o,v,k){return this.model.getDecorationsInRange(e,o,v,k)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class ya{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}const Kr=!0;class wa extends p.JT{constructor(e,o,v,k,Z,ce,Ne,Qe){if(super(),this.languageConfigurationService=Ne,this._themeService=Qe,this.hiddenAreasModel=new Ad,this.previousHiddenAreas=[],this._editorId=e,this._configuration=o,this.model=v,this._eventDispatcher=new eo,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new nn.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new nn.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=$o.create(this.model),Kr&&this.model.isTooLargeForTokenization())this._lines=new dl(this.model);else{const qe=this._configuration.options,it=qe.get(47),gt=qe.get(132),Tt=qe.get(139),Nt=qe.get(131),zt=qe.get(123);this._lines=new fr(this._editorId,this.model,k,Z,it,this.model.getOptions().tabSize,gt,Tt.wrappingColumn,Nt,zt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Tn(v,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new _a(this._configuration,this.getLineCount(),ce)),this._register(this.viewLayout.onDidScroll(qe=>{qe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),qe.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Br(qe)),this._eventDispatcher.emitOutgoingEvent(new Hs(qe.oldScrollWidth,qe.oldScrollLeft,qe.oldScrollHeight,qe.oldScrollTop,qe.scrollWidth,qe.scrollLeft,qe.scrollHeight,qe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(qe=>{this._eventDispatcher.emitOutgoingEvent(qe)})),this._decorations=new Ca.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(qe=>{try{const it=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(it,qe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Oi.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Vr)})),this._register(this._themeService.onDidColorThemeChange(qe=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new ao(qe))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),o=new He.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),v=this._toModelVisibleRanges(o);for(const k of v)this.model.tokenization.tokenizeViewport(k.startLineNumber,k.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new qs(e)),this._eventDispatcher.emitOutgoingEvent(new Vo(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new ro)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ws)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new Oe.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),o=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new Da(o,this._viewportStart.startLineDelta)}return new Da(null,0)}_onConfigurationChanged(e,o){const v=this._captureStableViewport(),k=this._configuration.options,Z=k.get(47),ce=k.get(132),Ne=k.get(139),Qe=k.get(131),qe=k.get(123);this._lines.setWrappingSettings(Z,ce,Ne.wrappingColumn,Qe,qe)&&(e.emitViewEvent(new wo),e.emitViewEvent(new Lo),e.emitViewEvent(new ns(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(86)&&(this._decorations.reset(),e.emitViewEvent(new ns(null))),e.emitViewEvent(new yo(o)),this.viewLayout.onConfigurationChanged(o),v.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Jn.LM.shouldRecreate(o)&&(this.cursorConfig=new Jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const v=this._eventDispatcher.beginEmitViewEvents();let k=!1,Z=!1;const ce=e instanceof vs.fV?e.rawContentChangedEvent.changes:e.changes,Ne=e instanceof vs.fV?e.rawContentChangedEvent.versionId:null,Qe=this._lines.createLineBreaksComputer();for(const gt of ce)switch(gt.changeType){case 4:{for(let Tt=0;Tt<gt.detail.length;Tt++){const Nt=gt.detail[Tt];let zt=gt.injectedTexts[Tt];zt&&(zt=zt.filter(Yt=>!Yt.ownerId||Yt.ownerId===this._editorId)),Qe.addRequest(Nt,zt,null)}break}case 2:{let Tt=null;gt.injectedText&&(Tt=gt.injectedText.filter(Nt=>!Nt.ownerId||Nt.ownerId===this._editorId)),Qe.addRequest(gt.detail,Tt,null);break}}const qe=Qe.finalize(),it=new f.H9(qe);for(const gt of ce)switch(gt.changeType){case 1:{this._lines.onModelFlushed(),v.emitViewEvent(new wo),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),k=!0;break}case 3:{const Tt=this._lines.onModelLinesDeleted(Ne,gt.fromLineNumber,gt.toLineNumber);Tt!==null&&(v.emitViewEvent(Tt),this.viewLayout.onLinesDeleted(Tt.fromLineNumber,Tt.toLineNumber)),k=!0;break}case 4:{const Tt=it.takeCount(gt.detail.length),Nt=this._lines.onModelLinesInserted(Ne,gt.fromLineNumber,gt.toLineNumber,Tt);Nt!==null&&(v.emitViewEvent(Nt),this.viewLayout.onLinesInserted(Nt.fromLineNumber,Nt.toLineNumber)),k=!0;break}case 2:{const Tt=it.dequeue(),[Nt,zt,Yt,Xt]=this._lines.onModelLineChanged(Ne,gt.lineNumber,Tt);Z=Nt,zt&&v.emitViewEvent(zt),Yt&&(v.emitViewEvent(Yt),this.viewLayout.onLinesInserted(Yt.fromLineNumber,Yt.toLineNumber)),Xt&&(v.emitViewEvent(Xt),this.viewLayout.onLinesDeleted(Xt.fromLineNumber,Xt.toLineNumber));break}case 5:break}Ne!==null&&this._lines.acceptVersionId(Ne),this.viewLayout.onHeightMaybeChanged(),!k&&Z&&(v.emitViewEvent(new Lo),v.emitViewEvent(new ns(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const v=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(v){const k=this.coordinatesConverter.convertModelPositionToViewPosition(v.getStartPosition()),Z=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Z+this._viewportStart.startLineDelta},1)}}try{const v=this._eventDispatcher.beginEmitViewEvents();e instanceof vs.fV&&v.emitOutgoingEvent(new cr(e.contentChangedEvent)),this._cursor.onModelContentChanged(v,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const o=[];for(let v=0,k=e.ranges.length;v<k;v++){const Z=e.ranges[v],ce=this.coordinatesConverter.convertModelPositionToViewPosition(new Oe.L(Z.fromLineNumber,1)).lineNumber,Ne=this.coordinatesConverter.convertModelPositionToViewPosition(new Oe.L(Z.toLineNumber,this.model.getLineMaxColumn(Z.toLineNumber))).lineNumber;o[v]={fromLineNumber:ce,toLineNumber:Ne}}this._eventDispatcher.emitSingleViewEvent(new Wr(o)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new sn(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new dr),this.cursorConfig=new Jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Uo(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Es(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new wo),o.emitViewEvent(new Lo),o.emitViewEvent(new ns(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Jn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new mo(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new ns(e)),this._eventDispatcher.emitOutgoingEvent(new Ho(e))}))}setHiddenAreas(e,o){this.hiddenAreasModel.setHiddenAreas(o,e);const v=this.hiddenAreasModel.getMergedRanges();if(v===this.previousHiddenAreas)return;this.previousHiddenAreas=v;const k=this._captureStableViewport();let Z=!1;try{const ce=this._eventDispatcher.beginEmitViewEvents();Z=this._lines.setHiddenAreas(v),Z&&(ce.emitViewEvent(new wo),ce.emitViewEvent(new Lo),ce.emitViewEvent(new ns(null)),this._cursor.onLineMappingChanged(ce),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),k.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Z&&this._eventDispatcher.emitOutgoingEvent(new $i)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(138),o=this._configuration.options.get(63),v=Math.max(20,Math.round(e.height/o)),k=this.viewLayout.getLinesViewportData(),Z=Math.max(1,k.completelyVisibleStartLineNumber-v),ce=Math.min(this.getLineCount(),k.completelyVisibleEndLineNumber+v);return this._toModelVisibleRanges(new He.e(Z,this.getLineMinColumn(Z),ce,this.getLineMaxColumn(ce)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),v=this._lines.getHiddenAreas();if(v.length===0)return[o];const k=[];let Z=0,ce=o.startLineNumber,Ne=o.startColumn;const Qe=o.endLineNumber,qe=o.endColumn;for(let it=0,gt=v.length;it<gt;it++){const Tt=v[it].startLineNumber,Nt=v[it].endLineNumber;Nt<ce||Tt>Qe||(ce<Tt&&(k[Z++]=new He.e(ce,Ne,Tt-1,this.model.getLineMaxColumn(Tt-1))),ce=Nt+1,Ne=1)}return(ce<Qe||ce===Qe&&Ne<qe)&&(k[Z++]=new He.e(ce,Ne,Qe,qe)),k}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,v=e.completelyVisibleEndLineNumber;return new He.e(o,this.getLineMinColumn(o),v,this.getLineMaxColumn(v))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),v=o.completelyVisibleStartLineNumber,k=o.completelyVisibleEndLineNumber;return new He.e(v,this.getLineMinColumn(v),k,this.getLineMaxColumn(k))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,v=this.viewLayout.getLineNumberAtVerticalOffset(o),k=this.coordinatesConverter.convertViewPositionToModelPosition(new Oe.L(v,this.getLineMinColumn(v))),Z=this.viewLayout.getVerticalOffsetForLineNumber(v)-o;return{scrollLeft:e.scrollLeft,firstPosition:k,firstPositionDeltaTop:Z}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),v=this.coordinatesConverter.convertModelPositionToViewPosition(o),k=this.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:k}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,v){this._viewportStart.update(this,e)}getActiveIndentGuide(e,o,v){return this._lines.getActiveIndentGuide(e,o,v)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,v,k){return this._lines.getViewLinesBracketGuides(e,o,v,k)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=rn.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=rn.ow(this.getLineContent(e));return o===-1?0:o+2}getDecorationsInViewport(e,o=!1){return this._decorations.getDecorationsViewportData(e,o).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,o){const k=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return this._getViewLineRenderingData(o,k)}getViewLineRenderingData(e){const o=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,o)}_getViewLineRenderingData(e,o){const v=this.model.mightContainRTL(),k=this.model.mightContainNonBasicASCII(),Z=this.getTabSize(),ce=this._lines.getViewLineData(e);return ce.inlineDecorations&&(o=[...o,...ce.inlineDecorations.map(Ne=>Ne.toInlineDecoration(e))]),new Vi.wA(ce.minColumn,ce.maxColumn,ce.content,ce.continuesWithWrappedLine,v,k,ce.tokens,o,Z,ce.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,v){const k=this._lines.getViewLinesData(e,o,v);return new Vi.ud(this.getTabSize(),k)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,I.$J)(this._configuration.options)),v=new gr;for(const k of o){const Z=k.options,ce=Z.overviewRuler;if(!ce)continue;const Ne=ce.position;if(Ne===0)continue;const Qe=ce.getColor(e.value),qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(k.range.startLineNumber,k.range.startColumn),it=this.coordinatesConverter.getViewLineNumberOfModelPosition(k.range.endLineNumber,k.range.endColumn);v.accept(Qe,Z.zIndex,qe,it,Ne)}return v.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const v=o.options.overviewRuler;v==null||v.invalidateCachedColor();const k=o.options.minimap;k==null||k.invalidateCachedColor()}}getValueInRange(e,o){const v=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(v,o)}getValueLengthInRange(e,o){const v=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(v,o)}modifyPosition(e,o){const v=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(v,o)}deduceModelPositionRelativeToViewPosition(e,o,v){const k=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=v:o+=v);const ce=this.model.getOffsetAt(k)+o;return this.model.getPositionAt(ce)}getPlainTextToCopy(e,o,v){const k=v?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(He.e.compareRangesUsingStarts);let Z=!1,ce=!1;for(const Qe of e)Qe.isEmpty()?Z=!0:ce=!0;if(!ce){if(!o)return"";const Qe=e.map(it=>it.startLineNumber);let qe="";for(let it=0;it<Qe.length;it++)it>0&&Qe[it-1]===Qe[it]||(qe+=this.model.getLineContent(Qe[it])+k);return qe}if(Z&&o){const Qe=[];let qe=0;for(const it of e){const gt=it.startLineNumber;it.isEmpty()?gt!==qe&&Qe.push(this.model.getLineContent(gt)):Qe.push(this.model.getValueInRange(it,v?2:0)),qe=gt}return Qe.length===1?Qe[0]:Qe}const Ne=[];for(const Qe of e)Qe.isEmpty()||Ne.push(this.model.getValueInRange(Qe,v?2:0));return Ne.length===1?Ne[0]:Ne}getRichTextToCopy(e,o){const v=this.model.getLanguageId();if(v===zs.bd||e.length!==1)return null;let k=e[0];if(k.isEmpty()){if(!o)return null;const it=k.startLineNumber;k=new He.e(it,this.model.getLineMinColumn(it),it,this.model.getLineMaxColumn(it))}const Z=this._configuration.options.get(47),ce=this._getColorMap(),Qe=/[:;\\\/<>]/.test(Z.fontFamily)||Z.fontFamily===I.hL.fontFamily;let qe;return Qe?qe=I.hL.fontFamily:(qe=Z.fontFamily,qe=qe.replace(/"/g,"'"),/[,']/.test(qe)||/[+ ]/.test(qe)&&(qe=`'${qe}'`),qe=`${qe}, ${I.hL.fontFamily}`),{mode:v,html:`<div style="color: ${ce[1]};background-color: ${ce[2]};font-family: ${qe};font-weight: ${Z.fontWeight};font-size: ${Z.fontSize}px;line-height: ${Z.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(k,ce)+"</div>"}}_getHTMLToCopy(e,o){const v=e.startLineNumber,k=e.startColumn,Z=e.endLineNumber,ce=e.endColumn,Ne=this.getTabSize();let Qe="";for(let qe=v;qe<=Z;qe++){const it=this.model.tokenization.getLineTokens(qe),gt=it.getLineContent(),Tt=qe===v?k-1:0,Nt=qe===Z?ce-1:gt.length;gt===""?Qe+="<br>":Qe+=(0,Hr.Fq)(gt,it.inflate(),o,Tt,Nt,Ne,r.ED)}return Qe}_getColorMap(){const e=Ae.RW.getColorMap(),o=["#000000"];if(e)for(let v=1,k=e.length;v<k;v++)o[v]=Ge.Il.Format.CSS.formatHex(e[v]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,v){return this._withViewEventsCollector(k=>this._cursor.setStates(k,e,o,v))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,v=0){this._withViewEventsCollector(k=>this._cursor.setSelections(k,e,o,v))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Eo);return}this._withViewEventsCollector(e)}executeEdits(e,o,v){this._executeCursorEdit(k=>this._cursor.executeEdits(k,e,o,v))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(v=>this._cursor.type(v,e,o))}compositionType(e,o,v,k,Z){this._executeCursorEdit(ce=>this._cursor.compositionType(ce,e,o,v,k,Z))}paste(e,o,v,k){this._executeCursorEdit(Z=>this._cursor.paste(Z,e,o,v,k))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(v=>this._cursor.executeCommand(v,e,o))}executeCommands(e,o){this._executeCursorEdit(v=>this._cursor.executeCommands(v,e,o))}revealPrimaryCursor(e,o,v=!1){this._withViewEventsCollector(k=>this._cursor.revealPrimary(k,e,v,0,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),v=new He.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(k=>k.emitViewEvent(new So(e,!1,v,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),v=new He.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(k=>k.emitViewEvent(new So(e,!1,v,null,0,!0,0)))}revealRange(e,o,v,k,Z){this._withViewEventsCollector(ce=>ce.emitViewEvent(new So(e,!1,v,null,k,o,Z)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new go),this._eventDispatcher.emitOutgoingEvent(new Rs))}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();return e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class $o{static create(e){const o=e._setTrackedRange(null,new He.e(1,1,1,1),1);return new $o(e,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,o,v,k,Z){this._model=e,this._viewLineNumber=o,this._isValid=v,this._modelTrackedRange=k,this._startLineDelta=Z}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,o){const v=e.coordinatesConverter.convertViewPositionToModelPosition(new Oe.L(o,e.getLineMinColumn(o))),k=e.model._setTrackedRange(this._modelTrackedRange,new He.e(v.lineNumber,v.column,v.lineNumber,v.column),1),Z=e.viewLayout.getVerticalOffsetForLineNumber(o),ce=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=k,this._startLineDelta=ce-Z}invalidate(){this._isValid=!1}}class gr{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,v,k,Z){const ce=this._asMap[e];if(ce){const Ne=ce.data,Qe=Ne[Ne.length-3],qe=Ne[Ne.length-1];if(Qe===Z&&qe+1>=v){k>qe&&(Ne[Ne.length-1]=k);return}Ne.push(Z,v,k)}else{const Ne=new Vi.SQ(e,o,[Z,v,k]);this._asMap[e]=Ne,this.asArray.push(Ne)}}}class Ad{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,o){const v=this.hiddenAreas.get(e);v&&La(v,o)||(this.hiddenAreas.set(e,o),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((o,v)=>cl(o,v),[]);return La(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function cl(wt,e){const o=[];let v=0,k=0;for(;v<wt.length&&k<e.length;){const Z=wt[v],ce=e[k];if(Z.endLineNumber<ce.startLineNumber-1)o.push(wt[v++]);else if(ce.endLineNumber<Z.startLineNumber-1)o.push(e[k++]);else{const Ne=Math.min(Z.startLineNumber,ce.startLineNumber),Qe=Math.max(Z.endLineNumber,ce.endLineNumber);o.push(new He.e(Ne,1,Qe,1)),v++,k++}}for(;v<wt.length;)o.push(wt[v++]);for(;k<e.length;)o.push(e[k++]);return o}function La(wt,e){if(wt.length!==e.length)return!1;for(let o=0;o<wt.length;o++)if(!wt[o].equalsRange(e[o]))return!1;return!0}class Da{constructor(e,o){this.viewportStartModelPosition=e,this.startLineDelta=o}recoverViewportStart(e,o){if(!this.viewportStartModelPosition)return;const v=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),k=o.getVerticalOffsetForLineNumber(v.lineNumber);o.setScrollPosition({scrollTop:k+this.startLineDelta},1)}}var $r=i(21760),mr=i(23286),ul=i(64700),Ps=i(59660),js=i(28382),Ea=i(79563),pr=i(44516);class Mo{constructor(e,o,v,k,Z){this.injectionOffsets=e,this.injectionOptions=o,this.breakOffsets=v,this.breakOffsetsVisibleColumn=k,this.wrappedTextIndentLength=Z}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const o=e>0?this.breakOffsets[e-1]:0;let k=this.breakOffsets[e]-o;return e>0&&(k+=this.wrappedTextIndentLength),k}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,o){e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let k=e===0?o:this.breakOffsets[e-1]+o;if(this.injectionOffsets!==null)for(let Z=0;Z<this.injectionOffsets.length&&k>this.injectionOffsets[Z];Z++)k<this.injectionOffsets[Z]+this.injectionOptions[Z].content.length?k=this.injectionOffsets[Z]:k-=this.injectionOptions[Z].content.length;return k}translateToOutputPosition(e,o=2){let v=e;if(this.injectionOffsets!==null)for(let k=0;k<this.injectionOffsets.length&&!(e<this.injectionOffsets[k]||o!==1&&e===this.injectionOffsets[k]);k++)v+=this.injectionOptions[k].content.length;return this.offsetInInputWithInjectionsToOutputPosition(v,o)}offsetInInputWithInjectionsToOutputPosition(e,o=2){let v=0,k=this.breakOffsets.length-1,Z=0,ce=0;for(;v<=k;){Z=v+(k-v)/2|0;const Qe=this.breakOffsets[Z];if(ce=Z>0?this.breakOffsets[Z-1]:0,o===0)if(e<=ce)k=Z-1;else if(e>Qe)v=Z+1;else break;else if(e<ce)k=Z-1;else if(e>=Qe)v=Z+1;else break}let Ne=e-ce;return Z>0&&(Ne+=this.wrappedTextIndentLength),new Zo(Z,Ne)}normalizeOutputPosition(e,o,v){if(this.injectionOffsets!==null){const k=this.outputPositionToOffsetInInputWithInjections(e,o),Z=this.normalizeOffsetInInputWithInjectionsAroundInjections(k,v);if(Z!==k)return this.offsetInInputWithInjectionsToOutputPosition(Z,v)}if(v===0){if(e>0&&o===this.getMinOutputOffset(e))return new Zo(e-1,this.getMaxOutputOffset(e-1))}else if(v===1){const k=this.getOutputLineCount()-1;if(e<k&&o===this.getMaxOutputOffset(e))return new Zo(e+1,this.getMinOutputOffset(e+1))}return new Zo(e,o)}outputPositionToOffsetInInputWithInjections(e,o){return e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(e,o){const v=this.getInjectedTextAtOffset(e);if(!v)return e;if(o===2){if(e===v.offsetInInputWithInjections+v.length&&Go(this.injectionOptions[v.injectedTextIndex].cursorStops))return v.offsetInInputWithInjections+v.length;{let k=v.offsetInInputWithInjections;if(Qo(this.injectionOptions[v.injectedTextIndex].cursorStops))return k;let Z=v.injectedTextIndex-1;for(;Z>=0&&this.injectionOffsets[Z]===this.injectionOffsets[v.injectedTextIndex]&&!(Go(this.injectionOptions[Z].cursorStops)||(k-=this.injectionOptions[Z].content.length,Qo(this.injectionOptions[Z].cursorStops)));)Z--;return k}}else if(o===1||o===4){let k=v.offsetInInputWithInjections+v.length,Z=v.injectedTextIndex;for(;Z+1<this.injectionOffsets.length&&this.injectionOffsets[Z+1]===this.injectionOffsets[Z];)k+=this.injectionOptions[Z+1].content.length,Z++;return k}else if(o===0||o===3){let k=v.offsetInInputWithInjections,Z=v.injectedTextIndex;for(;Z-1>=0&&this.injectionOffsets[Z-1]===this.injectionOffsets[Z];)k-=this.injectionOptions[Z-1].content.length,Z--;return k}(0,pr.vE)(o)}getInjectedText(e,o){const v=this.outputPositionToOffsetInInputWithInjections(e,o),k=this.getInjectedTextAtOffset(v);return k?{options:this.injectionOptions[k.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const o=this.injectionOffsets,v=this.injectionOptions;if(o!==null){let k=0;for(let Z=0;Z<o.length;Z++){const ce=v[Z].content.length,Ne=o[Z]+k,Qe=o[Z]+k+ce;if(Ne>e)break;if(e<=Qe)return{injectedTextIndex:Z,offsetInInputWithInjections:Ne,length:ce};k+=ce}}}}function Go(wt){return wt==null?!0:wt===Me.RM.Right||wt===Me.RM.Both}function Qo(wt){return wt==null?!0:wt===Me.RM.Left||wt===Me.RM.Both}class kd{constructor(e){this.options=e}}class Zo{constructor(e,o){this.outputLineIndex=e,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Oe.L(e+this.outputLineIndex,this.outputOffset+1)}}class vr{static create(e){return new vr(e.get(127),e.get(126))}constructor(e,o){this.classifier=new xa(e,o)}createLineBreaksComputer(e,o,v,k,Z){const ce=[],Ne=[],Qe=[];return{addRequest:(qe,it,gt)=>{ce.push(qe),Ne.push(it),Qe.push(gt)},finalize:()=>{const qe=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,it=[];for(let gt=0,Tt=ce.length;gt<Tt;gt++){const Nt=Ne[gt],zt=Qe[gt];zt&&!zt.injectionOptions&&!Nt?it[gt]=hl(this.classifier,zt,ce[gt],o,v,qe,k,Z):it[gt]=fl(this.classifier,ce[gt],Nt,o,v,qe,k,Z)}return Gr.length=0,Qr.length=0,it}}}}class xa extends Ea.N{constructor(e,o){super(0);for(let v=0;v<e.length;v++)this.set(e.charCodeAt(v),1);for(let v=0;v<o.length;v++)this.set(o.charCodeAt(v),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Gr=[],Qr=[];function hl(wt,e,o,v,k,Z,ce,Ne){if(k===-1)return null;const Qe=o.length;if(Qe<=1)return null;const qe=Ne==="keepAll",it=e.breakOffsets,gt=e.breakOffsetsVisibleColumn,Tt=Zr(o,v,k,Z,ce),Nt=k-Tt,zt=Gr,Yt=Qr;let Xt=0,si=0,fi=0,_i=k;const Ai=it.length;let Ii=0;if(Ii>=0){let Hi=Math.abs(gt[Ii]-_i);for(;Ii+1<Ai;){const zi=Math.abs(gt[Ii+1]-_i);if(zi>=Hi)break;Hi=zi,Ii++}}for(;Ii<Ai;){let Hi=Ii<0?0:it[Ii],zi=Ii<0?0:gt[Ii];si>Hi&&(Hi=si,zi=fi);let ji=0,xi=0,fn=0,hn=0;if(zi<=_i){let gn=zi,kn=Hi===0?0:o.charCodeAt(Hi-1),Vn=Hi===0?0:wt.get(kn),rs=!0;for(let is=Hi;is<Qe;is++){const ms=is,Wn=o.charCodeAt(is);let es,As;if(rn.ZG(Wn)?(is++,es=0,As=2):(es=wt.get(Wn),As=Yo(Wn,gn,v,Z)),ms>si&&_r(kn,Vn,Wn,es,qe)&&(ji=ms,xi=gn),gn+=As,gn>_i){ms>si?(fn=ms,hn=gn-As):(fn=is+1,hn=gn),gn-xi>Nt&&(ji=0),rs=!1;break}kn=Wn,Vn=es}if(rs){Xt>0&&(zt[Xt]=it[it.length-1],Yt[Xt]=gt[it.length-1],Xt++);break}}if(ji===0){let gn=zi,kn=o.charCodeAt(Hi),Vn=wt.get(kn),rs=!1;for(let is=Hi-1;is>=si;is--){const ms=is+1,Wn=o.charCodeAt(is);if(Wn===9){rs=!0;break}let es,As;if(rn.YK(Wn)?(is--,es=0,As=2):(es=wt.get(Wn),As=rn.K7(Wn)?Z:1),gn<=_i){if(fn===0&&(fn=ms,hn=gn),gn<=_i-Nt)break;if(_r(Wn,es,kn,Vn,qe)){ji=ms,xi=gn;break}}gn-=As,kn=Wn,Vn=es}if(ji!==0){const is=Nt-(hn-xi);if(is<=v){const ms=o.charCodeAt(fn);let Wn;rn.ZG(ms)?Wn=2:Wn=Yo(ms,hn,v,Z),is-Wn<0&&(ji=0)}}if(rs){Ii--;continue}}if(ji===0&&(ji=fn,xi=hn),ji<=si){const gn=o.charCodeAt(si);rn.ZG(gn)?(ji=si+2,xi=fi+2):(ji=si+1,xi=fi+Yo(gn,fi,v,Z))}for(si=ji,zt[Xt]=ji,fi=xi,Yt[Xt]=xi,Xt++,_i=xi+Nt;Ii<0||Ii<Ai&&gt[Ii]<xi;)Ii++;let en=Math.abs(gt[Ii]-_i);for(;Ii+1<Ai;){const gn=Math.abs(gt[Ii+1]-_i);if(gn>=en)break;en=gn,Ii++}}return Xt===0?null:(zt.length=Xt,Yt.length=Xt,Gr=e.breakOffsets,Qr=e.breakOffsetsVisibleColumn,e.breakOffsets=zt,e.breakOffsetsVisibleColumn=Yt,e.wrappedTextIndentLength=Tt,e)}function fl(wt,e,o,v,k,Z,ce,Ne){const Qe=vs.gk.applyInjectedText(e,o);let qe,it;if(o&&o.length>0?(qe=o.map(xi=>xi.options),it=o.map(xi=>xi.column-1)):(qe=null,it=null),k===-1)return qe?new Mo(it,qe,[Qe.length],[],0):null;const gt=Qe.length;if(gt<=1)return qe?new Mo(it,qe,[Qe.length],[],0):null;const Tt=Ne==="keepAll",Nt=Zr(Qe,v,k,Z,ce),zt=k-Nt,Yt=[],Xt=[];let si=0,fi=0,_i=0,Ai=k,Ii=Qe.charCodeAt(0),Hi=wt.get(Ii),zi=Yo(Ii,0,v,Z),ji=1;rn.ZG(Ii)&&(zi+=1,Ii=Qe.charCodeAt(1),Hi=wt.get(Ii),ji++);for(let xi=ji;xi<gt;xi++){const fn=xi,hn=Qe.charCodeAt(xi);let en,gn;rn.ZG(hn)?(xi++,en=0,gn=2):(en=wt.get(hn),gn=Yo(hn,zi,v,Z)),_r(Ii,Hi,hn,en,Tt)&&(fi=fn,_i=zi),zi+=gn,zi>Ai&&((fi===0||zi-_i>zt)&&(fi=fn,_i=zi-gn),Yt[si]=fi,Xt[si]=_i,si++,Ai=_i+zt,fi=0),Ii=hn,Hi=en}return si===0&&(!o||o.length===0)?null:(Yt[si]=gt,Xt[si]=zi,new Mo(it,qe,Yt,Xt,Nt))}function Yo(wt,e,o,v){return wt===9?o-e%o:rn.K7(wt)||wt<32?v:1}function Ia(wt,e){return e-wt%e}function _r(wt,e,o,v,k){return o!==32&&(e===2&&v!==2||e!==1&&v===1||!k&&e===3&&v!==2||!k&&v===3&&e!==1)}function Zr(wt,e,o,v,k){let Z=0;if(k!==0){const ce=rn.LC(wt);if(ce!==-1){for(let Qe=0;Qe<ce;Qe++){const qe=wt.charCodeAt(Qe)===9?Ia(Z,e):1;Z+=qe}const Ne=k===3?2:k===2?1:0;for(let Qe=0;Qe<Ne;Qe++){const qe=Ia(Z,e);Z+=qe}Z+v>o&&(Z=0)}}return Z}var Ks;const Xo=(Ks=window.trustedTypes)===null||Ks===void 0?void 0:Ks.createPolicy("domLineBreaksComputer",{createHTML:wt=>wt});class Cr{static create(){return new Cr}constructor(){}createLineBreaksComputer(e,o,v,k,Z){const ce=[],Ne=[];return{addRequest:(Qe,qe,it)=>{ce.push(Qe),Ne.push(qe)},finalize:()=>Yr(ce,e,o,v,k,Z,Ne)}}}function Yr(wt,e,o,v,k,Z,ce){var Ne;function Qe(xi){const fn=ce[xi];if(fn){const hn=vs.gk.applyInjectedText(wt[xi],fn),en=fn.map(kn=>kn.options),gn=fn.map(kn=>kn.column-1);return new Mo(gn,en,[hn.length],[],0)}else return null}if(v===-1){const xi=[];for(let fn=0,hn=wt.length;fn<hn;fn++)xi[fn]=Qe(fn);return xi}const qe=Math.round(v*e.typicalHalfwidthCharacterWidth),gt=Math.round(o*(k===3?2:k===2?1:0)),Tt=Math.ceil(e.spaceWidth*gt),Nt=document.createElement("div");(0,pn.N)(Nt,e);const zt=new Di.HT(1e4),Yt=[],Xt=[],si=[],fi=[],_i=[];for(let xi=0;xi<wt.length;xi++){const fn=vs.gk.applyInjectedText(wt[xi],ce[xi]);let hn=0,en=0,gn=qe;if(k!==0)if(hn=rn.LC(fn),hn===-1)hn=0;else{for(let is=0;is<hn;is++){const ms=fn.charCodeAt(is)===9?o-en%o:1;en+=ms}const rs=Math.ceil(e.spaceWidth*en);rs+e.typicalFullwidthCharacterWidth>qe?(hn=0,en=0):gn=qe-rs}const kn=fn.substr(hn),Vn=gl(kn,en,o,gn,zt,Tt);Yt[xi]=hn,Xt[xi]=en,si[xi]=kn,fi[xi]=Vn[0],_i[xi]=Vn[1]}const Ai=zt.build(),Ii=(Ne=Xo==null?void 0:Xo.createHTML(Ai))!==null&&Ne!==void 0?Ne:Ai;Nt.innerHTML=Ii,Nt.style.position="absolute",Nt.style.top="10000",Z==="keepAll"?(Nt.style.wordBreak="keep-all",Nt.style.overflowWrap="anywhere"):(Nt.style.wordBreak="inherit",Nt.style.overflowWrap="break-word"),document.body.appendChild(Nt);const Hi=document.createRange(),zi=Array.prototype.slice.call(Nt.children,0),ji=[];for(let xi=0;xi<wt.length;xi++){const fn=zi[xi],hn=ml(Hi,fn,si[xi],fi[xi]);if(hn===null){ji[xi]=Qe(xi);continue}const en=Yt[xi],gn=Xt[xi]+gt,kn=_i[xi],Vn=[];for(let Wn=0,es=hn.length;Wn<es;Wn++)Vn[Wn]=kn[hn[Wn]];if(en!==0)for(let Wn=0,es=hn.length;Wn<es;Wn++)hn[Wn]+=en;let rs,is;const ms=ce[xi];ms?(rs=ms.map(Wn=>Wn.options),is=ms.map(Wn=>Wn.column-1)):(rs=null,is=null),ji[xi]=new Mo(is,rs,hn,Vn,gn)}return document.body.removeChild(Nt),ji}function gl(wt,e,o,v,k,Z){if(Z!==0){const Tt=String(Z);k.appendString('<div style="text-indent: -'),k.appendString(Tt),k.appendString("px; padding-left: "),k.appendString(Tt),k.appendString("px; box-sizing: border-box; width:")}else k.appendString('<div style="width:');k.appendString(String(v)),k.appendString('px;">');const ce=wt.length;let Ne=e,Qe=0;const qe=[],it=[];let gt=0<ce?wt.charCodeAt(0):0;k.appendString("<span>");for(let Tt=0;Tt<ce;Tt++){Tt!==0&&Tt%16384===0&&k.appendString("</span><span>"),qe[Tt]=Qe,it[Tt]=Ne;const Nt=gt;gt=Tt+1<ce?wt.charCodeAt(Tt+1):0;let zt=1,Yt=1;switch(Nt){case 9:zt=o-Ne%o,Yt=zt;for(let Xt=1;Xt<=zt;Xt++)Xt<zt?k.appendCharCode(160):k.appendASCIICharCode(32);break;case 32:gt===32?k.appendCharCode(160):k.appendASCIICharCode(32);break;case 60:k.appendString("&lt;");break;case 62:k.appendString("&gt;");break;case 38:k.appendString("&amp;");break;case 0:k.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:k.appendCharCode(65533);break;default:rn.K7(Nt)&&Yt++,Nt<32?k.appendCharCode(9216+Nt):k.appendCharCode(Nt)}Qe+=zt,Ne+=Yt}return k.appendString("</span>"),qe[wt.length]=Qe,it[wt.length]=Ne,k.appendString("</div>"),[qe,it]}function ml(wt,e,o,v){if(o.length<=1)return null;const k=Array.prototype.slice.call(e.children,0),Z=[];try{Xr(wt,k,v,0,null,o.length-1,null,Z)}catch(ce){return console.log(ce),null}return Z.length===0?null:(Z.push(o.length),Z)}function Xr(wt,e,o,v,k,Z,ce,Ne){if(v===Z||(k=k||br(wt,e,o[v],o[v+1]),ce=ce||br(wt,e,o[Z],o[Z+1]),Math.abs(k[0].top-ce[0].top)<=.1))return;if(v+1===Z){Ne.push(Z);return}const Qe=v+(Z-v)/2|0,qe=br(wt,e,o[Qe],o[Qe+1]);Xr(wt,e,o,v,k,Qe,qe,Ne),Xr(wt,e,o,Qe,qe,Z,ce,Ne)}function br(wt,e,o,v){return wt.setStart(e[o/16384|0].firstChild,o%16384),wt.setEnd(e[v/16384|0].firstChild,v%16384),wt.getClientRects()}var pl=i(50706),vl=i(28170),Na=i(26340);class _l extends p.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new p.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,o,v){this._editor=e,this._instantiationService=v;for(const k of o){if(this._pending.has(k.id)){(0,x.dL)(new Error(`Cannot have two contributions with the same id ${k.id}`));continue}this._pending.set(k.id,k)}this._instantiateSome(0),this._register((0,nn.To)(()=>{this._instantiateSome(1)})),this._register((0,nn.To)(()=>{this._instantiateSome(2)})),this._register((0,nn.To)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[o,v]of this._instances)typeof v.saveViewState=="function"&&(e[o]=v.saveViewState());return e}restoreViewState(e){for(const[o,v]of this._instances)typeof v.restoreViewState=="function"&&v.restoreViewState(e[o])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,nn.To)(()=>{this._instantiateSome(1)},50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const o=this._findPendingContributionsByInstantiation(e);for(const v of o)this._instantiateById(v.id)}_findPendingContributionsByInstantiation(e){const o=[];for(const[,v]of this._pending)v.instantiation===e&&o.push(v);return o}_instantiateById(e){const o=this._pending.get(e);if(o){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const v=this._instantiationService.createInstance(o.ctor,this._editor);this._instances.set(o.id,v),typeof v.restoreViewState=="function"&&o.instantiation!==0&&console.warn(`Editor contribution '${o.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(v){(0,x.dL)(v)}}}}var Cl=function(wt,e,o,v){var k=arguments.length,Z=k<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(wt,e,o,v);else for(var Ne=wt.length-1;Ne>=0;Ne--)(ce=wt[Ne])&&(Z=(k<3?ce(Z):k>3?ce(e,o,Z):ce(e,o))||Z);return k>3&&Z&&Object.defineProperty(e,o,Z),Z},lo=function(wt,e){return function(o,v){e(o,v,wt)}},Ma=function(wt,e,o,v){function k(Z){return Z instanceof o?Z:new o(function(ce){ce(Z)})}return new(o||(o=Promise))(function(Z,ce){function Ne(it){try{qe(v.next(it))}catch(gt){ce(gt)}}function Qe(it){try{qe(v.throw(it))}catch(gt){ce(gt)}}function qe(it){it.done?Z(it.value):k(it.value).then(Ne,Qe)}qe((v=v.apply(wt,e||[])).next())})};let Ta=0;class Ra{constructor(e,o,v,k,Z){this.model=e,this.viewModel=o,this.view=v,this.hasRealView=k,this.listenersToRemove=Z}dispose(){(0,p.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Jo=class Or extends p.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,o,v,k,Z,ce,Ne,Qe,qe,it,gt,Tt){super(),this.languageConfigurationService=gt,this._deliveryQueue=new O.F3,this._contributions=this._register(new _l),this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Un({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Un({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new gs(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new gs(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new gs(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new gs(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new gs(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new gs(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();const Nt=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=Nt.overflowWidgetsDomNode,delete Nt.overflowWidgetsDomNode,this._id=++Ta,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=v.telemetryData,this._configuration=this._register(this._createConfiguration(v.isSimpleWidget||!1,Nt,it)),this._register(this._configuration.onDidChange(Xt=>{this._onDidChangeConfiguration.fire(Xt);const si=this._configuration.options;if(Xt.hasChanged(138)){const fi=si.get(138);this._onDidLayoutChange.fire(fi)}})),this._contextKeyService=this._register(Ne.createScoped(this._domElement)),this._notificationService=qe,this._codeEditorService=Z,this._commandService=ce,this._themeService=Qe,this._register(new xs(this,this._contextKeyService)),this._register(new To(this,this._contextKeyService,Tt)),this._instantiationService=k.createChild(new Ps.y([mr.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new Jr(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let zt;Array.isArray(v.contributions)?zt=v.contributions:zt=F.Uc.getEditorContributions(),this._contributions.initialize(this,zt,this._instantiationService);for(const Xt of F.Uc.getEditorActions()){if(this._actions.has(Xt.id)){(0,x.dL)(new Error(`Cannot have two actions with the same id ${Xt.id}`));continue}const si=new kr.p(Xt.id,Xt.label,Xt.alias,(0,gi.f6)(Xt.precondition),()=>this._instantiationService.invokeFunction(fi=>Promise.resolve(Xt.runEditorCommand(fi,this,null))),this._contextKeyService);this._actions.set(si.id,si)}const Yt=()=>!this._configuration.options.get(86)&&this._configuration.options.get(33).enabled;this._register(new N.eg(this._domElement,{onDragEnter:()=>{},onDragOver:Xt=>{if(!Yt())return;const si=this.getTargetAtClientPoint(Xt.clientX,Xt.clientY);si!=null&&si.position&&this.showDropIndicatorAt(si.position)},onDrop:Xt=>Ma(this,void 0,void 0,function*(){if(!Yt()||(this.removeDropIndicator(),!Xt.dataTransfer))return;const si=this.getTargetAtClientPoint(Xt.clientX,Xt.clientY);si!=null&&si.position&&this._onDropIntoEditor.fire({position:si.position,event:Xt})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var o;(o=this._modelData)===null||o===void 0||o.view.writeScreenReaderContent(e)}_createConfiguration(e,o,v){return new H(e,o,this._domElement,v)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return fo.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?pl.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(124),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let v=0;return e&&e.lineEnding&&e.lineEnding===`
`?v=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(v=2),this._modelData.model.getValue(v,o)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const v=this.hasTextFocus(),k=this._detachModel();this._attachModel(o),v&&this.hasModel()&&this.focus();const Z={oldModelUrl:k?k.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Z),this._postDetachModelCleanup(k),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(const v in o)this._removeDecorationType(e+"-"+v)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,o,v,k){const Z=e.model.validatePosition({lineNumber:o,column:v}),ce=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,k)}getTopForLineNumber(e,o=!1){return this._modelData?Or._getVerticalOffsetForPosition(this._modelData,e,1,o):-1}getTopForPosition(e,o){return this._modelData?Or._getVerticalOffsetForPosition(this._modelData,e,o,!1):-1}static _getVerticalOffsetForPosition(e,o,v,k=!1){const Z=e.model.validatePosition({lineNumber:o,column:v}),ce=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,k)}getBottomForLineNumber(e,o=!1){return this._modelData?Or._getVerticalOffsetAfterPosition(this._modelData,e,1,o):-1}setHiddenAreas(e,o){var v;(v=this._modelData)===null||v===void 0||v.viewModel.setHiddenAreas(e.map(k=>He.e.lift(k)),o)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),v=this._modelData.model.getOptions().tabSize;return mt.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,v)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,o="api"){if(this._modelData){if(!Oe.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,v,k){if(!this._modelData)return;if(!He.e.isIRange(e))throw new Error("Invalid arguments");const Z=this._modelData.model.validateRange(e),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",v,ce,o,k)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,v){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new He.e(e,1,e,1),o,!1,v)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,v,k){if(!Oe.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new He.e(e.lineNumber,e.column,e.lineNumber,e.column),o,v,k)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,o="api"){const v=G.Y.isISelection(e),k=He.e.isIRange(e);if(!v&&!k)throw new Error("Invalid arguments");if(v)this._setSelectionImpl(e,o);else if(k){const Z={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(Z,o)}}_setSelectionImpl(e,o){if(!this._modelData)return;const v=new G.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(o,[v])}revealLines(e,o,v=0){this._revealLines(e,o,0,v)}revealLinesInCenter(e,o,v=0){this._revealLines(e,o,1,v)}revealLinesInCenterIfOutsideViewport(e,o,v=0){this._revealLines(e,o,2,v)}revealLinesNearTop(e,o,v=0){this._revealLines(e,o,5,v)}_revealLines(e,o,v,k){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new He.e(e,1,o,1),v,!1,k)}revealRange(e,o=0,v=!1,k=!0){this._revealRange(e,v?1:0,k,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,v,k){if(!He.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(He.e.lift(e),o,v,k)}setSelections(e,o="api",v=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let k=0,Z=e.length;k<Z;k++)if(!G.Y.isISelection(e[k]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,v)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,o)}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),o=this._modelData.viewModel.saveCursorState(),v=this._modelData.viewModel.saveState();return{cursorState:o,viewState:v,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const v=o.cursorState;Array.isArray(v)?v.length>0&&this._modelData.viewModel.restoreCursorState(v):this._modelData.viewModel.restoreCursorState([v]),this._contributions.restoreViewState(o.contributionsState||{});const k=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(k)}}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,o,v){switch(v=v||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const Z=v;this._type(e,Z.text||"");return}case"replacePreviousChar":{const Z=v;this._compositionType(e,Z.text||"",Z.replaceCharCnt||0,0,0);return}case"compositionType":{const Z=v;this._compositionType(e,Z.text||"",Z.replacePrevCharCnt||0,Z.replaceNextCharCnt||0,Z.positionDelta||0);return}case"paste":{const Z=v;this._paste(e,Z.text||"",Z.pasteOnNewLine||!1,Z.multicursorText||null,Z.mode||null);return}case"cut":this._cut(e);return}const k=this.getAction(o);if(k){Promise.resolve(k.run()).then(void 0,x.dL);return}this._modelData&&(this._triggerEditorCommand(e,o,v)||this._triggerCommand(o,v))}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,v,k,Z){this._modelData&&this._modelData.viewModel.compositionType(o,v,k,Z,e)}_paste(e,o,v,k,Z){if(!this._modelData||o.length===0)return;const ce=this._modelData.viewModel,Ne=ce.getSelection().getStartPosition();ce.paste(o,v,k,e);const Qe=ce.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new He.e(Ne.lineNumber,Ne.column,Qe.lineNumber,Qe.column),languageId:Z})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,v){const k=F.Uc.getEditorCommand(o);return k?(v=v||{},v.source=e,this._instantiationService.invokeFunction(Z=>{Promise.resolve(k.runEditorCommand(Z,this,v)).then(void 0,x.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(86)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(86)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,v){if(!this._modelData||this._configuration.options.get(86))return!1;let k;return v?Array.isArray(v)?k=()=>v:k=v:k=()=>null,this._modelData.viewModel.executeEdits(e,o,k),!0}executeCommand(e,o){this._modelData&&this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){this._modelData&&this._modelData.viewModel.executeCommands(o,e)}createDecorationsCollection(e){return new Oa(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,I.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,I.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(e,[])})}removeDecorationsByType(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(138)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const v=this._contentWidgets[o];v.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(v)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const v=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(v)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const v=this._overlayWidgets[o];v.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(v)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const v=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(v)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),v=this._configuration.options,k=v.get(138),Z=Or._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),ce=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+k.glyphMarginWidth+k.lineNumbersWidth+k.decorationsWidth-this.getScrollLeft();return{top:Z,left:ce,height:v.get(63)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,pn.N)(e,this._configuration.options.get(47))}setBanner(e,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const v=new wa(this._id,this._configuration,e,Cr.create(),vr.create(this._configuration.options),ce=>N.jL(ce),this.languageConfigurationService,this._themeService);o.push(e.onWillDispose(()=>this.setModel(null))),o.push(v.onEvent(ce=>{switch(ce.kind){case 0:this._onDidContentSizeChange.fire(ce);break;case 1:this._editorTextFocus.setValue(ce.hasFocus);break;case 2:this._onDidScrollChange.fire(ce);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(ce.reachedMaxCursorCount){const it=this.getOption(76),gt=$.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",it);this._notificationService.prompt(js.zb.Warning,gt,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:$.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const Ne=[];for(let it=0,gt=ce.selections.length;it<gt;it++)Ne[it]=ce.selections[it].getPosition();const Qe={position:Ne[0],secondaryPositions:Ne.slice(1),reason:ce.reason,source:ce.source};this._onDidChangeCursorPosition.fire(Qe);const qe={selection:ce.selections[0],secondarySelections:ce.selections.slice(1),modelVersionId:ce.modelVersionId,oldSelections:ce.oldSelections,oldModelVersionId:ce.oldModelVersionId,source:ce.source,reason:ce.reason};this._onDidChangeCursorSelection.fire(qe);break}case 7:this._onDidChangeModelDecorations.fire(ce.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(ce.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ce.event);break;case 10:this._onDidChangeModelContent.fire(ce.event);break;case 11:this._onDidChangeModelOptions.fire(ce.event);break;case 12:this._onDidChangeModelTokens.fire(ce.event);break}}));const[k,Z]=this._createView(v);if(Z){this._domElement.appendChild(k.domNode.domNode);let ce=Object.keys(this._contentWidgets);for(let Ne=0,Qe=ce.length;Ne<Qe;Ne++){const qe=ce[Ne];k.addContentWidget(this._contentWidgets[qe])}ce=Object.keys(this._overlayWidgets);for(let Ne=0,Qe=ce.length;Ne<Qe;Ne++){const qe=ce[Ne];k.addOverlayWidget(this._overlayWidgets[qe])}k.render(!1,!0),k.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Ra(e,v,k,Z,o)}_createView(e){let o;this.isSimpleWidget?o={paste:(Z,ce,Ne,Qe)=>{this._paste("keyboard",Z,ce,Ne,Qe)},type:Z=>{this._type("keyboard",Z)},compositionType:(Z,ce,Ne,Qe)=>{this._compositionType("keyboard",Z,ce,Ne,Qe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(Z,ce,Ne,Qe)=>{const qe={text:Z,pasteOnNewLine:ce,multicursorText:Ne,mode:Qe};this._commandService.executeCommand("paste",qe)},type:Z=>{const ce={text:Z};this._commandService.executeCommand("type",ce)},compositionType:(Z,ce,Ne,Qe)=>{if(Ne||Qe){const qe={text:Z,replacePrevCharCnt:ce,replaceNextCharCnt:Ne,positionDelta:Qe};this._commandService.executeCommand("compositionType",qe)}else{const qe={text:Z,replaceCharCnt:ce};this._commandService.executeCommand("replacePreviousChar",qe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const v=new hi(e.coordinatesConverter);return v.onKeyDown=Z=>this._onKeyDown.fire(Z),v.onKeyUp=Z=>this._onKeyUp.fire(Z),v.onContextMenu=Z=>this._onContextMenu.fire(Z),v.onMouseMove=Z=>this._onMouseMove.fire(Z),v.onMouseLeave=Z=>this._onMouseLeave.fire(Z),v.onMouseDown=Z=>this._onMouseDown.fire(Z),v.onMouseUp=Z=>this._onMouseUp.fire(Z),v.onMouseDrag=Z=>this._onMouseDrag.fire(Z),v.onMouseDrop=Z=>this._onMouseDrop.fire(Z),v.onMouseDropCanceled=Z=>this._onMouseDropCanceled.fire(Z),v.onMouseWheel=Z=>this._onMouseWheel.fire(Z),[new Js(o,this._configuration,this._themeService.getColorTheme(),e,v,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const o=[{range:new He.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Or.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Jo.dropIntoEditorDecorationOptions=oo.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Jo=Cl([lo(3,ul.TG),lo(4,j.$),lo(5,$r.H),lo(6,mr.i6),lo(7,At.XE),lo(8,js.lT),lo(9,z.F),lo(10,vl.c_),lo(11,Na.p)],Jo);class Un extends p.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class gs extends O.Q5{constructor(e,o){super({deliveryQueue:o}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class xs extends p.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=Fn.u.editorSimpleInput.bindTo(o),this._editorFocus=Fn.u.focus.bindTo(o),this._textInputFocus=Fn.u.textInputFocus.bindTo(o),this._editorTextFocus=Fn.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=Fn.u.tabMovesFocus.bindTo(o),this._editorReadonly=Fn.u.readOnly.bindTo(o),this._inDiffEditor=Fn.u.inDiffEditor.bindTo(o),this._editorColumnSelection=Fn.u.columnSelection.bindTo(o),this._hasMultipleSelections=Fn.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=Fn.u.hasNonEmptySelection.bindTo(o),this._canUndo=Fn.u.canUndo.bindTo(o),this._canRedo=Fn.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(w.n.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(w.n.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(137)),this._editorReadonly.set(e.get(86)),this._inDiffEditor.set(e.get(58)),this._editorColumnSelection.set(e.get(19))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class To extends p.JT{constructor(e,o,v){super(),this._editor=e,this._contextKeyService=o,this._languageFeaturesService=v,this._langId=Fn.u.languageId.bindTo(o),this._hasCompletionItemProvider=Fn.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=Fn.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=Fn.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=Fn.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=Fn.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=Fn.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=Fn.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=Fn.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=Fn.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=Fn.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=Fn.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=Fn.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=Fn.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=Fn.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=Fn.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=Fn.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=Fn.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=Fn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=Fn.u.isInWalkThroughSnippet.bindTo(o);const k=()=>this._update();this._register(e.onDidChangeModel(k)),this._register(e.onDidChangeModelLanguage(k)),this._register(v.completionProvider.onDidChange(k)),this._register(v.codeActionProvider.onDidChange(k)),this._register(v.codeLensProvider.onDidChange(k)),this._register(v.definitionProvider.onDidChange(k)),this._register(v.declarationProvider.onDidChange(k)),this._register(v.implementationProvider.onDidChange(k)),this._register(v.typeDefinitionProvider.onDidChange(k)),this._register(v.hoverProvider.onDidChange(k)),this._register(v.documentHighlightProvider.onDidChange(k)),this._register(v.documentSymbolProvider.onDidChange(k)),this._register(v.referenceProvider.onDidChange(k)),this._register(v.renameProvider.onDidChange(k)),this._register(v.documentFormattingEditProvider.onDidChange(k)),this._register(v.documentRangeFormattingEditProvider.onDidChange(k)),this._register(v.signatureHelpProvider.onDidChange(k)),this._register(v.inlayHintsProvider.onDidChange(k)),k()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===a.lg.walkThroughSnippet)})}}class Jr extends p.JT{constructor(e){super(),this._onChange=this._register(new O.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(N.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Oa{get length(){return this._decorationIds.length}constructor(e,o){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}onDidChange(e,o,v){return this._editor.onDidChangeModelDecorations(k=>{this._isChangingDecorations||e.call(o,k)},v)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),o=[];for(const v of this._decorationIds){const k=e.getDecorationRange(v);k&&o.push(k)}return o}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}const bl=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Sl=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function os(wt){return bl+encodeURIComponent(wt.toString())+Sl}const co=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),to=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Sr(wt){return co+encodeURIComponent(wt.toString())+to}(0,At.Ic)((wt,e)=>{const o=wt.getColor(yn.lXJ);o&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${os(o)}") repeat-x bottom left; }`);const v=wt.getColor(yn.uoC);v&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${os(v)}") repeat-x bottom left; }`);const k=wt.getColor(yn.c63);k&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${os(k)}") repeat-x bottom left; }`);const Z=wt.getColor(yn.Dut);Z&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Sr(Z)}") no-repeat bottom left; }`);const ce=wt.getColor(Wt.zu);ce&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ce.rgba.a}; }`)})},49206:function(vt,be,i){"use strict";i.d(be,{H:function(){return s}});var c=i(60060),F=i(76356),g=i(76934),A=i(21760),S=i(23286),$=i(64700),N=i(28382),x=i(901),O=i(75845),p=i(28170),a=i(26340),d=function(r,m,C,u){var _=arguments.length,b=_<3?m:u===null?u=Object.getOwnPropertyDescriptor(m,C):u,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(r,m,C,u);else for(var D=r.length-1;D>=0;D--)(E=r[D])&&(b=(_<3?E(b):_>3?E(m,C,b):E(m,C))||b);return _>3&&b&&Object.defineProperty(m,C,b),b},f=function(r,m){return function(C,u){m(C,u,r)}};let s=class extends g.Gm{constructor(m,C,u,_,b,E,D,w,I,M,K,z){super(m,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},_,b,E,D,w,I,M,K,z),this._parentEditor=u,this._overwriteOptions=C,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(Q=>this._onParentConfigurationChanged(Q)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(m){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(m){c.jB(this._overwriteOptions,m,!0),super.updateOptions(this._overwriteOptions)}};s=d([f(3,$.TG),f(4,F.$),f(5,A.H),f(6,S.i6),f(7,x.XE),f(8,N.lT),f(9,O.F),f(10,p.c_),f(11,a.p)],s)},71802:function(vt,be,i){"use strict";i.d(be,{OY:function(){return g},Sj:function(){return A},T4:function(){return F},Uo:function(){return S},hP:function(){return $}});var c=i(15489);class F{constructor(x,O,p=!1){this._range=x,this._text=O,this.insertsAutoWhitespace=p}getEditOperations(x,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(x,O){const a=O.getInverseEditOperations()[0].range;return c.Y.fromPositions(a.getEndPosition())}}class g{constructor(x,O){this._range=x,this._text=O}getEditOperations(x,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(x,O){const a=O.getInverseEditOperations()[0].range;return c.Y.fromRange(a,0)}}class A{constructor(x,O,p=!1){this._range=x,this._text=O,this.insertsAutoWhitespace=p}getEditOperations(x,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(x,O){const a=O.getInverseEditOperations()[0].range;return c.Y.fromPositions(a.getStartPosition())}}class S{constructor(x,O,p,a,d=!1){this._range=x,this._text=O,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=p,this.insertsAutoWhitespace=d}getEditOperations(x,O){O.addTrackedEditOperation(this._range,this._text)}computeCursorState(x,O){const a=O.getInverseEditOperations()[0].range;return c.Y.fromPositions(a.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class ${constructor(x,O,p,a=!1){this._range=x,this._text=O,this._initialSelection=p,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(x,O){O.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=O.trackSelection(this._initialSelection)}computeCursorState(x,O){return O.getTrackedSelection(this._selectionId)}}},70428:function(vt,be,i){"use strict";i.d(be,{U:function(){return a}});var c=i(30613),F=i(90863),g=i(22445),A=i(15489),S=i(76326),$=i(28170),N=function(d,f,s,r){var m=arguments.length,C=m<3?f:r===null?r=Object.getOwnPropertyDescriptor(f,s):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,f,s,r);else for(var _=d.length-1;_>=0;_--)(u=d[_])&&(C=(m<3?u(C):m>3?u(f,s,C):u(f,s))||C);return m>3&&C&&Object.defineProperty(f,s,C),C},x=function(d,f){return function(s,r){f(s,r,d)}};const O=Object.create(null);function p(d,f){if(f<=0)return"";O[d]||(O[d]=["",d]);const s=O[d];for(let r=s.length;r<=f;r++)s[r]=s[r-1]+d;return s[f]}let a=class Cd{static unshiftIndent(f,s,r,m,C){const u=F.i.visibleColumnFromColumn(f,s,r);if(C){const _=p(" ",m),E=F.i.prevIndentTabStop(u,m)/m;return p(_,E)}else{const _="	",E=F.i.prevRenderTabStop(u,r)/r;return p(_,E)}}static shiftIndent(f,s,r,m,C){const u=F.i.visibleColumnFromColumn(f,s,r);if(C){const _=p(" ",m),E=F.i.nextIndentTabStop(u,m)/m;return p(_,E)}else{const _="	",E=F.i.nextRenderTabStop(u,r)/r;return p(_,E)}}constructor(f,s,r){this._languageConfigurationService=r,this._opts=s,this._selection=f,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(f,s,r){this._useLastEditRangeForCursorEndPosition?f.addTrackedEditOperation(s,r):f.addEditOperation(s,r)}getEditOperations(f,s){const r=this._selection.startLineNumber;let m=this._selection.endLineNumber;this._selection.endColumn===1&&r!==m&&(m=m-1);const{tabSize:C,indentSize:u,insertSpaces:_}=this._opts,b=r===m;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(f.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let E=0,D=0;for(let w=r;w<=m;w++,E=D){D=0;const I=f.getLineContent(w);let M=c.LC(I);if(this._opts.isUnshift&&(I.length===0||M===0)||!b&&!this._opts.isUnshift&&I.length===0)continue;if(M===-1&&(M=I.length),w>1&&F.i.visibleColumnFromColumn(I,M+1,C)%u!==0&&f.tokenization.isCheapToTokenize(w-1)){const Q=(0,S.A)(this._opts.autoIndent,f,new g.e(w-1,f.getLineMaxColumn(w-1),w-1,f.getLineMaxColumn(w-1)),this._languageConfigurationService);if(Q){if(D=E,Q.appendText)for(let Y=0,H=Q.appendText.length;Y<H&&D<u&&Q.appendText.charCodeAt(Y)===32;Y++)D++;Q.removeText&&(D=Math.max(0,D-Q.removeText));for(let Y=0;Y<D&&!(M===0||I.charCodeAt(M-1)!==32);Y++)M--}}if(this._opts.isUnshift&&M===0)continue;let K;this._opts.isUnshift?K=Cd.unshiftIndent(I,M+1,C,u,_):K=Cd.shiftIndent(I,M+1,C,u,_),this._addEditOperation(s,new g.e(w,1,w,M+1),K),w===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=M+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&f.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const E=_?p(" ",u):"	";for(let D=r;D<=m;D++){const w=f.getLineContent(D);let I=c.LC(w);if(!(this._opts.isUnshift&&(w.length===0||I===0))&&!(!b&&!this._opts.isUnshift&&w.length===0)&&(I===-1&&(I=w.length),!(this._opts.isUnshift&&I===0)))if(this._opts.isUnshift){I=Math.min(I,u);for(let M=0;M<I;M++)if(w.charCodeAt(M)===9){I=M+1;break}this._addEditOperation(s,new g.e(D,1,D,I+1),"")}else this._addEditOperation(s,new g.e(D,1,D,1),E),D===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=s.trackSelection(this._selection)}computeCursorState(f,s){if(this._useLastEditRangeForCursorEndPosition){const m=s.getInverseEditOperations()[0];return new A.Y(m.range.endLineNumber,m.range.endColumn,m.range.endLineNumber,m.range.endColumn)}const r=s.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const m=this._selection.startColumn;return r.startColumn<=m?r:r.getDirection()===0?new A.Y(r.startLineNumber,m,r.endLineNumber,r.endColumn):new A.Y(r.endLineNumber,r.endColumn,r.startLineNumber,m)}return r}};a=N([x(2,$.c_)],a)},107:function(vt,be,i){"use strict";i.d(be,{Pe:function(){return d},ei:function(){return a},wk:function(){return $}});var c=i(32052),F=i(28764),g=i(15779),A=i(29628),S=i(94814);const $=Object.freeze({id:"editor",order:5,type:"object",title:g.NC("editorConfigurationTitle","Editor"),scope:5}),N=Object.assign(Object.assign({},$),{properties:{"editor.tabSize":{type:"number",default:F.D.tabSize,minimum:1,markdownDescription:g.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:g.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:F.D.insertSpaces,markdownDescription:g.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:F.D.detectIndentation,markdownDescription:g.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:F.D.trimAutoWhitespace,description:g.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:F.D.largeFileOptimizations,description:g.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:g.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[g.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),g.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),g.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:g.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[g.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),g.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),g.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:g.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:g.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:g.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:g.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:g.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:g.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:g.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:g.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:g.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:g.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:g.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:g.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:g.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:g.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:g.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[g.NC("wordWrap.off","Lines will never wrap."),g.NC("wordWrap.on","Lines will wrap at the viewport width."),g.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["smart","experimental"],default:"smart",markdownEnumDescriptions:[g.NC("diffAlgorithm.smart","Uses the default diffing algorithm."),g.NC("diffAlgorithm.experimental","Uses an experimental diffing algorithm.")]}}});function x(s){return typeof s.type!="undefined"||typeof s.anyOf!="undefined"}for(const s of c.Bc){const r=s.schema;if(typeof r!="undefined")if(x(r))N.properties[`editor.${s.name}`]=r;else for(const m in r)Object.hasOwnProperty.call(r,m)&&(N.properties[m]=r[m])}let O=null;function p(){return O===null&&(O=Object.create(null),Object.keys(N.properties).forEach(s=>{O[s]=!0})),O}function a(s){return p()[`editor.${s}`]||!1}function d(s){return p()[`diffEditor.${s}`]||!1}S.B.as(A.IP.Configuration).registerConfiguration(N)},32052:function(vt,be,i){"use strict";i.d(be,{$J:function(){return ae},Av:function(){return ot},BH:function(){return Ft},Bb:function(){return x},Bc:function(){return Dt},Bo:function(){return U},LJ:function(){return O},NY:function(){return E},O7:function(){return r},Zc:function(){return C},d2:function(){return Q},gk:function(){return pe},hL:function(){return ut},n0:function(){return q},qt:function(){return dt},rk:function(){return a},y0:function(){return N}});var c=i(15779),F=i(41420),g=i(96605),A=i(16842),S=i(60060),$=i(28764);const N=8;class x{constructor(Ze){this._values=Ze}hasChanged(Ze){return this._values[Ze]}}class O{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class p{constructor(Ze,St,jt,Ct){this.id=Ze,this.name=St,this.defaultValue=jt,this.schema=Ct}applyUpdate(Ze,St){return d(Ze,St)}compute(Ze,St,jt){return jt}}class a{constructor(Ze,St){this.newValue=Ze,this.didChange=St}}function d(Et,Ze){if(typeof Et!="object"||typeof Ze!="object"||!Et||!Ze)return new a(Ze,Et!==Ze);if(Array.isArray(Et)||Array.isArray(Ze)){const jt=Array.isArray(Et)&&Array.isArray(Ze)&&A.fS(Et,Ze);return new a(Ze,!jt)}let St=!1;for(const jt in Ze)if(Ze.hasOwnProperty(jt)){const Ct=d(Et[jt],Ze[jt]);Ct.didChange&&(Et[jt]=Ct.newValue,St=!0)}return new a(Et,St)}class f{constructor(Ze){this.schema=void 0,this.id=Ze,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ze,St){return d(Ze,St)}validate(Ze){return this.defaultValue}}class s{constructor(Ze,St,jt,Ct){this.id=Ze,this.name=St,this.defaultValue=jt,this.schema=Ct}applyUpdate(Ze,St){return d(Ze,St)}validate(Ze){return typeof Ze=="undefined"?this.defaultValue:Ze}compute(Ze,St,jt){return jt}}function r(Et,Ze){return typeof Et=="undefined"?Ze:Et==="false"?!1:Boolean(Et)}class m extends s{constructor(Ze,St,jt,Ct=void 0){typeof Ct!="undefined"&&(Ct.type="boolean",Ct.default=jt),super(Ze,St,jt,Ct)}validate(Ze){return r(Ze,this.defaultValue)}}function C(Et,Ze,St,jt){if(typeof Et=="undefined")return Ze;let Ct=parseInt(Et,10);return isNaN(Ct)?Ze:(Ct=Math.max(St,Ct),Ct=Math.min(jt,Ct),Ct|0)}class u extends s{static clampedInt(Ze,St,jt,Ct){return C(Ze,St,jt,Ct)}constructor(Ze,St,jt,Ct,_t,Kt=void 0){typeof Kt!="undefined"&&(Kt.type="integer",Kt.default=jt,Kt.minimum=Ct,Kt.maximum=_t),super(Ze,St,jt,Kt),this.minimum=Ct,this.maximum=_t}validate(Ze){return u.clampedInt(Ze,this.defaultValue,this.minimum,this.maximum)}}class _ extends s{static clamp(Ze,St,jt){return Ze<St?St:Ze>jt?jt:Ze}static float(Ze,St){if(typeof Ze=="number")return Ze;if(typeof Ze=="undefined")return St;const jt=parseFloat(Ze);return isNaN(jt)?St:jt}constructor(Ze,St,jt,Ct,_t){typeof _t!="undefined"&&(_t.type="number",_t.default=jt),super(Ze,St,jt,_t),this.validationFn=Ct}validate(Ze){return this.validationFn(_.float(Ze,this.defaultValue))}}class b extends s{static string(Ze,St){return typeof Ze!="string"?St:Ze}constructor(Ze,St,jt,Ct=void 0){typeof Ct!="undefined"&&(Ct.type="string",Ct.default=jt),super(Ze,St,jt,Ct)}validate(Ze){return b.string(Ze,this.defaultValue)}}function E(Et,Ze,St){return typeof Et!="string"||St.indexOf(Et)===-1?Ze:Et}class D extends s{constructor(Ze,St,jt,Ct,_t=void 0){typeof _t!="undefined"&&(_t.type="string",_t.enum=Ct,_t.default=jt),super(Ze,St,jt,_t),this._allowedValues=Ct}validate(Ze){return E(Ze,this.defaultValue,this._allowedValues)}}class w extends p{constructor(Ze,St,jt,Ct,_t,Kt,Zt=void 0){typeof Zt!="undefined"&&(Zt.type="string",Zt.enum=_t,Zt.default=Ct),super(Ze,St,jt,Zt),this._allowedValues=_t,this._convert=Kt}validate(Ze){return typeof Ze!="string"?this.defaultValue:this._allowedValues.indexOf(Ze)===-1?this.defaultValue:this._convert(Ze)}}function I(Et){switch(Et){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class M extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[c.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),c.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader"),c.NC("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:c.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Ze){switch(Ze){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ze,St,jt){return jt===0?Ze.accessibilitySupport:jt}}class K extends p{constructor(){const Ze={insertSpace:!0,ignoreEmptyLines:!0};super(20,"comments",Ze,{"editor.comments.insertSpace":{type:"boolean",default:Ze.insertSpace,description:c.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ze.ignoreEmptyLines,description:c.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{insertSpace:r(St.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(St.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function z(Et){switch(Et){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Q;(function(Et){Et[Et.Line=1]="Line",Et[Et.Block=2]="Block",Et[Et.Underline=3]="Underline",Et[Et.LineThin=4]="LineThin",Et[Et.BlockOutline=5]="BlockOutline",Et[Et.UnderlineThin=6]="UnderlineThin"})(Q||(Q={}));function Y(Et){switch(Et){case"line":return Q.Line;case"block":return Q.Block;case"underline":return Q.Underline;case"line-thin":return Q.LineThin;case"block-outline":return Q.BlockOutline;case"underline-thin":return Q.UnderlineThin}}class H extends f{constructor(){super(135)}compute(Ze,St,jt){const Ct=["monaco-editor"];return St.get(36)&&Ct.push(St.get(36)),Ze.extraEditorClassName&&Ct.push(Ze.extraEditorClassName),St.get(70)==="default"?Ct.push("mouse-default"):St.get(70)==="copy"&&Ct.push("mouse-copy"),St.get(105)&&Ct.push("showUnused"),St.get(133)&&Ct.push("showDeprecated"),Ct.join(" ")}}class P extends m{constructor(){super(34,"emptySelectionClipboard",!0,{description:c.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ze,St,jt){return jt&&Ze.emptySelectionClipboard}}class X extends p{constructor(){const Ze={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(38,"find",Ze,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ze.cursorMoveOnType,description:c.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ze.seedSearchStringFromSelection,enumDescriptions:[c.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),c.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),c.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:c.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ze.autoFindInSelection,enumDescriptions:[c.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),c.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),c.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:c.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ze.globalFindClipboard,description:c.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:F.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ze.addExtraSpaceOnTop,description:c.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ze.loop,description:c.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{cursorMoveOnType:r(St.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ze.seedSearchStringFromSelection=="boolean"?Ze.seedSearchStringFromSelection?"always":"never":E(St.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ze.autoFindInSelection=="boolean"?Ze.autoFindInSelection?"always":"never":E(St.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(St.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(St.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(St.loop,this.defaultValue.loop)}}}class q extends p{constructor(){super(48,"fontLigatures",q.OFF,{anyOf:[{type:"boolean",description:c.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:c.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:c.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ze){return typeof Ze=="undefined"?this.defaultValue:typeof Ze=="string"?Ze==="false"?q.OFF:Ze==="true"?q.ON:Ze:Boolean(Ze)?q.ON:q.OFF}}q.OFF='"liga" off, "calt" off',q.ON='"liga" on, "calt" on';class U extends p{constructor(){super(51,"fontVariations",U.OFF,{anyOf:[{type:"boolean",description:c.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:c.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:c.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Ze){return typeof Ze=="undefined"?this.defaultValue:typeof Ze=="string"?Ze==="false"?U.OFF:Ze==="true"?U.TRANSLATE:Ze:Boolean(Ze)?U.TRANSLATE:U.OFF}compute(Ze,St,jt){return Ze.fontInfo.fontVariationSettings}}U.OFF="normal",U.TRANSLATE="translate";class L extends f{constructor(){super(47)}compute(Ze,St,jt){return Ze.fontInfo}}class B extends s{constructor(){super(49,"fontSize",ut.fontSize,{type:"number",minimum:6,maximum:100,default:ut.fontSize,description:c.NC("fontSize","Controls the font size in pixels.")})}validate(Ze){const St=_.float(Ze,this.defaultValue);return St===0?ut.fontSize:_.clamp(St,6,100)}compute(Ze,St,jt){return Ze.fontInfo.fontSize}}class j extends p{constructor(){super(50,"fontWeight",ut.fontWeight,{anyOf:[{type:"number",minimum:j.MINIMUM_VALUE,maximum:j.MAXIMUM_VALUE,errorMessage:c.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:j.SUGGESTION_VALUES}],default:ut.fontWeight,description:c.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ze){return Ze==="normal"||Ze==="bold"?Ze:String(u.clampedInt(Ze,ut.fontWeight,j.MINIMUM_VALUE,j.MAXIMUM_VALUE))}}j.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],j.MINIMUM_VALUE=1,j.MAXIMUM_VALUE=1e3;class G extends p{constructor(){const Ze={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},St={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ze.multiple,enumDescriptions:[c.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),c.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),c.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},jt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(55,"gotoLocation",Ze,{"editor.gotoLocation.multiple":{deprecationMessage:c.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:c.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:c.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleDeclarations":Object.assign({description:c.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleImplementations":Object.assign({description:c.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},St),"editor.gotoLocation.multipleReferences":Object.assign({description:c.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},St),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ze.alternativeDefinitionCommand,enum:jt,description:c.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ze.alternativeTypeDefinitionCommand,enum:jt,description:c.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ze.alternativeDeclarationCommand,enum:jt,description:c.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ze.alternativeImplementationCommand,enum:jt,description:c.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ze.alternativeReferenceCommand,enum:jt,description:c.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ze){var St,jt,Ct,_t,Kt;if(!Ze||typeof Ze!="object")return this.defaultValue;const Zt=Ze;return{multiple:E(Zt.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(St=Zt.multipleDefinitions)!==null&&St!==void 0?St:E(Zt.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(jt=Zt.multipleTypeDefinitions)!==null&&jt!==void 0?jt:E(Zt.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Ct=Zt.multipleDeclarations)!==null&&Ct!==void 0?Ct:E(Zt.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(_t=Zt.multipleImplementations)!==null&&_t!==void 0?_t:E(Zt.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Kt=Zt.multipleReferences)!==null&&Kt!==void 0?Kt:E(Zt.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:b.string(Zt.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:b.string(Zt.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:b.string(Zt.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:b.string(Zt.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:b.string(Zt.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class y extends p{constructor(){const Ze={enabled:!0,delay:300,sticky:!0,above:!0};super(57,"hover",Ze,{"editor.hover.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ze.delay,minimum:0,maximum:1e4,description:c.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ze.sticky,description:c.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ze.above,description:c.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),delay:u.clampedInt(St.delay,this.defaultValue.delay,0,1e4),sticky:r(St.sticky,this.defaultValue.sticky),above:r(St.above,this.defaultValue.above)}}}class pe extends f{constructor(){super(138)}compute(Ze,St,jt){return pe.computeLayout(St,{memory:Ze.memory,outerWidth:Ze.outerWidth,outerHeight:Ze.outerHeight,isDominatedByLongLines:Ze.isDominatedByLongLines,lineHeight:Ze.fontInfo.lineHeight,viewLineCount:Ze.viewLineCount,lineNumbersDigitCount:Ze.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ze.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ze.fontInfo.maxDigitWidth,pixelRatio:Ze.pixelRatio})}static computeContainedMinimapLineCount(Ze){const St=Ze.height/Ze.lineHeight,jt=Math.floor(Ze.paddingTop/Ze.lineHeight);let Ct=Math.floor(Ze.paddingBottom/Ze.lineHeight);Ze.scrollBeyondLastLine&&(Ct=Math.max(Ct,St-1));const _t=(jt+Ze.viewLineCount+Ct)/(Ze.pixelRatio*Ze.height),Kt=Math.floor(Ze.viewLineCount/_t);return{typicalViewportLineCount:St,extraLinesBeforeFirstLine:jt,extraLinesBeyondLastLine:Ct,desiredRatio:_t,minimapLineCount:Kt}}static _computeMinimapLayout(Ze,St){const jt=Ze.outerWidth,Ct=Ze.outerHeight,_t=Ze.pixelRatio;if(!Ze.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(_t*Ct),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ct};const Kt=St.stableMinimapLayoutInput,Zt=Kt&&Ze.outerHeight===Kt.outerHeight&&Ze.lineHeight===Kt.lineHeight&&Ze.typicalHalfwidthCharacterWidth===Kt.typicalHalfwidthCharacterWidth&&Ze.pixelRatio===Kt.pixelRatio&&Ze.scrollBeyondLastLine===Kt.scrollBeyondLastLine&&Ze.paddingTop===Kt.paddingTop&&Ze.paddingBottom===Kt.paddingBottom&&Ze.minimap.enabled===Kt.minimap.enabled&&Ze.minimap.side===Kt.minimap.side&&Ze.minimap.size===Kt.minimap.size&&Ze.minimap.showSlider===Kt.minimap.showSlider&&Ze.minimap.renderCharacters===Kt.minimap.renderCharacters&&Ze.minimap.maxColumn===Kt.minimap.maxColumn&&Ze.minimap.scale===Kt.minimap.scale&&Ze.verticalScrollbarWidth===Kt.verticalScrollbarWidth&&Ze.isViewportWrapping===Kt.isViewportWrapping,li=Ze.lineHeight,ri=Ze.typicalHalfwidthCharacterWidth,Ui=Ze.scrollBeyondLastLine,on=Ze.minimap.renderCharacters;let Qi=_t>=2?Math.round(Ze.minimap.scale*2):Ze.minimap.scale;const un=Ze.minimap.maxColumn,Sn=Ze.minimap.size,bn=Ze.minimap.side,Cn=Ze.verticalScrollbarWidth,Fi=Ze.viewLineCount,On=Ze.remainingWidth,rn=Ze.isViewportWrapping,pn=on?2:3;let ui=Math.floor(_t*Ct);const Mt=ui/_t;let At=!1,Wt=!1,qt=pn*Qi,at=Qi/_t,Ve=1;if(Sn==="fill"||Sn==="fit"){const{typicalViewportLineCount:Vt,extraLinesBeforeFirstLine:Gt,extraLinesBeyondLastLine:ai,desiredRatio:Si,minimapLineCount:hi}=pe.computeContainedMinimapLineCount({viewLineCount:Fi,scrollBeyondLastLine:Ui,paddingTop:Ze.paddingTop,paddingBottom:Ze.paddingBottom,height:Ct,lineHeight:li,pixelRatio:_t});if(Fi/hi>1)At=!0,Wt=!0,Qi=1,qt=1,at=Qi/_t;else{let Ni=!1,yi=Qi+1;if(Sn==="fit"){const Zi=Math.ceil((Gt+Fi+ai)*qt);rn&&Zt&&On<=St.stableFitRemainingWidth?(Ni=!0,yi=St.stableFitMaxMinimapScale):Ni=Zi>ui}if(Sn==="fill"||Ni){At=!0;const Zi=Qi;qt=Math.min(li*_t,Math.max(1,Math.floor(1/Si))),rn&&Zt&&On<=St.stableFitRemainingWidth&&(yi=St.stableFitMaxMinimapScale),Qi=Math.min(yi,Math.max(1,Math.floor(qt/pn))),Qi>Zi&&(Ve=Math.min(2,Qi/Zi)),at=Qi/_t/Ve,ui=Math.ceil(Math.max(Vt,Gt+Fi+ai)*qt),rn?(St.stableMinimapLayoutInput=Ze,St.stableFitRemainingWidth=On,St.stableFitMaxMinimapScale=Qi):(St.stableMinimapLayoutInput=null,St.stableFitRemainingWidth=0)}}}const ze=Math.floor(un*at),Ae=Math.min(ze,Math.max(0,Math.floor((On-Cn-2)*at/(ri+at)))+N);let Ge=Math.floor(_t*Ae);const st=Ge/_t;Ge=Math.floor(Ge*Ve);const rt=on?1:2,xt=bn==="left"?0:jt-Ae-Cn;return{renderMinimap:rt,minimapLeft:xt,minimapWidth:Ae,minimapHeightIsEditorHeight:At,minimapIsSampling:Wt,minimapScale:Qi,minimapLineHeight:qt,minimapCanvasInnerWidth:Ge,minimapCanvasInnerHeight:ui,minimapCanvasOuterWidth:st,minimapCanvasOuterHeight:Mt}}static computeLayout(Ze,St){const jt=St.outerWidth|0,Ct=St.outerHeight|0,_t=St.lineHeight|0,Kt=St.lineNumbersDigitCount|0,Zt=St.typicalHalfwidthCharacterWidth,li=St.maxDigitWidth,ri=St.pixelRatio,Ui=St.viewLineCount,on=Ze.get(130),Qi=on==="inherit"?Ze.get(129):on,un=Qi==="inherit"?Ze.get(125):Qi,Sn=Ze.get(128),bn=St.isDominatedByLongLines,Cn=Ze.get(54),Fi=Ze.get(64).renderType!==0,On=Ze.get(65),rn=Ze.get(99),pn=Ze.get(80),ui=Ze.get(69),Mt=Ze.get(97),At=Mt.verticalScrollbarSize,Wt=Mt.verticalHasArrows,qt=Mt.arrowSize,at=Mt.horizontalScrollbarSize,Ve=Ze.get(40),ze=Ze.get(104)!=="never";let Ae=Ze.get(62);Ve&&ze&&(Ae+=16);let Ge=0;if(Fi){const Dn=Math.max(Kt,On);Ge=Math.round(Dn*li)}let st=0;Cn&&(st=_t);let rt=0,xt=rt+st,Vt=xt+Ge,Gt=Vt+Ae;const ai=jt-st-Ge-Ae;let Si=!1,hi=!1,Di=-1;Qi==="inherit"&&bn?(Si=!0,hi=!0):un==="on"||un==="bounded"?hi=!0:un==="wordWrapColumn"&&(Di=Sn);const Ni=pe._computeMinimapLayout({outerWidth:jt,outerHeight:Ct,lineHeight:_t,typicalHalfwidthCharacterWidth:Zt,pixelRatio:ri,scrollBeyondLastLine:rn,paddingTop:pn.top,paddingBottom:pn.bottom,minimap:ui,verticalScrollbarWidth:At,viewLineCount:Ui,remainingWidth:ai,isViewportWrapping:hi},St.memory||new O);Ni.renderMinimap!==0&&Ni.minimapLeft===0&&(rt+=Ni.minimapWidth,xt+=Ni.minimapWidth,Vt+=Ni.minimapWidth,Gt+=Ni.minimapWidth);const yi=ai-Ni.minimapWidth,Zi=Math.max(1,Math.floor((yi-At-2)/Zt)),Ri=Wt?qt:0;return hi&&(Di=Math.max(1,Zi),un==="bounded"&&(Di=Math.min(Di,Sn))),{width:jt,height:Ct,glyphMarginLeft:rt,glyphMarginWidth:st,lineNumbersLeft:xt,lineNumbersWidth:Ge,decorationsLeft:Vt,decorationsWidth:Ae,contentLeft:Gt,contentWidth:yi,minimap:Ni,viewportColumn:Zi,isWordWrapMinified:Si,isViewportWrapping:hi,wrappingColumn:Di,verticalScrollbarWidth:At,horizontalScrollbarHeight:at,overviewRuler:{top:Ri,width:At,height:Ct-2*Ri,right:0}}}}class ye extends p{constructor(){super(132,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[c.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),c.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:c.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Ze){return E(Ze,"simple",["simple","advanced"])}compute(Ze,St,jt){return St.get(2)===2?"advanced":jt}}class me extends p{constructor(){const Ze={enabled:!0};super(61,"lightbulb",Ze,{"editor.lightbulb.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(Ze){return!Ze||typeof Ze!="object"?this.defaultValue:{enabled:r(Ze.enabled,this.defaultValue.enabled)}}}class Se extends p{constructor(){const Ze={enabled:!1,maxLineCount:5};super(109,"stickyScroll",Ze,{"editor.stickyScroll.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("editor.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Ze.maxLineCount,minimum:1,maximum:10,description:c.NC("editor.stickyScroll.","Defines the maximum number of sticky lines to show.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),maxLineCount:u.clampedInt(St.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class _e extends p{constructor(){const Ze={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(134,"inlayHints",Ze,{"editor.inlayHints.enabled":{type:"string",default:Ze.enabled,description:c.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[c.NC("editor.inlayHints.on","Inlay hints are enabled"),c.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",F.dz?"Ctrl+Option":"Ctrl+Alt"),c.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",F.dz?"Ctrl+Option":"Ctrl+Alt"),c.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ze.fontSize,markdownDescription:c.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ze.fontFamily,markdownDescription:c.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ze.padding,description:c.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return typeof St.enabled=="boolean"&&(St.enabled=St.enabled?"on":"off"),{enabled:E(St.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(St.fontSize,this.defaultValue.fontSize,0,100),fontFamily:b.string(St.fontFamily,this.defaultValue.fontFamily),padding:r(St.padding,this.defaultValue.padding)}}}class he extends p{constructor(){super(62,"lineDecorationsWidth",10)}validate(Ze){return typeof Ze=="string"&&/^\d+(\.\d+)?ch$/.test(Ze)?-parseFloat(Ze.substring(0,Ze.length-2)):u.clampedInt(Ze,this.defaultValue,0,1e3)}compute(Ze,St,jt){return jt<0?u.clampedInt(-jt*Ze.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):jt}}class le extends _{constructor(){super(63,"lineHeight",ut.lineHeight,Ze=>_.clamp(Ze,0,150),{markdownDescription:c.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ze,St,jt){return Ze.fontInfo.lineHeight}}class se extends p{constructor(){const Ze={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(69,"minimap",Ze,{"editor.minimap.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ze.autohide,description:c.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[c.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),c.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),c.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ze.size,description:c.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ze.side,description:c.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ze.showSlider,description:c.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ze.scale,minimum:1,maximum:3,enum:[1,2,3],description:c.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ze.renderCharacters,description:c.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ze.maxColumn,description:c.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),autohide:r(St.autohide,this.defaultValue.autohide),size:E(St.size,this.defaultValue.size,["proportional","fill","fit"]),side:E(St.side,this.defaultValue.side,["right","left"]),showSlider:E(St.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(St.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(St.scale,1,1,3),maxColumn:u.clampedInt(St.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Re(Et){return Et==="ctrlCmd"?F.dz?"metaKey":"ctrlKey":"altKey"}class $e extends p{constructor(){super(80,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:c.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:c.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{top:u.clampedInt(St.top,0,0,1e3),bottom:u.clampedInt(St.bottom,0,0,1e3)}}}class je extends p{constructor(){const Ze={enabled:!0,cycle:!0};super(81,"parameterHints",Ze,{"editor.parameterHints.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ze.cycle,description:c.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),cycle:r(St.cycle,this.defaultValue.cycle)}}}class Ce extends f{constructor(){super(136)}compute(Ze,St,jt){return Ze.pixelRatio}}class J extends p{constructor(){const Ze={other:"on",comments:"off",strings:"off"},St=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[c.NC("on","Quick suggestions show inside the suggest widget"),c.NC("inline","Quick suggestions show as ghost text"),c.NC("off","Quick suggestions are disabled")]}];super(84,"quickSuggestions",Ze,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:St,default:Ze.strings,description:c.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:St,default:Ze.comments,description:c.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:St,default:Ze.other,description:c.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ze,markdownDescription:c.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ze}validate(Ze){if(typeof Ze=="boolean"){const ri=Ze?"on":"off";return{comments:ri,strings:ri,other:ri}}if(!Ze||typeof Ze!="object")return this.defaultValue;const{other:St,comments:jt,strings:Ct}=Ze,_t=["on","inline","off"];let Kt,Zt,li;return typeof St=="boolean"?Kt=St?"on":"off":Kt=E(St,this.defaultValue.other,_t),typeof jt=="boolean"?Zt=jt?"on":"off":Zt=E(jt,this.defaultValue.comments,_t),typeof Ct=="boolean"?li=Ct?"on":"off":li=E(Ct,this.defaultValue.strings,_t),{other:Kt,comments:Zt,strings:li}}}class ne extends p{constructor(){super(64,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[c.NC("lineNumbers.off","Line numbers are not rendered."),c.NC("lineNumbers.on","Line numbers are rendered as absolute number."),c.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),c.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:c.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ze){let St=this.defaultValue.renderType,jt=this.defaultValue.renderFn;return typeof Ze!="undefined"&&(typeof Ze=="function"?(St=4,jt=Ze):Ze==="interval"?St=3:Ze==="relative"?St=2:Ze==="on"?St=1:St=0),{renderType:St,renderFn:jt}}}function ae(Et){const Ze=Et.get(92);return Ze==="editable"?Et.get(86):Ze!=="on"}class xe extends p{constructor(){const Ze=[],St={type:"number",description:c.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(96,"rulers",Ze,{type:"array",items:{anyOf:[St,{type:["object"],properties:{column:St,color:{type:"string",description:c.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ze,description:c.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ze){if(Array.isArray(Ze)){const St=[];for(const jt of Ze)if(typeof jt=="number")St.push({column:u.clampedInt(jt,0,0,1e4),color:null});else if(jt&&typeof jt=="object"){const Ct=jt;St.push({column:u.clampedInt(Ct.column,0,0,1e4),color:Ct.color})}return St.sort((jt,Ct)=>jt.column-Ct.column),St}return this.defaultValue}}function Ke(Et,Ze){if(typeof Et!="string")return Ze;switch(Et){case"hidden":return 2;case"visible":return 3;default:return 1}}class ct extends p{constructor(){const Ze={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(97,"scrollbar",Ze,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),c.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),c.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:c.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),c.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),c.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:c.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ze.verticalScrollbarSize,description:c.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ze.horizontalScrollbarSize,description:c.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ze.scrollByPage,description:c.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze,jt=u.clampedInt(St.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ct=u.clampedInt(St.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(St.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ke(St.vertical,this.defaultValue.vertical),horizontal:Ke(St.horizontal,this.defaultValue.horizontal),useShadows:r(St.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(St.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(St.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(St.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(St.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:jt,horizontalSliderSize:u.clampedInt(St.horizontalSliderSize,jt,0,1e3),verticalScrollbarSize:Ct,verticalSliderSize:u.clampedInt(St.verticalSliderSize,Ct,0,1e3),scrollByPage:r(St.scrollByPage,this.defaultValue.scrollByPage)}}}const ot="inUntrustedWorkspace",dt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class et extends p{constructor(){const Ze={nonBasicASCII:ot,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:ot,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(119,"unicodeHighlight",Ze,{[dt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ot],default:Ze.nonBasicASCII,description:c.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[dt.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ze.invisibleCharacters,description:c.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[dt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ze.ambiguousCharacters,description:c.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[dt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ot],default:Ze.includeComments,description:c.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[dt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ot],default:Ze.includeStrings,description:c.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[dt.allowedCharacters]:{restricted:!0,type:"object",default:Ze.allowedCharacters,description:c.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[dt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ze.allowedLocales,description:c.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ze,St){let jt=!1;St.allowedCharacters&&Ze&&(S.fS(Ze.allowedCharacters,St.allowedCharacters)||(Ze=Object.assign(Object.assign({},Ze),{allowedCharacters:St.allowedCharacters}),jt=!0)),St.allowedLocales&&Ze&&(S.fS(Ze.allowedLocales,St.allowedLocales)||(Ze=Object.assign(Object.assign({},Ze),{allowedLocales:St.allowedLocales}),jt=!0));const Ct=super.applyUpdate(Ze,St);return jt?new a(Ct.newValue,!0):Ct}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{nonBasicASCII:ge(St.nonBasicASCII,ot,[!0,!1,ot]),invisibleCharacters:r(St.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(St.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ge(St.includeComments,ot,[!0,!1,ot]),includeStrings:ge(St.includeStrings,ot,[!0,!1,ot]),allowedCharacters:this.validateBooleanMap(Ze.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ze.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ze,St){if(typeof Ze!="object"||!Ze)return St;const jt={};for(const[Ct,_t]of Object.entries(Ze))_t===!0&&(jt[Ct]=!0);return jt}}class Fe extends p{constructor(){const Ze={enabled:!0,mode:"subwordSmart",showToolbar:"onHover"};super(59,"inlineSuggest",Ze,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ze.enabled,description:c.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Ze.showToolbar,enum:["always","onHover"],enumDescriptions:[c.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),c.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:c.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),mode:E(St.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:E(St.showToolbar,this.defaultValue.showToolbar,["always","onHover"])}}}class Le extends p{constructor(){const Ze={enabled:$.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:$.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Ze,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ze.enabled,markdownDescription:c.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ze.independentColorPoolPerBracketType,description:c.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{enabled:r(St.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(St.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Te extends p{constructor(){const Ze={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ze,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),c.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),c.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ze.bracketPairs,description:c.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),c.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),c.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ze.bracketPairsHorizontal,description:c.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ze.highlightActiveBracketPair,description:c.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ze.indentation,description:c.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[c.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),c.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),c.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ze.highlightActiveIndentation,description:c.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{bracketPairs:ge(St.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ge(St.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(St.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(St.indentation,this.defaultValue.indentation),highlightActiveIndentation:ge(St.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ge(Et,Ze,St){const jt=St.indexOf(Et);return jt===-1?Ze:St[jt]}class ve extends p{constructor(){const Ze={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(112,"suggest",Ze,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[c.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),c.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ze.insertMode,description:c.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ze.filterGraceful,description:c.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ze.localityBonus,description:c.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ze.shareSuggestSelections,markdownDescription:c.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[c.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),c.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),c.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),c.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Ze.selectionMode,markdownDescription:c.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ze.snippetsPreventQuickSuggestions,description:c.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ze.showIcons,description:c.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ze.showStatusBar,description:c.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ze.preview,description:c.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ze.showInlineDetails,description:c.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:c.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:c.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:c.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ze){if(!Ze||typeof Ze!="object")return this.defaultValue;const St=Ze;return{insertMode:E(St.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(St.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(St.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(St.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(St.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:E(St.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:r(St.showIcons,this.defaultValue.showIcons),showStatusBar:r(St.showStatusBar,this.defaultValue.showStatusBar),preview:r(St.preview,this.defaultValue.preview),previewMode:E(St.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(St.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(St.showMethods,this.defaultValue.showMethods),showFunctions:r(St.showFunctions,this.defaultValue.showFunctions),showConstructors:r(St.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(St.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(St.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(St.showFields,this.defaultValue.showFields),showVariables:r(St.showVariables,this.defaultValue.showVariables),showClasses:r(St.showClasses,this.defaultValue.showClasses),showStructs:r(St.showStructs,this.defaultValue.showStructs),showInterfaces:r(St.showInterfaces,this.defaultValue.showInterfaces),showModules:r(St.showModules,this.defaultValue.showModules),showProperties:r(St.showProperties,this.defaultValue.showProperties),showEvents:r(St.showEvents,this.defaultValue.showEvents),showOperators:r(St.showOperators,this.defaultValue.showOperators),showUnits:r(St.showUnits,this.defaultValue.showUnits),showValues:r(St.showValues,this.defaultValue.showValues),showConstants:r(St.showConstants,this.defaultValue.showConstants),showEnums:r(St.showEnums,this.defaultValue.showEnums),showEnumMembers:r(St.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(St.showKeywords,this.defaultValue.showKeywords),showWords:r(St.showWords,this.defaultValue.showWords),showColors:r(St.showColors,this.defaultValue.showColors),showFiles:r(St.showFiles,this.defaultValue.showFiles),showReferences:r(St.showReferences,this.defaultValue.showReferences),showFolders:r(St.showFolders,this.defaultValue.showFolders),showTypeParameters:r(St.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(St.showSnippets,this.defaultValue.showSnippets),showUsers:r(St.showUsers,this.defaultValue.showUsers),showIssues:r(St.showIssues,this.defaultValue.showIssues)}}}class we extends p{constructor(){super(107,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:c.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ze){return!Ze||typeof Ze!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(Ze.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Oe extends p{constructor(){super(131,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[c.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),c.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),c.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),c.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:c.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Ze){switch(Ze){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Ze,St,jt){return St.get(2)===2?0:jt}}class He extends f{constructor(){super(139)}compute(Ze,St,jt){const Ct=St.get(138);return{isDominatedByLongLines:Ze.isDominatedByLongLines,isWordWrapMinified:Ct.isWordWrapMinified,isViewportWrapping:Ct.isViewportWrapping,wrappingColumn:Ct.wrappingColumn}}}class mt extends p{constructor(){const Ze={enabled:!0};super(33,"dropIntoEditor",Ze,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ze.enabled,markdownDescription:c.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Ze){return!Ze||typeof Ze!="object"?this.defaultValue:{enabled:r(Ze.enabled,this.defaultValue.enabled)}}}const bt="Consolas, 'Courier New', monospace",kt="Menlo, Monaco, 'Courier New', monospace",Ut="'Droid Sans Mono', 'monospace', monospace",ut={fontFamily:F.dz?kt:F.IJ?Ut:bt,fontWeight:"normal",fontSize:F.dz?12:14,lineHeight:0,letterSpacing:0},Dt=[];function ft(Et){return Dt[Et.id]=Et,Et}const Ft={acceptSuggestionOnCommitCharacter:ft(new m(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:c.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ft(new D(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",c.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:c.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ft(new M),accessibilityPageSize:ft(new u(3,"accessibilityPageSize",10,1,1073741824,{description:c.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:ft(new b(4,"ariaLabel",c.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ft(new D(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),c.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:c.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ft(new D(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",c.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:c.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ft(new D(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",c.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:c.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ft(new D(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),c.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:c.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ft(new w(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],I,{enumDescriptions:[c.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),c.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),c.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),c.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),c.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:c.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ft(new m(10,"automaticLayout",!1)),autoSurround:ft(new D(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[c.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),c.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),c.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:c.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ft(new Le),bracketPairGuides:ft(new Te),stickyTabStops:ft(new m(110,"stickyTabStops",!1,{description:c.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ft(new m(14,"codeLens",!0,{description:c.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ft(new b(15,"codeLensFontFamily","",{description:c.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ft(new u(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:c.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ft(new m(17,"colorDecorators",!0,{description:c.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorsLimit:ft(new u(18,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:c.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:ft(new m(19,"columnSelection",!1,{description:c.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ft(new K),contextmenu:ft(new m(21,"contextmenu",!0)),copyWithSyntaxHighlighting:ft(new m(22,"copyWithSyntaxHighlighting",!0,{description:c.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ft(new w(23,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],z,{description:c.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ft(new D(24,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[c.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),c.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),c.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:c.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ft(new w(25,"cursorStyle",Q.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],Y,{description:c.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ft(new u(26,"cursorSurroundingLines",0,0,1073741824,{description:c.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ft(new D(27,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[c.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),c.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:c.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ft(new u(28,"cursorWidth",0,0,1073741824,{markdownDescription:c.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ft(new m(29,"disableLayerHinting",!1)),disableMonospaceOptimizations:ft(new m(30,"disableMonospaceOptimizations",!1)),domReadOnly:ft(new m(31,"domReadOnly",!1)),dragAndDrop:ft(new m(32,"dragAndDrop",!0,{description:c.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ft(new P),dropIntoEditor:ft(new mt),stickyScroll:ft(new Se),experimentalWhitespaceRendering:ft(new D(35,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[c.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),c.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),c.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:c.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:ft(new b(36,"extraEditorClassName","")),fastScrollSensitivity:ft(new _(37,"fastScrollSensitivity",5,Et=>Et<=0?5:Et,{markdownDescription:c.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ft(new X),fixedOverflowWidgets:ft(new m(39,"fixedOverflowWidgets",!1)),folding:ft(new m(40,"folding",!0,{description:c.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ft(new D(41,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[c.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),c.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:c.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ft(new m(42,"foldingHighlight",!0,{description:c.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ft(new m(43,"foldingImportsByDefault",!1,{description:c.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ft(new u(44,"foldingMaximumRegions",5e3,10,65e3,{description:c.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ft(new m(45,"unfoldOnClickAfterEndOfLine",!1,{description:c.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ft(new b(46,"fontFamily",ut.fontFamily,{description:c.NC("fontFamily","Controls the font family.")})),fontInfo:ft(new L),fontLigatures2:ft(new q),fontSize:ft(new B),fontWeight:ft(new j),fontVariations:ft(new U),formatOnPaste:ft(new m(52,"formatOnPaste",!1,{description:c.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ft(new m(53,"formatOnType",!1,{description:c.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ft(new m(54,"glyphMargin",!0,{description:c.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ft(new G),hideCursorInOverviewRuler:ft(new m(56,"hideCursorInOverviewRuler",!1,{description:c.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ft(new y),inDiffEditor:ft(new m(58,"inDiffEditor",!1)),letterSpacing:ft(new _(60,"letterSpacing",ut.letterSpacing,Et=>_.clamp(Et,-5,20),{description:c.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ft(new me),lineDecorationsWidth:ft(new he),lineHeight:ft(new le),lineNumbers:ft(new ne),lineNumbersMinChars:ft(new u(65,"lineNumbersMinChars",5,1,300)),linkedEditing:ft(new m(66,"linkedEditing",!1,{description:c.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:ft(new m(67,"links",!0,{description:c.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ft(new D(68,"matchBrackets","always",["always","near","never"],{description:c.NC("matchBrackets","Highlight matching brackets.")})),minimap:ft(new se),mouseStyle:ft(new D(70,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ft(new _(71,"mouseWheelScrollSensitivity",1,Et=>Et===0?1:Et,{markdownDescription:c.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ft(new m(72,"mouseWheelZoom",!1,{markdownDescription:c.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ft(new m(73,"multiCursorMergeOverlapping",!0,{description:c.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ft(new w(74,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Re,{markdownEnumDescriptions:[c.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),c.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:c.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ft(new D(75,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[c.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),c.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:c.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:ft(new u(76,"multiCursorLimit",1e4,1,1e5,{markdownDescription:c.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:ft(new m(77,"occurrencesHighlight",!0,{description:c.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ft(new m(78,"overviewRulerBorder",!0,{description:c.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ft(new u(79,"overviewRulerLanes",3,0,3)),padding:ft(new $e),parameterHints:ft(new je),peekWidgetDefaultFocus:ft(new D(82,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[c.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),c.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:c.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ft(new m(83,"definitionLinkOpensInPeek",!1,{description:c.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ft(new J),quickSuggestionsDelay:ft(new u(85,"quickSuggestionsDelay",10,0,1073741824,{description:c.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ft(new m(86,"readOnly",!1)),renameOnType:ft(new m(87,"renameOnType",!1,{description:c.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:c.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ft(new m(88,"renderControlCharacters",!0,{description:c.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ft(new D(89,"renderFinalNewline",F.IJ?"dimmed":"on",["off","on","dimmed"],{description:c.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ft(new D(90,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",c.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:c.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ft(new m(91,"renderLineHighlightOnlyWhenFocus",!1,{description:c.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ft(new D(92,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ft(new D(93,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",c.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),c.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),c.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:c.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ft(new u(94,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ft(new m(95,"roundedSelection",!0,{description:c.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ft(new xe),scrollbar:ft(new ct),scrollBeyondLastColumn:ft(new u(98,"scrollBeyondLastColumn",4,0,1073741824,{description:c.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ft(new m(99,"scrollBeyondLastLine",!0,{description:c.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ft(new m(100,"scrollPredominantAxis",!0,{description:c.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ft(new m(101,"selectionClipboard",!0,{description:c.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:F.IJ})),selectionHighlight:ft(new m(102,"selectionHighlight",!0,{description:c.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ft(new m(103,"selectOnLineNumbers",!0)),showFoldingControls:ft(new D(104,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[c.NC("showFoldingControls.always","Always show the folding controls."),c.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),c.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:c.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ft(new m(105,"showUnused",!0,{description:c.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:ft(new m(133,"showDeprecated",!0,{description:c.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ft(new _e),snippetSuggestions:ft(new D(106,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[c.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),c.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),c.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),c.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:c.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ft(new we),smoothScrolling:ft(new m(108,"smoothScrolling",!1,{description:c.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ft(new u(111,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ft(new ve),inlineSuggest:ft(new Fe),suggestFontSize:ft(new u(113,"suggestFontSize",0,0,1e3,{markdownDescription:c.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:ft(new u(114,"suggestLineHeight",0,0,1e3,{markdownDescription:c.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ft(new m(115,"suggestOnTriggerCharacters",!0,{description:c.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ft(new D(116,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[c.NC("suggestSelection.first","Always select the first suggestion."),c.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),c.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:c.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ft(new D(117,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[c.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),c.NC("tabCompletion.off","Disable tab completions."),c.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:c.NC("tabCompletion","Enables tab completions.")})),tabIndex:ft(new u(118,"tabIndex",0,-1,1073741824)),unicodeHighlight:ft(new et),unusualLineTerminators:ft(new D(120,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[c.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),c.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),c.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:c.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ft(new m(121,"useShadowDOM",!0)),useTabStops:ft(new m(122,"useTabStops",!0,{description:c.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:ft(new D(123,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[c.NC("wordBreak.normal","Use the default line break rule."),c.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:c.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:ft(new b(124,"wordSeparators",g.vu,{description:c.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ft(new D(125,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[c.NC("wordWrap.off","Lines will never wrap."),c.NC("wordWrap.on","Lines will wrap at the viewport width."),c.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),c.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:c.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ft(new b(126,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ft(new b(127,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ft(new u(128,"wordWrapColumn",80,1,1073741824,{markdownDescription:c.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ft(new D(129,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ft(new D(130,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ft(new H),pixelRatio:ft(new Ce),tabFocusMode:ft(new m(137,"tabFocusMode",!1,{markdownDescription:c.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:ft(new pe),wrappingInfo:ft(new He),wrappingIndent:ft(new Oe),wrappingStrategy:ft(new ye)}},79426:function(vt,be,i){"use strict";i.d(be,{C:function(){return F}});var c=i(94162);const F=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new c.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(g){g=Math.min(Math.max(-5,g),20),this._zoomLevel!==g&&(this._zoomLevel=g,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},21858:function(vt,be,i){"use strict";i.d(be,{E4:function(){return $},pR:function(){return x}});var c=i(41420),F=i(32052),g=i(79426);const A=c.dz?1.5:1.35,S=8;class ${static createFromValidatedSettings(p,a,d){const f=p.get(46),s=p.get(50),r=p.get(49),m=p.get(48),C=p.get(51),u=p.get(63),_=p.get(60);return $._create(f,s,r,m,C,u,_,a,d)}static _create(p,a,d,f,s,r,m,C,u){r===0?r=A*d:r<S&&(r=r*d),r=Math.round(r),r<S&&(r=S);const _=1+(u?0:g.C.getZoomLevel()*.1);return d*=_,r*=_,s===F.Bo.TRANSLATE&&(a==="normal"||a==="bold"?s=F.Bo.OFF:(s=`'wght' ${parseInt(a,10)}`,a="normal")),new $({pixelRatio:C,fontFamily:p,fontWeight:a,fontSize:d,fontFeatureSettings:f,fontVariationSettings:s,lineHeight:r,letterSpacing:m})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=p.lineHeight|0,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=F.hL.fontFamily,a=$._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${a}, ${p}`:a}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}const N=2;class x extends ${constructor(p,a){super(p),this._editorStylingBrand=void 0,this.version=N,this.isTrusted=a,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}},79563:function(vt,be,i){"use strict";i.d(be,{N:function(){return F},q:function(){return g}});var c=i(28161);class F{constructor(S){const $=(0,c.K)(S);this._defaultValue=$,this._asciiMap=F._createAsciiMap($),this._map=new Map}static _createAsciiMap(S){const $=new Uint8Array(256);return $.fill(S),$}set(S,$){const N=(0,c.K)($);S>=0&&S<256?this._asciiMap[S]=N:this._map.set(S,N)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class g{constructor(){this._actual=new F(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}},90863:function(vt,be,i){"use strict";i.d(be,{i:function(){return F}});var c=i(30613);class F{static _nextVisibleColumn(A,S,$){return A===9?F.nextRenderTabStop(S,$):c.K7(A)||c.C8(A)?S+2:S+1}static visibleColumnFromColumn(A,S,$){const N=Math.min(S-1,A.length),x=A.substring(0,N),O=new c.W1(x);let p=0;for(;!O.eol();){const a=c.ZH(x,N,O.offset);O.nextGraphemeLength(),p=this._nextVisibleColumn(a,p,$)}return p}static columnFromVisibleColumn(A,S,$){if(S<=0)return 1;const N=A.length,x=new c.W1(A);let O=0,p=1;for(;!x.eol();){const a=c.ZH(A,N,x.offset);x.nextGraphemeLength();const d=this._nextVisibleColumn(a,O,$),f=x.offset+1;if(d>=S){const s=S-O;return d-S<s?f:p}O=d,p=f}return N+1}static nextRenderTabStop(A,S){return A+S-A%S}static nextIndentTabStop(A,S){return A+S-A%S}static prevRenderTabStop(A,S){return Math.max(0,A-1-(A-1)%S)}static prevIndentTabStop(A,S){return Math.max(0,A-1-(A-1)%S)}}},24222:function(vt,be,i){"use strict";i.d(be,{h:function(){return F}});var c=i(22445);class F{static insert(A,S){return{range:new c.e(A.lineNumber,A.column,A.lineNumber,A.column),text:S,forceMoveMarkers:!0}}static delete(A){return{range:A,text:null}}static replace(A,S){return{range:A,text:S}}static replaceMove(A,S){return{range:A,text:S,forceMoveMarkers:!0}}}},34467:function(vt,be,i){"use strict";i.d(be,{Bj:function(){return _},CE:function(){return y},DS:function(){return le},HV:function(){return ae},Jn:function(){return Re},Kh:function(){return S},L7:function(){return ne},Mm:function(){return $},Qb:function(){return je},Re:function(){return L},To:function(){return J},UP:function(){return pe},Vs:function(){return G},YF:function(){return $e},Ym:function(){return r},dI:function(){return f},eS:function(){return B},e_:function(){return M},f9:function(){return xe},fY:function(){return d},hw:function(){return m},lK:function(){return U},lS:function(){return se},m$:function(){return he},m1:function(){return me},m3:function(){return Ce},m9:function(){return q},n0:function(){return a},oV:function(){return _e},r0:function(){return ye},tR:function(){return s},ts:function(){return Se},zJ:function(){return j},zu:function(){return Q},zw:function(){return I}});var c=i(15779),F=i(87799),g=i(78382),A=i(901);const S=(0,g.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),$=(0,g.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:g.lRK},c.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),N=(0,g.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},c.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,g.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:g.xL1,hcLight:g.xL1},c.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),O=(0,g.P6G)("editor.symbolHighlightBackground",{dark:g.MUv,light:g.MUv,hcDark:null,hcLight:null},c.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,g.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:g.xL1,hcLight:g.xL1},c.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),a=(0,g.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:F.Il.black,hcDark:F.Il.white,hcLight:"#0F4A85"},c.NC("caret","Color of the editor cursor.")),d=(0,g.P6G)("editorCursor.background",null,c.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),f=(0,g.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},c.NC("editorWhitespaces","Color of whitespace characters in the editor.")),s=(0,g.P6G)("editorIndentGuide.background",{dark:f,light:f,hcDark:f,hcLight:f},c.NC("editorIndentGuides","Color of the editor indentation guides.")),r=(0,g.P6G)("editorIndentGuide.activeBackground",{dark:f,light:f,hcDark:f,hcLight:f},c.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),m=(0,g.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:F.Il.white,hcLight:"#292929"},c.NC("editorLineNumbers","Color of editor line numbers.")),C=(0,g.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:g.xL1,hcLight:g.xL1},c.NC("editorActiveLineNumber","Color of editor active line number"),!1,c.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),u=(0,g.P6G)("editorLineNumber.activeForeground",{dark:C,light:C,hcDark:C,hcLight:C},c.NC("editorActiveLineNumber","Color of editor active line number")),_=(0,g.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),b=(0,g.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:F.Il.lightgrey,hcDark:F.Il.white,hcLight:"#292929"},c.NC("editorRuler","Color of the editor rulers.")),E=(0,g.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},c.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),D=(0,g.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},c.NC("editorBracketMatchBackground","Background color behind matching brackets")),w=(0,g.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:g.lRK,hcLight:g.lRK},c.NC("editorBracketMatchBorder","Color for matching brackets boxes")),I=(0,g.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},c.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),M=(0,g.P6G)("editorOverviewRuler.background",null,c.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),K=(0,g.P6G)("editorGutter.background",{dark:g.cvW,light:g.cvW,hcDark:g.cvW,hcLight:g.cvW},c.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),z=(0,g.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:F.Il.fromHex("#fff").transparent(.8),hcLight:g.lRK},c.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Q=(0,g.P6G)("editorUnnecessaryCode.opacity",{dark:F.Il.fromHex("#000a"),light:F.Il.fromHex("#0007"),hcDark:null,hcLight:null},c.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),Y=(0,g.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:F.Il.fromHex("#fff").transparent(.8),hcLight:F.Il.fromHex("#292929").transparent(.8)},c.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),H=(0,g.P6G)("editorGhostText.foreground",{dark:F.Il.fromHex("#ffffff56"),light:F.Il.fromHex("#0007"),hcDark:null,hcLight:null},c.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),P=(0,g.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},c.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),X=new F.Il(new F.VS(0,122,204,.6)),q=(0,g.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:X,light:X,hcDark:X,hcLight:X},c.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),U=(0,g.P6G)("editorOverviewRuler.errorForeground",{dark:new F.Il(new F.VS(255,18,18,.7)),light:new F.Il(new F.VS(255,18,18,.7)),hcDark:new F.Il(new F.VS(255,50,50,1)),hcLight:"#B5200D"},c.NC("overviewRuleError","Overview ruler marker color for errors.")),L=(0,g.P6G)("editorOverviewRuler.warningForeground",{dark:g.uoC,light:g.uoC,hcDark:g.pW3,hcLight:g.pW3},c.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),B=(0,g.P6G)("editorOverviewRuler.infoForeground",{dark:g.c63,light:g.c63,hcDark:g.T83,hcLight:g.T83},c.NC("overviewRuleInfo","Overview ruler marker color for infos.")),j=(0,g.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},c.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),G=(0,g.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},c.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),y=(0,g.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},c.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),pe=(0,g.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),ye=(0,g.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),me=(0,g.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Se=(0,g.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new F.Il(new F.VS(255,18,18,.8)),light:new F.Il(new F.VS(255,18,18,.8)),hcDark:new F.Il(new F.VS(255,50,50,1)),hcLight:""},c.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),_e=(0,g.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),he=(0,g.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),le=(0,g.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),se=(0,g.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Re=(0,g.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),$e=(0,g.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),je=(0,g.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ce=(0,g.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),J=(0,g.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ne=(0,g.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ae=(0,g.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),xe=(0,g.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},c.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Ke=(0,g.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},c.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),ct=(0,g.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},c.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,A.Ic)((ot,dt)=>{const et=ot.getColor(g.cvW),Fe=ot.getColor(S),Le=Fe&&!Fe.isTransparent()?Fe:et;Le&&dt.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Le}; }`)})},93976:function(vt,be,i){"use strict";i.d(be,{Q:function(){return c}});function c(F){let g=0,A=0,S=0,$=0;for(let N=0,x=F.length;N<x;N++){const O=F.charCodeAt(N);O===13?(g===0&&(A=N),g++,N+1<x&&F.charCodeAt(N+1)===10?($|=2,N++):$|=3,S=N+1):O===10&&($|=1,g===0&&(A=N),g++,S=N+1)}return g===0&&(A=F.length),[g,A,F.length-S,$]}},39919:function(vt,be,i){"use strict";i.d(be,{x:function(){return A}});var c=i(30613),F=i(90863);function g(S,$,N){let x=0;for(let p=0;p<S.length;p++)S.charAt(p)==="	"?x=F.i.nextIndentTabStop(x,$):x++;let O="";if(!N){const p=Math.floor(x/$);x=x%$;for(let a=0;a<p;a++)O+="	"}for(let p=0;p<x;p++)O+=" ";return O}function A(S,$,N){let x=c.LC(S);return x===-1&&(x=S.length),g(S.substring(0,x),$,N)+S.substring(x)}},43976:function(vt,be,i){"use strict";i.d(be,{L:function(){return c}});class c{constructor(g,A){this.lineNumber=g,this.column=A}with(g=this.lineNumber,A=this.column){return g===this.lineNumber&&A===this.column?this:new c(g,A)}delta(g=0,A=0){return this.with(this.lineNumber+g,this.column+A)}equals(g){return c.equals(this,g)}static equals(g,A){return!g&&!A?!0:!!g&&!!A&&g.lineNumber===A.lineNumber&&g.column===A.column}isBefore(g){return c.isBefore(this,g)}static isBefore(g,A){return g.lineNumber<A.lineNumber?!0:A.lineNumber<g.lineNumber?!1:g.column<A.column}isBeforeOrEqual(g){return c.isBeforeOrEqual(this,g)}static isBeforeOrEqual(g,A){return g.lineNumber<A.lineNumber?!0:A.lineNumber<g.lineNumber?!1:g.column<=A.column}static compare(g,A){const S=g.lineNumber|0,$=A.lineNumber|0;if(S===$){const N=g.column|0,x=A.column|0;return N-x}return S-$}clone(){return new c(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(g){return new c(g.lineNumber,g.column)}static isIPosition(g){return g&&typeof g.lineNumber=="number"&&typeof g.column=="number"}}},22445:function(vt,be,i){"use strict";i.d(be,{e:function(){return F}});var c=i(43976);class F{constructor(A,S,$,N){A>$||A===$&&S>N?(this.startLineNumber=$,this.startColumn=N,this.endLineNumber=A,this.endColumn=S):(this.startLineNumber=A,this.startColumn=S,this.endLineNumber=$,this.endColumn=N)}isEmpty(){return F.isEmpty(this)}static isEmpty(A){return A.startLineNumber===A.endLineNumber&&A.startColumn===A.endColumn}containsPosition(A){return F.containsPosition(this,A)}static containsPosition(A,S){return!(S.lineNumber<A.startLineNumber||S.lineNumber>A.endLineNumber||S.lineNumber===A.startLineNumber&&S.column<A.startColumn||S.lineNumber===A.endLineNumber&&S.column>A.endColumn)}static strictContainsPosition(A,S){return!(S.lineNumber<A.startLineNumber||S.lineNumber>A.endLineNumber||S.lineNumber===A.startLineNumber&&S.column<=A.startColumn||S.lineNumber===A.endLineNumber&&S.column>=A.endColumn)}containsRange(A){return F.containsRange(this,A)}static containsRange(A,S){return!(S.startLineNumber<A.startLineNumber||S.endLineNumber<A.startLineNumber||S.startLineNumber>A.endLineNumber||S.endLineNumber>A.endLineNumber||S.startLineNumber===A.startLineNumber&&S.startColumn<A.startColumn||S.endLineNumber===A.endLineNumber&&S.endColumn>A.endColumn)}strictContainsRange(A){return F.strictContainsRange(this,A)}static strictContainsRange(A,S){return!(S.startLineNumber<A.startLineNumber||S.endLineNumber<A.startLineNumber||S.startLineNumber>A.endLineNumber||S.endLineNumber>A.endLineNumber||S.startLineNumber===A.startLineNumber&&S.startColumn<=A.startColumn||S.endLineNumber===A.endLineNumber&&S.endColumn>=A.endColumn)}plusRange(A){return F.plusRange(this,A)}static plusRange(A,S){let $,N,x,O;return S.startLineNumber<A.startLineNumber?($=S.startLineNumber,N=S.startColumn):S.startLineNumber===A.startLineNumber?($=S.startLineNumber,N=Math.min(S.startColumn,A.startColumn)):($=A.startLineNumber,N=A.startColumn),S.endLineNumber>A.endLineNumber?(x=S.endLineNumber,O=S.endColumn):S.endLineNumber===A.endLineNumber?(x=S.endLineNumber,O=Math.max(S.endColumn,A.endColumn)):(x=A.endLineNumber,O=A.endColumn),new F($,N,x,O)}intersectRanges(A){return F.intersectRanges(this,A)}static intersectRanges(A,S){let $=A.startLineNumber,N=A.startColumn,x=A.endLineNumber,O=A.endColumn;const p=S.startLineNumber,a=S.startColumn,d=S.endLineNumber,f=S.endColumn;return $<p?($=p,N=a):$===p&&(N=Math.max(N,a)),x>d?(x=d,O=f):x===d&&(O=Math.min(O,f)),$>x||$===x&&N>O?null:new F($,N,x,O)}equalsRange(A){return F.equalsRange(this,A)}static equalsRange(A,S){return!A&&!S?!0:!!A&&!!S&&A.startLineNumber===S.startLineNumber&&A.startColumn===S.startColumn&&A.endLineNumber===S.endLineNumber&&A.endColumn===S.endColumn}getEndPosition(){return F.getEndPosition(this)}static getEndPosition(A){return new c.L(A.endLineNumber,A.endColumn)}getStartPosition(){return F.getStartPosition(this)}static getStartPosition(A){return new c.L(A.startLineNumber,A.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(A,S){return new F(this.startLineNumber,this.startColumn,A,S)}setStartPosition(A,S){return new F(A,S,this.endLineNumber,this.endColumn)}collapseToStart(){return F.collapseToStart(this)}static collapseToStart(A){return new F(A.startLineNumber,A.startColumn,A.startLineNumber,A.startColumn)}collapseToEnd(){return F.collapseToEnd(this)}static collapseToEnd(A){return new F(A.endLineNumber,A.endColumn,A.endLineNumber,A.endColumn)}delta(A){return new F(this.startLineNumber+A,this.startColumn,this.endLineNumber+A,this.endColumn)}static fromPositions(A,S=A){return new F(A.lineNumber,A.column,S.lineNumber,S.column)}static lift(A){return A?new F(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn):null}static isIRange(A){return A&&typeof A.startLineNumber=="number"&&typeof A.startColumn=="number"&&typeof A.endLineNumber=="number"&&typeof A.endColumn=="number"}static areIntersectingOrTouching(A,S){return!(A.endLineNumber<S.startLineNumber||A.endLineNumber===S.startLineNumber&&A.endColumn<S.startColumn||S.endLineNumber<A.startLineNumber||S.endLineNumber===A.startLineNumber&&S.endColumn<A.startColumn)}static areIntersecting(A,S){return!(A.endLineNumber<S.startLineNumber||A.endLineNumber===S.startLineNumber&&A.endColumn<=S.startColumn||S.endLineNumber<A.startLineNumber||S.endLineNumber===A.startLineNumber&&S.endColumn<=A.startColumn)}static compareRangesUsingStarts(A,S){if(A&&S){const x=A.startLineNumber|0,O=S.startLineNumber|0;if(x===O){const p=A.startColumn|0,a=S.startColumn|0;if(p===a){const d=A.endLineNumber|0,f=S.endLineNumber|0;if(d===f){const s=A.endColumn|0,r=S.endColumn|0;return s-r}return d-f}return p-a}return x-O}return(A?1:0)-(S?1:0)}static compareRangesUsingEnds(A,S){return A.endLineNumber===S.endLineNumber?A.endColumn===S.endColumn?A.startLineNumber===S.startLineNumber?A.startColumn-S.startColumn:A.startLineNumber-S.startLineNumber:A.endColumn-S.endColumn:A.endLineNumber-S.endLineNumber}static spansMultipleLines(A){return A.endLineNumber>A.startLineNumber}toJSON(){return this}}},15489:function(vt,be,i){"use strict";i.d(be,{Y:function(){return g}});var c=i(43976),F=i(22445);class g extends F.e{constructor(S,$,N,x){super(S,$,N,x),this.selectionStartLineNumber=S,this.selectionStartColumn=$,this.positionLineNumber=N,this.positionColumn=x}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return g.selectionsEqual(this,S)}static selectionsEqual(S,$){return S.selectionStartLineNumber===$.selectionStartLineNumber&&S.selectionStartColumn===$.selectionStartColumn&&S.positionLineNumber===$.positionLineNumber&&S.positionColumn===$.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,$){return this.getDirection()===0?new g(this.startLineNumber,this.startColumn,S,$):new g(S,$,this.startLineNumber,this.startColumn)}getPosition(){return new c.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new c.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,$){return this.getDirection()===0?new g(S,$,this.endLineNumber,this.endColumn):new g(this.endLineNumber,this.endColumn,S,$)}static fromPositions(S,$=S){return new g(S.lineNumber,S.column,$.lineNumber,$.column)}static fromRange(S,$){return $===0?new g(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new g(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new g(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,$){if(S&&!$||!S&&$)return!1;if(!S&&!$)return!0;if(S.length!==$.length)return!1;for(let N=0,x=S.length;N<x;N++)if(!this.selectionsEqual(S[N],$[N]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,$,N,x,O){return O===0?new g(S,$,N,x):new g(N,x,S,$)}}},82336:function(vt,be,i){"use strict";i.d(be,{HT:function(){return d},kH:function(){return p},oe:function(){return O}});var c=i(30613),F=i(41420),g=i(22594);let A;function S(){return A||(A=new TextDecoder("UTF-16LE")),A}let $;function N(){return $||($=new TextDecoder("UTF-16BE")),$}let x;function O(){return x||(x=F.r()?S():N()),x}function p(f,s,r){const m=new Uint16Array(f.buffer,s,r);return r>0&&(m[0]===65279||m[0]===65534)?a(f,s,r):S().decode(m)}function a(f,s,r){const m=[];let C=0;for(let u=0;u<r;u++){const _=g.mP(f,s);s+=2,m[C++]=String.fromCharCode(_)}return m.join("")}class d{constructor(s){this._capacity=s|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const s=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return O().decode(s)}_flushBuffer(){const s=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[s]:this._completedStrings[this._completedStrings.length]=s}appendCharCode(s){const r=this._capacity-this._bufferLength;r<=1&&(r===0||c.ZG(s))&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCIICharCode(s){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendString(s){const r=s.length;if(this._bufferLength+r>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=s;return}for(let m=0;m<r;m++)this._buffer[this._bufferLength++]=s.charCodeAt(m)}}},75010:function(vt,be,i){"use strict";i.d(be,{b:function(){return S},q:function(){return A}});var c=i(22594),F=i(82336);function g(N){return N.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class A{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(x,O,p,a){this.oldPosition=x,this.oldText=O,this.newPosition=p,this.newText=a}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${g(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${g(this.oldText)}")`:`(replace@${this.oldPosition} "${g(this.oldText)}" with "${g(this.newText)}")`}static _writeStringSize(x){return 4+2*x.length}static _writeString(x,O,p){const a=O.length;c.T4(x,a,p),p+=4;for(let d=0;d<a;d++)c.oq(x,O.charCodeAt(d),p),p+=2;return p}static _readString(x,O){const p=c.Ag(x,O);return O+=4,(0,F.kH)(x,O,p)}writeSize(){return 4+4+A._writeStringSize(this.oldText)+A._writeStringSize(this.newText)}write(x,O){return c.T4(x,this.oldPosition,O),O+=4,c.T4(x,this.newPosition,O),O+=4,O=A._writeString(x,this.oldText,O),O=A._writeString(x,this.newText,O),O}static read(x,O,p){const a=c.Ag(x,O);O+=4;const d=c.Ag(x,O);O+=4;const f=A._readString(x,O);O+=A._writeStringSize(f);const s=A._readString(x,O);return O+=A._writeStringSize(s),p.push(new A(a,f,d,s)),O}}function S(N,x){return N===null||N.length===0?x:new $(N,x).compress()}class ${constructor(x,O){this._prevEdits=x,this._currEdits=O,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let x=0,O=0,p=this._getPrev(x),a=this._getCurr(O);for(;x<this._prevLen||O<this._currLen;){if(p===null){this._acceptCurr(a),a=this._getCurr(++O);continue}if(a===null){this._acceptPrev(p),p=this._getPrev(++x);continue}if(a.oldEnd<=p.newPosition){this._acceptCurr(a),a=this._getCurr(++O);continue}if(p.newEnd<=a.oldPosition){this._acceptPrev(p),p=this._getPrev(++x);continue}if(a.oldPosition<p.newPosition){const[m,C]=$._splitCurr(a,p.newPosition-a.oldPosition);this._acceptCurr(m),a=C;continue}if(p.newPosition<a.oldPosition){const[m,C]=$._splitPrev(p,a.oldPosition-p.newPosition);this._acceptPrev(m),p=C;continue}let s,r;if(a.oldEnd===p.newEnd)s=p,r=a,p=this._getPrev(++x),a=this._getCurr(++O);else if(a.oldEnd<p.newEnd){const[m,C]=$._splitPrev(p,a.oldLength);s=m,r=a,p=C,a=this._getCurr(++O)}else{const[m,C]=$._splitCurr(a,p.newLength);s=p,r=m,p=this._getPrev(++x),a=C}this._result[this._resultLen++]=new A(s.oldPosition,s.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=s.newLength-s.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const d=$._merge(this._result);return $._removeNoOps(d)}_acceptCurr(x){this._result[this._resultLen++]=$._rebaseCurr(this._prevDeltaOffset,x),this._currDeltaOffset+=x.newLength-x.oldLength}_getCurr(x){return x<this._currLen?this._currEdits[x]:null}_acceptPrev(x){this._result[this._resultLen++]=$._rebasePrev(this._currDeltaOffset,x),this._prevDeltaOffset+=x.newLength-x.oldLength}_getPrev(x){return x<this._prevLen?this._prevEdits[x]:null}static _rebaseCurr(x,O){return new A(O.oldPosition-x,O.oldText,O.newPosition,O.newText)}static _rebasePrev(x,O){return new A(O.oldPosition,O.oldText,O.newPosition+x,O.newText)}static _splitPrev(x,O){const p=x.newText.substr(0,O),a=x.newText.substr(O);return[new A(x.oldPosition,x.oldText,x.newPosition,p),new A(x.oldEnd,"",x.newPosition+O,a)]}static _splitCurr(x,O){const p=x.oldText.substr(0,O),a=x.oldText.substr(O);return[new A(x.oldPosition,p,x.newPosition,x.newText),new A(x.oldPosition+O,a,x.newEnd,"")]}static _merge(x){if(x.length===0)return x;const O=[];let p=0,a=x[0];for(let d=1;d<x.length;d++){const f=x[d];a.oldEnd===f.oldPosition?a=new A(a.oldPosition,a.oldText+f.oldText,a.newPosition,a.newText+f.newText):(O[p++]=a,a=f)}return O[p++]=a,O}static _removeNoOps(x){if(x.length===0)return x;const O=[];let p=0;for(let a=0;a<x.length;a++){const d=x[a];d.oldText!==d.newText&&(O[p++]=d)}return O}}},28764:function(vt,be,i){"use strict";i.d(be,{D:function(){return c}});const c={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},36669:function(vt,be,i){"use strict";i.d(be,{u:function(){return A}});var c=i(79563);class F extends c.N{constructor($){super(0);for(let N=0,x=$.length;N<x;N++)this.set($.charCodeAt(N),2);this.set(32,1),this.set(9,1)}}function g(S){const $={};return N=>($.hasOwnProperty(N)||($[N]=S(N)),$[N])}const A=g(S=>new F(S))},96605:function(vt,be,i){"use strict";i.d(be,{Af:function(){return S},eq:function(){return $},t2:function(){return x},vu:function(){return g}});var c=i(62841),F=i(23345);const g="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function A(p=""){let a="(-?\\d*\\.\\d\\w*)|([^";for(const d of g)p.indexOf(d)>=0||(a+="\\"+d);return a+="\\s]+)",new RegExp(a,"g")}const S=A();function $(p){let a=S;if(p&&p instanceof RegExp)if(p.global)a=p;else{let d="g";p.ignoreCase&&(d+="i"),p.multiline&&(d+="m"),p.unicode&&(d+="u"),a=new RegExp(p.source,d)}return a.lastIndex=0,a}const N=new F.S;N.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function x(p,a,d,f,s){if(s||(s=c.$.first(N)),d.length>s.maxLen){let _=p-s.maxLen/2;return _<0?_=0:f+=_,d=d.substring(_,p+s.maxLen/2),x(p,a,d,f,s)}const r=Date.now(),m=p-1-f;let C=-1,u=null;for(let _=1;!(Date.now()-r>=s.timeBudget);_++){const b=m-s.windowSize*_;a.lastIndex=Math.max(0,b);const E=O(a,d,m,C);if(!E&&u||(u=E,b<=0))break;C=b}if(u){const _={word:u[0],startColumn:f+1+u.index,endColumn:f+1+u.index+u[0].length};return a.lastIndex=0,_}return null}function O(p,a,d,f){let s;for(;s=p.exec(a);){const r=s.index||0;if(r<=d&&p.lastIndex>=d)return s;if(f>0&&r>f)return null}return null}},48657:function(vt,be,i){"use strict";i.d(be,{LM:function(){return p},LN:function(){return m},Tp:function(){return r},Vi:function(){return a},rS:function(){return s}});var c=i(43976),F=i(22445),g=i(15489),A=i(29246),S=i(90863),$=i(39919);const N=()=>!0,x=()=>!1,O=C=>C===" "||C==="	";class p{static shouldRecreate(u){return u.hasChanged(138)||u.hasChanged(124)||u.hasChanged(34)||u.hasChanged(73)||u.hasChanged(75)||u.hasChanged(76)||u.hasChanged(5)||u.hasChanged(8)||u.hasChanged(6)||u.hasChanged(7)||u.hasChanged(11)||u.hasChanged(122)||u.hasChanged(47)||u.hasChanged(86)}constructor(u,_,b,E){this.languageConfigurationService=E,this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const D=b.options,w=D.get(138),I=D.get(47);this.readOnly=D.get(86),this.tabSize=_.tabSize,this.indentSize=_.indentSize,this.insertSpaces=_.insertSpaces,this.stickyTabStops=D.get(110),this.lineHeight=I.lineHeight,this.typicalHalfwidthCharacterWidth=I.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(w.height/this.lineHeight)-2),this.useTabStops=D.get(122),this.wordSeparators=D.get(124),this.emptySelectionClipboard=D.get(34),this.copyWithSyntaxHighlighting=D.get(22),this.multiCursorMergeOverlapping=D.get(73),this.multiCursorPaste=D.get(75),this.multiCursorLimit=D.get(76),this.autoClosingBrackets=D.get(5),this.autoClosingQuotes=D.get(8),this.autoClosingDelete=D.get(6),this.autoClosingOvertype=D.get(7),this.autoSurround=D.get(11),this.autoIndent=D.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(u,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(u,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(u).getAutoClosingPairs();const M=this.languageConfigurationService.getLanguageConfiguration(u).getSurroundingPairs();if(M)for(const K of M)this.surroundingPairs[K.open]=K.close}get electricChars(){var u;if(!this._electricChars){this._electricChars={};const _=(u=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||u===void 0?void 0:u.getElectricCharacters();if(_)for(const b of _)this._electricChars[b]=!0}return this._electricChars}onElectricCharacter(u,_,b){const E=(0,A.wH)(_,b-1),D=this.languageConfigurationService.getLanguageConfiguration(E.languageId).electricCharacter;return D?D.onElectricCharacter(u,E,b-E.firstCharOffset):null}normalizeIndentation(u){return(0,$.x)(u,this.indentSize,this.insertSpaces)}_getShouldAutoClose(u,_,b){switch(_){case"beforeWhitespace":return O;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(u,b);case"always":return N;case"never":return x}}_getLanguageDefinedShouldAutoClose(u,_){const b=this.languageConfigurationService.getLanguageConfiguration(u).getAutoCloseBeforeSet(_);return E=>b.indexOf(E)!==-1}visibleColumnFromColumn(u,_){return S.i.visibleColumnFromColumn(u.getLineContent(_.lineNumber),_.column,this.tabSize)}columnFromVisibleColumn(u,_,b){const E=S.i.columnFromVisibleColumn(u.getLineContent(_),b,this.tabSize),D=u.getLineMinColumn(_);if(E<D)return D;const w=u.getLineMaxColumn(_);return E>w?w:E}}class a{static fromModelState(u){return new d(u)}static fromViewState(u){return new f(u)}static fromModelSelection(u){const _=g.Y.liftSelection(u),b=new s(F.e.fromPositions(_.getSelectionStart()),0,0,_.getPosition(),0);return a.fromModelState(b)}static fromModelSelections(u){const _=[];for(let b=0,E=u.length;b<E;b++)_[b]=this.fromModelSelection(u[b]);return _}constructor(u,_){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=_}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}class d{constructor(u){this.modelState=u,this.viewState=null}}class f{constructor(u){this.modelState=null,this.viewState=u}}class s{constructor(u,_,b,E,D){this.selectionStart=u,this.selectionStartKind=_,this.selectionStartLeftoverVisibleColumns=b,this.position=E,this.leftoverVisibleColumns=D,this._singleCursorStateBrand=void 0,this.selection=s._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.selectionStartKind===u.selectionStartKind&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,_,b,E){return u?new s(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new c.L(_,b),E):new s(new F.e(_,b,_,b),0,E,new c.L(_,b),E)}static _computeSelection(u,_){return u.isEmpty()||!_.isBeforeOrEqual(u.getStartPosition())?g.Y.fromPositions(u.getStartPosition(),_):g.Y.fromPositions(u.getEndPosition(),_)}}class r{constructor(u,_,b){this._editOperationResultBrand=void 0,this.type=u,this.commands=_,this.shouldPushStackElementBefore=b.shouldPushStackElementBefore,this.shouldPushStackElementAfter=b.shouldPushStackElementAfter}}function m(C){return C==="'"||C==='"'||C==="`"}},14867:function(vt,be,i){"use strict";i.d(be,{l:function(){return F}});var c=i(90863);class F{static whitespaceVisibleColumn(A,S,$){const N=A.length;let x=0,O=-1,p=-1;for(let a=0;a<N;a++){if(a===S)return[O,p,x];switch(x%$===0&&(O=a,p=x),A.charCodeAt(a)){case 32:x+=1;break;case 9:x=c.i.nextRenderTabStop(x,$);break;default:return[-1,-1,-1]}}return S===N?[O,p,x]:[-1,-1,-1]}static atomicPosition(A,S,$,N){const x=A.length,[O,p,a]=F.whitespaceVisibleColumn(A,S,$);if(a===-1)return-1;let d;switch(N){case 0:d=!0;break;case 1:d=!1;break;case 2:if(a%$===0)return S;d=a%$<=$/2;break}if(d){if(O===-1)return-1;let r=p;for(let m=O;m<x;++m){if(r===p+$)return O;switch(A.charCodeAt(m)){case 32:r+=1;break;case 9:r=c.i.nextRenderTabStop(r,$);break;default:return-1}}return r===p+$?O:-1}const f=c.i.nextRenderTabStop(a,$);let s=a;for(let r=S;r<x;r++){if(s===f)return r;switch(A.charCodeAt(r)){case 32:s+=1;break;case 9:s=c.i.nextRenderTabStop(s,$);break;default:return-1}}return s===f?x:-1}}},60989:function(vt,be,i){"use strict";i.d(be,{A:function(){return x}});var c=i(30613),F=i(71802),g=i(48657),A=i(90863),S=i(95987),$=i(22445),N=i(43976);class x{static deleteRight(p,a,d,f){const s=[];let r=p!==3;for(let m=0,C=f.length;m<C;m++){const u=f[m];let _=u;if(_.isEmpty()){const b=u.getPosition(),E=S.o.right(a,d,b);_=new $.e(E.lineNumber,E.column,b.lineNumber,b.column)}if(_.isEmpty()){s[m]=null;continue}_.startLineNumber!==_.endLineNumber&&(r=!0),s[m]=new F.T4(_,"")}return[r,s]}static isAutoClosingPairDelete(p,a,d,f,s,r,m){if(a==="never"&&d==="never"||p==="never")return!1;for(let C=0,u=r.length;C<u;C++){const _=r[C],b=_.getPosition();if(!_.isEmpty())return!1;const E=s.getLineContent(b.lineNumber);if(b.column<2||b.column>=E.length+1)return!1;const D=E.charAt(b.column-2),w=f.get(D);if(!w)return!1;if((0,g.LN)(D)){if(d==="never")return!1}else if(a==="never")return!1;const I=E.charAt(b.column-1);let M=!1;for(const K of w)K.open===D&&K.close===I&&(M=!0);if(!M)return!1;if(p==="auto"){let K=!1;for(let z=0,Q=m.length;z<Q;z++){const Y=m[z];if(b.lineNumber===Y.startLineNumber&&b.column===Y.startColumn){K=!0;break}}if(!K)return!1}}return!0}static _runAutoClosingPairDelete(p,a,d){const f=[];for(let s=0,r=d.length;s<r;s++){const m=d[s].getPosition(),C=new $.e(m.lineNumber,m.column-1,m.lineNumber,m.column+1);f[s]=new F.T4(C,"")}return[!0,f]}static deleteLeft(p,a,d,f,s){if(this.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,d,f,s))return this._runAutoClosingPairDelete(a,d,f);const r=[];let m=p!==2;for(let C=0,u=f.length;C<u;C++){const _=x.getDeleteRange(f[C],d,a);if(_.isEmpty()){r[C]=null;continue}_.startLineNumber!==_.endLineNumber&&(m=!0),r[C]=new F.T4(_,"")}return[m,r]}static getDeleteRange(p,a,d){if(!p.isEmpty())return p;const f=p.getPosition();if(d.useTabStops&&f.column>1){const s=a.getLineContent(f.lineNumber),r=c.LC(s),m=r===-1?s.length+1:r+1;if(f.column<=m){const C=d.visibleColumnFromColumn(a,f),u=A.i.prevIndentTabStop(C,d.indentSize),_=d.columnFromVisibleColumn(a,f.lineNumber,u);return new $.e(f.lineNumber,_,f.lineNumber,f.column)}}return $.e.fromPositions(x.getPositionAfterDeleteLeft(f,a),f)}static getPositionAfterDeleteLeft(p,a){if(p.column>1){const d=c.oH(p.column-1,a.getLineContent(p.lineNumber));return p.with(void 0,d+1)}else if(p.lineNumber>1){const d=p.lineNumber-1;return new N.L(d,a.getLineMaxColumn(d))}else return p}static cut(p,a,d){const f=[];let s=null;d.sort((r,m)=>N.L.compare(r.getStartPosition(),m.getEndPosition()));for(let r=0,m=d.length;r<m;r++){const C=d[r];if(C.isEmpty())if(p.emptySelectionClipboard){const u=C.getPosition();let _,b,E,D;u.lineNumber<a.getLineCount()?(_=u.lineNumber,b=1,E=u.lineNumber+1,D=1):u.lineNumber>1&&(s==null?void 0:s.endLineNumber)!==u.lineNumber?(_=u.lineNumber-1,b=a.getLineMaxColumn(u.lineNumber-1),E=u.lineNumber,D=a.getLineMaxColumn(u.lineNumber)):(_=u.lineNumber,b=1,E=u.lineNumber,D=a.getLineMaxColumn(u.lineNumber));const w=new $.e(_,b,E,D);s=w,w.isEmpty()?f[r]=null:f[r]=new F.T4(w,"")}else f[r]=null;else f[r]=new F.T4(C,"")}return new g.Tp(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28238:function(vt,be,i){"use strict";i.d(be,{N:function(){return x},P:function(){return N}});var c=i(67770),F=i(48657),g=i(95987),A=i(50706),S=i(43976),$=i(22445);class N{static addCursorDown(p,a,d){const f=[];let s=0;for(let r=0,m=a.length;r<m;r++){const C=a[r];f[s++]=new F.Vi(C.modelState,C.viewState),d?f[s++]=F.Vi.fromModelState(g.o.translateDown(p.cursorConfig,p.model,C.modelState)):f[s++]=F.Vi.fromViewState(g.o.translateDown(p.cursorConfig,p,C.viewState))}return f}static addCursorUp(p,a,d){const f=[];let s=0;for(let r=0,m=a.length;r<m;r++){const C=a[r];f[s++]=new F.Vi(C.modelState,C.viewState),d?f[s++]=F.Vi.fromModelState(g.o.translateUp(p.cursorConfig,p.model,C.modelState)):f[s++]=F.Vi.fromViewState(g.o.translateUp(p.cursorConfig,p,C.viewState))}return f}static moveToBeginningOfLine(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s];f[s]=this._moveToLineStart(p,m,d)}return f}static _moveToLineStart(p,a,d){const f=a.viewState.position.column,s=a.modelState.position.column,r=f===s,m=a.viewState.position.lineNumber,C=p.getLineFirstNonWhitespaceColumn(m);return!r&&!(f===C)?this._moveToLineStartByView(p,a,d):this._moveToLineStartByModel(p,a,d)}static _moveToLineStartByView(p,a,d){return F.Vi.fromViewState(g.o.moveToBeginningOfLine(p.cursorConfig,p,a.viewState,d))}static _moveToLineStartByModel(p,a,d){return F.Vi.fromModelState(g.o.moveToBeginningOfLine(p.cursorConfig,p.model,a.modelState,d))}static moveToEndOfLine(p,a,d,f){const s=[];for(let r=0,m=a.length;r<m;r++){const C=a[r];s[r]=this._moveToLineEnd(p,C,d,f)}return s}static _moveToLineEnd(p,a,d,f){const s=a.viewState.position,r=p.getLineMaxColumn(s.lineNumber),m=s.column===r,C=a.modelState.position,u=p.model.getLineMaxColumn(C.lineNumber),_=r-s.column===u-C.column;return m||_?this._moveToLineEndByModel(p,a,d,f):this._moveToLineEndByView(p,a,d,f)}static _moveToLineEndByView(p,a,d,f){return F.Vi.fromViewState(g.o.moveToEndOfLine(p.cursorConfig,p,a.viewState,d,f))}static _moveToLineEndByModel(p,a,d,f){return F.Vi.fromModelState(g.o.moveToEndOfLine(p.cursorConfig,p.model,a.modelState,d,f))}static expandLineSelection(p,a){const d=[];for(let f=0,s=a.length;f<s;f++){const r=a[f],m=r.modelState.selection.startLineNumber,C=p.model.getLineCount();let u=r.modelState.selection.endLineNumber,_;u===C?_=p.model.getLineMaxColumn(C):(u++,_=1),d[f]=F.Vi.fromModelState(new F.rS(new $.e(m,1,m,1),0,0,new S.L(u,_),0))}return d}static moveToBeginningOfBuffer(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s];f[s]=F.Vi.fromModelState(g.o.moveToBeginningOfBuffer(p.cursorConfig,p.model,m.modelState,d))}return f}static moveToEndOfBuffer(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s];f[s]=F.Vi.fromModelState(g.o.moveToEndOfBuffer(p.cursorConfig,p.model,m.modelState,d))}return f}static selectAll(p,a){const d=p.model.getLineCount(),f=p.model.getLineMaxColumn(d);return F.Vi.fromModelState(new F.rS(new $.e(1,1,1,1),0,0,new S.L(d,f),0))}static line(p,a,d,f,s){const r=p.model.validatePosition(f),m=s?p.coordinatesConverter.validateViewPosition(new S.L(s.lineNumber,s.column),r):p.coordinatesConverter.convertModelPositionToViewPosition(r);if(!d){const u=p.model.getLineCount();let _=r.lineNumber+1,b=1;return _>u&&(_=u,b=p.model.getLineMaxColumn(_)),F.Vi.fromModelState(new F.rS(new $.e(r.lineNumber,1,_,b),2,0,new S.L(_,b),0))}const C=a.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<C)return F.Vi.fromViewState(a.viewState.move(!0,m.lineNumber,1,0));if(r.lineNumber>C){const u=p.getLineCount();let _=m.lineNumber+1,b=1;return _>u&&(_=u,b=p.getLineMaxColumn(_)),F.Vi.fromViewState(a.viewState.move(!0,_,b,0))}else{const u=a.modelState.selectionStart.getEndPosition();return F.Vi.fromModelState(a.modelState.move(!0,u.lineNumber,u.column,0))}}static word(p,a,d,f){const s=p.model.validatePosition(f);return F.Vi.fromModelState(A.w.word(p.cursorConfig,p.model,a.modelState,d,s))}static cancelSelection(p,a){if(!a.modelState.hasSelection())return new F.Vi(a.modelState,a.viewState);const d=a.viewState.position.lineNumber,f=a.viewState.position.column;return F.Vi.fromViewState(new F.rS(new $.e(d,f,d,f),0,0,new S.L(d,f),0))}static moveTo(p,a,d,f,s){if(d){if(a.modelState.selectionStartKind===1)return this.word(p,a,d,f);if(a.modelState.selectionStartKind===2)return this.line(p,a,d,f,s)}const r=p.model.validatePosition(f),m=s?p.coordinatesConverter.validateViewPosition(new S.L(s.lineNumber,s.column),r):p.coordinatesConverter.convertModelPositionToViewPosition(r);return F.Vi.fromViewState(a.viewState.move(d,m.lineNumber,m.column,0))}static simpleMove(p,a,d,f,s,r){switch(d){case 0:return r===4?this._moveHalfLineLeft(p,a,f):this._moveLeft(p,a,f,s);case 1:return r===4?this._moveHalfLineRight(p,a,f):this._moveRight(p,a,f,s);case 2:return r===2?this._moveUpByViewLines(p,a,f,s):this._moveUpByModelLines(p,a,f,s);case 3:return r===2?this._moveDownByViewLines(p,a,f,s):this._moveDownByModelLines(p,a,f,s);case 4:return r===2?a.map(m=>F.Vi.fromViewState(g.o.moveToPrevBlankLine(p.cursorConfig,p,m.viewState,f))):a.map(m=>F.Vi.fromModelState(g.o.moveToPrevBlankLine(p.cursorConfig,p.model,m.modelState,f)));case 5:return r===2?a.map(m=>F.Vi.fromViewState(g.o.moveToNextBlankLine(p.cursorConfig,p,m.viewState,f))):a.map(m=>F.Vi.fromModelState(g.o.moveToNextBlankLine(p.cursorConfig,p.model,m.modelState,f)));case 6:return this._moveToViewMinColumn(p,a,f);case 7:return this._moveToViewFirstNonWhitespaceColumn(p,a,f);case 8:return this._moveToViewCenterColumn(p,a,f);case 9:return this._moveToViewMaxColumn(p,a,f);case 10:return this._moveToViewLastNonWhitespaceColumn(p,a,f);default:return null}}static viewportMove(p,a,d,f,s){const r=p.getCompletelyVisibleViewRange(),m=p.coordinatesConverter.convertViewRangeToModelRange(r);switch(d){case 11:{const C=this._firstLineNumberInRange(p.model,m,s),u=p.model.getLineFirstNonWhitespaceColumn(C);return[this._moveToModelPosition(p,a[0],f,C,u)]}case 13:{const C=this._lastLineNumberInRange(p.model,m,s),u=p.model.getLineFirstNonWhitespaceColumn(C);return[this._moveToModelPosition(p,a[0],f,C,u)]}case 12:{const C=Math.round((m.startLineNumber+m.endLineNumber)/2),u=p.model.getLineFirstNonWhitespaceColumn(C);return[this._moveToModelPosition(p,a[0],f,C,u)]}case 14:{const C=[];for(let u=0,_=a.length;u<_;u++){const b=a[u];C[u]=this.findPositionInViewportIfOutside(p,b,r,f)}return C}default:return null}}static findPositionInViewportIfOutside(p,a,d,f){const s=a.viewState.position.lineNumber;if(d.startLineNumber<=s&&s<=d.endLineNumber-1)return new F.Vi(a.modelState,a.viewState);{let r;s>d.endLineNumber-1?r=d.endLineNumber-1:s<d.startLineNumber?r=d.startLineNumber:r=s;const m=g.o.vertical(p.cursorConfig,p,s,a.viewState.position.column,a.viewState.leftoverVisibleColumns,r,!1);return F.Vi.fromViewState(a.viewState.move(f,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(p,a,d){let f=a.startLineNumber;return a.startColumn!==p.getLineMinColumn(f)&&f++,Math.min(a.endLineNumber,f+d-1)}static _lastLineNumberInRange(p,a,d){let f=a.startLineNumber;return a.startColumn!==p.getLineMinColumn(f)&&f++,Math.max(f,a.endLineNumber-d+1)}static _moveLeft(p,a,d,f){return a.map(s=>F.Vi.fromViewState(g.o.moveLeft(p.cursorConfig,p,s.viewState,d,f)))}static _moveHalfLineLeft(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=Math.round(p.getLineContent(C).length/2);f[s]=F.Vi.fromViewState(g.o.moveLeft(p.cursorConfig,p,m.viewState,d,u))}return f}static _moveRight(p,a,d,f){return a.map(s=>F.Vi.fromViewState(g.o.moveRight(p.cursorConfig,p,s.viewState,d,f)))}static _moveHalfLineRight(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=Math.round(p.getLineContent(C).length/2);f[s]=F.Vi.fromViewState(g.o.moveRight(p.cursorConfig,p,m.viewState,d,u))}return f}static _moveDownByViewLines(p,a,d,f){const s=[];for(let r=0,m=a.length;r<m;r++){const C=a[r];s[r]=F.Vi.fromViewState(g.o.moveDown(p.cursorConfig,p,C.viewState,d,f))}return s}static _moveDownByModelLines(p,a,d,f){const s=[];for(let r=0,m=a.length;r<m;r++){const C=a[r];s[r]=F.Vi.fromModelState(g.o.moveDown(p.cursorConfig,p.model,C.modelState,d,f))}return s}static _moveUpByViewLines(p,a,d,f){const s=[];for(let r=0,m=a.length;r<m;r++){const C=a[r];s[r]=F.Vi.fromViewState(g.o.moveUp(p.cursorConfig,p,C.viewState,d,f))}return s}static _moveUpByModelLines(p,a,d,f){const s=[];for(let r=0,m=a.length;r<m;r++){const C=a[r];s[r]=F.Vi.fromModelState(g.o.moveUp(p.cursorConfig,p.model,C.modelState,d,f))}return s}static _moveToViewPosition(p,a,d,f,s){return F.Vi.fromViewState(a.viewState.move(d,f,s,0))}static _moveToModelPosition(p,a,d,f,s){return F.Vi.fromModelState(a.modelState.move(d,f,s,0))}static _moveToViewMinColumn(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=p.getLineMinColumn(C);f[s]=this._moveToViewPosition(p,m,d,C,u)}return f}static _moveToViewFirstNonWhitespaceColumn(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=p.getLineFirstNonWhitespaceColumn(C);f[s]=this._moveToViewPosition(p,m,d,C,u)}return f}static _moveToViewCenterColumn(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=Math.round((p.getLineMaxColumn(C)+p.getLineMinColumn(C))/2);f[s]=this._moveToViewPosition(p,m,d,C,u)}return f}static _moveToViewMaxColumn(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=p.getLineMaxColumn(C);f[s]=this._moveToViewPosition(p,m,d,C,u)}return f}static _moveToViewLastNonWhitespaceColumn(p,a,d){const f=[];for(let s=0,r=a.length;s<r;s++){const m=a[s],C=m.viewState.position.lineNumber,u=p.getLineLastNonWhitespaceColumn(C);f[s]=this._moveToViewPosition(p,m,d,C,u)}return f}}var x;(function(O){const p=function(d){if(!c.Kn(d))return!1;const f=d;return!(!c.HD(f.to)||!c.o8(f.select)&&!c.jn(f.select)||!c.o8(f.by)&&!c.HD(f.by)||!c.o8(f.value)&&!c.hj(f.value))};O.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:p,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},O.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},O.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(d){if(!d.to)return null;let f;switch(d.to){case O.RawDirection.Left:f=0;break;case O.RawDirection.Right:f=1;break;case O.RawDirection.Up:f=2;break;case O.RawDirection.Down:f=3;break;case O.RawDirection.PrevBlankLine:f=4;break;case O.RawDirection.NextBlankLine:f=5;break;case O.RawDirection.WrappedLineStart:f=6;break;case O.RawDirection.WrappedLineFirstNonWhitespaceCharacter:f=7;break;case O.RawDirection.WrappedLineColumnCenter:f=8;break;case O.RawDirection.WrappedLineEnd:f=9;break;case O.RawDirection.WrappedLineLastNonWhitespaceCharacter:f=10;break;case O.RawDirection.ViewPortTop:f=11;break;case O.RawDirection.ViewPortBottom:f=13;break;case O.RawDirection.ViewPortCenter:f=12;break;case O.RawDirection.ViewPortIfOutside:f=14;break;default:return null}let s=0;switch(d.by){case O.RawUnit.Line:s=1;break;case O.RawUnit.WrappedLine:s=2;break;case O.RawUnit.Character:s=3;break;case O.RawUnit.HalfLine:s=4;break}return{direction:f,unit:s,select:!!d.select,value:d.value||1}}O.parse=a})(x||(x={}))},95987:function(vt,be,i){"use strict";i.d(be,{o:function(){return x}});var c=i(48657),F=i(90863),g=i(43976),A=i(22445),S=i(30613),$=i(14867);class N{constructor(p,a,d){this._cursorPositionBrand=void 0,this.lineNumber=p,this.column=a,this.leftoverVisibleColumns=d}}class x{static leftPosition(p,a){if(a.column>p.getLineMinColumn(a.lineNumber))return a.delta(void 0,-S.HO(p.getLineContent(a.lineNumber),a.column-1));if(a.lineNumber>1){const d=a.lineNumber-1;return new g.L(d,p.getLineMaxColumn(d))}else return a}static leftPositionAtomicSoftTabs(p,a,d){if(a.column<=p.getLineIndentColumn(a.lineNumber)){const f=p.getLineMinColumn(a.lineNumber),s=p.getLineContent(a.lineNumber),r=$.l.atomicPosition(s,a.column-1,d,0);if(r!==-1&&r+1>=f)return new g.L(a.lineNumber,r+1)}return this.leftPosition(p,a)}static left(p,a,d){const f=p.stickyTabStops?x.leftPositionAtomicSoftTabs(a,d,p.tabSize):x.leftPosition(a,d);return new N(f.lineNumber,f.column,0)}static moveLeft(p,a,d,f,s){let r,m;if(d.hasSelection()&&!f)r=d.selection.startLineNumber,m=d.selection.startColumn;else{const C=d.position.delta(void 0,-(s-1)),u=a.normalizePosition(x.clipPositionColumn(C,a),0),_=x.left(p,a,u);r=_.lineNumber,m=_.column}return d.move(f,r,m,0)}static clipPositionColumn(p,a){return new g.L(p.lineNumber,x.clipRange(p.column,a.getLineMinColumn(p.lineNumber),a.getLineMaxColumn(p.lineNumber)))}static clipRange(p,a,d){return p<a?a:p>d?d:p}static rightPosition(p,a,d){return d<p.getLineMaxColumn(a)?d=d+S.vH(p.getLineContent(a),d-1):a<p.getLineCount()&&(a=a+1,d=p.getLineMinColumn(a)),new g.L(a,d)}static rightPositionAtomicSoftTabs(p,a,d,f,s){if(d<p.getLineIndentColumn(a)){const r=p.getLineContent(a),m=$.l.atomicPosition(r,d-1,f,1);if(m!==-1)return new g.L(a,m+1)}return this.rightPosition(p,a,d)}static right(p,a,d){const f=p.stickyTabStops?x.rightPositionAtomicSoftTabs(a,d.lineNumber,d.column,p.tabSize,p.indentSize):x.rightPosition(a,d.lineNumber,d.column);return new N(f.lineNumber,f.column,0)}static moveRight(p,a,d,f,s){let r,m;if(d.hasSelection()&&!f)r=d.selection.endLineNumber,m=d.selection.endColumn;else{const C=d.position.delta(void 0,s-1),u=a.normalizePosition(x.clipPositionColumn(C,a),1),_=x.right(p,a,u);r=_.lineNumber,m=_.column}return d.move(f,r,m,0)}static vertical(p,a,d,f,s,r,m,C){const u=F.i.visibleColumnFromColumn(a.getLineContent(d),f,p.tabSize)+s,_=a.getLineCount(),b=d===1&&f===1,E=d===_&&f===a.getLineMaxColumn(d),D=r<d?b:E;if(d=r,d<1?(d=1,m?f=a.getLineMinColumn(d):f=Math.min(a.getLineMaxColumn(d),f)):d>_?(d=_,m?f=a.getLineMaxColumn(d):f=Math.min(a.getLineMaxColumn(d),f)):f=p.columnFromVisibleColumn(a,d,u),D?s=0:s=u-F.i.visibleColumnFromColumn(a.getLineContent(d),f,p.tabSize),C!==void 0){const w=new g.L(d,f),I=a.normalizePosition(w,C);s=s+(f-I.column),d=I.lineNumber,f=I.column}return new N(d,f,s)}static down(p,a,d,f,s,r,m){return this.vertical(p,a,d,f,s,d+r,m,4)}static moveDown(p,a,d,f,s){let r,m;d.hasSelection()&&!f?(r=d.selection.endLineNumber,m=d.selection.endColumn):(r=d.position.lineNumber,m=d.position.column);const C=x.down(p,a,r,m,d.leftoverVisibleColumns,s,!0);return d.move(f,C.lineNumber,C.column,C.leftoverVisibleColumns)}static translateDown(p,a,d){const f=d.selection,s=x.down(p,a,f.selectionStartLineNumber,f.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),r=x.down(p,a,f.positionLineNumber,f.positionColumn,d.leftoverVisibleColumns,1,!1);return new c.rS(new A.e(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new g.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(p,a,d,f,s,r,m){return this.vertical(p,a,d,f,s,d-r,m,3)}static moveUp(p,a,d,f,s){let r,m;d.hasSelection()&&!f?(r=d.selection.startLineNumber,m=d.selection.startColumn):(r=d.position.lineNumber,m=d.position.column);const C=x.up(p,a,r,m,d.leftoverVisibleColumns,s,!0);return d.move(f,C.lineNumber,C.column,C.leftoverVisibleColumns)}static translateUp(p,a,d){const f=d.selection,s=x.up(p,a,f.selectionStartLineNumber,f.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),r=x.up(p,a,f.positionLineNumber,f.positionColumn,d.leftoverVisibleColumns,1,!1);return new c.rS(new A.e(s.lineNumber,s.column,s.lineNumber,s.column),0,s.leftoverVisibleColumns,new g.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(p,a){return p.getLineFirstNonWhitespaceColumn(a)===0}static moveToPrevBlankLine(p,a,d,f){let s=d.position.lineNumber;for(;s>1&&this._isBlankLine(a,s);)s--;for(;s>1&&!this._isBlankLine(a,s);)s--;return d.move(f,s,a.getLineMinColumn(s),0)}static moveToNextBlankLine(p,a,d,f){const s=a.getLineCount();let r=d.position.lineNumber;for(;r<s&&this._isBlankLine(a,r);)r++;for(;r<s&&!this._isBlankLine(a,r);)r++;return d.move(f,r,a.getLineMinColumn(r),0)}static moveToBeginningOfLine(p,a,d,f){const s=d.position.lineNumber,r=a.getLineMinColumn(s),m=a.getLineFirstNonWhitespaceColumn(s)||r;let C;return d.position.column===m?C=r:C=m,d.move(f,s,C,0)}static moveToEndOfLine(p,a,d,f,s){const r=d.position.lineNumber,m=a.getLineMaxColumn(r);return d.move(f,r,m,s?1073741824-m:0)}static moveToBeginningOfBuffer(p,a,d,f){return d.move(f,1,1,0)}static moveToEndOfBuffer(p,a,d,f){const s=a.getLineCount(),r=a.getLineMaxColumn(s);return d.move(f,s,r,0)}}},33033:function(vt,be,i){"use strict";i.d(be,{Nu:function(){return _},u6:function(){return C},g_:function(){return u}});var c=i(50505),F=i(30613),g=i(71802),A=i(70428),S=i(22445),$=i(15489);class N{constructor(M,K,z){this._range=M,this._charBeforeSelection=K,this._charAfterSelection=z}getEditOperations(M,K){K.addTrackedEditOperation(new S.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),K.addTrackedEditOperation(new S.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(M,K){const z=K.getInverseEditOperations(),Q=z[0].range,Y=z[1].range;return new $.Y(Q.endLineNumber,Q.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class x{constructor(M,K,z){this._position=M,this._text=K,this._charAfter=z}getEditOperations(M,K){K.addTrackedEditOperation(new S.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(M,K){const Q=K.getInverseEditOperations()[0].range;return new $.Y(Q.endLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn-this._charAfter.length)}}var O=i(48657),p=i(36669),a=i(43976),d=i(13160),f=i(28170),s=i(29246),r=i(63019),m=i(76326);class C{static indent(M,K,z){if(K===null||z===null)return[];const Q=[];for(let Y=0,H=z.length;Y<H;Y++)Q[Y]=new A.U(z[Y],{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent},M.languageConfigurationService);return Q}static outdent(M,K,z){const Q=[];for(let Y=0,H=z.length;Y<H;Y++)Q[Y]=new A.U(z[Y],{isUnshift:!0,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent},M.languageConfigurationService);return Q}static shiftIndent(M,K,z){return z=z||1,A.U.shiftIndent(K,K.length+z,M.tabSize,M.indentSize,M.insertSpaces)}static unshiftIndent(M,K,z){return z=z||1,A.U.unshiftIndent(K,K.length+z,M.tabSize,M.indentSize,M.insertSpaces)}static _distributedPaste(M,K,z,Q){const Y=[];for(let H=0,P=z.length;H<P;H++)Y[H]=new g.T4(z[H],Q[H]);return new O.Tp(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(M,K,z,Q,Y){const H=[];for(let P=0,X=z.length;P<X;P++){const q=z[P],U=q.getPosition();if(Y&&!q.isEmpty()&&(Y=!1),Y&&Q.indexOf(`
`)!==Q.length-1&&(Y=!1),Y){const L=new S.e(U.lineNumber,1,U.lineNumber,1);H[P]=new g.hP(L,Q,q,!0)}else H[P]=new g.T4(q,Q)}return new O.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(M,K,z,Q,Y){if(Q||K.length===1)return null;if(Y&&Y.length===K.length)return Y;if(M.multiCursorPaste==="spread"){z.charCodeAt(z.length-1)===10&&(z=z.substr(0,z.length-1)),z.charCodeAt(z.length-1)===13&&(z=z.substr(0,z.length-1));const H=F.uq(z);if(H.length===K.length)return H}return null}static paste(M,K,z,Q,Y,H){const P=this._distributePasteToCursors(M,z,Q,Y,H);return P?(z=z.sort(S.e.compareRangesUsingStarts),this._distributedPaste(M,K,z,P)):this._simplePaste(M,K,z,Q,Y)}static _goodIndentForLine(M,K,z){let Q=null,Y="";const H=(0,r.r7)(M.autoIndent,K,z,!1,M.languageConfigurationService);if(H)Q=H.action,Y=H.indentation;else if(z>1){let P;for(P=z-1;P>=1;P--){const U=K.getLineContent(P);if(F.ow(U)>=0)break}if(P<1)return null;const X=K.getLineMaxColumn(P),q=(0,m.A)(M.autoIndent,K,new S.e(P,X,P,X),M.languageConfigurationService);q&&(Y=q.indentation+q.appendText)}return Q&&(Q===d.wU.Indent&&(Y=C.shiftIndent(M,Y)),Q===d.wU.Outdent&&(Y=C.unshiftIndent(M,Y)),Y=M.normalizeIndentation(Y)),Y||null}static _replaceJumpToNextIndent(M,K,z,Q){let Y="";const H=z.getStartPosition();if(M.insertSpaces){const P=M.visibleColumnFromColumn(K,H),X=M.indentSize,q=X-P%X;for(let U=0;U<q;U++)Y+=" "}else Y="	";return new g.T4(z,Y,Q)}static tab(M,K,z){const Q=[];for(let Y=0,H=z.length;Y<H;Y++){const P=z[Y];if(P.isEmpty()){const X=K.getLineContent(P.startLineNumber);if(/^\s*$/.test(X)&&K.tokenization.isCheapToTokenize(P.startLineNumber)){let q=this._goodIndentForLine(M,K,P.startLineNumber);q=q||"	";const U=M.normalizeIndentation(q);if(!X.startsWith(U)){Q[Y]=new g.T4(new S.e(P.startLineNumber,1,P.startLineNumber,X.length+1),U,!0);continue}}Q[Y]=this._replaceJumpToNextIndent(M,K,P,!0)}else{if(P.startLineNumber===P.endLineNumber){const X=K.getLineMaxColumn(P.startLineNumber);if(P.startColumn!==1||P.endColumn!==X){Q[Y]=this._replaceJumpToNextIndent(M,K,P,!1);continue}}Q[Y]=new A.U(P,{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent},M.languageConfigurationService)}}return Q}static compositionType(M,K,z,Q,Y,H,P,X){const q=Q.map(U=>this._compositionType(z,U,Y,H,P,X));return new O.Tp(4,q,{shouldPushStackElementBefore:E(M,4),shouldPushStackElementAfter:!1})}static _compositionType(M,K,z,Q,Y,H){if(!K.isEmpty())return null;const P=K.getPosition(),X=Math.max(1,P.column-Q),q=Math.min(M.getLineMaxColumn(P.lineNumber),P.column+Y),U=new S.e(P.lineNumber,X,P.lineNumber,q);return M.getValueInRange(U)===z&&H===0?null:new g.Uo(U,z,0,H)}static _typeCommand(M,K,z){return z?new g.Sj(M,K,!0):new g.T4(M,K,!0)}static _enter(M,K,z,Q){if(M.autoIndent===0)return C._typeCommand(Q,`
`,z);if(!K.tokenization.isCheapToTokenize(Q.getStartPosition().lineNumber)||M.autoIndent===1){const X=K.getLineContent(Q.startLineNumber),q=F.V8(X).substring(0,Q.startColumn-1);return C._typeCommand(Q,`
`+M.normalizeIndentation(q),z)}const Y=(0,m.A)(M.autoIndent,K,Q,M.languageConfigurationService);if(Y){if(Y.indentAction===d.wU.None)return C._typeCommand(Q,`
`+M.normalizeIndentation(Y.indentation+Y.appendText),z);if(Y.indentAction===d.wU.Indent)return C._typeCommand(Q,`
`+M.normalizeIndentation(Y.indentation+Y.appendText),z);if(Y.indentAction===d.wU.IndentOutdent){const X=M.normalizeIndentation(Y.indentation),q=M.normalizeIndentation(Y.indentation+Y.appendText),U=`
`+q+`
`+X;return z?new g.Sj(Q,U,!0):new g.Uo(Q,U,-1,q.length-X.length,!0)}else if(Y.indentAction===d.wU.Outdent){const X=C.unshiftIndent(M,Y.indentation);return C._typeCommand(Q,`
`+M.normalizeIndentation(X+Y.appendText),z)}}const H=K.getLineContent(Q.startLineNumber),P=F.V8(H).substring(0,Q.startColumn-1);if(M.autoIndent>=4){const X=(0,r.UF)(M.autoIndent,K,Q,{unshiftIndent:q=>C.unshiftIndent(M,q),shiftIndent:q=>C.shiftIndent(M,q),normalizeIndentation:q=>M.normalizeIndentation(q)},M.languageConfigurationService);if(X){let q=M.visibleColumnFromColumn(K,Q.getEndPosition());const U=Q.endColumn,L=K.getLineContent(Q.endLineNumber),B=F.LC(L);if(B>=0?Q=Q.setEndPosition(Q.endLineNumber,Math.max(Q.endColumn,B+1)):Q=Q.setEndPosition(Q.endLineNumber,K.getLineMaxColumn(Q.endLineNumber)),z)return new g.Sj(Q,`
`+M.normalizeIndentation(X.afterEnter),!0);{let j=0;return U<=B+1&&(M.insertSpaces||(q=Math.ceil(q/M.indentSize)),j=Math.min(q+1-M.normalizeIndentation(X.afterEnter).length-1,0)),new g.Uo(Q,`
`+M.normalizeIndentation(X.afterEnter),0,j,!0)}}}return C._typeCommand(Q,`
`+M.normalizeIndentation(P),z)}static _isAutoIndentType(M,K,z){if(M.autoIndent<4)return!1;for(let Q=0,Y=z.length;Q<Y;Q++)if(!K.tokenization.isCheapToTokenize(z[Q].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(M,K,z,Q){const Y=(0,f.u0)(K,z.startLineNumber,z.startColumn),H=(0,r.$9)(M.autoIndent,K,z,Q,{shiftIndent:P=>C.shiftIndent(M,P),unshiftIndent:P=>C.unshiftIndent(M,P)},M.languageConfigurationService);if(H===null)return null;if(H!==M.normalizeIndentation(Y)){const P=K.getLineFirstNonWhitespaceColumn(z.startLineNumber);return P===0?C._typeCommand(new S.e(z.startLineNumber,1,z.endLineNumber,z.endColumn),M.normalizeIndentation(H)+Q,!1):C._typeCommand(new S.e(z.startLineNumber,1,z.endLineNumber,z.endColumn),M.normalizeIndentation(H)+K.getLineContent(z.startLineNumber).substring(P-1,z.startColumn-1)+Q,!1)}return null}static _isAutoClosingOvertype(M,K,z,Q,Y){if(M.autoClosingOvertype==="never"||!M.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let H=0,P=z.length;H<P;H++){const X=z[H];if(!X.isEmpty())return!1;const q=X.getPosition(),U=K.getLineContent(q.lineNumber);if(U.charAt(q.column-1)!==Y)return!1;const B=(0,O.LN)(Y);if((q.column>2?U.charCodeAt(q.column-2):0)===92&&B)return!1;if(M.autoClosingOvertype==="auto"){let G=!1;for(let y=0,pe=Q.length;y<pe;y++){const ye=Q[y];if(q.lineNumber===ye.startLineNumber&&q.column===ye.startColumn){G=!0;break}}if(!G)return!1}}return!0}static _runAutoClosingOvertype(M,K,z,Q,Y){const H=[];for(let P=0,X=Q.length;P<X;P++){const U=Q[P].getPosition(),L=new S.e(U.lineNumber,U.column,U.lineNumber,U.column+1);H[P]=new g.T4(L,Y)}return new O.Tp(4,H,{shouldPushStackElementBefore:E(M,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(M,K){const z=K.charAt(0),Q=M.autoClosingPairs.autoClosingPairsOpenByStart.get(z)||[],Y=M.autoClosingPairs.autoClosingPairsCloseByStart.get(z)||[],H=Q.some(X=>K.startsWith(X.open)),P=Y.some(X=>K.startsWith(X.close));return!H&&P}static _findAutoClosingPairOpen(M,K,z,Q){const Y=M.autoClosingPairs.autoClosingPairsOpenByEnd.get(Q);if(!Y)return null;let H=null;for(const P of Y)if(H===null||P.open.length>H.open.length){let X=!0;for(const q of z)if(K.getValueInRange(new S.e(q.lineNumber,q.column-P.open.length+1,q.lineNumber,q.column))+Q!==P.open){X=!1;break}X&&(H=P)}return H}static _findContainedAutoClosingPair(M,K){if(K.open.length<=1)return null;const z=K.close.charAt(K.close.length-1),Q=M.autoClosingPairs.autoClosingPairsCloseByEnd.get(z)||[];let Y=null;for(const H of Q)H.open!==K.open&&K.open.includes(H.open)&&K.close.endsWith(H.close)&&(!Y||H.open.length>Y.open.length)&&(Y=H);return Y}static _getAutoClosingPairClose(M,K,z,Q,Y){const H=(0,O.LN)(Q),P=H?M.autoClosingQuotes:M.autoClosingBrackets,X=H?M.shouldAutoCloseBefore.quote:M.shouldAutoCloseBefore.bracket;if(P==="never")return null;for(const G of z)if(!G.isEmpty())return null;const q=z.map(G=>{const y=G.getPosition();return Y?{lineNumber:y.lineNumber,beforeColumn:y.column-Q.length,afterColumn:y.column}:{lineNumber:y.lineNumber,beforeColumn:y.column,afterColumn:y.column}}),U=this._findAutoClosingPairOpen(M,K,q.map(G=>new a.L(G.lineNumber,G.beforeColumn)),Q);if(!U)return null;const L=this._findContainedAutoClosingPair(M,U),B=L?L.close:"";let j=!0;for(const G of q){const{lineNumber:y,beforeColumn:pe,afterColumn:ye}=G,me=K.getLineContent(y),Se=me.substring(0,pe-1),_e=me.substring(ye-1);if(_e.startsWith(B)||(j=!1),_e.length>0){const Re=_e.charAt(0);if(!C._isBeforeClosingBrace(M,_e)&&!X(Re))return null}if(U.open.length===1&&(Q==="'"||Q==='"')&&P!=="always"){const Re=(0,p.u)(M.wordSeparators);if(Se.length>0){const $e=Se.charCodeAt(Se.length-1);if(Re.get($e)===0)return null}}if(!K.tokenization.isCheapToTokenize(y))return null;K.tokenization.forceTokenization(y);const he=K.tokenization.getLineTokens(y),le=(0,s.wH)(he,pe-1);if(!U.shouldAutoClose(le,pe-le.firstCharOffset))return null;const se=U.findNeutralCharacter();if(se){const Re=K.tokenization.getTokenTypeIfInsertingCharacter(y,pe,se);if(!U.isOK(Re))return null}}return j?U.close.substring(0,U.close.length-B.length):U.close}static _runAutoClosingOpenCharType(M,K,z,Q,Y,H,P){const X=[];for(let q=0,U=Q.length;q<U;q++){const L=Q[q];X[q]=new u(L,Y,!H,P)}return new O.Tp(4,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(M,K){return(0,O.LN)(K)?M.autoSurround==="quotes"||M.autoSurround==="languageDefined":M.autoSurround==="brackets"||M.autoSurround==="languageDefined"}static _isSurroundSelectionType(M,K,z,Q){if(!C._shouldSurroundChar(M,Q)||!M.surroundingPairs.hasOwnProperty(Q))return!1;const Y=(0,O.LN)(Q);for(const H of z){if(H.isEmpty())return!1;let P=!0;for(let X=H.startLineNumber;X<=H.endLineNumber;X++){const q=K.getLineContent(X),U=X===H.startLineNumber?H.startColumn-1:0,L=X===H.endLineNumber?H.endColumn-1:q.length,B=q.substring(U,L);if(/[^ \t]/.test(B)){P=!1;break}}if(P)return!1;if(Y&&H.startLineNumber===H.endLineNumber&&H.startColumn+1===H.endColumn){const X=K.getValueInRange(H);if((0,O.LN)(X))return!1}}return!0}static _runSurroundSelectionType(M,K,z,Q,Y){const H=[];for(let P=0,X=Q.length;P<X;P++){const q=Q[P],U=K.surroundingPairs[Y];H[P]=new N(q,Y,U)}return new O.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(M,K,z){return!!(z.length===1&&K.tokenization.isCheapToTokenize(z[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(M,K,z,Q,Y){if(!K.electricChars.hasOwnProperty(Y)||!Q.isEmpty())return null;const H=Q.getPosition();z.tokenization.forceTokenization(H.lineNumber);const P=z.tokenization.getLineTokens(H.lineNumber);let X;try{X=K.onElectricCharacter(Y,P,H.column)}catch(q){return(0,c.dL)(q),null}if(!X)return null;if(X.matchOpenBracket){const q=(P.getLineContent()+Y).lastIndexOf(X.matchOpenBracket)+1,U=z.bracketPairs.findMatchingBracketUp(X.matchOpenBracket,{lineNumber:H.lineNumber,column:q},500);if(U){if(U.startLineNumber===H.lineNumber)return null;const L=z.getLineContent(U.startLineNumber),B=F.V8(L),j=K.normalizeIndentation(B),G=z.getLineContent(H.lineNumber),y=z.getLineFirstNonWhitespaceColumn(H.lineNumber)||H.column,pe=G.substring(y-1,H.column-1),ye=j+pe+Y,me=new S.e(H.lineNumber,1,H.lineNumber,H.column),Se=new g.T4(me,ye);return new O.Tp(b(ye,M),[Se],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(M,K,z,Q,Y,H){if(!Q)return null;let P=null;for(const L of Q)if(P===null)P=L.insertedText;else if(P!==L.insertedText)return null;if(!P||P.length!==1)return null;const X=P;let q=!1;for(const L of Q)if(L.deletedText.length!==0){q=!0;break}if(q){if(!C._shouldSurroundChar(K,X)||!K.surroundingPairs.hasOwnProperty(X))return null;const L=(0,O.LN)(X);for(const G of Q)if(G.deletedSelectionStart!==0||G.deletedSelectionEnd!==G.deletedText.length||/^[ \t]+$/.test(G.deletedText)||L&&(0,O.LN)(G.deletedText))return null;const B=[];for(const G of Y){if(!G.isEmpty())return null;B.push(G.getPosition())}if(B.length!==Q.length)return null;const j=[];for(let G=0,y=B.length;G<y;G++)j.push(new x(B[G],Q[G].deletedText,K.surroundingPairs[X]));return new O.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(K,z,Y,H,X)){const L=Y.map(B=>new g.T4(new S.e(B.positionLineNumber,B.positionColumn,B.positionLineNumber,B.positionColumn+1),"",!1));return new O.Tp(4,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const U=this._getAutoClosingPairClose(K,z,Y,X,!0);return U!==null?this._runAutoClosingOpenCharType(M,K,z,Y,X,!0,U):null}static typeWithInterceptors(M,K,z,Q,Y,H,P){if(!M&&P===`
`){const U=[];for(let L=0,B=Y.length;L<B;L++)U[L]=C._enter(z,Q,!1,Y[L]);return new O.Tp(4,U,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!M&&this._isAutoIndentType(z,Q,Y)){const U=[];let L=!1;for(let B=0,j=Y.length;B<j;B++)if(U[B]=this._runAutoIndentType(z,Q,Y[B],P),!U[B]){L=!0;break}if(!L)return new O.Tp(4,U,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(z,Q,Y,H,P))return this._runAutoClosingOvertype(K,z,Q,Y,P);if(!M){const U=this._getAutoClosingPairClose(z,Q,Y,P,!1);if(U)return this._runAutoClosingOpenCharType(K,z,Q,Y,P,!1,U)}if(!M&&this._isSurroundSelectionType(z,Q,Y,P))return this._runSurroundSelectionType(K,z,Q,Y,P);if(!M&&this._isTypeInterceptorElectricChar(z,Q,Y)){const U=this._typeInterceptorElectricChar(K,z,Q,Y[0],P);if(U)return U}const X=[];for(let U=0,L=Y.length;U<L;U++)X[U]=new g.T4(Y[U],P);const q=b(P,K);return new O.Tp(q,X,{shouldPushStackElementBefore:E(K,q),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(M,K,z,Q,Y){const H=[];for(let X=0,q=Q.length;X<q;X++)H[X]=new g.T4(Q[X],Y);const P=b(Y,M);return new O.Tp(P,H,{shouldPushStackElementBefore:E(M,P),shouldPushStackElementAfter:!1})}static lineInsertBefore(M,K,z){if(K===null||z===null)return[];const Q=[];for(let Y=0,H=z.length;Y<H;Y++){let P=z[Y].positionLineNumber;if(P===1)Q[Y]=new g.Sj(new S.e(1,1,1,1),`
`);else{P--;const X=K.getLineMaxColumn(P);Q[Y]=this._enter(M,K,!1,new S.e(P,X,P,X))}}return Q}static lineInsertAfter(M,K,z){if(K===null||z===null)return[];const Q=[];for(let Y=0,H=z.length;Y<H;Y++){const P=z[Y].positionLineNumber,X=K.getLineMaxColumn(P);Q[Y]=this._enter(M,K,!1,new S.e(P,X,P,X))}return Q}static lineBreakInsert(M,K,z){const Q=[];for(let Y=0,H=z.length;Y<H;Y++)Q[Y]=this._enter(M,K,!0,z[Y]);return Q}}class u extends g.Uo{constructor(M,K,z,Q){super(M,(z?K:"")+Q,0,-Q.length),this._openCharacter=K,this._closeCharacter=Q,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(M,K){const Q=K.getInverseEditOperations()[0].range;return this.closeCharacterRange=new S.e(Q.startLineNumber,Q.endColumn-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),this.enclosingRange=new S.e(Q.startLineNumber,Q.endColumn-this._openCharacter.length-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),super.computeCursorState(M,K)}}class _{constructor(M,K,z,Q,Y,H){this.deletedText=M,this.deletedSelectionStart=K,this.deletedSelectionEnd=z,this.insertedText=Q,this.insertedSelectionStart=Y,this.insertedSelectionEnd=H}}function b(I,M){return I===" "?M===5||M===6?6:5:4}function E(I,M){return w(I)&&!w(M)?!0:I===5?!1:D(I)!==D(M)}function D(I){return I===6||I===5?"space":I}function w(I){return I===4||I===5||I===6}},50706:function(vt,be,i){"use strict";i.d(be,{L:function(){return x},w:function(){return N}});var c=i(30613),F=i(48657),g=i(60989),A=i(36669),S=i(43976),$=i(22445);class N{static _createWord(a,d,f,s,r){return{start:s,end:r,wordType:d,nextCharClass:f}}static _findPreviousWordOnLine(a,d,f){const s=d.getLineContent(f.lineNumber);return this._doFindPreviousWordOnLine(s,a,f)}static _doFindPreviousWordOnLine(a,d,f){let s=0;for(let r=f.column-2;r>=0;r--){const m=a.charCodeAt(r),C=d.get(m);if(C===0){if(s===2)return this._createWord(a,s,C,r+1,this._findEndOfWord(a,d,s,r+1));s=1}else if(C===2){if(s===1)return this._createWord(a,s,C,r+1,this._findEndOfWord(a,d,s,r+1));s=2}else if(C===1&&s!==0)return this._createWord(a,s,C,r+1,this._findEndOfWord(a,d,s,r+1))}return s!==0?this._createWord(a,s,1,0,this._findEndOfWord(a,d,s,0)):null}static _findEndOfWord(a,d,f,s){const r=a.length;for(let m=s;m<r;m++){const C=a.charCodeAt(m),u=d.get(C);if(u===1||f===1&&u===2||f===2&&u===0)return m}return r}static _findNextWordOnLine(a,d,f){const s=d.getLineContent(f.lineNumber);return this._doFindNextWordOnLine(s,a,f)}static _doFindNextWordOnLine(a,d,f){let s=0;const r=a.length;for(let m=f.column-1;m<r;m++){const C=a.charCodeAt(m),u=d.get(C);if(u===0){if(s===2)return this._createWord(a,s,u,this._findStartOfWord(a,d,s,m-1),m);s=1}else if(u===2){if(s===1)return this._createWord(a,s,u,this._findStartOfWord(a,d,s,m-1),m);s=2}else if(u===1&&s!==0)return this._createWord(a,s,u,this._findStartOfWord(a,d,s,m-1),m)}return s!==0?this._createWord(a,s,1,this._findStartOfWord(a,d,s,r-1),r):null}static _findStartOfWord(a,d,f,s){for(let r=s;r>=0;r--){const m=a.charCodeAt(r),C=d.get(m);if(C===1||f===1&&C===2||f===2&&C===0)return r+1}return 0}static moveWordLeft(a,d,f,s){let r=f.lineNumber,m=f.column;m===1&&r>1&&(r=r-1,m=d.getLineMaxColumn(r));let C=N._findPreviousWordOnLine(a,d,new S.L(r,m));if(s===0)return new S.L(r,C?C.start+1:1);if(s===1)return C&&C.wordType===2&&C.end-C.start===1&&C.nextCharClass===0&&(C=N._findPreviousWordOnLine(a,d,new S.L(r,C.start+1))),new S.L(r,C?C.start+1:1);if(s===3){for(;C&&C.wordType===2;)C=N._findPreviousWordOnLine(a,d,new S.L(r,C.start+1));return new S.L(r,C?C.start+1:1)}return C&&m<=C.end+1&&(C=N._findPreviousWordOnLine(a,d,new S.L(r,C.start+1))),new S.L(r,C?C.end+1:1)}static _moveWordPartLeft(a,d){const f=d.lineNumber,s=a.getLineMaxColumn(f);if(d.column===1)return f>1?new S.L(f-1,a.getLineMaxColumn(f-1)):d;const r=a.getLineContent(f);for(let m=d.column-1;m>1;m--){const C=r.charCodeAt(m-2),u=r.charCodeAt(m-1);if(C===95&&u!==95)return new S.L(f,m);if(C===45&&u!==45)return new S.L(f,m);if((c.mK(C)||c.T5(C))&&c.df(u))return new S.L(f,m);if(c.df(C)&&c.df(u)&&m+1<s){const _=r.charCodeAt(m);if(c.mK(_)||c.T5(_))return new S.L(f,m)}}return new S.L(f,1)}static moveWordRight(a,d,f,s){let r=f.lineNumber,m=f.column,C=!1;m===d.getLineMaxColumn(r)&&r<d.getLineCount()&&(C=!0,r=r+1,m=1);let u=N._findNextWordOnLine(a,d,new S.L(r,m));if(s===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=N._findNextWordOnLine(a,d,new S.L(r,u.end+1))),u?m=u.end+1:m=d.getLineMaxColumn(r);else if(s===3){for(C&&(m=0);u&&(u.wordType===2||u.start+1<=m);)u=N._findNextWordOnLine(a,d,new S.L(r,u.end+1));u?m=u.start+1:m=d.getLineMaxColumn(r)}else u&&!C&&m>=u.start+1&&(u=N._findNextWordOnLine(a,d,new S.L(r,u.end+1))),u?m=u.start+1:m=d.getLineMaxColumn(r);return new S.L(r,m)}static _moveWordPartRight(a,d){const f=d.lineNumber,s=a.getLineMaxColumn(f);if(d.column===s)return f<a.getLineCount()?new S.L(f+1,1):d;const r=a.getLineContent(f);for(let m=d.column+1;m<s;m++){const C=r.charCodeAt(m-2),u=r.charCodeAt(m-1);if(C!==95&&u===95)return new S.L(f,m);if(C!==45&&u===45)return new S.L(f,m);if((c.mK(C)||c.T5(C))&&c.df(u))return new S.L(f,m);if(c.df(C)&&c.df(u)&&m+1<s){const _=r.charCodeAt(m);if(c.mK(_)||c.T5(_))return new S.L(f,m)}}return new S.L(f,s)}static _deleteWordLeftWhitespace(a,d){const f=a.getLineContent(d.lineNumber),s=d.column-2,r=c.ow(f,s);return r+1<s?new $.e(d.lineNumber,r+2,d.lineNumber,d.column):null}static deleteWordLeft(a,d){const f=a.wordSeparators,s=a.model,r=a.selection,m=a.whitespaceHeuristics;if(!r.isEmpty())return r;if(g.A.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const E=a.selection.getPosition();return new $.e(E.lineNumber,E.column-1,E.lineNumber,E.column+1)}const C=new S.L(r.positionLineNumber,r.positionColumn);let u=C.lineNumber,_=C.column;if(u===1&&_===1)return null;if(m){const E=this._deleteWordLeftWhitespace(s,C);if(E)return E}let b=N._findPreviousWordOnLine(f,s,C);return d===0?b?_=b.start+1:_>1?_=1:(u--,_=s.getLineMaxColumn(u)):(b&&_<=b.end+1&&(b=N._findPreviousWordOnLine(f,s,new S.L(u,b.start+1))),b?_=b.end+1:_>1?_=1:(u--,_=s.getLineMaxColumn(u))),new $.e(u,_,C.lineNumber,C.column)}static deleteInsideWord(a,d,f){if(!f.isEmpty())return f;const s=new S.L(f.positionLineNumber,f.positionColumn),r=this._deleteInsideWordWhitespace(d,s);return r||this._deleteInsideWordDetermineDeleteRange(a,d,s)}static _charAtIsWhitespace(a,d){const f=a.charCodeAt(d);return f===32||f===9}static _deleteInsideWordWhitespace(a,d){const f=a.getLineContent(d.lineNumber),s=f.length;if(s===0)return null;let r=Math.max(d.column-2,0);if(!this._charAtIsWhitespace(f,r))return null;let m=Math.min(d.column-1,s-1);if(!this._charAtIsWhitespace(f,m))return null;for(;r>0&&this._charAtIsWhitespace(f,r-1);)r--;for(;m+1<s&&this._charAtIsWhitespace(f,m+1);)m++;return new $.e(d.lineNumber,r+1,d.lineNumber,m+2)}static _deleteInsideWordDetermineDeleteRange(a,d,f){const s=d.getLineContent(f.lineNumber),r=s.length;if(r===0)return f.lineNumber>1?new $.e(f.lineNumber-1,d.getLineMaxColumn(f.lineNumber-1),f.lineNumber,1):f.lineNumber<d.getLineCount()?new $.e(f.lineNumber,1,f.lineNumber+1,1):new $.e(f.lineNumber,1,f.lineNumber,1);const m=E=>E.start+1<=f.column&&f.column<=E.end+1,C=(E,D)=>(E=Math.min(E,f.column),D=Math.max(D,f.column),new $.e(f.lineNumber,E,f.lineNumber,D)),u=E=>{let D=E.start+1,w=E.end+1,I=!1;for(;w-1<r&&this._charAtIsWhitespace(s,w-1);)I=!0,w++;if(!I)for(;D>1&&this._charAtIsWhitespace(s,D-2);)D--;return C(D,w)},_=N._findPreviousWordOnLine(a,d,f);if(_&&m(_))return u(_);const b=N._findNextWordOnLine(a,d,f);return b&&m(b)?u(b):_&&b?C(_.end+1,b.start+1):_?C(_.start+1,_.end+1):b?C(b.start+1,b.end+1):C(1,r+1)}static _deleteWordPartLeft(a,d){if(!d.isEmpty())return d;const f=d.getPosition(),s=N._moveWordPartLeft(a,f);return new $.e(f.lineNumber,f.column,s.lineNumber,s.column)}static _findFirstNonWhitespaceChar(a,d){const f=a.length;for(let s=d;s<f;s++){const r=a.charAt(s);if(r!==" "&&r!=="	")return s}return f}static _deleteWordRightWhitespace(a,d){const f=a.getLineContent(d.lineNumber),s=d.column-1,r=this._findFirstNonWhitespaceChar(f,s);return s+1<r?new $.e(d.lineNumber,d.column,d.lineNumber,r+1):null}static deleteWordRight(a,d){const f=a.wordSeparators,s=a.model,r=a.selection,m=a.whitespaceHeuristics;if(!r.isEmpty())return r;const C=new S.L(r.positionLineNumber,r.positionColumn);let u=C.lineNumber,_=C.column;const b=s.getLineCount(),E=s.getLineMaxColumn(u);if(u===b&&_===E)return null;if(m){const w=this._deleteWordRightWhitespace(s,C);if(w)return w}let D=N._findNextWordOnLine(f,s,C);return d===2?D?_=D.end+1:_<E||u===b?_=E:(u++,D=N._findNextWordOnLine(f,s,new S.L(u,1)),D?_=D.start+1:_=s.getLineMaxColumn(u)):(D&&_>=D.start+1&&(D=N._findNextWordOnLine(f,s,new S.L(u,D.end+1))),D?_=D.start+1:_<E||u===b?_=E:(u++,D=N._findNextWordOnLine(f,s,new S.L(u,1)),D?_=D.start+1:_=s.getLineMaxColumn(u))),new $.e(u,_,C.lineNumber,C.column)}static _deleteWordPartRight(a,d){if(!d.isEmpty())return d;const f=d.getPosition(),s=N._moveWordPartRight(a,f);return new $.e(f.lineNumber,f.column,s.lineNumber,s.column)}static _createWordAtPosition(a,d,f){const s=new $.e(d,f.start+1,d,f.end+1);return{word:a.getValueInRange(s),startColumn:s.startColumn,endColumn:s.endColumn}}static getWordAtPosition(a,d,f){const s=(0,A.u)(d),r=N._findPreviousWordOnLine(s,a,f);if(r&&r.wordType===1&&r.start<=f.column-1&&f.column-1<=r.end)return N._createWordAtPosition(a,f.lineNumber,r);const m=N._findNextWordOnLine(s,a,f);return m&&m.wordType===1&&m.start<=f.column-1&&f.column-1<=m.end?N._createWordAtPosition(a,f.lineNumber,m):null}static word(a,d,f,s,r){const m=(0,A.u)(a.wordSeparators),C=N._findPreviousWordOnLine(m,d,r),u=N._findNextWordOnLine(m,d,r);if(!s){let w,I;return C&&C.wordType===1&&C.start<=r.column-1&&r.column-1<=C.end?(w=C.start+1,I=C.end+1):u&&u.wordType===1&&u.start<=r.column-1&&r.column-1<=u.end?(w=u.start+1,I=u.end+1):(C?w=C.end+1:w=1,u?I=u.start+1:I=d.getLineMaxColumn(r.lineNumber)),new F.rS(new $.e(r.lineNumber,w,r.lineNumber,I),1,0,new S.L(r.lineNumber,I),0)}let _,b;C&&C.wordType===1&&C.start<r.column-1&&r.column-1<C.end?(_=C.start+1,b=C.end+1):u&&u.wordType===1&&u.start<r.column-1&&r.column-1<u.end?(_=u.start+1,b=u.end+1):(_=r.column,b=r.column);const E=r.lineNumber;let D;if(f.selectionStart.containsPosition(r))D=f.selectionStart.endColumn;else if(r.isBeforeOrEqual(f.selectionStart.getStartPosition())){D=_;const w=new S.L(E,D);f.selectionStart.containsPosition(w)&&(D=f.selectionStart.endColumn)}else{D=b;const w=new S.L(E,D);f.selectionStart.containsPosition(w)&&(D=f.selectionStart.startColumn)}return f.move(!0,E,D,0)}}class x extends N{static deleteWordPartLeft(a){const d=O([N.deleteWordLeft(a,0),N.deleteWordLeft(a,2),N._deleteWordPartLeft(a.model,a.selection)]);return d.sort($.e.compareRangesUsingEnds),d[2]}static deleteWordPartRight(a){const d=O([N.deleteWordRight(a,0),N.deleteWordRight(a,2),N._deleteWordPartRight(a.model,a.selection)]);return d.sort($.e.compareRangesUsingStarts),d[0]}static moveWordPartLeft(a,d,f){const s=O([N.moveWordLeft(a,d,f,0),N.moveWordLeft(a,d,f,2),N._moveWordPartLeft(d,f)]);return s.sort(S.L.compare),s[2]}static moveWordPartRight(a,d,f){const s=O([N.moveWordRight(a,d,f,0),N.moveWordRight(a,d,f,2),N._moveWordPartRight(d,f)]);return s.sort(S.L.compare),s[0]}}function O(p){return p.filter(a=>Boolean(a))}},37282:function(vt,be,i){"use strict";i.d(be,{p:function(){return c}});class c{constructor(g,A,S,$,N,x){this.id=g,this.label=A,this.alias=S,this._precondition=$,this._run=N,this._contextKeyService=x}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},12957:function(vt,be,i){"use strict";i.d(be,{g:function(){return c}});const c={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},73805:function(vt,be,i){"use strict";i.d(be,{u:function(){return g}});var c=i(15779),F=i(23286),g;(function(A){A.editorSimpleInput=new F.uy("editorSimpleInput",!1,!0),A.editorTextFocus=new F.uy("editorTextFocus",!1,c.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),A.focus=new F.uy("editorFocus",!1,c.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),A.textInputFocus=new F.uy("textInputFocus",!1,c.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),A.readOnly=new F.uy("editorReadonly",!1,c.NC("editorReadonly","Whether the editor is read only")),A.inDiffEditor=new F.uy("inDiffEditor",!1,c.NC("inDiffEditor","Whether the context is a diff editor")),A.columnSelection=new F.uy("editorColumnSelection",!1,c.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),A.writable=A.readOnly.toNegated(),A.hasNonEmptySelection=new F.uy("editorHasSelection",!1,c.NC("editorHasSelection","Whether the editor has text selected")),A.hasOnlyEmptySelection=A.hasNonEmptySelection.toNegated(),A.hasMultipleSelections=new F.uy("editorHasMultipleSelections",!1,c.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),A.hasSingleSelection=A.hasMultipleSelections.toNegated(),A.tabMovesFocus=new F.uy("editorTabMovesFocus",!1,c.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),A.tabDoesNotMoveFocus=A.tabMovesFocus.toNegated(),A.isInWalkThroughSnippet=new F.uy("isInEmbeddedEditor",!1,!0),A.canUndo=new F.uy("canUndo",!1,!0),A.canRedo=new F.uy("canRedo",!1,!0),A.hoverVisible=new F.uy("editorHoverVisible",!1,c.NC("editorHoverVisible","Whether the editor hover is visible")),A.inCompositeEditor=new F.uy("inCompositeEditor",void 0,c.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),A.notInCompositeEditor=A.inCompositeEditor.toNegated(),A.languageId=new F.uy("editorLangId","",c.NC("editorLangId","The language identifier of the editor")),A.hasCompletionItemProvider=new F.uy("editorHasCompletionItemProvider",!1,c.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),A.hasCodeActionsProvider=new F.uy("editorHasCodeActionsProvider",!1,c.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),A.hasCodeLensProvider=new F.uy("editorHasCodeLensProvider",!1,c.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),A.hasDefinitionProvider=new F.uy("editorHasDefinitionProvider",!1,c.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),A.hasDeclarationProvider=new F.uy("editorHasDeclarationProvider",!1,c.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),A.hasImplementationProvider=new F.uy("editorHasImplementationProvider",!1,c.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),A.hasTypeDefinitionProvider=new F.uy("editorHasTypeDefinitionProvider",!1,c.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),A.hasHoverProvider=new F.uy("editorHasHoverProvider",!1,c.NC("editorHasHoverProvider","Whether the editor has a hover provider")),A.hasDocumentHighlightProvider=new F.uy("editorHasDocumentHighlightProvider",!1,c.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),A.hasDocumentSymbolProvider=new F.uy("editorHasDocumentSymbolProvider",!1,c.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),A.hasReferenceProvider=new F.uy("editorHasReferenceProvider",!1,c.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),A.hasRenameProvider=new F.uy("editorHasRenameProvider",!1,c.NC("editorHasRenameProvider","Whether the editor has a rename provider")),A.hasSignatureHelpProvider=new F.uy("editorHasSignatureHelpProvider",!1,c.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),A.hasInlayHintsProvider=new F.uy("editorHasInlayHintsProvider",!1,c.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),A.hasDocumentFormattingProvider=new F.uy("editorHasDocumentFormattingProvider",!1,c.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),A.hasDocumentSelectionFormattingProvider=new F.uy("editorHasDocumentSelectionFormattingProvider",!1,c.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),A.hasMultipleDocumentFormattingProvider=new F.uy("editorHasMultipleDocumentFormattingProvider",!1,c.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),A.hasMultipleDocumentSelectionFormattingProvider=new F.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,c.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(g||(g={}))},26163:function(vt,be,i){"use strict";i.d(be,{n:function(){return g},y:function(){return F}});const c=[];function F(A){c.push(A)}function g(){return c.slice(0)}},58848:function(vt,be,i){"use strict";i.d(be,{N:function(){return c}});class c{static getLanguageId(g){return(g&255)>>>0}static getTokenType(g){return(g&768)>>>8}static containsBalancedBrackets(g){return(g&1024)!==0}static getFontStyle(g){return(g&30720)>>>11}static getForeground(g){return(g&16744448)>>>15}static getBackground(g){return(g&4278190080)>>>24}static getClassNameFromMetadata(g){let S="mtk"+this.getForeground(g);const $=this.getFontStyle(g);return $&1&&(S+=" mtki"),$&2&&(S+=" mtkb"),$&4&&(S+=" mtku"),$&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(g,A){const S=this.getForeground(g),$=this.getFontStyle(g);let N=`color: ${A[S]};`;$&1&&(N+="font-style: italic;"),$&2&&(N+="font-weight: bold;");let x="";return $&4&&(x+=" underline"),$&8&&(x+=" line-through"),x&&(N+=`text-decoration:${x};`),N}static getPresentationFromMetadata(g){const A=this.getForeground(g),S=this.getFontStyle(g);return{foreground:A,italic:Boolean(S&1),bold:Boolean(S&2),underline:Boolean(S&4),strikethrough:Boolean(S&8)}}}},33686:function(vt,be,i){"use strict";i.d(be,{mY:function(){return _},gX:function(){return d},MY:function(){return r},DI:function(){return a},AD:function(){return u},gl:function(){return b},bw:function(){return f},WW:function(){return s},uZ:function(){return C},WU:function(){return O},RW:function(){return E},hG:function(){return p},vx:function(){return m}});var c=i(54195),F=i(39508),g=i(22445),A=i(94162),S=i(52357),$=function(D,w,I,M){function K(z){return z instanceof I?z:new I(function(Q){Q(z)})}return new(I||(I=Promise))(function(z,Q){function Y(X){try{P(M.next(X))}catch(q){Q(q)}}function H(X){try{P(M.throw(X))}catch(q){Q(q)}}function P(X){X.done?z(X.value):K(X.value).then(Y,H)}P((M=M.apply(D,w||[])).next())})};class N{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new A.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(w){this._onDidChange.fire({changedLanguages:w,changedColorMap:!1})}register(w,I){return this._map.set(w,I),this.fire([w]),(0,S.OF)(()=>{this._map.get(w)===I&&(this._map.delete(w),this.fire([w]))})}registerFactory(w,I){var M;(M=this._factories.get(w))===null||M===void 0||M.dispose();const K=new x(this,w,I);return this._factories.set(w,K),(0,S.OF)(()=>{const z=this._factories.get(w);!z||z!==K||(this._factories.delete(w),z.dispose())})}getOrCreate(w){return $(this,void 0,void 0,function*(){const I=this.get(w);if(I)return I;const M=this._factories.get(w);return!M||M.isResolved?null:(yield M.resolve(),this.get(w))})}get(w){return this._map.get(w)||null}isResolved(w){if(this.get(w))return!0;const M=this._factories.get(w);return!!(!M||M.isResolved)}setColorMap(w){this._colorMap=w,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class x extends S.JT{get isResolved(){return this._isResolved}constructor(w,I,M){super(),this._registry=w,this._languageId=I,this._factory=M,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return $(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return $(this,void 0,void 0,function*(){const w=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,w&&!this._isDisposed&&this._register(this._registry.register(this._languageId,w))})}}class O{constructor(w,I,M){this.offset=w,this.type=I,this.language=M,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class p{constructor(w,I){this.tokens=w,this.endState=I,this._tokenizationResultBrand=void 0}}class a{constructor(w,I){this.tokens=w,this.endState=I,this._encodedTokenizationResultBrand=void 0}}var d;(function(D){const w=new Map;w.set(0,c.l.symbolMethod),w.set(1,c.l.symbolFunction),w.set(2,c.l.symbolConstructor),w.set(3,c.l.symbolField),w.set(4,c.l.symbolVariable),w.set(5,c.l.symbolClass),w.set(6,c.l.symbolStruct),w.set(7,c.l.symbolInterface),w.set(8,c.l.symbolModule),w.set(9,c.l.symbolProperty),w.set(10,c.l.symbolEvent),w.set(11,c.l.symbolOperator),w.set(12,c.l.symbolUnit),w.set(13,c.l.symbolValue),w.set(15,c.l.symbolEnum),w.set(14,c.l.symbolConstant),w.set(15,c.l.symbolEnum),w.set(16,c.l.symbolEnumMember),w.set(17,c.l.symbolKeyword),w.set(27,c.l.symbolSnippet),w.set(18,c.l.symbolText),w.set(19,c.l.symbolColor),w.set(20,c.l.symbolFile),w.set(21,c.l.symbolReference),w.set(22,c.l.symbolCustomColor),w.set(23,c.l.symbolFolder),w.set(24,c.l.symbolTypeParameter),w.set(25,c.l.account),w.set(26,c.l.issues);function I(z){let Q=w.get(z);return Q||(console.info("No codicon found for CompletionItemKind "+z),Q=c.l.symbolProperty),Q}D.toIcon=I;const M=new Map;M.set("method",0),M.set("function",1),M.set("constructor",2),M.set("field",3),M.set("variable",4),M.set("class",5),M.set("struct",6),M.set("interface",7),M.set("module",8),M.set("property",9),M.set("event",10),M.set("operator",11),M.set("unit",12),M.set("value",13),M.set("constant",14),M.set("enum",15),M.set("enum-member",16),M.set("enumMember",16),M.set("keyword",17),M.set("snippet",27),M.set("text",18),M.set("color",19),M.set("file",20),M.set("reference",21),M.set("customcolor",22),M.set("folder",23),M.set("type-parameter",24),M.set("typeParameter",24),M.set("account",25),M.set("issue",26);function K(z,Q){let Y=M.get(z);return typeof Y=="undefined"&&!Q&&(Y=9),Y}D.fromString=K})(d||(d={}));var f;(function(D){D[D.Automatic=0]="Automatic",D[D.Explicit=1]="Explicit"})(f||(f={}));var s;(function(D){D[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange"})(s||(s={}));var r;(function(D){D[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write"})(r||(r={}));function m(D){return D&&F.o.isUri(D.uri)&&g.e.isIRange(D.range)&&(g.e.isIRange(D.originSelectionRange)||g.e.isIRange(D.targetSelectionRange))}var C;(function(D){const w=new Map;w.set(0,c.l.symbolFile),w.set(1,c.l.symbolModule),w.set(2,c.l.symbolNamespace),w.set(3,c.l.symbolPackage),w.set(4,c.l.symbolClass),w.set(5,c.l.symbolMethod),w.set(6,c.l.symbolProperty),w.set(7,c.l.symbolField),w.set(8,c.l.symbolConstructor),w.set(9,c.l.symbolEnum),w.set(10,c.l.symbolInterface),w.set(11,c.l.symbolFunction),w.set(12,c.l.symbolVariable),w.set(13,c.l.symbolConstant),w.set(14,c.l.symbolString),w.set(15,c.l.symbolNumber),w.set(16,c.l.symbolBoolean),w.set(17,c.l.symbolArray),w.set(18,c.l.symbolObject),w.set(19,c.l.symbolKey),w.set(20,c.l.symbolNull),w.set(21,c.l.symbolEnumMember),w.set(22,c.l.symbolStruct),w.set(23,c.l.symbolEvent),w.set(24,c.l.symbolOperator),w.set(25,c.l.symbolTypeParameter);function I(M){let K=w.get(M);return K||(console.info("No codicon found for SymbolKind "+M),K=c.l.symbolProperty),K}D.toIcon=I})(C||(C={}));class u{static fromValue(w){switch(w){case"comment":return u.Comment;case"imports":return u.Imports;case"region":return u.Region}return new u(w)}constructor(w){this.value=w}}u.Comment=new u("comment"),u.Imports=new u("imports"),u.Region=new u("region");var _;(function(D){function w(I){return!I||typeof I!="object"?!1:typeof I.id=="string"&&typeof I.title=="string"}D.is=w})(_||(_={}));var b;(function(D){D[D.Type=1]="Type",D[D.Parameter=2]="Parameter"})(b||(b={}));const E=new N},63019:function(vt,be,i){"use strict";i.d(be,{$9:function(){return O},UF:function(){return x},n8:function(){return N},r7:function(){return $},tI:function(){return p}});var c=i(30613),F=i(13160),g=i(29246),A=i(28170);function S(a,d,f){const s=a.tokenization.getLanguageIdAtPosition(d,0);if(d>1){let r,m=-1;for(r=d-1;r>=1;r--){if(a.tokenization.getLanguageIdAtPosition(r,0)!==s)return m;const C=a.getLineContent(r);if(f.shouldIgnore(C)||/^\s+$/.test(C)||C===""){m=r;continue}return r}}return-1}function $(a,d,f,s=!0,r){if(a<4)return null;const m=r.getLanguageConfiguration(d.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;if(f<=1)return{indentation:"",action:null};for(let _=f-1;_>0&&d.getLineContent(_)==="";_--)if(_===1)return{indentation:"",action:null};const C=S(d,f,m);if(C<0)return null;if(C<1)return{indentation:"",action:null};const u=d.getLineContent(C);if(m.shouldIncrease(u)||m.shouldIndentNextLine(u))return{indentation:c.V8(u),action:F.wU.Indent,line:C};if(m.shouldDecrease(u))return{indentation:c.V8(u),action:null,line:C};{if(C===1)return{indentation:c.V8(d.getLineContent(C)),action:null,line:C};const _=C-1,b=m.getIndentMetadata(d.getLineContent(_));if(!(b&3)&&b&4){let E=0;for(let D=_-1;D>0;D--)if(!m.shouldIndentNextLine(d.getLineContent(D))){E=D;break}return{indentation:c.V8(d.getLineContent(E+1)),action:null,line:E+1}}if(s)return{indentation:c.V8(d.getLineContent(C)),action:null,line:C};for(let E=C;E>0;E--){const D=d.getLineContent(E);if(m.shouldIncrease(D))return{indentation:c.V8(D),action:F.wU.Indent,line:E};if(m.shouldIndentNextLine(D)){let w=0;for(let I=E-1;I>0;I--)if(!m.shouldIndentNextLine(d.getLineContent(E))){w=I;break}return{indentation:c.V8(d.getLineContent(w+1)),action:null,line:w+1}}else if(m.shouldDecrease(D))return{indentation:c.V8(D),action:null,line:E}}return{indentation:c.V8(d.getLineContent(1)),action:null,line:1}}}function N(a,d,f,s,r,m){if(a<4)return null;const C=m.getLanguageConfiguration(f);if(!C)return null;const u=m.getLanguageConfiguration(f).indentRulesSupport;if(!u)return null;const _=$(a,d,s,void 0,m),b=d.getLineContent(s);if(_){const E=_.line;if(E!==void 0){let D=!0;for(let w=E;w<s-1;w++)if(!/^\s*$/.test(d.getLineContent(w))){D=!1;break}if(D){const w=C.onEnter(a,"",d.getLineContent(E),"");if(w){let I=c.V8(d.getLineContent(E));return w.removeText&&(I=I.substring(0,I.length-w.removeText)),w.indentAction===F.wU.Indent||w.indentAction===F.wU.IndentOutdent?I=r.shiftIndent(I):w.indentAction===F.wU.Outdent&&(I=r.unshiftIndent(I)),u.shouldDecrease(b)&&(I=r.unshiftIndent(I)),w.appendText&&(I+=w.appendText),c.V8(I)}}}return u.shouldDecrease(b)?_.action===F.wU.Indent?_.indentation:r.unshiftIndent(_.indentation):_.action===F.wU.Indent?r.shiftIndent(_.indentation):_.indentation}return null}function x(a,d,f,s,r){if(a<4)return null;d.tokenization.forceTokenization(f.startLineNumber);const m=d.tokenization.getLineTokens(f.startLineNumber),C=(0,g.wH)(m,f.startColumn-1),u=C.getLineContent();let _=!1,b;C.firstCharOffset>0&&m.getLanguageId(0)!==C.languageId?(_=!0,b=u.substr(0,f.startColumn-1-C.firstCharOffset)):b=m.getLineContent().substring(0,f.startColumn-1);let E;f.isEmpty()?E=u.substr(f.startColumn-1-C.firstCharOffset):E=(0,A.n2)(d,f.endLineNumber,f.endColumn).getLineContent().substr(f.endColumn-1-C.firstCharOffset);const D=r.getLanguageConfiguration(C.languageId).indentRulesSupport;if(!D)return null;const w=b,I=c.V8(b),M={tokenization:{getLineTokens:Y=>d.tokenization.getLineTokens(Y),getLanguageId:()=>d.getLanguageId(),getLanguageIdAtPosition:(Y,H)=>d.getLanguageIdAtPosition(Y,H)},getLineContent:Y=>Y===f.startLineNumber?w:d.getLineContent(Y)},K=c.V8(m.getLineContent()),z=$(a,M,f.startLineNumber+1,void 0,r);if(!z){const Y=_?K:I;return{beforeEnter:Y,afterEnter:Y}}let Q=_?K:z.indentation;return z.action===F.wU.Indent&&(Q=s.shiftIndent(Q)),D.shouldDecrease(E)&&(Q=s.unshiftIndent(Q)),{beforeEnter:_?K:I,afterEnter:Q}}function O(a,d,f,s,r,m){if(a<4)return null;const C=(0,A.n2)(d,f.startLineNumber,f.startColumn);if(C.firstCharOffset)return null;const u=m.getLanguageConfiguration(C.languageId).indentRulesSupport;if(!u)return null;const _=C.getLineContent(),b=_.substr(0,f.startColumn-1-C.firstCharOffset);let E;if(f.isEmpty()?E=_.substr(f.startColumn-1-C.firstCharOffset):E=(0,A.n2)(d,f.endLineNumber,f.endColumn).getLineContent().substr(f.endColumn-1-C.firstCharOffset),!u.shouldDecrease(b+E)&&u.shouldDecrease(b+s+E)){const D=$(a,d,f.startLineNumber,!1,m);if(!D)return null;let w=D.indentation;return D.action!==F.wU.Indent&&(w=r.unshiftIndent(w)),w}return null}function p(a,d,f){const s=f.getLanguageConfiguration(a.getLanguageId()).indentRulesSupport;return!s||d<1||d>a.getLineCount()?null:s.getIndentMetadata(a.getLineContent(d))}},76326:function(vt,be,i){"use strict";i.d(be,{A:function(){return g}});var c=i(13160),F=i(28170);function g(A,S,$,N){const x=(0,F.n2)(S,$.startLineNumber,$.startColumn),O=N.getLanguageConfiguration(x.languageId);if(!O)return null;const p=x.getLineContent(),a=p.substr(0,$.startColumn-1-x.firstCharOffset);let d;$.isEmpty()?d=p.substr($.startColumn-1-x.firstCharOffset):d=(0,F.n2)(S,$.endLineNumber,$.endColumn).getLineContent().substr($.endColumn-1-x.firstCharOffset);let f="";if($.startLineNumber>1&&x.firstCharOffset===0){const _=(0,F.n2)(S,$.startLineNumber-1);_.languageId===x.languageId&&(f=_.getLineContent())}const s=O.onEnter(A,f,a,d);if(!s)return null;const r=s.indentAction;let m=s.appendText;const C=s.removeText||0;m?r===c.wU.Indent&&(m="	"+m):r===c.wU.Indent||r===c.wU.IndentOutdent?m="	":m="";let u=(0,F.u0)(S,$.startLineNumber,$.startColumn);return C&&(u=u.substring(0,u.length-C)),{indentAction:r,appendText:m,removeText:C,indentation:u}}},18426:function(vt,be,i){"use strict";i.d(be,{O:function(){return F}});var c=i(64700);const F=(0,c.yh)("languageService")},13160:function(vt,be,i){"use strict";i.d(be,{V6:function(){return F},c$:function(){return g},wU:function(){return c}});var c;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(c||(c={}));class F{constructor($){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=$.open,this.close=$.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray($.notIn))for(let N=0,x=$.notIn.length;N<x;N++)switch($.notIn[N]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK($){switch($){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose($,N){if($.getTokenCount()===0)return!0;const x=$.findTokenIndexAtOffset(N-2),O=$.getStandardTokenType(x);return this.isOK(O)}_findNeutralCharacterInRange($,N){for(let x=$;x<=N;x++){const O=String.fromCharCode(x);if(!this.open.includes(O)&&!this.close.includes(O))return O}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class g{constructor($){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const N of $)A(this.autoClosingPairsOpenByStart,N.open.charAt(0),N),A(this.autoClosingPairsOpenByEnd,N.open.charAt(N.open.length-1),N),A(this.autoClosingPairsCloseByStart,N.close.charAt(0),N),A(this.autoClosingPairsCloseByEnd,N.close.charAt(N.close.length-1),N),N.close.length===1&&N.open.length===1&&A(this.autoClosingPairsCloseSingleChar,N.close,N)}}function A(S,$,N){S.has($)?S.get($).push(N):S.set($,[N])}},28170:function(vt,be,i){"use strict";i.d(be,{c_:function(){return Y},u0:function(){return L},n2:function(){return B}});var c=i(94162),F=i(52357),g=i(30613),A=i(96605),S=i(13160),$=i(29246);class N{constructor(_e){if(_e.autoClosingPairs?this._autoClosingPairs=_e.autoClosingPairs.map(he=>new S.V6(he)):_e.brackets?this._autoClosingPairs=_e.brackets.map(he=>new S.V6({open:he[0],close:he[1]})):this._autoClosingPairs=[],_e.__electricCharacterSupport&&_e.__electricCharacterSupport.docComment){const he=_e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new S.V6({open:he.open,close:he.close||""}))}this._autoCloseBeforeForQuotes=typeof _e.autoCloseBefore=="string"?_e.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof _e.autoCloseBefore=="string"?_e.autoCloseBefore:N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=_e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(_e){return _e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,N.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var x=i(16842),O=i(92112);class p{constructor(_e){this._richEditBrackets=_e}getElectricCharacters(){const _e=[];if(this._richEditBrackets)for(const he of this._richEditBrackets.brackets)for(const le of he.close){const se=le.charAt(le.length-1);_e.push(se)}return(0,x.EB)(_e)}onElectricCharacter(_e,he,le){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const se=he.findTokenIndexAtOffset(le-1);if((0,$.Bu)(he.getStandardTokenType(se)))return null;const Re=this._richEditBrackets.reversedRegex,$e=he.getLineContent().substring(0,le-1)+_e,je=O.Vr.findPrevBracketInRange(Re,1,$e,0,$e.length);if(!je)return null;const Ce=$e.substring(je.startColumn-1,je.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ce])return null;const ne=he.getActualLineContentBefore(je.startColumn-1);return/^\s*$/.test(ne)?{matchOpenBracket:Ce}:null}}function a(Se){return Se.global&&(Se.lastIndex=0),!0}class d{constructor(_e){this._indentationRules=_e}shouldIncrease(_e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&a(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(_e))}shouldDecrease(_e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&a(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(_e))}shouldIndentNextLine(_e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&a(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(_e))}shouldIgnore(_e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&a(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(_e))}getIndentMetadata(_e){let he=0;return this.shouldIncrease(_e)&&(he+=1),this.shouldDecrease(_e)&&(he+=2),this.shouldIndentNextLine(_e)&&(he+=4),this.shouldIgnore(_e)&&(he+=8),he}}var f=i(50505);class s{constructor(_e){_e=_e||{},_e.brackets=_e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],_e.brackets.forEach(he=>{const le=s._createOpenBracketRegExp(he[0]),se=s._createCloseBracketRegExp(he[1]);le&&se&&this._brackets.push({open:he[0],openRegExp:le,close:he[1],closeRegExp:se})}),this._regExpRules=_e.onEnterRules||[]}onEnter(_e,he,le,se){if(_e>=3)for(let Re=0,$e=this._regExpRules.length;Re<$e;Re++){const je=this._regExpRules[Re];if([{reg:je.beforeText,text:le},{reg:je.afterText,text:se},{reg:je.previousLineText,text:he}].every(J=>J.reg?(J.reg.lastIndex=0,J.reg.test(J.text)):!0))return je.action}if(_e>=2&&le.length>0&&se.length>0)for(let Re=0,$e=this._brackets.length;Re<$e;Re++){const je=this._brackets[Re];if(je.openRegExp.test(le)&&je.closeRegExp.test(se))return{indentAction:S.wU.IndentOutdent}}if(_e>=2&&le.length>0){for(let Re=0,$e=this._brackets.length;Re<$e;Re++)if(this._brackets[Re].openRegExp.test(le))return{indentAction:S.wU.Indent}}return null}static _createOpenBracketRegExp(_e){let he=g.ec(_e);return/\B/.test(he.charAt(0))||(he="\\b"+he),he+="\\s*$",s._safeRegExp(he)}static _createCloseBracketRegExp(_e){let he=g.ec(_e);return/\B/.test(he.charAt(he.length-1))||(he=he+"\\b"),he="^\\s*"+he,s._safeRegExp(he)}static _safeRegExp(_e){try{return new RegExp(_e)}catch(he){return(0,f.dL)(he),null}}}var r=i(64700),m=i(64464),C=i(18426),u=i(70751),_=i(9821),b=i(53228);class E{constructor(_e,he){this.languageId=_e;const le=he.brackets?D(he.brackets):[],se=new b.b(je=>{const Ce=new Set;return{info:new I(this,je,Ce),closing:Ce}}),Re=new b.b(je=>{const Ce=new Set,J=new Set;return{info:new M(this,je,Ce,J),opening:Ce,openingColorized:J}});for(const[je,Ce]of le){const J=se.get(je),ne=Re.get(Ce);J.closing.add(ne.info),ne.opening.add(J.info)}const $e=he.colorizedBracketPairs?D(he.colorizedBracketPairs):le.filter(je=>!(je[0]==="<"&&je[1]===">"));for(const[je,Ce]of $e){const J=se.get(je),ne=Re.get(Ce);J.closing.add(ne.info),ne.openingColorized.add(J.info),ne.opening.add(J.info)}this._openingBrackets=new Map([...se.cachedValues].map(([je,Ce])=>[je,Ce.info])),this._closingBrackets=new Map([...Re.cachedValues].map(([je,Ce])=>[je,Ce.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(_e){return this._openingBrackets.get(_e)}getClosingBracketInfo(_e){return this._closingBrackets.get(_e)}getBracketInfo(_e){return this.getOpeningBracketInfo(_e)||this.getClosingBracketInfo(_e)}}function D(Se){return Se.filter(([_e,he])=>_e!==""&&he!=="")}class w{constructor(_e,he){this.config=_e,this.bracketText=he}get languageId(){return this.config.languageId}}class I extends w{constructor(_e,he,le){super(_e,he),this.openedBrackets=le,this.isOpeningBracket=!0}}class M extends w{constructor(_e,he,le,se){super(_e,he),this.openingBrackets=le,this.openingColorizedBrackets=se,this.isOpeningBracket=!1}closes(_e){return _e.config!==this.config?!1:this.openingBrackets.has(_e)}closesColorized(_e){return _e.config!==this.config?!1:this.openingColorizedBrackets.has(_e)}getOpeningBrackets(){return[...this.openingBrackets]}}var K=function(Se,_e,he,le){var se=arguments.length,Re=se<3?_e:le===null?le=Object.getOwnPropertyDescriptor(_e,he):le,$e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(Se,_e,he,le);else for(var je=Se.length-1;je>=0;je--)($e=Se[je])&&(Re=(se<3?$e(Re):se>3?$e(_e,he,Re):$e(_e,he))||Re);return se>3&&Re&&Object.defineProperty(_e,he,Re),Re},z=function(Se,_e){return function(he,le){_e(he,le,Se)}};class Q{constructor(_e){this.languageId=_e}affects(_e){return this.languageId?this.languageId===_e:!0}}const Y=(0,r.yh)("languageConfigurationService");let H=class extends F.JT{constructor(_e,he){super(),this.configurationService=_e,this.languageService=he,this._registry=this._register(new ye),this.onDidChangeEmitter=this._register(new c.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const le=new Set(Object.values(X));this._register(this.configurationService.onDidChangeConfiguration(se=>{const Re=se.change.keys.some(je=>le.has(je)),$e=se.change.overrides.filter(([je,Ce])=>Ce.some(J=>le.has(J))).map(([je])=>je);if(Re)this.configurations.clear(),this.onDidChangeEmitter.fire(new Q(void 0));else for(const je of $e)this.languageService.isRegisteredLanguageId(je)&&(this.configurations.delete(je),this.onDidChangeEmitter.fire(new Q(je)))})),this._register(this._registry.onDidChange(se=>{this.configurations.delete(se.languageId),this.onDidChangeEmitter.fire(new Q(se.languageId))}))}register(_e,he,le){return this._registry.register(_e,he,le)}getLanguageConfiguration(_e){let he=this.configurations.get(_e);return he||(he=P(_e,this._registry,this.configurationService,this.languageService),this.configurations.set(_e,he)),he}};H=K([z(0,m.Ui),z(1,C.O)],H);function P(Se,_e,he,le){let se=_e.getLanguageConfiguration(Se);if(!se){if(!le.isRegisteredLanguageId(Se))return new me(Se,{});se=new me(Se,{})}const Re=q(se.languageId,he),$e=G([se.underlyingConfig,Re]);return new me(se.languageId,$e)}const X={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function q(Se,_e){const he=_e.getValue(X.brackets,{overrideIdentifier:Se}),le=_e.getValue(X.colorizedBracketPairs,{overrideIdentifier:Se});return{brackets:U(he),colorizedBracketPairs:U(le)}}function U(Se){if(Array.isArray(Se))return Se.map(_e=>{if(!(!Array.isArray(_e)||_e.length!==2))return[_e[0],_e[1]]}).filter(_e=>!!_e)}function L(Se,_e,he){const le=Se.getLineContent(_e);let se=g.V8(le);return se.length>he-1&&(se=se.substring(0,he-1)),se}function B(Se,_e,he){Se.tokenization.forceTokenization(_e);const le=Se.tokenization.getLineTokens(_e),se=typeof he=="undefined"?Se.getLineMaxColumn(_e)-1:he-1;return(0,$.wH)(le,se)}class j{constructor(_e){this.languageId=_e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(_e,he){const le=new y(_e,he,++this._order);return this._entries.push(le),this._resolved=null,(0,F.OF)(()=>{for(let se=0;se<this._entries.length;se++)if(this._entries[se]===le){this._entries.splice(se,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const _e=this._resolve();_e&&(this._resolved=new me(this.languageId,_e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(y.cmp),G(this._entries.map(_e=>_e.configuration)))}}function G(Se){let _e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const he of Se)_e={comments:he.comments||_e.comments,brackets:he.brackets||_e.brackets,wordPattern:he.wordPattern||_e.wordPattern,indentationRules:he.indentationRules||_e.indentationRules,onEnterRules:he.onEnterRules||_e.onEnterRules,autoClosingPairs:he.autoClosingPairs||_e.autoClosingPairs,surroundingPairs:he.surroundingPairs||_e.surroundingPairs,autoCloseBefore:he.autoCloseBefore||_e.autoCloseBefore,folding:he.folding||_e.folding,colorizedBracketPairs:he.colorizedBracketPairs||_e.colorizedBracketPairs,__electricCharacterSupport:he.__electricCharacterSupport||_e.__electricCharacterSupport};return _e}class y{constructor(_e,he,le){this.configuration=_e,this.priority=he,this.order=le}static cmp(_e,he){return _e.priority===he.priority?_e.order-he.order:_e.priority-he.priority}}class pe{constructor(_e){this.languageId=_e}}class ye extends F.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new c.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(_.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(_e,he,le=0){let se=this._entries.get(_e);se||(se=new j(_e),this._entries.set(_e,se));const Re=se.register(he,le);return this._onDidChange.fire(new pe(_e)),(0,F.OF)(()=>{Re.dispose(),this._onDidChange.fire(new pe(_e))})}getLanguageConfiguration(_e){const he=this._entries.get(_e);return(he==null?void 0:he.getResolvedConfiguration())||null}}class me{constructor(_e,he){this.languageId=_e,this.underlyingConfig=he,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new s(this.underlyingConfig):null,this.comments=me._handleComments(this.underlyingConfig),this.characterPair=new N(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||A.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new d(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new E(_e,this.underlyingConfig)}getWordDefinition(){return(0,A.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new O.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}onEnter(_e,he,le,se){return this._onEnterSupport?this._onEnterSupport.onEnter(_e,he,le,se):null}getAutoClosingPairs(){return new S.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(_e){return this.characterPair.getAutoCloseBeforeSet(_e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(_e){const he=_e.comments;if(!he)return null;const le={};if(he.lineComment&&(le.lineCommentToken=he.lineComment),he.blockComment){const[se,Re]=he.blockComment;le.blockCommentStartToken=se,le.blockCommentEndToken=Re}return le}}(0,u.z)(Y,H,1)},9821:function(vt,be,i){"use strict";i.d(be,{bd:function(){return O},dQ:function(){return x}});var c=i(15779),F=i(94162),g=i(94814),A=i(70112),S=i(29628);const $={ModesRegistry:"editor.modesRegistry"};class N{constructor(){this._onDidChangeLanguages=new F.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(d){return this._languages.push(d),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let f=0,s=this._languages.length;f<s;f++)if(this._languages[f]===d){this._languages.splice(f,1);return}}}}getLanguages(){return this._languages}}const x=new N;g.B.add($.ModesRegistry,x);const O="plaintext",p=".txt";x.registerLanguage({id:O,extensions:[p],aliases:[c.NC("plainText.alias","Plain Text"),"text"],mimetypes:[A.v.text]}),g.B.as(S.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},82652:function(vt,be,i){"use strict";i.d(be,{Dy:function(){return A},Ri:function(){return g},TJ:function(){return F}});var c=i(33686);const F=new class{clone(){return this}equals(S){return this===S}};function g(S,$){return new c.hG([new c.WU(0,"",S)],$)}function A(S,$){const N=new Uint32Array(2);return N[0]=0,N[1]=(S<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new c.DI(N,$===null?F:$)}},29246:function(vt,be,i){"use strict";i.d(be,{Bu:function(){return g},wH:function(){return c}});function c(A,S){const $=A.getCount(),N=A.findTokenIndexAtOffset(S),x=A.getLanguageId(N);let O=N;for(;O+1<$&&A.getLanguageId(O+1)===x;)O++;let p=N;for(;p>0&&A.getLanguageId(p-1)===x;)p--;return new F(A,x,p,O+1,A.getStartOffset(p),A.getEndOffset(O))}class F{constructor(S,$,N,x,O,p){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=$,this._firstTokenIndex=N,this._lastTokenIndex=x,this.firstCharOffset=O,this._lastCharOffset=p}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}function g(A){return(A&3)!==0}},92112:function(vt,be,i){"use strict";i.d(be,{EA:function(){return $},Vr:function(){return C}});var c=i(30613),F=i(82336),g=i(22445);class A{constructor(_,b,E,D,w,I){this._richEditBracketBrand=void 0,this.languageId=_,this.index=b,this.open=E,this.close=D,this.forwardRegex=w,this.reversedRegex=I,this._openSet=A._toSet(this.open),this._closeSet=A._toSet(this.close)}isOpen(_){return this._openSet.has(_)}isClose(_){return this._closeSet.has(_)}static _toSet(_){const b=new Set;for(const E of _)b.add(E);return b}}function S(u){const _=u.length;u=u.map(I=>[I[0].toLowerCase(),I[1].toLowerCase()]);const b=[];for(let I=0;I<_;I++)b[I]=I;const E=(I,M)=>{const[K,z]=I,[Q,Y]=M;return K===Q||K===Y||z===Q||z===Y},D=(I,M)=>{const K=Math.min(I,M),z=Math.max(I,M);for(let Q=0;Q<_;Q++)b[Q]===z&&(b[Q]=K)};for(let I=0;I<_;I++){const M=u[I];for(let K=I+1;K<_;K++){const z=u[K];E(M,z)&&D(b[I],b[K])}}const w=[];for(let I=0;I<_;I++){const M=[],K=[];for(let z=0;z<_;z++)if(b[z]===I){const[Q,Y]=u[z];M.push(Q),K.push(Y)}M.length>0&&w.push({open:M,close:K})}return w}class ${constructor(_,b){this._richEditBracketsBrand=void 0;const E=S(b);this.brackets=E.map((D,w)=>new A(_,w,D.open,D.close,p(D.open,D.close,E,w),a(D.open,D.close,E,w))),this.forwardRegex=d(this.brackets),this.reversedRegex=f(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const D of this.brackets){for(const w of D.open)this.textIsBracket[w]=D,this.textIsOpenBracket[w]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,w.length);for(const w of D.close)this.textIsBracket[w]=D,this.textIsOpenBracket[w]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,w.length)}}}function N(u,_,b,E){for(let D=0,w=_.length;D<w;D++){if(D===b)continue;const I=_[D];for(const M of I.open)M.indexOf(u)>=0&&E.push(M);for(const M of I.close)M.indexOf(u)>=0&&E.push(M)}}function x(u,_){return u.length-_.length}function O(u){if(u.length<=1)return u;const _=[],b=new Set;for(const E of u)b.has(E)||(_.push(E),b.add(E));return _}function p(u,_,b,E){let D=[];D=D.concat(u),D=D.concat(_);for(let w=0,I=D.length;w<I;w++)N(D[w],b,E,D);return D=O(D),D.sort(x),D.reverse(),r(D)}function a(u,_,b,E){let D=[];D=D.concat(u),D=D.concat(_);for(let w=0,I=D.length;w<I;w++)N(D[w],b,E,D);return D=O(D),D.sort(x),D.reverse(),r(D.map(m))}function d(u){let _=[];for(const b of u){for(const E of b.open)_.push(E);for(const E of b.close)_.push(E)}return _=O(_),r(_)}function f(u){let _=[];for(const b of u){for(const E of b.open)_.push(E);for(const E of b.close)_.push(E)}return _=O(_),r(_.map(m))}function s(u){const _=/^[\w ]+$/.test(u);return u=c.ec(u),_?`\\b${u}\\b`:u}function r(u){const _=`(${u.map(s).join(")|(")})`;return c.GF(_,!0)}const m=function(){function u(E){const D=new Uint16Array(E.length);let w=0;for(let I=E.length-1;I>=0;I--)D[w++]=E.charCodeAt(I);return F.oe().decode(D)}let _=null,b=null;return function(D){return _!==D&&(_=D,b=u(_)),b}}();class C{static _findPrevBracketInText(_,b,E,D){const w=E.match(_);if(!w)return null;const I=E.length-(w.index||0),M=w[0].length,K=D+I;return new g.e(b,K-M+1,b,K+1)}static findPrevBracketInRange(_,b,E,D,w){const M=m(E).substring(E.length-w,E.length-D);return this._findPrevBracketInText(_,b,M,D)}static findNextBracketInText(_,b,E,D){const w=E.match(_);if(!w)return null;const I=w.index||0,M=w[0].length;if(M===0)return null;const K=D+I;return new g.e(b,K+1,b,K+1+M)}static findNextBracketInRange(_,b,E,D,w){const I=E.substring(D,w);return this.findNextBracketInText(_,b,I,D)}}},90574:function(vt,be,i){"use strict";i.d(be,{C2:function(){return N},Fq:function(){return x}});var c=i(30613),F=i(28273),g=i(33686),A=i(82652),S=function(p,a,d,f){function s(r){return r instanceof d?r:new d(function(m){m(r)})}return new(d||(d=Promise))(function(r,m){function C(b){try{_(f.next(b))}catch(E){m(E)}}function u(b){try{_(f.throw(b))}catch(E){m(E)}}function _(b){b.done?r(b.value):s(b.value).then(C,u)}_((f=f.apply(p,a||[])).next())})};const $={getInitialState:()=>A.TJ,tokenizeEncoded:(p,a,d)=>(0,A.Dy)(0,d)};function N(p,a,d){return S(this,void 0,void 0,function*(){if(!d)return O(a,p.languageIdCodec,$);const f=yield g.RW.getOrCreate(d);return O(a,p.languageIdCodec,f||$)})}function x(p,a,d,f,s,r,m){let C="<div>",u=f,_=0,b=!0;for(let E=0,D=a.getCount();E<D;E++){const w=a.getEndOffset(E);if(w<=f)continue;let I="";for(;u<w&&u<s;u++){const M=p.charCodeAt(u);switch(M){case 9:{let K=r-(u+_)%r;for(_+=K-1;K>0;)m&&b?(I+="&#160;",b=!1):(I+=" ",b=!0),K--;break}case 60:I+="&lt;",b=!1;break;case 62:I+="&gt;",b=!1;break;case 38:I+="&amp;",b=!1;break;case 0:I+="&#00;",b=!1;break;case 65279:case 8232:case 8233:case 133:I+="\uFFFD",b=!1;break;case 13:I+="&#8203",b=!1;break;case 32:m&&b?(I+="&#160;",b=!1):(I+=" ",b=!0);break;default:I+=String.fromCharCode(M),b=!1}}if(C+=`<span style="${a.getInlineStyle(E,d)}">${I}</span>`,w>s||u>=s)break}return C+="</div>",C}function O(p,a,d){let f='<div class="monaco-tokenized-source">';const s=c.uq(p);let r=d.getInitialState();for(let m=0,C=s.length;m<C;m++){const u=s[m];m>0&&(f+="<br/>");const _=d.tokenizeEncoded(u,!0,r);F.A.convertToEndOffset(_.tokens,u.length);const E=new F.A(_.tokens,u,a).inflate();let D=0;for(let w=0,I=E.getCount();w<I;w++){const M=E.getClassName(w),K=E.getEndOffset(w);f+=`<span class="${M}">${c.YU(u.substring(D,K))}</span>`,D=K}r=_.endState}return f+="</div>",f}},48117:function(vt,be,i){"use strict";i.d(be,{F5:function(){return g},Hf:function(){return N},Qi:function(){return x},RM:function(){return A},Tx:function(){return O},dJ:function(){return S},je:function(){return p},pt:function(){return a},sh:function(){return F},tk:function(){return $}});var c=i(60060),F;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(F||(F={}));var g;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(g||(g={}));var A;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(A||(A={}));class S{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(f){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,f.tabSize|0),f.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,f.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(f.insertSpaces),this.defaultEOL=f.defaultEOL|0,this.trimAutoWhitespace=Boolean(f.trimAutoWhitespace),this.bracketPairColorizationOptions=f.bracketPairColorizationOptions}equals(f){return this.tabSize===f.tabSize&&this._indentSizeIsTabSize===f._indentSizeIsTabSize&&this.indentSize===f.indentSize&&this.insertSpaces===f.insertSpaces&&this.defaultEOL===f.defaultEOL&&this.trimAutoWhitespace===f.trimAutoWhitespace&&(0,c.fS)(this.bracketPairColorizationOptions,f.bracketPairColorizationOptions)}createChangeEvent(f){return{tabSize:this.tabSize!==f.tabSize,indentSize:this.indentSize!==f.indentSize,insertSpaces:this.insertSpaces!==f.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==f.trimAutoWhitespace}}}class ${constructor(f,s){this._findMatchBrand=void 0,this.range=f,this.matches=s}}function N(d){return d&&typeof d.read=="function"}class x{constructor(f,s,r,m,C,u){this.identifier=f,this.range=s,this.text=r,this.forceMoveMarkers=m,this.isAutoWhitespaceEdit=C,this._isTracked=u}}class O{constructor(f,s,r){this.regex=f,this.wordSeparators=s,this.simpleSearch=r}}class p{constructor(f,s,r){this.reverseEdits=f,this.changes=s,this.trimAutoWhitespaceLineNumbers=r}}function a(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}},1367:function(vt,be,i){"use strict";i.d(be,{BH:function(){return s},Dm:function(){return m},Kd:function(){return $},Y0:function(){return N},n2:function(){return r}});var c=i(50505),F=i(90863),g=i(34575),A=i(31891);class S{get length(){return this._length}constructor(u){this._length=u}}class $ extends S{static create(u,_,b){let E=u.length;return _&&(E=(0,g.Ii)(E,_.length)),b&&(E=(0,g.Ii)(E,b.length)),new $(E,u,_,b,_?_.missingOpeningBracketIds:A.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(u){switch(u){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const u=[];return u.push(this.openingBracket),this.child&&u.push(this.child),this.closingBracket&&u.push(this.closingBracket),u}constructor(u,_,b,E,D){super(u),this.openingBracket=_,this.child=b,this.closingBracket=E,this.missingOpeningBracketIds=D}canBeReused(u){return!(this.closingBracket===null||u.intersects(this.missingOpeningBracketIds))}deepClone(){return new $(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(u,_){return this.child?this.child.computeMinIndentation((0,g.Ii)(u,this.openingBracket.length),_):Number.MAX_SAFE_INTEGER}}class N extends S{static create23(u,_,b,E=!1){let D=u.length,w=u.missingOpeningBracketIds;if(u.listHeight!==_.listHeight)throw new Error("Invalid list heights");if(D=(0,g.Ii)(D,_.length),w=w.merge(_.missingOpeningBracketIds),b){if(u.listHeight!==b.listHeight)throw new Error("Invalid list heights");D=(0,g.Ii)(D,b.length),w=w.merge(b.missingOpeningBracketIds)}return E?new O(D,u.listHeight+1,u,_,b,w):new x(D,u.listHeight+1,u,_,b,w)}static getEmpty(){return new a(g.xl,0,[],A.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(u,_,b){super(u),this.listHeight=_,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const u=this.childrenLength;if(u===0)return;const _=this.getChild(u-1),b=_.kind===4?_.toMutable():_;return _!==b&&this.setChild(u-1,b),b}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const _=this.getChild(0),b=_.kind===4?_.toMutable():_;return _!==b&&this.setChild(0,b),b}canBeReused(u){if(u.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let _=this;for(;_.kind===4;){const b=_.childrenLength;if(b===0)throw new c.he;_=_.getChild(b-1)}return _.canBeReused(u)}handleChildrenChanged(){this.throwIfImmutable();const u=this.childrenLength;let _=this.getChild(0).length,b=this.getChild(0).missingOpeningBracketIds;for(let E=1;E<u;E++){const D=this.getChild(E);_=(0,g.Ii)(_,D.length),b=b.merge(D.missingOpeningBracketIds)}this._length=_,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}computeMinIndentation(u,_){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let b=Number.MAX_SAFE_INTEGER,E=u;for(let D=0;D<this.childrenLength;D++){const w=this.getChild(D);w&&(b=Math.min(b,w.computeMinIndentation(E,_)),E=(0,g.Ii)(E,w.length))}return this.cachedMinIndentation=b,b}}class x extends N{get childrenLength(){return this._item3!==null?3:2}getChild(u){switch(u){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(u,_){switch(u){case 0:this._item1=_;return;case 1:this._item2=_;return;case 2:this._item3=_;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(u,_,b,E,D,w){super(u,_,w),this._item1=b,this._item2=E,this._item3=D}deepClone(){return new x(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=u,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item3;return this._item3=null,this.handleChildrenChanged(),u}prependChildOfSameHeight(u){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=u,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),u}toMutable(){return this}}class O extends x{toMutable(){return new x(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class p extends N{get childrenLength(){return this._children.length}getChild(u){return this._children[u]}setChild(u,_){this._children[u]=_}get children(){return this._children}constructor(u,_,b,E){super(u,_,E),this._children=b}deepClone(){const u=new Array(this._children.length);for(let _=0;_<this._children.length;_++)u[_]=this._children[_].deepClone();return new p(this.length,this.listHeight,u,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){this.throwIfImmutable(),this._children.push(u),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const u=this._children.pop();return this.handleChildrenChanged(),u}prependChildOfSameHeight(u){this.throwIfImmutable(),this._children.unshift(u),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const u=this._children.shift();return this.handleChildrenChanged(),u}toMutable(){return this}}class a extends p{toMutable(){return new p(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const d=[];class f extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(u){return null}get children(){return d}deepClone(){return this}}class s extends f{get kind(){return 0}get missingOpeningBracketIds(){return A.tS.getEmpty()}canBeReused(u){return!0}computeMinIndentation(u,_){const b=(0,g.Hw)(u),E=(b.columnCount===0?b.lineCount:b.lineCount+1)+1,D=(0,g.W9)((0,g.Ii)(u,this.length))+1;let w=Number.MAX_SAFE_INTEGER;for(let I=E;I<=D;I++){const M=_.getLineFirstNonWhitespaceColumn(I),K=_.getLineContent(I);if(M===0)continue;const z=F.i.visibleColumnFromColumn(K,M,_.getOptions().tabSize);w=Math.min(w,z)}return w}}class r extends f{static create(u,_,b){return new r(u,_,b)}get kind(){return 1}get missingOpeningBracketIds(){return A.tS.getEmpty()}constructor(u,_,b){super(u),this.bracketInfo=_,this.bracketIds=b}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(u){return!1}computeMinIndentation(u,_){return Number.MAX_SAFE_INTEGER}}class m extends f{get kind(){return 3}constructor(u,_){super(_),this.missingOpeningBracketIds=u}canBeReused(u){return!u.intersects(this.missingOpeningBracketIds)}computeMinIndentation(u,_){return Number.MAX_SAFE_INTEGER}}},10664:function(vt,be,i){"use strict";i.d(be,{Q:function(){return F},Y:function(){return g}});var c=i(34575);class F{constructor($,N,x){this.startOffset=$,this.endOffset=N,this.newLength=x}}class g{constructor($){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=$.map(N=>A.from(N))}getOffsetBeforeChange($){return this.adjustNextEdit($),this.translateCurToOld($)}getDistanceToNextChange($){this.adjustNextEdit($);const N=this.edits[this.nextEditIdx],x=N?this.translateOldToCur(N.offsetObj):null;return x===null?null:(0,c.BE)($,x)}translateOldToCur($){return $.lineCount===this.deltaLineIdxInOld?(0,c.Hg)($.lineCount+this.deltaOldToNewLineCount,$.columnCount+this.deltaOldToNewColumnCount):(0,c.Hg)($.lineCount+this.deltaOldToNewLineCount,$.columnCount)}translateCurToOld($){const N=(0,c.Hw)($);return N.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,c.Hg)(N.lineCount-this.deltaOldToNewLineCount,N.columnCount-this.deltaOldToNewColumnCount):(0,c.Hg)(N.lineCount-this.deltaOldToNewLineCount,N.columnCount)}adjustNextEdit($){for(;this.nextEditIdx<this.edits.length;){const N=this.edits[this.nextEditIdx],x=this.translateOldToCur(N.endOffsetAfterObj);if((0,c.By)(x,$)){this.nextEditIdx++;const O=(0,c.Hw)(x),p=(0,c.Hw)(this.translateOldToCur(N.endOffsetBeforeObj)),a=O.lineCount-p.lineCount;this.deltaOldToNewLineCount+=a;const d=this.deltaLineIdxInOld===N.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,f=O.columnCount-p.columnCount;this.deltaOldToNewColumnCount=d+f,this.deltaLineIdxInOld=N.endOffsetBeforeObj.lineCount}else break}}}class A{static from($){return new A($.startOffset,$.endOffset,$.newLength)}constructor($,N,x){this.endOffsetBeforeObj=(0,c.Hw)(N),this.endOffsetAfterObj=(0,c.Hw)((0,c.Ii)($,x)),this.offsetObj=(0,c.Hw)($)}}},2806:function(vt,be,i){"use strict";i.d(be,{Z:function(){return x}});var c=i(30613),F=i(1367),g=i(34575),A=i(31891),S=i(36453);class ${static createFromLanguage(p,a){function d(s){return a.getKey(`${s.languageId}:::${s.bracketText}`)}const f=new Map;for(const s of p.bracketsNew.openingBrackets){const r=(0,g.Hg)(0,s.bracketText.length),m=d(s),C=A.tS.getEmpty().add(m,A.Qw);f.set(s.bracketText,new S.WU(r,1,m,C,F.n2.create(r,s,C)))}for(const s of p.bracketsNew.closingBrackets){const r=(0,g.Hg)(0,s.bracketText.length);let m=A.tS.getEmpty();const C=s.getOpeningBrackets();for(const u of C)m=m.add(d(u),A.Qw);f.set(s.bracketText,new S.WU(r,2,d(C[0]),m,F.n2.create(r,s,m)))}return new $(f)}constructor(p){this.map=p,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const p=[...this.map.keys()];return p.sort(),p.reverse(),p.map(a=>N(a)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const p=this.getRegExpStr();this._regExpGlobal=p?new RegExp(p,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(p){return this.map.get(p.toLowerCase())}findClosingTokenText(p){for(const[a,d]of this.map)if(d.kind===2&&d.bracketIds.intersects(p))return a}get isEmpty(){return this.map.size===0}}function N(O){let p=(0,c.ec)(O);return/^[\w ]+/.test(O)&&(p=`\\b${p}`),/[\w ]+$/.test(O)&&(p=`${p}\\b`),p}class x{constructor(p,a){this.denseKeyProvider=p,this.getLanguageConfiguration=a,this.languageIdToBracketTokens=new Map}didLanguageChange(p){return this.languageIdToBracketTokens.has(p)}getSingleLanguageBracketTokens(p){let a=this.languageIdToBracketTokens.get(p);return a||(a=$.createFromLanguage(this.getLanguageConfiguration(p),this.denseKeyProvider),this.languageIdToBracketTokens.set(p,a)),a}}},34575:function(vt,be,i){"use strict";i.d(be,{BE:function(){return r},By:function(){return C},F_:function(){return a},Hg:function(){return x},Hw:function(){return O},Ii:function(){return d},PZ:function(){return _},Qw:function(){return b},VR:function(){return m},W9:function(){return p},Zq:function(){return u},av:function(){return A},oR:function(){return E},rM:function(){return s},tQ:function(){return f},xd:function(){return $},xl:function(){return S}});var c=i(30613),F=i(22445);class g{constructor(w,I){this.lineCount=w,this.columnCount=I}toString(){return`${this.lineCount},${this.columnCount}`}}g.zero=new g(0,0);function A(D,w,I,M){return D!==I?x(I-D,M):x(0,M-w)}const S=0;function $(D){return D===0}const N=Math.pow(2,26);function x(D,w){return D*N+w}function O(D){const w=D,I=Math.floor(w/N),M=w-I*N;return new g(I,M)}function p(D){return Math.floor(D/N)}function a(D){return D}function d(D,w){let I=D+w;return w>=N&&(I=I-D%N),I}function f(D,w){return D.reduce((I,M)=>d(I,w(M)),S)}function s(D,w){return D===w}function r(D,w){const I=D,M=w;if(M-I<=0)return S;const z=Math.floor(I/N),Q=Math.floor(M/N),Y=M-Q*N;if(z===Q){const H=I-z*N;return x(0,Y-H)}else return x(Q-z,Y)}function m(D,w){return D<w}function C(D,w){return D<=w}function u(D,w){return D>=w}function _(D){return x(D.lineNumber-1,D.column-1)}function b(D,w){const I=D,M=Math.floor(I/N),K=I-M*N,z=w,Q=Math.floor(z/N),Y=z-Q*N;return new F.e(M+1,K+1,Q+1,Y+1)}function E(D){const w=(0,c.uq)(D);return x(w.length-1,w[w.length-1].length)}},5092:function(vt,be,i){"use strict";i.d(be,{w:function(){return s}});var c=i(1367),F=i(10664),g=i(31891),A=i(34575);function S(m){if(m.length===0)return null;if(m.length===1)return m[0];let C=0;function u(){if(C>=m.length)return null;const D=C,w=m[D].listHeight;for(C++;C<m.length&&m[C].listHeight===w;)C++;return C-D>=2?$(D===0&&C===m.length?m:m.slice(D,C),!1):m[D]}let _=u(),b=u();if(!b)return _;for(let D=u();D;D=u())N(_,b)<=N(b,D)?(_=x(_,b),b=D):b=x(b,D);return x(_,b)}function $(m,C=!1){if(m.length===0)return null;if(m.length===1)return m[0];let u=m.length;for(;u>3;){const _=u>>1;for(let b=0;b<_;b++){const E=b<<1;m[b]=c.Y0.create23(m[E],m[E+1],E+3===u?m[E+2]:null,C)}u=_}return c.Y0.create23(m[0],m[1],u>=3?m[2]:null,C)}function N(m,C){return Math.abs(m.listHeight-C.listHeight)}function x(m,C){return m.listHeight===C.listHeight?c.Y0.create23(m,C,null,!1):m.listHeight>C.listHeight?O(m,C):p(C,m)}function O(m,C){m=m.toMutable();let u=m;const _=[];let b;for(;;){if(C.listHeight===u.listHeight){b=C;break}if(u.kind!==4)throw new Error("unexpected");_.push(u),u=u.makeLastElementMutable()}for(let E=_.length-1;E>=0;E--){const D=_[E];b?D.childrenLength>=3?b=c.Y0.create23(D.unappendChild(),b,null,!1):(D.appendChildOfSameHeight(b),b=void 0):D.handleChildrenChanged()}return b?c.Y0.create23(m,b,null,!1):m}function p(m,C){m=m.toMutable();let u=m;const _=[];for(;C.listHeight!==u.listHeight;){if(u.kind!==4)throw new Error("unexpected");_.push(u),u=u.makeFirstElementMutable()}let b=C;for(let E=_.length-1;E>=0;E--){const D=_[E];b?D.childrenLength>=3?b=c.Y0.create23(b,D.unprependChild(),null,!1):(D.prependChildOfSameHeight(b),b=void 0):D.handleChildrenChanged()}return b?c.Y0.create23(b,m,null,!1):m}class a{constructor(C){this.lastOffset=A.xl,this.nextNodes=[C],this.offsets=[A.xl],this.idxs=[]}readLongestNodeAt(C,u){if((0,A.VR)(C,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=C;;){const _=f(this.nextNodes);if(!_)return;const b=f(this.offsets);if((0,A.VR)(C,b))return;if((0,A.VR)(b,C))if((0,A.Ii)(b,_.length)<=C)this.nextNodeAfterCurrent();else{const E=d(_);E!==-1?(this.nextNodes.push(_.getChild(E)),this.offsets.push(b),this.idxs.push(E)):this.nextNodeAfterCurrent()}else{if(u(_))return this.nextNodeAfterCurrent(),_;{const E=d(_);if(E===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(_.getChild(E)),this.offsets.push(b),this.idxs.push(E)}}}}nextNodeAfterCurrent(){for(;;){const C=f(this.offsets),u=f(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const _=f(this.nextNodes),b=d(_,this.idxs[this.idxs.length-1]);if(b!==-1){this.nextNodes.push(_.getChild(b)),this.offsets.push((0,A.Ii)(C,u.length)),this.idxs[this.idxs.length-1]=b;break}else this.idxs.pop()}}}function d(m,C=-1){for(;;){if(C++,C>=m.childrenLength)return-1;if(m.getChild(C))return C}}function f(m){return m.length>0?m[m.length-1]:void 0}function s(m,C,u,_){return new r(m,C,u,_).parseDocument()}class r{constructor(C,u,_,b){if(this.tokenizer=C,this.createImmutableLists=b,this._itemsConstructed=0,this._itemsFromCache=0,_&&b)throw new Error("Not supported");this.oldNodeReader=_?new a(_):void 0,this.positionMapper=new F.Y(u)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let C=this.parseList(g.tS.getEmpty());return C||(C=c.Y0.getEmpty()),C}parseList(C){const u=[];for(;;){let b=this.tryReadChildFromCache(C);if(!b){const E=this.tokenizer.peek();if(!E||E.kind===2&&E.bracketIds.intersects(C))break;b=this.parseChild(C)}b.kind===4&&b.childrenLength===0||u.push(b)}return this.oldNodeReader?S(u):$(u,this.createImmutableLists)}tryReadChildFromCache(C){if(this.oldNodeReader){const u=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(u===null||!(0,A.xd)(u)){const _=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),b=>u!==null&&!(0,A.VR)(b.length,u)?!1:b.canBeReused(C));if(_)return this._itemsFromCache++,this.tokenizer.skip(_.length),_}}}parseChild(C){this._itemsConstructed++;const u=this.tokenizer.read();switch(u.kind){case 2:return new c.Dm(u.bracketIds,u.length);case 0:return u.astNode;case 1:{const _=C.merge(u.bracketIds),b=this.parseList(_),E=this.tokenizer.peek();return E&&E.kind===2&&(E.bracketId===u.bracketId||E.bracketIds.intersects(u.bracketIds))?(this.tokenizer.read(),c.Kd.create(u.astNode,b,E.astNode)):c.Kd.create(u.astNode,b,null)}default:throw new Error("unexpected")}}}},31891:function(vt,be,i){"use strict";i.d(be,{FE:function(){return A},Qw:function(){return g},tS:function(){return F}});const c=[];class F{static create($,N){if($<=128&&N.length===0){let x=F.cache[$];return x||(x=new F($,N),F.cache[$]=x),x}return new F($,N)}static getEmpty(){return this.empty}constructor($,N){this.items=$,this.additionalItems=N}add($,N){const x=N.getKey($);let O=x>>5;if(O===0){const a=1<<x|this.items;return a===this.items?this:F.create(a,this.additionalItems)}O--;const p=this.additionalItems.slice(0);for(;p.length<O;)p.push(0);return p[O]|=1<<(x&31),F.create(this.items,p)}merge($){const N=this.items|$.items;if(this.additionalItems===c&&$.additionalItems===c)return N===this.items?this:N===$.items?$:F.create(N,c);const x=[];for(let O=0;O<Math.max(this.additionalItems.length,$.additionalItems.length);O++){const p=this.additionalItems[O]||0,a=$.additionalItems[O]||0;x.push(p|a)}return F.create(N,x)}intersects($){if(this.items&$.items)return!0;for(let N=0;N<Math.min(this.additionalItems.length,$.additionalItems.length);N++)if(this.additionalItems[N]&$.additionalItems[N])return!0;return!1}}F.cache=new Array(129),F.empty=F.create(0,c);const g={getKey(S){return S}};class A{constructor(){this.items=new Map}getKey($){let N=this.items.get($);return N===void 0&&(N=this.items.size,this.items.set($,N)),N}}},36453:function(vt,be,i){"use strict";i.d(be,{WU:function(){return $},g:function(){return O},xH:function(){return N}});var c=i(50505),F=i(58848),g=i(1367),A=i(34575),S=i(31891);class ${constructor(a,d,f,s,r){this.length=a,this.kind=d,this.bracketId=f,this.bracketIds=s,this.astNode=r}}class N{constructor(a,d){this.textModel=a,this.bracketTokens=d,this.reader=new x(this.textModel,this.bracketTokens),this._offset=A.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,A.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(a){this.didPeek=!1,this._offset=(0,A.Ii)(this._offset,a);const d=(0,A.Hw)(this._offset);this.reader.setPosition(d.lineCount,d.columnCount)}read(){let a;return this.peeked?(this.didPeek=!1,a=this.peeked):a=this.reader.read(),a&&(this._offset=(0,A.Ii)(this._offset,a.length)),a}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class x{constructor(a,d){this.textModel=a,this.bracketTokens=d,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}setPosition(a,d){a===this.lineIdx?(this.lineCharOffset=d,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=a,this.lineCharOffset=d,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const r=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,A.F_)(r.length),r}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const a=this.lineIdx,d=this.lineCharOffset;let f=0;for(;;){const r=this.lineTokens,m=r.getCount();let C=null;if(this.lineTokenOffset<m){const u=r.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<m&&u===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const _=F.N.getTokenType(u)===0,b=F.N.containsBalancedBrackets(u),E=r.getEndOffset(this.lineTokenOffset);if(b&&_&&this.lineCharOffset<E){const D=r.getLanguageId(this.lineTokenOffset),w=this.line.substring(this.lineCharOffset,E),I=this.bracketTokens.getSingleLanguageBracketTokens(D),M=I.regExpGlobal;if(M){M.lastIndex=0;const K=M.exec(w);K&&(C=I.getToken(K[0]),C&&(this.lineCharOffset+=K.index))}}if(f+=E-this.lineCharOffset,C)if(a!==this.lineIdx||d!==this.lineCharOffset){this.peekedToken=C;break}else return this.lineCharOffset+=(0,A.F_)(C.length),C;else this.lineTokenOffset++,this.lineCharOffset=E}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,f+=33,f>1e3))break;if(f>1500)break}const s=(0,A.av)(a,d,this.lineIdx,this.lineCharOffset);return new $(s,0,-1,S.tS.getEmpty(),new g.BH(s))}}class O{constructor(a,d){this.text=a,this._offset=A.xl,this.idx=0;const f=d.getRegExpStr(),s=f?new RegExp(f+`|
`,"gi"):null,r=[];let m,C=0,u=0,_=0,b=0;const E=[];for(let I=0;I<60;I++)E.push(new $((0,A.Hg)(0,I),0,-1,S.tS.getEmpty(),new g.BH((0,A.Hg)(0,I))));const D=[];for(let I=0;I<60;I++)D.push(new $((0,A.Hg)(1,I),0,-1,S.tS.getEmpty(),new g.BH((0,A.Hg)(1,I))));if(s)for(s.lastIndex=0;(m=s.exec(a))!==null;){const I=m.index,M=m[0];if(M===`
`)C++,u=I+1;else{if(_!==I){let K;if(b===C){const z=I-_;if(z<E.length)K=E[z];else{const Q=(0,A.Hg)(0,z);K=new $(Q,0,-1,S.tS.getEmpty(),new g.BH(Q))}}else{const z=C-b,Q=I-u;if(z===1&&Q<D.length)K=D[Q];else{const Y=(0,A.Hg)(z,Q);K=new $(Y,0,-1,S.tS.getEmpty(),new g.BH(Y))}}r.push(K)}r.push(d.getToken(M)),_=I+M.length,b=C}}const w=a.length;if(_!==w){const I=b===C?(0,A.Hg)(0,w-_):(0,A.Hg)(C-b,w-u);r.push(new $(I,0,-1,S.tS.getEmpty(),new g.BH(I)))}this.length=(0,A.Hg)(C,w-u),this.tokens=r}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(a){throw new c.B8}}},94207:function(vt,be,i){"use strict";i.d(be,{NL:function(){return s},e9:function(){return f}});var c=i(15779),F=i(50505),g=i(15489),A=i(39508),S=i(75010),$=i(22594),N=i(17349);function x(r){return r.toString()}class O{static create(m,C){const u=m.getAlternativeVersionId(),_=d(m);return new O(u,u,_,_,C,C,[])}constructor(m,C,u,_,b,E,D){this.beforeVersionId=m,this.afterVersionId=C,this.beforeEOL=u,this.afterEOL=_,this.beforeCursorState=b,this.afterCursorState=E,this.changes=D}append(m,C,u,_,b){C.length>0&&(this.changes=(0,S.b)(this.changes,C)),this.afterEOL=u,this.afterVersionId=_,this.afterCursorState=b}static _writeSelectionsSize(m){return 4+4*4*(m?m.length:0)}static _writeSelections(m,C,u){if($.T4(m,C?C.length:0,u),u+=4,C)for(const _ of C)$.T4(m,_.selectionStartLineNumber,u),u+=4,$.T4(m,_.selectionStartColumn,u),u+=4,$.T4(m,_.positionLineNumber,u),u+=4,$.T4(m,_.positionColumn,u),u+=4;return u}static _readSelections(m,C,u){const _=$.Ag(m,C);C+=4;for(let b=0;b<_;b++){const E=$.Ag(m,C);C+=4;const D=$.Ag(m,C);C+=4;const w=$.Ag(m,C);C+=4;const I=$.Ag(m,C);C+=4,u.push(new g.Y(E,D,w,I))}return C}serialize(){let m=10+O._writeSelectionsSize(this.beforeCursorState)+O._writeSelectionsSize(this.afterCursorState)+4;for(const _ of this.changes)m+=_.writeSize();const C=new Uint8Array(m);let u=0;$.T4(C,this.beforeVersionId,u),u+=4,$.T4(C,this.afterVersionId,u),u+=4,$.Cg(C,this.beforeEOL,u),u+=1,$.Cg(C,this.afterEOL,u),u+=1,u=O._writeSelections(C,this.beforeCursorState,u),u=O._writeSelections(C,this.afterCursorState,u),$.T4(C,this.changes.length,u),u+=4;for(const _ of this.changes)u=_.write(C,u);return C.buffer}static deserialize(m){const C=new Uint8Array(m);let u=0;const _=$.Ag(C,u);u+=4;const b=$.Ag(C,u);u+=4;const E=$.Q$(C,u);u+=1;const D=$.Q$(C,u);u+=1;const w=[];u=O._readSelections(C,u,w);const I=[];u=O._readSelections(C,u,I);const M=$.Ag(C,u);u+=4;const K=[];for(let z=0;z<M;z++)u=S.q.read(C,u,K);return new O(_,b,E,D,w,I,K)}}class p{get type(){return 0}get resource(){return A.o.isUri(this.model)?this.model:this.model.uri}constructor(m,C,u,_){this.label=m,this.code=C,this.model=u,this._data=O.create(u,_)}toString(){return(this._data instanceof O?this._data:O.deserialize(this._data)).changes.map(C=>C.toString()).join(", ")}matchesResource(m){return(A.o.isUri(this.model)?this.model:this.model.uri).toString()===m.toString()}setModel(m){this.model=m}canAppend(m){return this.model===m&&this._data instanceof O}append(m,C,u,_,b){this._data instanceof O&&this._data.append(m,C,u,_,b)}close(){this._data instanceof O&&(this._data=this._data.serialize())}open(){this._data instanceof O||(this._data=O.deserialize(this._data))}undo(){if(A.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof O&&(this._data=this._data.serialize());const m=O.deserialize(this._data);this.model._applyUndo(m.changes,m.beforeEOL,m.beforeVersionId,m.beforeCursorState)}redo(){if(A.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof O&&(this._data=this._data.serialize());const m=O.deserialize(this._data);this.model._applyRedo(m.changes,m.afterEOL,m.afterVersionId,m.afterCursorState)}heapSize(){return this._data instanceof O&&(this._data=this._data.serialize()),this._data.byteLength+168}}class a{get resources(){return this._editStackElementsArr.map(m=>m.resource)}constructor(m,C,u){this.label=m,this.code=C,this.type=1,this._isOpen=!0,this._editStackElementsArr=u.slice(0),this._editStackElementsMap=new Map;for(const _ of this._editStackElementsArr){const b=x(_.resource);this._editStackElementsMap.set(b,_)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(m){const C=x(m);return this._editStackElementsMap.has(C)}setModel(m){const C=x(A.o.isUri(m)?m:m.uri);this._editStackElementsMap.has(C)&&this._editStackElementsMap.get(C).setModel(m)}canAppend(m){if(!this._isOpen)return!1;const C=x(m.uri);return this._editStackElementsMap.has(C)?this._editStackElementsMap.get(C).canAppend(m):!1}append(m,C,u,_,b){const E=x(m.uri);this._editStackElementsMap.get(E).append(m,C,u,_,b)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const m of this._editStackElementsArr)m.undo()}redo(){for(const m of this._editStackElementsArr)m.redo()}heapSize(m){const C=x(m);return this._editStackElementsMap.has(C)?this._editStackElementsMap.get(C).heapSize():0}split(){return this._editStackElementsArr}toString(){const m=[];for(const C of this._editStackElementsArr)m.push(`${(0,N.EZ)(C.resource)}: ${C}`);return`{${m.join(", ")}}`}}function d(r){return r.getEOL()===`
`?0:1}function f(r){return r?r instanceof p||r instanceof a:!1}class s{constructor(m,C){this._model=m,this._undoRedoService=C}pushStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);f(m)&&m.close()}popStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);f(m)&&m.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(m,C){const u=this._undoRedoService.getLastElement(this._model.uri);if(f(u)&&u.canAppend(this._model))return u;const _=new p(c.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,m);return this._undoRedoService.pushElement(_,C),_}pushEOL(m){const C=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(m),C.append(this._model,[],d(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(m,C,u,_){const b=this._getOrCreateEditStackElement(m,_),E=this._model.applyEdits(C,!0),D=s._computeCursorState(u,E),w=E.map((I,M)=>({index:M,textChange:I.textChange}));return w.sort((I,M)=>I.textChange.oldPosition===M.textChange.oldPosition?I.index-M.index:I.textChange.oldPosition-M.textChange.oldPosition),b.append(this._model,w.map(I=>I.textChange),d(this._model),this._model.getAlternativeVersionId(),D),D}static _computeCursorState(m,C){try{return m?m(C):null}catch(u){return(0,F.dL)(u),null}}}},63633:function(vt,be,i){"use strict";i.d(be,{W:function(){return O},l:function(){return x}});var c=i(16842),F=i(30613),g=i(90863),A=i(22445),S=i(47846),$=i(7903),N=i(45331);class x extends S.U{constructor(a,d){super(),this.textModel=a,this.languageConfigurationService=d}getLanguageConfiguration(a){return this.languageConfigurationService.getLanguageConfiguration(a)}_computeIndentLevel(a){return(0,$.q)(this.textModel.getLineContent(a+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(a,d,f){this.assertNotDisposed();const s=this.textModel.getLineCount();if(a<1||a>s)throw new Error("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,m=Boolean(r&&r.offSide);let C=-2,u=-1,_=-2,b=-1;const E=q=>{if(C!==-1&&(C===-2||C>q-1)){C=-1,u=-1;for(let U=q-2;U>=0;U--){const L=this._computeIndentLevel(U);if(L>=0){C=U,u=L;break}}}if(_===-2){_=-1,b=-1;for(let U=q;U<s;U++){const L=this._computeIndentLevel(U);if(L>=0){_=U,b=L;break}}}};let D=-2,w=-1,I=-2,M=-1;const K=q=>{if(D===-2){D=-1,w=-1;for(let U=q-2;U>=0;U--){const L=this._computeIndentLevel(U);if(L>=0){D=U,w=L;break}}}if(I!==-1&&(I===-2||I<q-1)){I=-1,M=-1;for(let U=q;U<s;U++){const L=this._computeIndentLevel(U);if(L>=0){I=U,M=L;break}}}};let z=0,Q=!0,Y=0,H=!0,P=0,X=0;for(let q=0;Q||H;q++){const U=a-q,L=a+q;q>1&&(U<1||U<d)&&(Q=!1),q>1&&(L>s||L>f)&&(H=!1),q>5e4&&(Q=!1,H=!1);let B=-1;if(Q&&U>=1){const G=this._computeIndentLevel(U-1);G>=0?(_=U-1,b=G,B=Math.ceil(G/this.textModel.getOptions().indentSize)):(E(U),B=this._getIndentLevelForWhitespaceLine(m,u,b))}let j=-1;if(H&&L<=s){const G=this._computeIndentLevel(L-1);G>=0?(D=L-1,w=G,j=Math.ceil(G/this.textModel.getOptions().indentSize)):(K(L),j=this._getIndentLevelForWhitespaceLine(m,w,M))}if(q===0){X=B;continue}if(q===1){if(L<=s&&j>=0&&X+1===j){Q=!1,z=L,Y=L,P=j;continue}if(U>=1&&B>=0&&B-1===X){H=!1,z=U,Y=U,P=B;continue}if(z=a,Y=a,P=X,P===0)return{startLineNumber:z,endLineNumber:Y,indent:P}}Q&&(B>=P?z=U:Q=!1),H&&(j>=P?Y=L:H=!1)}return{startLineNumber:z,endLineNumber:Y,indent:P}}getLinesBracketGuides(a,d,f,s){var r;const m=[];for(let D=a;D<=d;D++)m.push([]);const C=!0,u=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new A.e(a,1,d,this.textModel.getLineMaxColumn(d))).toArray();let _;if(f&&u.length>0){const D=(a<=f.lineNumber&&f.lineNumber<=d?u:this.textModel.bracketPairs.getBracketPairsInRange(A.e.fromPositions(f)).toArray()).filter(w=>A.e.strictContainsPosition(w.range,f));_=(r=(0,c.dF)(D,w=>C||w.range.startLineNumber!==w.range.endLineNumber))===null||r===void 0?void 0:r.range}const b=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,E=new O;for(const D of u){if(!D.closingBracketRange)continue;const w=_&&D.range.equalsRange(_);if(!w&&!s.includeInactive)continue;const I=E.getInlineClassName(D.nestingLevel,D.nestingLevelOfEqualBracketType,b)+(s.highlightActive&&w?" "+E.activeClassName:""),M=D.openingBracketRange.getStartPosition(),K=D.closingBracketRange.getStartPosition(),z=s.horizontalGuides===N.s6.Enabled||s.horizontalGuides===N.s6.EnabledForActive&&w;if(D.range.startLineNumber===D.range.endLineNumber){C&&z&&m[D.range.startLineNumber-a].push(new N.UO(-1,D.openingBracketRange.getEndPosition().column,I,new N.vW(!1,K.column),-1,-1));continue}const Q=this.getVisibleColumnFromPosition(K),Y=this.getVisibleColumnFromPosition(D.openingBracketRange.getStartPosition()),H=Math.min(Y,Q,D.minVisibleColumnIndentation+1);let P=!1;F.LC(this.textModel.getLineContent(D.closingBracketRange.startLineNumber))<D.closingBracketRange.startColumn-1&&(P=!0);const U=Math.max(M.lineNumber,a),L=Math.min(K.lineNumber,d),B=P?1:0;for(let j=U;j<L+B;j++)m[j-a].push(new N.UO(H,-1,I,null,j===M.lineNumber?M.column:-1,j===K.lineNumber?K.column:-1));z&&(M.lineNumber>=a&&Y>H&&m[M.lineNumber-a].push(new N.UO(H,-1,I,new N.vW(!1,M.column),-1,-1)),K.lineNumber<=d&&Q>H&&m[K.lineNumber-a].push(new N.UO(H,-1,I,new N.vW(!P,K.column),-1,-1)))}for(const D of m)D.sort((w,I)=>w.visibleColumn-I.visibleColumn);return m}getVisibleColumnFromPosition(a){return g.i.visibleColumnFromColumn(this.textModel.getLineContent(a.lineNumber),a.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(a,d){this.assertNotDisposed();const f=this.textModel.getLineCount();if(a<1||a>f)throw new Error("Illegal value for startLineNumber");if(d<1||d>f)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,m=Boolean(r&&r.offSide),C=new Array(d-a+1);let u=-2,_=-1,b=-2,E=-1;for(let D=a;D<=d;D++){const w=D-a,I=this._computeIndentLevel(D-1);if(I>=0){u=D-1,_=I,C[w]=Math.ceil(I/s.indentSize);continue}if(u===-2){u=-1,_=-1;for(let M=D-2;M>=0;M--){const K=this._computeIndentLevel(M);if(K>=0){u=M,_=K;break}}}if(b!==-1&&(b===-2||b<D-1)){b=-1,E=-1;for(let M=D;M<f;M++){const K=this._computeIndentLevel(M);if(K>=0){b=M,E=K;break}}}C[w]=this._getIndentLevelForWhitespaceLine(m,_,E)}return C}_getIndentLevelForWhitespaceLine(a,d,f){const s=this.textModel.getOptions();return d===-1||f===-1?0:d<f?1+Math.floor(d/s.indentSize):d===f||a?Math.ceil(f/s.indentSize):1+Math.floor(f/s.indentSize)}}class O{constructor(){this.activeClassName="indent-active"}getInlineClassName(a,d,f){return this.getInlineClassNameOfLevel(f?d:a)}getInlineClassNameOfLevel(a){return`bracket-indent-guide lvl-${a%30}`}}},70268:function(vt,be,i){"use strict";i.d(be,{Ck:function(){return A},oQ:function(){return g}});var c=i(16842),F=i(28161);class g{constructor(N){this.values=N,this.prefixSum=new Uint32Array(N.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(N,x){N=(0,F.A)(N);const O=this.values,p=this.prefixSum,a=x.length;return a===0?!1:(this.values=new Uint32Array(O.length+a),this.values.set(O.subarray(0,N),0),this.values.set(O.subarray(N),N+a),this.values.set(x,N),N-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=N-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(N,x){return N=(0,F.A)(N),x=(0,F.A)(x),this.values[N]===x?!1:(this.values[N]=x,N-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=N-1),!0)}removeValues(N,x){N=(0,F.A)(N),x=(0,F.A)(x);const O=this.values,p=this.prefixSum;if(N>=O.length)return!1;const a=O.length-N;return x>=a&&(x=a),x===0?!1:(this.values=new Uint32Array(O.length-x),this.values.set(O.subarray(0,N),0),this.values.set(O.subarray(N+x),N),this.prefixSum=new Uint32Array(this.values.length),N-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=N-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(N){return N<0?0:(N=(0,F.A)(N),this._getPrefixSum(N))}_getPrefixSum(N){if(N<=this.prefixSumValidIndex[0])return this.prefixSum[N];let x=this.prefixSumValidIndex[0]+1;x===0&&(this.prefixSum[0]=this.values[0],x++),N>=this.values.length&&(N=this.values.length-1);for(let O=x;O<=N;O++)this.prefixSum[O]=this.prefixSum[O-1]+this.values[O];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],N),this.prefixSum[N]}getIndexOf(N){N=Math.floor(N),this.getTotalSum();let x=0,O=this.values.length-1,p=0,a=0,d=0;for(;x<=O;)if(p=x+(O-x)/2|0,a=this.prefixSum[p],d=a-this.values[p],N<d)O=p-1;else if(N>=a)x=p+1;else break;return new S(p,N-d)}}class A{constructor(N){this._values=N,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(N){return this._ensureValid(),N===0?0:this._prefixSum[N-1]}getIndexOf(N){this._ensureValid();const x=this._indexBySum[N],O=x>0?this._prefixSum[x-1]:0;return new S(x,N-O)}removeValues(N,x){this._values.splice(N,x),this._invalidate(N)}insertValues(N,x){this._values=(0,c.Zv)(this._values,N,x),this._invalidate(N)}_invalidate(N){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,N-1)}_ensureValid(){if(!this._isValid){for(let N=this._validEndIndex+1,x=this._values.length;N<x;N++){const O=this._values[N],p=N>0?this._prefixSum[N-1]:0;this._prefixSum[N]=p+O;for(let a=0;a<O;a++)this._indexBySum[p+a]=N}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(N,x){this._values[N]!==x&&(this._values[N]=x,this._invalidate(N))}}class S{constructor(N,x){this.index=N,this.remainder=x,this._prefixSumIndexOfResultBrand=void 0,this.index=N,this.remainder=x}}},73740:function(vt,be,i){"use strict";i.d(be,{HS:function(){return yn},qx:function(){return An},yO:function(){return Rn}});var c=i(16842),F=i(87799),g=i(50505),A=i(94162),S=i(52357),$=i(30613),N=i(39508),x=i(93976),O=i(39919),p=i(43976),a=i(22445),d=i(15489),f=i(28764),s=i(18426),r=i(28170),m=i(48117),C=i(29246),u=i(92112);class _{constructor(T,ee,re,Me){this.range=T,this.nestingLevel=ee,this.nestingLevelOfEqualBracketType=re,this.isInvalid=Me}}class b{constructor(T,ee,re,Me,Ue,tt){this.range=T,this.openingBracketRange=ee,this.closingBracketRange=re,this.nestingLevel=Me,this.nestingLevelOfEqualBracketType=Ue,this.bracketPairNode=tt}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class E extends b{constructor(T,ee,re,Me,Ue,tt,yt){super(T,ee,re,Me,Ue,tt),this.minVisibleColumnIndentation=yt}}var D=i(10664),w=i(2806),I=i(34575),M=i(5092),K=i(31891),z=i(36453);function Q(Lt,T){if(Lt.length===0)return T;const ee=new c.H9(Y(Lt)),re=Y(T);let Me,Ue=I.xl;function tt(Ee){const Xe=[];for(;;){if(Me!==void 0&&!(0,I.xd)(Me)||!(0,I.xd)(Ue)){let pt;Ee!==void 0&&(0,I.By)(Ee,Ue)?(pt=Ee,Ue=(0,I.BE)(Ee,Ue),Ee=I.xl):(pt=Ue,Ee!==void 0&&(Ee=(0,I.BE)(Ue,Ee)),Ue=I.xl),Me===void 0?Xe.push({oldLength:pt,newLength:void 0}):(Xe.push({oldLength:Me,newLength:pt}),Me=I.xl)}if(Ee!==void 0&&(0,I.xd)(Ee))break;const Pe=ee.dequeue();if(!Pe){Ee!==void 0&&Xe.push({oldLength:Ee,newLength:void 0});break}Pe.newLength===void 0?(Ue=Pe.oldLength,Me=void 0):(Me=Pe.oldLength,Ue=Pe.newLength)}return Xe}const yt=[];function Ye(Ee,Xe,Pe){if(yt.length>0&&(0,I.rM)(yt[yt.length-1].endOffset,Ee)){const pt=yt[yt.length-1];yt[yt.length-1]=new D.Q(pt.startOffset,Xe,(0,I.Ii)(pt.newLength,Pe))}else yt.push({startOffset:Ee,endOffset:Xe,newLength:Pe})}let V=I.xl;for(const Ee of re){const Xe=tt(Ee.oldLength);if(Ee.newLength!==void 0){const Pe=(0,I.tQ)(Xe,It=>It.oldLength),pt=(0,I.Ii)(V,Pe);Ye(V,pt,Ee.newLength),V=pt}else for(const Pe of Xe){const pt=V;V=(0,I.Ii)(V,Pe.oldLength),Pe.newLength!==void 0&&Ye(pt,V,Pe.newLength)}}const de=tt(void 0);for(const Ee of de){const Xe=V;V=(0,I.Ii)(V,Ee.oldLength),Ee.newLength!==void 0&&Ye(Xe,V,Ee.newLength)}return yt}function Y(Lt){const T=[];let ee=I.xl;for(const re of Lt){const Me=(0,I.BE)(ee,re.startOffset);(0,I.xd)(Me)||T.push({oldLength:Me});const Ue=(0,I.BE)(re.startOffset,re.endOffset);T.push({oldLength:Ue,newLength:re.newLength}),ee=re.endOffset}return T}class H extends S.JT{didLanguageChange(T){return this.brackets.didLanguageChange(T)}constructor(T,ee){if(super(),this.textModel=T,this.getLanguageConfiguration=ee,this.didChangeEmitter=new A.Q5,this.denseKeyProvider=new K.FE,this.brackets=new w.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],T.tokenization.hasTokens)T.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const re=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Me=new z.g(this.textModel.getValue(),re);this.initialAstWithoutTokens=(0,M.w)(Me,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const T=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,T||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:T}){const ee=T.map(re=>new D.Q((0,I.Hg)(re.fromLineNumber-1,0),(0,I.Hg)(re.toLineNumber,0),(0,I.Hg)(re.toLineNumber-re.fromLineNumber+1,0)));this.handleEdits(ee,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(T){const ee=T.changes.map(re=>{const Me=a.e.lift(re.range);return new D.Q((0,I.PZ)(Me.getStartPosition()),(0,I.PZ)(Me.getEndPosition()),(0,I.oR)(re.text))}).reverse();this.handleEdits(ee,!1)}handleEdits(T,ee){const re=Q(this.queuedTextEdits,T);this.queuedTextEdits=re,this.initialAstWithoutTokens&&!ee&&(this.queuedTextEditsForInitialAstWithoutTokens=Q(this.queuedTextEditsForInitialAstWithoutTokens,T))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(T,ee,re){const Ue=ee,tt=new z.xH(this.textModel,this.brackets);return(0,M.w)(tt,T,Ue,re)}getBracketsInRange(T,ee){this.flushQueue();const re=(0,I.Hg)(T.startLineNumber-1,T.startColumn-1),Me=(0,I.Hg)(T.endLineNumber-1,T.endColumn-1);return new c.W$(Ue=>{const tt=this.initialAstWithoutTokens||this.astWithTokens;q(tt,I.xl,tt.length,re,Me,Ue,0,0,new Map,ee)})}getBracketPairsInRange(T,ee){this.flushQueue();const re=(0,I.PZ)(T.getStartPosition()),Me=(0,I.PZ)(T.getEndPosition());return new c.W$(Ue=>{const tt=this.initialAstWithoutTokens||this.astWithTokens,yt=new U(Ue,ee,this.textModel);L(tt,I.xl,tt.length,re,Me,yt,0,new Map)})}getFirstBracketAfter(T){this.flushQueue();const ee=this.initialAstWithoutTokens||this.astWithTokens;return X(ee,I.xl,ee.length,(0,I.PZ)(T))}getFirstBracketBefore(T){this.flushQueue();const ee=this.initialAstWithoutTokens||this.astWithTokens;return P(ee,I.xl,ee.length,(0,I.PZ)(T))}}function P(Lt,T,ee,re){if(Lt.kind===4||Lt.kind===2){const Me=[];for(const Ue of Lt.children)ee=(0,I.Ii)(T,Ue.length),Me.push({nodeOffsetStart:T,nodeOffsetEnd:ee}),T=ee;for(let Ue=Me.length-1;Ue>=0;Ue--){const{nodeOffsetStart:tt,nodeOffsetEnd:yt}=Me[Ue];if((0,I.VR)(tt,re)){const Ye=P(Lt.children[Ue],tt,yt,re);if(Ye)return Ye}}return null}else{if(Lt.kind===3)return null;if(Lt.kind===1){const Me=(0,I.Qw)(T,ee);return{bracketInfo:Lt.bracketInfo,range:Me}}}return null}function X(Lt,T,ee,re){if(Lt.kind===4||Lt.kind===2){for(const Me of Lt.children){if(ee=(0,I.Ii)(T,Me.length),(0,I.VR)(re,ee)){const Ue=X(Me,T,ee,re);if(Ue)return Ue}T=ee}return null}else{if(Lt.kind===3)return null;if(Lt.kind===1){const Me=(0,I.Qw)(T,ee);return{bracketInfo:Lt.bracketInfo,range:Me}}}return null}function q(Lt,T,ee,re,Me,Ue,tt,yt,Ye,V,de=!1){if(tt>200)return!0;e:for(;;)switch(Lt.kind){case 4:{const Ee=Lt.childrenLength;for(let Xe=0;Xe<Ee;Xe++){const Pe=Lt.getChild(Xe);if(Pe){if(ee=(0,I.Ii)(T,Pe.length),(0,I.By)(T,Me)&&(0,I.Zq)(ee,re)){if((0,I.Zq)(ee,Me)){Lt=Pe;continue e}if(!q(Pe,T,ee,re,Me,Ue,tt,0,Ye,V))return!1}T=ee}}return!0}case 2:{const Ee=!V||!Lt.closingBracket||Lt.closingBracket.bracketInfo.closesColorized(Lt.openingBracket.bracketInfo);let Xe=0;if(Ye){let pt=Ye.get(Lt.openingBracket.text);pt===void 0&&(pt=0),Xe=pt,Ee&&(pt++,Ye.set(Lt.openingBracket.text,pt))}const Pe=Lt.childrenLength;for(let pt=0;pt<Pe;pt++){const It=Lt.getChild(pt);if(It){if(ee=(0,I.Ii)(T,It.length),(0,I.By)(T,Me)&&(0,I.Zq)(ee,re)){if((0,I.Zq)(ee,Me)&&It.kind!==1){Lt=It,Ee?(tt++,yt=Xe+1):yt=Xe;continue e}if((Ee||It.kind!==1||!Lt.closingBracket)&&!q(It,T,ee,re,Me,Ue,Ee?tt+1:tt,Ee?Xe+1:Xe,Ye,V,!Lt.closingBracket))return!1}T=ee}}return Ye==null||Ye.set(Lt.openingBracket.text,Xe),!0}case 3:{const Ee=(0,I.Qw)(T,ee);return Ue(new _(Ee,tt-1,0,!0))}case 1:{const Ee=(0,I.Qw)(T,ee);return Ue(new _(Ee,tt-1,yt-1,de))}case 0:return!0}}class U{constructor(T,ee,re){this.push=T,this.includeMinIndentation=ee,this.textModel=re}}function L(Lt,T,ee,re,Me,Ue,tt,yt){var Ye;if(tt>200)return!0;let V=!0;if(Lt.kind===2){let de=0;if(yt){let Pe=yt.get(Lt.openingBracket.text);Pe===void 0&&(Pe=0),de=Pe,Pe++,yt.set(Lt.openingBracket.text,Pe)}const Ee=(0,I.Ii)(T,Lt.openingBracket.length);let Xe=-1;if(Ue.includeMinIndentation&&(Xe=Lt.computeMinIndentation(T,Ue.textModel)),V=Ue.push(new E((0,I.Qw)(T,ee),(0,I.Qw)(T,Ee),Lt.closingBracket?(0,I.Qw)((0,I.Ii)(Ee,((Ye=Lt.child)===null||Ye===void 0?void 0:Ye.length)||I.xl),ee):void 0,tt,de,Lt,Xe)),T=Ee,V&&Lt.child){const Pe=Lt.child;if(ee=(0,I.Ii)(T,Pe.length),(0,I.By)(T,Me)&&(0,I.Zq)(ee,re)&&(V=L(Pe,T,ee,re,Me,Ue,tt+1,yt),!V))return!1}yt==null||yt.set(Lt.openingBracket.text,de)}else{let de=T;for(const Ee of Lt.children){const Xe=de;if(de=(0,I.Ii)(de,Ee.length),(0,I.By)(Xe,Me)&&(0,I.By)(re,de)&&(V=L(Ee,Xe,de,re,Me,Ue,tt,yt),!V))return!1}}return V}class B extends S.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(T,ee){super(),this.textModel=T,this.languageConfigurationService=ee,this.bracketPairsTree=this._register(new S.XK),this.onDidChangeEmitter=new A.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(re=>{var Me;(!re.languageId||!((Me=this.bracketPairsTree.value)===null||Me===void 0)&&Me.object.didLanguageChange(re.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(T){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(T){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(T){var ee;(ee=this.bracketPairsTree.value)===null||ee===void 0||ee.object.handleContentChanged(T)}handleDidChangeBackgroundTokenizationState(){var T;(T=this.bracketPairsTree.value)===null||T===void 0||T.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(T){var ee;(ee=this.bracketPairsTree.value)===null||ee===void 0||ee.object.handleDidChangeTokens(T)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const T=new S.SL;this.bracketPairsTree.value=j(T.add(new H(this.textModel,ee=>this.languageConfigurationService.getLanguageConfiguration(ee))),T),T.add(this.bracketPairsTree.value.object.onDidChange(ee=>this.onDidChangeEmitter.fire(ee))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(T){var ee;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ee=this.bracketPairsTree.value)===null||ee===void 0?void 0:ee.object.getBracketPairsInRange(T,!1))||c.W$.empty}getBracketPairsInRangeWithMinIndentation(T){var ee;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ee=this.bracketPairsTree.value)===null||ee===void 0?void 0:ee.object.getBracketPairsInRange(T,!0))||c.W$.empty}getBracketsInRange(T,ee=!1){var re;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((re=this.bracketPairsTree.value)===null||re===void 0?void 0:re.object.getBracketsInRange(T,ee))||c.W$.empty}findMatchingBracketUp(T,ee,re){const Me=this.textModel.validatePosition(ee),Ue=this.textModel.getLanguageIdAtPosition(Me.lineNumber,Me.column);if(this.canBuildAST){const tt=this.languageConfigurationService.getLanguageConfiguration(Ue).bracketsNew.getClosingBracketInfo(T);if(!tt)return null;const yt=this.getBracketPairsInRange(a.e.fromPositions(ee,ee)).findLast(Ye=>tt.closes(Ye.openingBracketInfo));return yt?yt.openingBracketRange:null}else{const tt=T.toLowerCase(),yt=this.languageConfigurationService.getLanguageConfiguration(Ue).brackets;if(!yt)return null;const Ye=yt.textIsBracket[tt];return Ye?pe(this._findMatchingBracketUp(Ye,Me,G(re))):null}}matchBracket(T,ee){if(this.canBuildAST){const re=this.getBracketPairsInRange(a.e.fromPositions(T,T)).filter(Me=>Me.closingBracketRange!==void 0&&(Me.openingBracketRange.containsPosition(T)||Me.closingBracketRange.containsPosition(T))).findLastMaxBy((0,c.tT)(Me=>Me.openingBracketRange.containsPosition(T)?Me.openingBracketRange:Me.closingBracketRange,a.e.compareRangesUsingStarts));return re?[re.openingBracketRange,re.closingBracketRange]:null}else{const re=G(ee);return this._matchBracket(this.textModel.validatePosition(T),re)}}_establishBracketSearchOffsets(T,ee,re,Me){const Ue=ee.getCount(),tt=ee.getLanguageId(Me);let yt=Math.max(0,T.column-1-re.maxBracketLength);for(let V=Me-1;V>=0;V--){const de=ee.getEndOffset(V);if(de<=yt)break;if((0,C.Bu)(ee.getStandardTokenType(V))||ee.getLanguageId(V)!==tt){yt=de;break}}let Ye=Math.min(ee.getLineContent().length,T.column-1+re.maxBracketLength);for(let V=Me+1;V<Ue;V++){const de=ee.getStartOffset(V);if(de>=Ye)break;if((0,C.Bu)(ee.getStandardTokenType(V))||ee.getLanguageId(V)!==tt){Ye=de;break}}return{searchStartOffset:yt,searchEndOffset:Ye}}_matchBracket(T,ee){const re=T.lineNumber,Me=this.textModel.tokenization.getLineTokens(re),Ue=this.textModel.getLineContent(re),tt=Me.findTokenIndexAtOffset(T.column-1);if(tt<0)return null;const yt=this.languageConfigurationService.getLanguageConfiguration(Me.getLanguageId(tt)).brackets;if(yt&&!(0,C.Bu)(Me.getStandardTokenType(tt))){let{searchStartOffset:Ye,searchEndOffset:V}=this._establishBracketSearchOffsets(T,Me,yt,tt),de=null;for(;;){const Ee=u.Vr.findNextBracketInRange(yt.forwardRegex,re,Ue,Ye,V);if(!Ee)break;if(Ee.startColumn<=T.column&&T.column<=Ee.endColumn){const Xe=Ue.substring(Ee.startColumn-1,Ee.endColumn-1).toLowerCase(),Pe=this._matchFoundBracket(Ee,yt.textIsBracket[Xe],yt.textIsOpenBracket[Xe],ee);if(Pe){if(Pe instanceof y)return null;de=Pe}}Ye=Ee.endColumn-1}if(de)return de}if(tt>0&&Me.getStartOffset(tt)===T.column-1){const Ye=tt-1,V=this.languageConfigurationService.getLanguageConfiguration(Me.getLanguageId(Ye)).brackets;if(V&&!(0,C.Bu)(Me.getStandardTokenType(Ye))){const{searchStartOffset:de,searchEndOffset:Ee}=this._establishBracketSearchOffsets(T,Me,V,Ye),Xe=u.Vr.findPrevBracketInRange(V.reversedRegex,re,Ue,de,Ee);if(Xe&&Xe.startColumn<=T.column&&T.column<=Xe.endColumn){const Pe=Ue.substring(Xe.startColumn-1,Xe.endColumn-1).toLowerCase(),pt=this._matchFoundBracket(Xe,V.textIsBracket[Pe],V.textIsOpenBracket[Pe],ee);if(pt)return pt instanceof y?null:pt}}}return null}_matchFoundBracket(T,ee,re,Me){if(!ee)return null;const Ue=re?this._findMatchingBracketDown(ee,T.getEndPosition(),Me):this._findMatchingBracketUp(ee,T.getStartPosition(),Me);return Ue?Ue instanceof y?Ue:[T,Ue]:null}_findMatchingBracketUp(T,ee,re){const Me=T.languageId,Ue=T.reversedRegex;let tt=-1,yt=0;const Ye=(V,de,Ee,Xe)=>{for(;;){if(re&&++yt%100===0&&!re())return y.INSTANCE;const Pe=u.Vr.findPrevBracketInRange(Ue,V,de,Ee,Xe);if(!Pe)break;const pt=de.substring(Pe.startColumn-1,Pe.endColumn-1).toLowerCase();if(T.isOpen(pt)?tt++:T.isClose(pt)&&tt--,tt===0)return Pe;Xe=Pe.startColumn-1}return null};for(let V=ee.lineNumber;V>=1;V--){const de=this.textModel.tokenization.getLineTokens(V),Ee=de.getCount(),Xe=this.textModel.getLineContent(V);let Pe=Ee-1,pt=Xe.length,It=Xe.length;V===ee.lineNumber&&(Pe=de.findTokenIndexAtOffset(ee.column-1),pt=ee.column-1,It=ee.column-1);let Rt=!0;for(;Pe>=0;Pe--){const ei=de.getLanguageId(Pe)===Me&&!(0,C.Bu)(de.getStandardTokenType(Pe));if(ei)Rt?pt=de.getStartOffset(Pe):(pt=de.getStartOffset(Pe),It=de.getEndOffset(Pe));else if(Rt&&pt!==It){const ni=Ye(V,Xe,pt,It);if(ni)return ni}Rt=ei}if(Rt&&pt!==It){const ei=Ye(V,Xe,pt,It);if(ei)return ei}}return null}_findMatchingBracketDown(T,ee,re){const Me=T.languageId,Ue=T.forwardRegex;let tt=1,yt=0;const Ye=(de,Ee,Xe,Pe)=>{for(;;){if(re&&++yt%100===0&&!re())return y.INSTANCE;const pt=u.Vr.findNextBracketInRange(Ue,de,Ee,Xe,Pe);if(!pt)break;const It=Ee.substring(pt.startColumn-1,pt.endColumn-1).toLowerCase();if(T.isOpen(It)?tt++:T.isClose(It)&&tt--,tt===0)return pt;Xe=pt.endColumn-1}return null},V=this.textModel.getLineCount();for(let de=ee.lineNumber;de<=V;de++){const Ee=this.textModel.tokenization.getLineTokens(de),Xe=Ee.getCount(),Pe=this.textModel.getLineContent(de);let pt=0,It=0,Rt=0;de===ee.lineNumber&&(pt=Ee.findTokenIndexAtOffset(ee.column-1),It=ee.column-1,Rt=ee.column-1);let ei=!0;for(;pt<Xe;pt++){const ni=Ee.getLanguageId(pt)===Me&&!(0,C.Bu)(Ee.getStandardTokenType(pt));if(ni)ei||(It=Ee.getStartOffset(pt)),Rt=Ee.getEndOffset(pt);else if(ei&&It!==Rt){const pi=Ye(de,Pe,It,Rt);if(pi)return pi}ei=ni}if(ei&&It!==Rt){const ni=Ye(de,Pe,It,Rt);if(ni)return ni}}return null}findPrevBracket(T){var ee;const re=this.textModel.validatePosition(T);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ee=this.bracketPairsTree.value)===null||ee===void 0?void 0:ee.object.getFirstBracketBefore(re))||null;let Me=null,Ue=null,tt=null;for(let yt=re.lineNumber;yt>=1;yt--){const Ye=this.textModel.tokenization.getLineTokens(yt),V=Ye.getCount(),de=this.textModel.getLineContent(yt);let Ee=V-1,Xe=de.length,Pe=de.length;if(yt===re.lineNumber){Ee=Ye.findTokenIndexAtOffset(re.column-1),Xe=re.column-1,Pe=re.column-1;const It=Ye.getLanguageId(Ee);Me!==It&&(Me=It,Ue=this.languageConfigurationService.getLanguageConfiguration(Me).brackets,tt=this.languageConfigurationService.getLanguageConfiguration(Me).bracketsNew)}let pt=!0;for(;Ee>=0;Ee--){const It=Ye.getLanguageId(Ee);if(Me!==It){if(Ue&&tt&&pt&&Xe!==Pe){const ei=u.Vr.findPrevBracketInRange(Ue.reversedRegex,yt,de,Xe,Pe);if(ei)return this._toFoundBracket(tt,ei);pt=!1}Me=It,Ue=this.languageConfigurationService.getLanguageConfiguration(Me).brackets,tt=this.languageConfigurationService.getLanguageConfiguration(Me).bracketsNew}const Rt=!!Ue&&!(0,C.Bu)(Ye.getStandardTokenType(Ee));if(Rt)pt?Xe=Ye.getStartOffset(Ee):(Xe=Ye.getStartOffset(Ee),Pe=Ye.getEndOffset(Ee));else if(tt&&Ue&&pt&&Xe!==Pe){const ei=u.Vr.findPrevBracketInRange(Ue.reversedRegex,yt,de,Xe,Pe);if(ei)return this._toFoundBracket(tt,ei)}pt=Rt}if(tt&&Ue&&pt&&Xe!==Pe){const It=u.Vr.findPrevBracketInRange(Ue.reversedRegex,yt,de,Xe,Pe);if(It)return this._toFoundBracket(tt,It)}}return null}findNextBracket(T){var ee;const re=this.textModel.validatePosition(T);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ee=this.bracketPairsTree.value)===null||ee===void 0?void 0:ee.object.getFirstBracketAfter(re))||null;const Me=this.textModel.getLineCount();let Ue=null,tt=null,yt=null;for(let Ye=re.lineNumber;Ye<=Me;Ye++){const V=this.textModel.tokenization.getLineTokens(Ye),de=V.getCount(),Ee=this.textModel.getLineContent(Ye);let Xe=0,Pe=0,pt=0;if(Ye===re.lineNumber){Xe=V.findTokenIndexAtOffset(re.column-1),Pe=re.column-1,pt=re.column-1;const Rt=V.getLanguageId(Xe);Ue!==Rt&&(Ue=Rt,tt=this.languageConfigurationService.getLanguageConfiguration(Ue).brackets,yt=this.languageConfigurationService.getLanguageConfiguration(Ue).bracketsNew)}let It=!0;for(;Xe<de;Xe++){const Rt=V.getLanguageId(Xe);if(Ue!==Rt){if(yt&&tt&&It&&Pe!==pt){const ni=u.Vr.findNextBracketInRange(tt.forwardRegex,Ye,Ee,Pe,pt);if(ni)return this._toFoundBracket(yt,ni);It=!1}Ue=Rt,tt=this.languageConfigurationService.getLanguageConfiguration(Ue).brackets,yt=this.languageConfigurationService.getLanguageConfiguration(Ue).bracketsNew}const ei=!!tt&&!(0,C.Bu)(V.getStandardTokenType(Xe));if(ei)It||(Pe=V.getStartOffset(Xe)),pt=V.getEndOffset(Xe);else if(yt&&tt&&It&&Pe!==pt){const ni=u.Vr.findNextBracketInRange(tt.forwardRegex,Ye,Ee,Pe,pt);if(ni)return this._toFoundBracket(yt,ni)}It=ei}if(yt&&tt&&It&&Pe!==pt){const Rt=u.Vr.findNextBracketInRange(tt.forwardRegex,Ye,Ee,Pe,pt);if(Rt)return this._toFoundBracket(yt,Rt)}}return null}findEnclosingBrackets(T,ee){const re=this.textModel.validatePosition(T);if(this.canBuildAST){const Pe=a.e.fromPositions(re),pt=this.getBracketPairsInRange(a.e.fromPositions(re,re)).findLast(It=>It.closingBracketRange!==void 0&&It.range.strictContainsRange(Pe));return pt?[pt.openingBracketRange,pt.closingBracketRange]:null}const Me=G(ee),Ue=this.textModel.getLineCount(),tt=new Map;let yt=[];const Ye=(Pe,pt)=>{if(!tt.has(Pe)){const It=[];for(let Rt=0,ei=pt?pt.brackets.length:0;Rt<ei;Rt++)It[Rt]=0;tt.set(Pe,It)}yt=tt.get(Pe)};let V=0;const de=(Pe,pt,It,Rt,ei)=>{for(;;){if(Me&&++V%100===0&&!Me())return y.INSTANCE;const ni=u.Vr.findNextBracketInRange(Pe.forwardRegex,pt,It,Rt,ei);if(!ni)break;const pi=It.substring(ni.startColumn-1,ni.endColumn-1).toLowerCase(),mi=Pe.textIsBracket[pi];if(mi&&(mi.isOpen(pi)?yt[mi.index]++:mi.isClose(pi)&&yt[mi.index]--,yt[mi.index]===-1))return this._matchFoundBracket(ni,mi,!1,Me);Rt=ni.endColumn-1}return null};let Ee=null,Xe=null;for(let Pe=re.lineNumber;Pe<=Ue;Pe++){const pt=this.textModel.tokenization.getLineTokens(Pe),It=pt.getCount(),Rt=this.textModel.getLineContent(Pe);let ei=0,ni=0,pi=0;if(Pe===re.lineNumber){ei=pt.findTokenIndexAtOffset(re.column-1),ni=re.column-1,pi=re.column-1;const wi=pt.getLanguageId(ei);Ee!==wi&&(Ee=wi,Xe=this.languageConfigurationService.getLanguageConfiguration(Ee).brackets,Ye(Ee,Xe))}let mi=!0;for(;ei<It;ei++){const wi=pt.getLanguageId(ei);if(Ee!==wi){if(Xe&&mi&&ni!==pi){const vi=de(Xe,Pe,Rt,ni,pi);if(vi)return pe(vi);mi=!1}Ee=wi,Xe=this.languageConfigurationService.getLanguageConfiguration(Ee).brackets,Ye(Ee,Xe)}const ci=!!Xe&&!(0,C.Bu)(pt.getStandardTokenType(ei));if(ci)mi||(ni=pt.getStartOffset(ei)),pi=pt.getEndOffset(ei);else if(Xe&&mi&&ni!==pi){const vi=de(Xe,Pe,Rt,ni,pi);if(vi)return pe(vi)}mi=ci}if(Xe&&mi&&ni!==pi){const wi=de(Xe,Pe,Rt,ni,pi);if(wi)return pe(wi)}}return null}_toFoundBracket(T,ee){if(!ee)return null;let re=this.textModel.getValueInRange(ee);re=re.toLowerCase();const Me=T.getBracketInfo(re);return Me?{range:ee,bracketInfo:Me}:null}}function j(Lt,T){return{object:Lt,dispose:()=>T==null?void 0:T.dispose()}}function G(Lt){if(typeof Lt=="undefined")return()=>!0;{const T=Date.now();return()=>Date.now()-T<=Lt}}class y{constructor(){this._searchCanceledBrand=void 0}}y.INSTANCE=new y;function pe(Lt){return Lt instanceof y?null:Lt}var ye=i(34467),me=i(901);class Se extends S.JT{constructor(T){super(),this.textModel=T,this.colorProvider=new _e,this.onDidChangeEmitter=new A.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=T.getOptions().bracketPairColorizationOptions,this._register(T.bracketPairs.onDidChange(ee=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(T){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(T,ee,re,Me){return Me?[]:ee===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(T,!0).map(tt=>({id:`bracket${tt.range.toString()}-${tt.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(tt,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:tt.range})).toArray():[]}getAllDecorations(T,ee){return T===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new a.e(1,1,this.textModel.getLineCount(),1),T,ee):[]}}class _e{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(T,ee){return T.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(ee?T.nestingLevelOfEqualBracketType:T.nestingLevel)}getInlineClassNameOfLevel(T){return`bracket-highlighting-${T%30}`}}(0,me.Ic)((Lt,T)=>{const ee=[ye.zJ,ye.Vs,ye.CE,ye.UP,ye.r0,ye.m1],re=new _e;T.addRule(`.monaco-editor .${re.unexpectedClosingBracketClassName} { color: ${Lt.getColor(ye.ts)}; }`);const Me=ee.map(Ue=>Lt.getColor(Ue)).filter(Ue=>!!Ue).filter(Ue=>!Ue.isTransparent());for(let Ue=0;Ue<30;Ue++){const tt=Me[Ue%Me.length];T.addRule(`.monaco-editor .${re.getInlineClassNameOfLevel(Ue)} { color: ${tt}; }`)}});var he=i(94207),le=i(63633);class se{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Re(Lt,T,ee,re,Me){Me.spacesDiff=0,Me.looksLikeAlignment=!1;let Ue;for(Ue=0;Ue<T&&Ue<re;Ue++){const Xe=Lt.charCodeAt(Ue),Pe=ee.charCodeAt(Ue);if(Xe!==Pe)break}let tt=0,yt=0;for(let Xe=Ue;Xe<T;Xe++)Lt.charCodeAt(Xe)===32?tt++:yt++;let Ye=0,V=0;for(let Xe=Ue;Xe<re;Xe++)ee.charCodeAt(Xe)===32?Ye++:V++;if(tt>0&&yt>0||Ye>0&&V>0)return;const de=Math.abs(yt-V),Ee=Math.abs(tt-Ye);if(de===0){Me.spacesDiff=Ee,Ee>0&&0<=Ye-1&&Ye-1<Lt.length&&Ye<ee.length&&ee.charCodeAt(Ye)!==32&&Lt.charCodeAt(Ye-1)===32&&Lt.charCodeAt(Lt.length-1)===44&&(Me.looksLikeAlignment=!0);return}if(Ee%de===0){Me.spacesDiff=Ee/de;return}}function $e(Lt,T,ee){const re=Math.min(Lt.getLineCount(),1e4);let Me=0,Ue=0,tt="",yt=0;const Ye=[2,4,6,8,3,5,7],V=8,de=[0,0,0,0,0,0,0,0,0],Ee=new se;for(let pt=1;pt<=re;pt++){const It=Lt.getLineLength(pt),Rt=Lt.getLineContent(pt),ei=It<=65536;let ni=!1,pi=0,mi=0,wi=0;for(let vi=0,Ti=It;vi<Ti;vi++){const Yi=ei?Rt.charCodeAt(vi):Lt.getLineCharCode(pt,vi);if(Yi===9)wi++;else if(Yi===32)mi++;else{ni=!0,pi=vi;break}}if(!ni||(wi>0?Me++:mi>1&&Ue++,Re(tt,yt,Rt,pi,Ee),Ee.looksLikeAlignment&&!(ee&&T===Ee.spacesDiff)))continue;const ci=Ee.spacesDiff;ci<=V&&de[ci]++,tt=Rt,yt=pi}let Xe=ee;Me!==Ue&&(Xe=Me<Ue);let Pe=T;if(Xe){let pt=Xe?0:.1*re;Ye.forEach(It=>{const Rt=de[It];Rt>pt&&(pt=Rt,Pe=It)}),Pe===4&&de[4]>0&&de[2]>0&&de[2]>=de[4]/2&&(Pe=2)}return{insertSpaces:Xe,tabSize:Pe}}function je(Lt){return(Lt.metadata&1)>>>0}function Ce(Lt,T){Lt.metadata=Lt.metadata&254|T<<0}function J(Lt){return(Lt.metadata&2)>>>1===1}function ne(Lt,T){Lt.metadata=Lt.metadata&253|(T?1:0)<<1}function ae(Lt){return(Lt.metadata&4)>>>2===1}function xe(Lt,T){Lt.metadata=Lt.metadata&251|(T?1:0)<<2}function Ke(Lt){return(Lt.metadata&24)>>>3}function ct(Lt,T){Lt.metadata=Lt.metadata&231|T<<3}function ot(Lt){return(Lt.metadata&32)>>>5===1}function dt(Lt,T){Lt.metadata=Lt.metadata&223|(T?1:0)<<5}class et{constructor(T,ee,re){this.metadata=0,this.parent=this,this.left=this,this.right=this,Ce(this,1),this.start=ee,this.end=re,this.delta=0,this.maxEnd=re,this.id=T,this.ownerId=0,this.options=null,xe(this,!1),ct(this,1),dt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=ee,this.cachedAbsoluteEnd=re,this.range=null,ne(this,!1)}reset(T,ee,re,Me){this.start=ee,this.end=re,this.maxEnd=re,this.cachedVersionId=T,this.cachedAbsoluteStart=ee,this.cachedAbsoluteEnd=re,this.range=Me}setOptions(T){this.options=T;const ee=this.options.className;xe(this,ee==="squiggly-error"||ee==="squiggly-warning"||ee==="squiggly-info"),ct(this,this.options.stickiness),dt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(T,ee,re){this.cachedVersionId!==re&&(this.range=null),this.cachedVersionId=re,this.cachedAbsoluteStart=T,this.cachedAbsoluteEnd=ee}detach(){this.parent=null,this.left=null,this.right=null}}const Fe=new et(null,0,0);Fe.parent=Fe,Fe.left=Fe,Fe.right=Fe,Ce(Fe,0);class Le{constructor(){this.root=Fe,this.requestNormalizeDelta=!1}intervalSearch(T,ee,re,Me,Ue){return this.root===Fe?[]:kt(this,T,ee,re,Me,Ue)}search(T,ee,re){return this.root===Fe?[]:bt(this,T,ee,re)}collectNodesFromOwner(T){return He(this,T)}collectNodesPostOrder(){return mt(this)}insert(T){Ut(this,T),this._normalizeDeltaIfNecessary()}delete(T){Dt(this,T),this._normalizeDeltaIfNecessary()}resolveNode(T,ee){const re=T;let Me=0;for(;T!==this.root;)T===T.parent.right&&(Me+=T.parent.delta),T=T.parent;const Ue=re.start+Me,tt=re.end+Me;re.setCachedOffsets(Ue,tt,ee)}acceptReplace(T,ee,re,Me){const Ue=we(this,T,T+ee);for(let tt=0,yt=Ue.length;tt<yt;tt++){const Ye=Ue[tt];Dt(this,Ye)}this._normalizeDeltaIfNecessary(),Oe(this,T,T+ee,re),this._normalizeDeltaIfNecessary();for(let tt=0,yt=Ue.length;tt<yt;tt++){const Ye=Ue[tt];Ye.start=Ye.cachedAbsoluteStart,Ye.end=Ye.cachedAbsoluteEnd,ve(Ye,T,T+ee,re,Me),Ye.maxEnd=Ye.end,Ut(this,Ye)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,Te(this))}}function Te(Lt){let T=Lt.root,ee=0;for(;T!==Fe;){if(T.left!==Fe&&!J(T.left)){T=T.left;continue}if(T.right!==Fe&&!J(T.right)){ee+=T.delta,T=T.right;continue}T.start=ee+T.start,T.end=ee+T.end,T.delta=0,jt(T),ne(T,!0),ne(T.left,!1),ne(T.right,!1),T===T.parent.right&&(ee-=T.parent.delta),T=T.parent}ne(Lt.root,!1)}function ge(Lt,T,ee,re){return Lt<ee?!0:Lt>ee||re===1?!1:re===2?!0:T}function ve(Lt,T,ee,re,Me){const Ue=Ke(Lt),tt=Ue===0||Ue===2,yt=Ue===1||Ue===2,Ye=ee-T,V=re,de=Math.min(Ye,V),Ee=Lt.start;let Xe=!1;const Pe=Lt.end;let pt=!1;T<=Ee&&Pe<=ee&&ot(Lt)&&(Lt.start=T,Xe=!0,Lt.end=T,pt=!0);{const Rt=Me?1:Ye>0?2:0;!Xe&&ge(Ee,tt,T,Rt)&&(Xe=!0),!pt&&ge(Pe,yt,T,Rt)&&(pt=!0)}if(de>0&&!Me){const Rt=Ye>V?2:0;!Xe&&ge(Ee,tt,T+de,Rt)&&(Xe=!0),!pt&&ge(Pe,yt,T+de,Rt)&&(pt=!0)}{const Rt=Me?1:0;!Xe&&ge(Ee,tt,ee,Rt)&&(Lt.start=T+V,Xe=!0),!pt&&ge(Pe,yt,ee,Rt)&&(Lt.end=T+V,pt=!0)}const It=V-Ye;Xe||(Lt.start=Math.max(0,Ee+It)),pt||(Lt.end=Math.max(0,Pe+It)),Lt.start>Lt.end&&(Lt.end=Lt.start)}function we(Lt,T,ee){let re=Lt.root,Me=0,Ue=0,tt=0,yt=0;const Ye=[];let V=0;for(;re!==Fe;){if(J(re)){ne(re.left,!1),ne(re.right,!1),re===re.parent.right&&(Me-=re.parent.delta),re=re.parent;continue}if(!J(re.left)){if(Ue=Me+re.maxEnd,Ue<T){ne(re,!0);continue}if(re.left!==Fe){re=re.left;continue}}if(tt=Me+re.start,tt>ee){ne(re,!0);continue}if(yt=Me+re.end,yt>=T&&(re.setCachedOffsets(tt,yt,0),Ye[V++]=re),ne(re,!0),re.right!==Fe&&!J(re.right)){Me+=re.delta,re=re.right;continue}}return ne(Lt.root,!1),Ye}function Oe(Lt,T,ee,re){let Me=Lt.root,Ue=0,tt=0,yt=0;const Ye=re-(ee-T);for(;Me!==Fe;){if(J(Me)){ne(Me.left,!1),ne(Me.right,!1),Me===Me.parent.right&&(Ue-=Me.parent.delta),jt(Me),Me=Me.parent;continue}if(!J(Me.left)){if(tt=Ue+Me.maxEnd,tt<T){ne(Me,!0);continue}if(Me.left!==Fe){Me=Me.left;continue}}if(yt=Ue+Me.start,yt>ee){Me.start+=Ye,Me.end+=Ye,Me.delta+=Ye,(Me.delta<-1073741824||Me.delta>1073741824)&&(Lt.requestNormalizeDelta=!0),ne(Me,!0);continue}if(ne(Me,!0),Me.right!==Fe&&!J(Me.right)){Ue+=Me.delta,Me=Me.right;continue}}ne(Lt.root,!1)}function He(Lt,T){let ee=Lt.root;const re=[];let Me=0;for(;ee!==Fe;){if(J(ee)){ne(ee.left,!1),ne(ee.right,!1),ee=ee.parent;continue}if(ee.left!==Fe&&!J(ee.left)){ee=ee.left;continue}if(ee.ownerId===T&&(re[Me++]=ee),ne(ee,!0),ee.right!==Fe&&!J(ee.right)){ee=ee.right;continue}}return ne(Lt.root,!1),re}function mt(Lt){let T=Lt.root;const ee=[];let re=0;for(;T!==Fe;){if(J(T)){ne(T.left,!1),ne(T.right,!1),T=T.parent;continue}if(T.left!==Fe&&!J(T.left)){T=T.left;continue}if(T.right!==Fe&&!J(T.right)){T=T.right;continue}ee[re++]=T,ne(T,!0)}return ne(Lt.root,!1),ee}function bt(Lt,T,ee,re){let Me=Lt.root,Ue=0,tt=0,yt=0;const Ye=[];let V=0;for(;Me!==Fe;){if(J(Me)){ne(Me.left,!1),ne(Me.right,!1),Me===Me.parent.right&&(Ue-=Me.parent.delta),Me=Me.parent;continue}if(Me.left!==Fe&&!J(Me.left)){Me=Me.left;continue}tt=Ue+Me.start,yt=Ue+Me.end,Me.setCachedOffsets(tt,yt,re);let de=!0;if(T&&Me.ownerId&&Me.ownerId!==T&&(de=!1),ee&&ae(Me)&&(de=!1),de&&(Ye[V++]=Me),ne(Me,!0),Me.right!==Fe&&!J(Me.right)){Ue+=Me.delta,Me=Me.right;continue}}return ne(Lt.root,!1),Ye}function kt(Lt,T,ee,re,Me,Ue){let tt=Lt.root,yt=0,Ye=0,V=0,de=0;const Ee=[];let Xe=0;for(;tt!==Fe;){if(J(tt)){ne(tt.left,!1),ne(tt.right,!1),tt===tt.parent.right&&(yt-=tt.parent.delta),tt=tt.parent;continue}if(!J(tt.left)){if(Ye=yt+tt.maxEnd,Ye<T){ne(tt,!0);continue}if(tt.left!==Fe){tt=tt.left;continue}}if(V=yt+tt.start,V>ee){ne(tt,!0);continue}if(de=yt+tt.end,de>=T){tt.setCachedOffsets(V,de,Ue);let Pe=!0;re&&tt.ownerId&&tt.ownerId!==re&&(Pe=!1),Me&&ae(tt)&&(Pe=!1),Pe&&(Ee[Xe++]=tt)}if(ne(tt,!0),tt.right!==Fe&&!J(tt.right)){yt+=tt.delta,tt=tt.right;continue}}return ne(Lt.root,!1),Ee}function Ut(Lt,T){if(Lt.root===Fe)return T.parent=Fe,T.left=Fe,T.right=Fe,Ce(T,0),Lt.root=T,Lt.root;ut(Lt,T),Ct(T.parent);let ee=T;for(;ee!==Lt.root&&je(ee.parent)===1;)if(ee.parent===ee.parent.parent.left){const re=ee.parent.parent.right;je(re)===1?(Ce(ee.parent,0),Ce(re,0),Ce(ee.parent.parent,1),ee=ee.parent.parent):(ee===ee.parent.right&&(ee=ee.parent,Et(Lt,ee)),Ce(ee.parent,0),Ce(ee.parent.parent,1),Ze(Lt,ee.parent.parent))}else{const re=ee.parent.parent.left;je(re)===1?(Ce(ee.parent,0),Ce(re,0),Ce(ee.parent.parent,1),ee=ee.parent.parent):(ee===ee.parent.left&&(ee=ee.parent,Ze(Lt,ee)),Ce(ee.parent,0),Ce(ee.parent.parent,1),Et(Lt,ee.parent.parent))}return Ce(Lt.root,0),T}function ut(Lt,T){let ee=0,re=Lt.root;const Me=T.start,Ue=T.end;for(;;)if(_t(Me,Ue,re.start+ee,re.end+ee)<0)if(re.left===Fe){T.start-=ee,T.end-=ee,T.maxEnd-=ee,re.left=T;break}else re=re.left;else if(re.right===Fe){T.start-=ee+re.delta,T.end-=ee+re.delta,T.maxEnd-=ee+re.delta,re.right=T;break}else ee+=re.delta,re=re.right;T.parent=re,T.left=Fe,T.right=Fe,Ce(T,1)}function Dt(Lt,T){let ee,re;if(T.left===Fe?(ee=T.right,re=T,ee.delta+=T.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Lt.requestNormalizeDelta=!0),ee.start+=T.delta,ee.end+=T.delta):T.right===Fe?(ee=T.left,re=T):(re=ft(T.right),ee=re.right,ee.start+=re.delta,ee.end+=re.delta,ee.delta+=re.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Lt.requestNormalizeDelta=!0),re.start+=T.delta,re.end+=T.delta,re.delta=T.delta,(re.delta<-1073741824||re.delta>1073741824)&&(Lt.requestNormalizeDelta=!0)),re===Lt.root){Lt.root=ee,Ce(ee,0),T.detach(),Ft(),jt(ee),Lt.root.parent=Fe;return}const Me=je(re)===1;if(re===re.parent.left?re.parent.left=ee:re.parent.right=ee,re===T?ee.parent=re.parent:(re.parent===T?ee.parent=re:ee.parent=re.parent,re.left=T.left,re.right=T.right,re.parent=T.parent,Ce(re,je(T)),T===Lt.root?Lt.root=re:T===T.parent.left?T.parent.left=re:T.parent.right=re,re.left!==Fe&&(re.left.parent=re),re.right!==Fe&&(re.right.parent=re)),T.detach(),Me){Ct(ee.parent),re!==T&&(Ct(re),Ct(re.parent)),Ft();return}Ct(ee),Ct(ee.parent),re!==T&&(Ct(re),Ct(re.parent));let Ue;for(;ee!==Lt.root&&je(ee)===0;)ee===ee.parent.left?(Ue=ee.parent.right,je(Ue)===1&&(Ce(Ue,0),Ce(ee.parent,1),Et(Lt,ee.parent),Ue=ee.parent.right),je(Ue.left)===0&&je(Ue.right)===0?(Ce(Ue,1),ee=ee.parent):(je(Ue.right)===0&&(Ce(Ue.left,0),Ce(Ue,1),Ze(Lt,Ue),Ue=ee.parent.right),Ce(Ue,je(ee.parent)),Ce(ee.parent,0),Ce(Ue.right,0),Et(Lt,ee.parent),ee=Lt.root)):(Ue=ee.parent.left,je(Ue)===1&&(Ce(Ue,0),Ce(ee.parent,1),Ze(Lt,ee.parent),Ue=ee.parent.left),je(Ue.left)===0&&je(Ue.right)===0?(Ce(Ue,1),ee=ee.parent):(je(Ue.left)===0&&(Ce(Ue.right,0),Ce(Ue,1),Et(Lt,Ue),Ue=ee.parent.left),Ce(Ue,je(ee.parent)),Ce(ee.parent,0),Ce(Ue.left,0),Ze(Lt,ee.parent),ee=Lt.root));Ce(ee,0),Ft()}function ft(Lt){for(;Lt.left!==Fe;)Lt=Lt.left;return Lt}function Ft(){Fe.parent=Fe,Fe.delta=0,Fe.start=0,Fe.end=0}function Et(Lt,T){const ee=T.right;ee.delta+=T.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Lt.requestNormalizeDelta=!0),ee.start+=T.delta,ee.end+=T.delta,T.right=ee.left,ee.left!==Fe&&(ee.left.parent=T),ee.parent=T.parent,T.parent===Fe?Lt.root=ee:T===T.parent.left?T.parent.left=ee:T.parent.right=ee,ee.left=T,T.parent=ee,jt(T),jt(ee)}function Ze(Lt,T){const ee=T.left;T.delta-=ee.delta,(T.delta<-1073741824||T.delta>1073741824)&&(Lt.requestNormalizeDelta=!0),T.start-=ee.delta,T.end-=ee.delta,T.left=ee.right,ee.right!==Fe&&(ee.right.parent=T),ee.parent=T.parent,T.parent===Fe?Lt.root=ee:T===T.parent.right?T.parent.right=ee:T.parent.left=ee,ee.right=T,T.parent=ee,jt(T),jt(ee)}function St(Lt){let T=Lt.end;if(Lt.left!==Fe){const ee=Lt.left.maxEnd;ee>T&&(T=ee)}if(Lt.right!==Fe){const ee=Lt.right.maxEnd+Lt.delta;ee>T&&(T=ee)}return T}function jt(Lt){Lt.maxEnd=St(Lt)}function Ct(Lt){for(;Lt!==Fe;){const T=St(Lt);if(Lt.maxEnd===T)return;Lt.maxEnd=T,Lt=Lt.parent}}function _t(Lt,T,ee,re){return Lt===ee?T-re:Lt-ee}class Kt{constructor(T,ee){this.piece=T,this.color=ee,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Zt)return li(this.right);let T=this;for(;T.parent!==Zt&&T.parent.left!==T;)T=T.parent;return T.parent===Zt?Zt:T.parent}prev(){if(this.left!==Zt)return ri(this.left);let T=this;for(;T.parent!==Zt&&T.parent.right!==T;)T=T.parent;return T.parent===Zt?Zt:T.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Zt=new Kt(null,0);Zt.parent=Zt,Zt.left=Zt,Zt.right=Zt,Zt.color=0;function li(Lt){for(;Lt.left!==Zt;)Lt=Lt.left;return Lt}function ri(Lt){for(;Lt.right!==Zt;)Lt=Lt.right;return Lt}function Ui(Lt){return Lt===Zt?0:Lt.size_left+Lt.piece.length+Ui(Lt.right)}function on(Lt){return Lt===Zt?0:Lt.lf_left+Lt.piece.lineFeedCnt+on(Lt.right)}function Qi(){Zt.parent=Zt}function un(Lt,T){const ee=T.right;ee.size_left+=T.size_left+(T.piece?T.piece.length:0),ee.lf_left+=T.lf_left+(T.piece?T.piece.lineFeedCnt:0),T.right=ee.left,ee.left!==Zt&&(ee.left.parent=T),ee.parent=T.parent,T.parent===Zt?Lt.root=ee:T.parent.left===T?T.parent.left=ee:T.parent.right=ee,ee.left=T,T.parent=ee}function Sn(Lt,T){const ee=T.left;T.left=ee.right,ee.right!==Zt&&(ee.right.parent=T),ee.parent=T.parent,T.size_left-=ee.size_left+(ee.piece?ee.piece.length:0),T.lf_left-=ee.lf_left+(ee.piece?ee.piece.lineFeedCnt:0),T.parent===Zt?Lt.root=ee:T===T.parent.right?T.parent.right=ee:T.parent.left=ee,ee.right=T,T.parent=ee}function bn(Lt,T){let ee,re;if(T.left===Zt?(re=T,ee=re.right):T.right===Zt?(re=T,ee=re.left):(re=li(T.right),ee=re.right),re===Lt.root){Lt.root=ee,ee.color=0,T.detach(),Qi(),Lt.root.parent=Zt;return}const Me=re.color===1;if(re===re.parent.left?re.parent.left=ee:re.parent.right=ee,re===T?(ee.parent=re.parent,On(Lt,ee)):(re.parent===T?ee.parent=re:ee.parent=re.parent,On(Lt,ee),re.left=T.left,re.right=T.right,re.parent=T.parent,re.color=T.color,T===Lt.root?Lt.root=re:T===T.parent.left?T.parent.left=re:T.parent.right=re,re.left!==Zt&&(re.left.parent=re),re.right!==Zt&&(re.right.parent=re),re.size_left=T.size_left,re.lf_left=T.lf_left,On(Lt,re)),T.detach(),ee.parent.left===ee){const tt=Ui(ee),yt=on(ee);if(tt!==ee.parent.size_left||yt!==ee.parent.lf_left){const Ye=tt-ee.parent.size_left,V=yt-ee.parent.lf_left;ee.parent.size_left=tt,ee.parent.lf_left=yt,Fi(Lt,ee.parent,Ye,V)}}if(On(Lt,ee.parent),Me){Qi();return}let Ue;for(;ee!==Lt.root&&ee.color===0;)ee===ee.parent.left?(Ue=ee.parent.right,Ue.color===1&&(Ue.color=0,ee.parent.color=1,un(Lt,ee.parent),Ue=ee.parent.right),Ue.left.color===0&&Ue.right.color===0?(Ue.color=1,ee=ee.parent):(Ue.right.color===0&&(Ue.left.color=0,Ue.color=1,Sn(Lt,Ue),Ue=ee.parent.right),Ue.color=ee.parent.color,ee.parent.color=0,Ue.right.color=0,un(Lt,ee.parent),ee=Lt.root)):(Ue=ee.parent.left,Ue.color===1&&(Ue.color=0,ee.parent.color=1,Sn(Lt,ee.parent),Ue=ee.parent.left),Ue.left.color===0&&Ue.right.color===0?(Ue.color=1,ee=ee.parent):(Ue.left.color===0&&(Ue.right.color=0,Ue.color=1,un(Lt,Ue),Ue=ee.parent.left),Ue.color=ee.parent.color,ee.parent.color=0,Ue.left.color=0,Sn(Lt,ee.parent),ee=Lt.root));ee.color=0,Qi()}function Cn(Lt,T){for(On(Lt,T);T!==Lt.root&&T.parent.color===1;)if(T.parent===T.parent.parent.left){const ee=T.parent.parent.right;ee.color===1?(T.parent.color=0,ee.color=0,T.parent.parent.color=1,T=T.parent.parent):(T===T.parent.right&&(T=T.parent,un(Lt,T)),T.parent.color=0,T.parent.parent.color=1,Sn(Lt,T.parent.parent))}else{const ee=T.parent.parent.left;ee.color===1?(T.parent.color=0,ee.color=0,T.parent.parent.color=1,T=T.parent.parent):(T===T.parent.left&&(T=T.parent,Sn(Lt,T)),T.parent.color=0,T.parent.parent.color=1,un(Lt,T.parent.parent))}Lt.root.color=0}function Fi(Lt,T,ee,re){for(;T!==Lt.root&&T!==Zt;)T.parent.left===T&&(T.parent.size_left+=ee,T.parent.lf_left+=re),T=T.parent}function On(Lt,T){let ee=0,re=0;if(T!==Lt.root){for(;T!==Lt.root&&T===T.parent.right;)T=T.parent;if(T!==Lt.root)for(T=T.parent,ee=Ui(T.left)-T.size_left,re=on(T.left)-T.lf_left,T.size_left+=ee,T.lf_left+=re;T!==Lt.root&&(ee!==0||re!==0);)T.parent.left===T&&(T.parent.size_left+=ee,T.parent.lf_left+=re),T=T.parent}}var rn=i(68513);const pn=65535;function ui(Lt){let T;return Lt[Lt.length-1]<65536?T=new Uint16Array(Lt.length):T=new Uint32Array(Lt.length),T.set(Lt,0),T}class Mt{constructor(T,ee,re,Me,Ue){this.lineStarts=T,this.cr=ee,this.lf=re,this.crlf=Me,this.isBasicASCII=Ue}}function At(Lt,T=!0){const ee=[0];let re=1;for(let Me=0,Ue=Lt.length;Me<Ue;Me++){const tt=Lt.charCodeAt(Me);tt===13?Me+1<Ue&&Lt.charCodeAt(Me+1)===10?(ee[re++]=Me+2,Me++):ee[re++]=Me+1:tt===10&&(ee[re++]=Me+1)}return T?ui(ee):ee}function Wt(Lt,T){Lt.length=0,Lt[0]=0;let ee=1,re=0,Me=0,Ue=0,tt=!0;for(let Ye=0,V=T.length;Ye<V;Ye++){const de=T.charCodeAt(Ye);de===13?Ye+1<V&&T.charCodeAt(Ye+1)===10?(Ue++,Lt[ee++]=Ye+2,Ye++):(re++,Lt[ee++]=Ye+1):de===10?(Me++,Lt[ee++]=Ye+1):tt&&de!==9&&(de<32||de>126)&&(tt=!1)}const yt=new Mt(ui(Lt),re,Me,Ue,tt);return Lt.length=0,yt}class qt{constructor(T,ee,re,Me,Ue){this.bufferIndex=T,this.start=ee,this.end=re,this.lineFeedCnt=Me,this.length=Ue}}class at{constructor(T,ee){this.buffer=T,this.lineStarts=ee}}class Ve{constructor(T,ee){this._pieces=[],this._tree=T,this._BOM=ee,this._index=0,T.root!==Zt&&T.iterate(T.root,re=>(re!==Zt&&this._pieces.push(re.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ze{constructor(T){this._limit=T,this._cache=[]}get(T){for(let ee=this._cache.length-1;ee>=0;ee--){const re=this._cache[ee];if(re.nodeStartOffset<=T&&re.nodeStartOffset+re.node.piece.length>=T)return re}return null}get2(T){for(let ee=this._cache.length-1;ee>=0;ee--){const re=this._cache[ee];if(re.nodeStartLineNumber&&re.nodeStartLineNumber<T&&re.nodeStartLineNumber+re.node.piece.lineFeedCnt>=T)return re}return null}set(T){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(T)}validate(T){let ee=!1;const re=this._cache;for(let Me=0;Me<re.length;Me++){const Ue=re[Me];if(Ue.node.parent===null||Ue.nodeStartOffset>=T){re[Me]=null,ee=!0;continue}}if(ee){const Me=[];for(const Ue of re)Ue!==null&&Me.push(Ue);this._cache=Me}}}class Ae{constructor(T,ee,re){this.create(T,ee,re)}create(T,ee,re){this._buffers=[new at("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Zt,this._lineCnt=1,this._length=0,this._EOL=ee,this._EOLLength=ee.length,this._EOLNormalized=re;let Me=null;for(let Ue=0,tt=T.length;Ue<tt;Ue++)if(T[Ue].buffer.length>0){T[Ue].lineStarts||(T[Ue].lineStarts=At(T[Ue].buffer));const yt=new qt(Ue+1,{line:0,column:0},{line:T[Ue].lineStarts.length-1,column:T[Ue].buffer.length-T[Ue].lineStarts[T[Ue].lineStarts.length-1]},T[Ue].lineStarts.length-1,T[Ue].buffer.length);this._buffers.push(T[Ue]),Me=this.rbInsertRight(Me,yt)}this._searchCache=new ze(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(T){const ee=pn,re=ee-Math.floor(ee/3),Me=re*2;let Ue="",tt=0;const yt=[];if(this.iterate(this.root,Ye=>{const V=this.getNodeContent(Ye),de=V.length;if(tt<=re||tt+de<Me)return Ue+=V,tt+=de,!0;const Ee=Ue.replace(/\r\n|\r|\n/g,T);return yt.push(new at(Ee,At(Ee))),Ue=V,tt=de,!0}),tt>0){const Ye=Ue.replace(/\r\n|\r|\n/g,T);yt.push(new at(Ye,At(Ye)))}this.create(yt,T,!0)}getEOL(){return this._EOL}setEOL(T){this._EOL=T,this._EOLLength=this._EOL.length,this.normalizeEOL(T)}createSnapshot(T){return new Ve(this,T)}getOffsetAt(T,ee){let re=0,Me=this.root;for(;Me!==Zt;)if(Me.left!==Zt&&Me.lf_left+1>=T)Me=Me.left;else if(Me.lf_left+Me.piece.lineFeedCnt+1>=T){re+=Me.size_left;const Ue=this.getAccumulatedValue(Me,T-Me.lf_left-2);return re+=Ue+ee-1}else T-=Me.lf_left+Me.piece.lineFeedCnt,re+=Me.size_left+Me.piece.length,Me=Me.right;return re}getPositionAt(T){T=Math.floor(T),T=Math.max(0,T);let ee=this.root,re=0;const Me=T;for(;ee!==Zt;)if(ee.size_left!==0&&ee.size_left>=T)ee=ee.left;else if(ee.size_left+ee.piece.length>=T){const Ue=this.getIndexOf(ee,T-ee.size_left);if(re+=ee.lf_left+Ue.index,Ue.index===0){const tt=this.getOffsetAt(re+1,1),yt=Me-tt;return new p.L(re+1,yt+1)}return new p.L(re+1,Ue.remainder+1)}else if(T-=ee.size_left+ee.piece.length,re+=ee.lf_left+ee.piece.lineFeedCnt,ee.right===Zt){const Ue=this.getOffsetAt(re+1,1),tt=Me-T-Ue;return new p.L(re+1,tt+1)}else ee=ee.right;return new p.L(1,1)}getValueInRange(T,ee){if(T.startLineNumber===T.endLineNumber&&T.startColumn===T.endColumn)return"";const re=this.nodeAt2(T.startLineNumber,T.startColumn),Me=this.nodeAt2(T.endLineNumber,T.endColumn),Ue=this.getValueInRange2(re,Me);return ee?ee!==this._EOL||!this._EOLNormalized?Ue.replace(/\r\n|\r|\n/g,ee):ee===this.getEOL()&&this._EOLNormalized?Ue:Ue.replace(/\r\n|\r|\n/g,ee):Ue}getValueInRange2(T,ee){if(T.node===ee.node){const yt=T.node,Ye=this._buffers[yt.piece.bufferIndex].buffer,V=this.offsetInBuffer(yt.piece.bufferIndex,yt.piece.start);return Ye.substring(V+T.remainder,V+ee.remainder)}let re=T.node;const Me=this._buffers[re.piece.bufferIndex].buffer,Ue=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);let tt=Me.substring(Ue+T.remainder,Ue+re.piece.length);for(re=re.next();re!==Zt;){const yt=this._buffers[re.piece.bufferIndex].buffer,Ye=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);if(re===ee.node){tt+=yt.substring(Ye,Ye+ee.remainder);break}else tt+=yt.substr(Ye,re.piece.length);re=re.next()}return tt}getLinesContent(){const T=[];let ee=0,re="",Me=!1;return this.iterate(this.root,Ue=>{if(Ue===Zt)return!0;const tt=Ue.piece;let yt=tt.length;if(yt===0)return!0;const Ye=this._buffers[tt.bufferIndex].buffer,V=this._buffers[tt.bufferIndex].lineStarts,de=tt.start.line,Ee=tt.end.line;let Xe=V[de]+tt.start.column;if(Me&&(Ye.charCodeAt(Xe)===10&&(Xe++,yt--),T[ee++]=re,re="",Me=!1,yt===0))return!0;if(de===Ee)return!this._EOLNormalized&&Ye.charCodeAt(Xe+yt-1)===13?(Me=!0,re+=Ye.substr(Xe,yt-1)):re+=Ye.substr(Xe,yt),!0;re+=this._EOLNormalized?Ye.substring(Xe,Math.max(Xe,V[de+1]-this._EOLLength)):Ye.substring(Xe,V[de+1]).replace(/(\r\n|\r|\n)$/,""),T[ee++]=re;for(let Pe=de+1;Pe<Ee;Pe++)re=this._EOLNormalized?Ye.substring(V[Pe],V[Pe+1]-this._EOLLength):Ye.substring(V[Pe],V[Pe+1]).replace(/(\r\n|\r|\n)$/,""),T[ee++]=re;return!this._EOLNormalized&&Ye.charCodeAt(V[Ee]+tt.end.column-1)===13?(Me=!0,tt.end.column===0?ee--:re=Ye.substr(V[Ee],tt.end.column-1)):re=Ye.substr(V[Ee],tt.end.column),!0}),Me&&(T[ee++]=re,re=""),T[ee++]=re,T}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(T){return this._lastVisitedLine.lineNumber===T?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=T,T===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(T):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(T,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(T).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(T){if(T.remainder===T.node.piece.length){const ee=T.node.next();if(!ee)return 0;const re=this._buffers[ee.piece.bufferIndex],Me=this.offsetInBuffer(ee.piece.bufferIndex,ee.piece.start);return re.buffer.charCodeAt(Me)}else{const ee=this._buffers[T.node.piece.bufferIndex],Me=this.offsetInBuffer(T.node.piece.bufferIndex,T.node.piece.start)+T.remainder;return ee.buffer.charCodeAt(Me)}}getLineCharCode(T,ee){const re=this.nodeAt2(T,ee+1);return this._getCharCode(re)}getLineLength(T){if(T===this.getLineCount()){const ee=this.getOffsetAt(T,1);return this.getLength()-ee}return this.getOffsetAt(T+1,1)-this.getOffsetAt(T,1)-this._EOLLength}findMatchesInNode(T,ee,re,Me,Ue,tt,yt,Ye,V,de,Ee){const Xe=this._buffers[T.piece.bufferIndex],Pe=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),pt=this.offsetInBuffer(T.piece.bufferIndex,Ue),It=this.offsetInBuffer(T.piece.bufferIndex,tt);let Rt;const ei={line:0,column:0};let ni,pi;ee._wordSeparators?(ni=Xe.buffer.substring(pt,It),pi=mi=>mi+pt,ee.reset(0)):(ni=Xe.buffer,pi=mi=>mi,ee.reset(pt));do if(Rt=ee.next(ni),Rt){if(pi(Rt.index)>=It)return de;this.positionInBuffer(T,pi(Rt.index)-Pe,ei);const mi=this.getLineFeedCnt(T.piece.bufferIndex,Ue,ei),wi=ei.line===Ue.line?ei.column-Ue.column+Me:ei.column+1,ci=wi+Rt[0].length;if(Ee[de++]=(0,rn.iE)(new a.e(re+mi,wi,re+mi,ci),Rt,Ye),pi(Rt.index)+Rt[0].length>=It||de>=V)return de}while(Rt);return de}findMatchesLineByLine(T,ee,re,Me){const Ue=[];let tt=0;const yt=new rn.sz(ee.wordSeparators,ee.regex);let Ye=this.nodeAt2(T.startLineNumber,T.startColumn);if(Ye===null)return[];const V=this.nodeAt2(T.endLineNumber,T.endColumn);if(V===null)return[];let de=this.positionInBuffer(Ye.node,Ye.remainder);const Ee=this.positionInBuffer(V.node,V.remainder);if(Ye.node===V.node)return this.findMatchesInNode(Ye.node,yt,T.startLineNumber,T.startColumn,de,Ee,ee,re,Me,tt,Ue),Ue;let Xe=T.startLineNumber,Pe=Ye.node;for(;Pe!==V.node;){const It=this.getLineFeedCnt(Pe.piece.bufferIndex,de,Pe.piece.end);if(It>=1){const ei=this._buffers[Pe.piece.bufferIndex].lineStarts,ni=this.offsetInBuffer(Pe.piece.bufferIndex,Pe.piece.start),pi=ei[de.line+It],mi=Xe===T.startLineNumber?T.startColumn:1;if(tt=this.findMatchesInNode(Pe,yt,Xe,mi,de,this.positionInBuffer(Pe,pi-ni),ee,re,Me,tt,Ue),tt>=Me)return Ue;Xe+=It}const Rt=Xe===T.startLineNumber?T.startColumn-1:0;if(Xe===T.endLineNumber){const ei=this.getLineContent(Xe).substring(Rt,T.endColumn-1);return tt=this._findMatchesInLine(ee,yt,ei,T.endLineNumber,Rt,tt,Ue,re,Me),Ue}if(tt=this._findMatchesInLine(ee,yt,this.getLineContent(Xe).substr(Rt),Xe,Rt,tt,Ue,re,Me),tt>=Me)return Ue;Xe++,Ye=this.nodeAt2(Xe,1),Pe=Ye.node,de=this.positionInBuffer(Ye.node,Ye.remainder)}if(Xe===T.endLineNumber){const It=Xe===T.startLineNumber?T.startColumn-1:0,Rt=this.getLineContent(Xe).substring(It,T.endColumn-1);return tt=this._findMatchesInLine(ee,yt,Rt,T.endLineNumber,It,tt,Ue,re,Me),Ue}const pt=Xe===T.startLineNumber?T.startColumn:1;return tt=this.findMatchesInNode(V.node,yt,Xe,pt,de,Ee,ee,re,Me,tt,Ue),Ue}_findMatchesInLine(T,ee,re,Me,Ue,tt,yt,Ye,V){const de=T.wordSeparators;if(!Ye&&T.simpleSearch){const Xe=T.simpleSearch,Pe=Xe.length,pt=re.length;let It=-Pe;for(;(It=re.indexOf(Xe,It+Pe))!==-1;)if((!de||(0,rn.cM)(de,re,pt,It,Pe))&&(yt[tt++]=new m.tk(new a.e(Me,It+1+Ue,Me,It+1+Pe+Ue),null),tt>=V))return tt;return tt}let Ee;ee.reset(0);do if(Ee=ee.next(re),Ee&&(yt[tt++]=(0,rn.iE)(new a.e(Me,Ee.index+1+Ue,Me,Ee.index+1+Ee[0].length+Ue),Ee,Ye),tt>=V))return tt;while(Ee);return tt}insert(T,ee,re=!1){if(this._EOLNormalized=this._EOLNormalized&&re,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Zt){const{node:Me,remainder:Ue,nodeStartOffset:tt}=this.nodeAt(T),yt=Me.piece,Ye=yt.bufferIndex,V=this.positionInBuffer(Me,Ue);if(Me.piece.bufferIndex===0&&yt.end.line===this._lastChangeBufferPos.line&&yt.end.column===this._lastChangeBufferPos.column&&tt+yt.length===T&&ee.length<pn){this.appendToNode(Me,ee),this.computeBufferMetadata();return}if(tt===T)this.insertContentToNodeLeft(ee,Me),this._searchCache.validate(T);else if(tt+Me.piece.length>T){const de=[];let Ee=new qt(yt.bufferIndex,V,yt.end,this.getLineFeedCnt(yt.bufferIndex,V,yt.end),this.offsetInBuffer(Ye,yt.end)-this.offsetInBuffer(Ye,V));if(this.shouldCheckCRLF()&&this.endWithCR(ee)&&this.nodeCharCodeAt(Me,Ue)===10){const It={line:Ee.start.line+1,column:0};Ee=new qt(Ee.bufferIndex,It,Ee.end,this.getLineFeedCnt(Ee.bufferIndex,It,Ee.end),Ee.length-1),ee+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(ee))if(this.nodeCharCodeAt(Me,Ue-1)===13){const It=this.positionInBuffer(Me,Ue-1);this.deleteNodeTail(Me,It),ee="\r"+ee,Me.piece.length===0&&de.push(Me)}else this.deleteNodeTail(Me,V);else this.deleteNodeTail(Me,V);const Xe=this.createNewPieces(ee);Ee.length>0&&this.rbInsertRight(Me,Ee);let Pe=Me;for(let pt=0;pt<Xe.length;pt++)Pe=this.rbInsertRight(Pe,Xe[pt]);this.deleteNodes(de)}else this.insertContentToNodeRight(ee,Me)}else{const Me=this.createNewPieces(ee);let Ue=this.rbInsertLeft(null,Me[0]);for(let tt=1;tt<Me.length;tt++)Ue=this.rbInsertRight(Ue,Me[tt])}this.computeBufferMetadata()}delete(T,ee){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",ee<=0||this.root===Zt)return;const re=this.nodeAt(T),Me=this.nodeAt(T+ee),Ue=re.node,tt=Me.node;if(Ue===tt){const Xe=this.positionInBuffer(Ue,re.remainder),Pe=this.positionInBuffer(Ue,Me.remainder);if(re.nodeStartOffset===T){if(ee===Ue.piece.length){const pt=Ue.next();bn(this,Ue),this.validateCRLFWithPrevNode(pt),this.computeBufferMetadata();return}this.deleteNodeHead(Ue,Pe),this._searchCache.validate(T),this.validateCRLFWithPrevNode(Ue),this.computeBufferMetadata();return}if(re.nodeStartOffset+Ue.piece.length===T+ee){this.deleteNodeTail(Ue,Xe),this.validateCRLFWithNextNode(Ue),this.computeBufferMetadata();return}this.shrinkNode(Ue,Xe,Pe),this.computeBufferMetadata();return}const yt=[],Ye=this.positionInBuffer(Ue,re.remainder);this.deleteNodeTail(Ue,Ye),this._searchCache.validate(T),Ue.piece.length===0&&yt.push(Ue);const V=this.positionInBuffer(tt,Me.remainder);this.deleteNodeHead(tt,V),tt.piece.length===0&&yt.push(tt);const de=Ue.next();for(let Xe=de;Xe!==Zt&&Xe!==tt;Xe=Xe.next())yt.push(Xe);const Ee=Ue.piece.length===0?Ue.prev():Ue;this.deleteNodes(yt),this.validateCRLFWithNextNode(Ee),this.computeBufferMetadata()}insertContentToNodeLeft(T,ee){const re=[];if(this.shouldCheckCRLF()&&this.endWithCR(T)&&this.startWithLF(ee)){const tt=ee.piece,yt={line:tt.start.line+1,column:0},Ye=new qt(tt.bufferIndex,yt,tt.end,this.getLineFeedCnt(tt.bufferIndex,yt,tt.end),tt.length-1);ee.piece=Ye,T+=`
`,Fi(this,ee,-1,-1),ee.piece.length===0&&re.push(ee)}const Me=this.createNewPieces(T);let Ue=this.rbInsertLeft(ee,Me[Me.length-1]);for(let tt=Me.length-2;tt>=0;tt--)Ue=this.rbInsertLeft(Ue,Me[tt]);this.validateCRLFWithPrevNode(Ue),this.deleteNodes(re)}insertContentToNodeRight(T,ee){this.adjustCarriageReturnFromNext(T,ee)&&(T+=`
`);const re=this.createNewPieces(T),Me=this.rbInsertRight(ee,re[0]);let Ue=Me;for(let tt=1;tt<re.length;tt++)Ue=this.rbInsertRight(Ue,re[tt]);this.validateCRLFWithPrevNode(Me)}positionInBuffer(T,ee,re){const Me=T.piece,Ue=T.piece.bufferIndex,tt=this._buffers[Ue].lineStarts,Ye=tt[Me.start.line]+Me.start.column+ee;let V=Me.start.line,de=Me.end.line,Ee=0,Xe=0,Pe=0;for(;V<=de&&(Ee=V+(de-V)/2|0,Pe=tt[Ee],Ee!==de);)if(Xe=tt[Ee+1],Ye<Pe)de=Ee-1;else if(Ye>=Xe)V=Ee+1;else break;return re?(re.line=Ee,re.column=Ye-Pe,null):{line:Ee,column:Ye-Pe}}getLineFeedCnt(T,ee,re){if(re.column===0)return re.line-ee.line;const Me=this._buffers[T].lineStarts;if(re.line===Me.length-1)return re.line-ee.line;const Ue=Me[re.line+1],tt=Me[re.line]+re.column;if(Ue>tt+1)return re.line-ee.line;const yt=tt-1;return this._buffers[T].buffer.charCodeAt(yt)===13?re.line-ee.line+1:re.line-ee.line}offsetInBuffer(T,ee){return this._buffers[T].lineStarts[ee.line]+ee.column}deleteNodes(T){for(let ee=0;ee<T.length;ee++)bn(this,T[ee])}createNewPieces(T){if(T.length>pn){const de=[];for(;T.length>pn;){const Xe=T.charCodeAt(pn-1);let Pe;Xe===13||Xe>=55296&&Xe<=56319?(Pe=T.substring(0,pn-1),T=T.substring(pn-1)):(Pe=T.substring(0,pn),T=T.substring(pn));const pt=At(Pe);de.push(new qt(this._buffers.length,{line:0,column:0},{line:pt.length-1,column:Pe.length-pt[pt.length-1]},pt.length-1,Pe.length)),this._buffers.push(new at(Pe,pt))}const Ee=At(T);return de.push(new qt(this._buffers.length,{line:0,column:0},{line:Ee.length-1,column:T.length-Ee[Ee.length-1]},Ee.length-1,T.length)),this._buffers.push(new at(T,Ee)),de}let ee=this._buffers[0].buffer.length;const re=At(T,!1);let Me=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===ee&&ee!==0&&this.startWithLF(T)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Me=this._lastChangeBufferPos;for(let de=0;de<re.length;de++)re[de]+=ee+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(re.slice(1)),this._buffers[0].buffer+="_"+T,ee+=1}else{if(ee!==0)for(let de=0;de<re.length;de++)re[de]+=ee;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(re.slice(1)),this._buffers[0].buffer+=T}const Ue=this._buffers[0].buffer.length,tt=this._buffers[0].lineStarts.length-1,yt=Ue-this._buffers[0].lineStarts[tt],Ye={line:tt,column:yt},V=new qt(0,Me,Ye,this.getLineFeedCnt(0,Me,Ye),Ue-ee);return this._lastChangeBufferPos=Ye,[V]}getLineRawContent(T,ee=0){let re=this.root,Me="";const Ue=this._searchCache.get2(T);if(Ue){re=Ue.node;const tt=this.getAccumulatedValue(re,T-Ue.nodeStartLineNumber-1),yt=this._buffers[re.piece.bufferIndex].buffer,Ye=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);if(Ue.nodeStartLineNumber+re.piece.lineFeedCnt===T)Me=yt.substring(Ye+tt,Ye+re.piece.length);else{const V=this.getAccumulatedValue(re,T-Ue.nodeStartLineNumber);return yt.substring(Ye+tt,Ye+V-ee)}}else{let tt=0;const yt=T;for(;re!==Zt;)if(re.left!==Zt&&re.lf_left>=T-1)re=re.left;else if(re.lf_left+re.piece.lineFeedCnt>T-1){const Ye=this.getAccumulatedValue(re,T-re.lf_left-2),V=this.getAccumulatedValue(re,T-re.lf_left-1),de=this._buffers[re.piece.bufferIndex].buffer,Ee=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);return tt+=re.size_left,this._searchCache.set({node:re,nodeStartOffset:tt,nodeStartLineNumber:yt-(T-1-re.lf_left)}),de.substring(Ee+Ye,Ee+V-ee)}else if(re.lf_left+re.piece.lineFeedCnt===T-1){const Ye=this.getAccumulatedValue(re,T-re.lf_left-2),V=this._buffers[re.piece.bufferIndex].buffer,de=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);Me=V.substring(de+Ye,de+re.piece.length);break}else T-=re.lf_left+re.piece.lineFeedCnt,tt+=re.size_left+re.piece.length,re=re.right}for(re=re.next();re!==Zt;){const tt=this._buffers[re.piece.bufferIndex].buffer;if(re.piece.lineFeedCnt>0){const yt=this.getAccumulatedValue(re,0),Ye=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);return Me+=tt.substring(Ye,Ye+yt-ee),Me}else{const yt=this.offsetInBuffer(re.piece.bufferIndex,re.piece.start);Me+=tt.substr(yt,re.piece.length)}re=re.next()}return Me}computeBufferMetadata(){let T=this.root,ee=1,re=0;for(;T!==Zt;)ee+=T.lf_left+T.piece.lineFeedCnt,re+=T.size_left+T.piece.length,T=T.right;this._lineCnt=ee,this._length=re,this._searchCache.validate(this._length)}getIndexOf(T,ee){const re=T.piece,Me=this.positionInBuffer(T,ee),Ue=Me.line-re.start.line;if(this.offsetInBuffer(re.bufferIndex,re.end)-this.offsetInBuffer(re.bufferIndex,re.start)===ee){const tt=this.getLineFeedCnt(T.piece.bufferIndex,re.start,Me);if(tt!==Ue)return{index:tt,remainder:0}}return{index:Ue,remainder:Me.column}}getAccumulatedValue(T,ee){if(ee<0)return 0;const re=T.piece,Me=this._buffers[re.bufferIndex].lineStarts,Ue=re.start.line+ee+1;return Ue>re.end.line?Me[re.end.line]+re.end.column-Me[re.start.line]-re.start.column:Me[Ue]-Me[re.start.line]-re.start.column}deleteNodeTail(T,ee){const re=T.piece,Me=re.lineFeedCnt,Ue=this.offsetInBuffer(re.bufferIndex,re.end),tt=ee,yt=this.offsetInBuffer(re.bufferIndex,tt),Ye=this.getLineFeedCnt(re.bufferIndex,re.start,tt),V=Ye-Me,de=yt-Ue,Ee=re.length+de;T.piece=new qt(re.bufferIndex,re.start,tt,Ye,Ee),Fi(this,T,de,V)}deleteNodeHead(T,ee){const re=T.piece,Me=re.lineFeedCnt,Ue=this.offsetInBuffer(re.bufferIndex,re.start),tt=ee,yt=this.getLineFeedCnt(re.bufferIndex,tt,re.end),Ye=this.offsetInBuffer(re.bufferIndex,tt),V=yt-Me,de=Ue-Ye,Ee=re.length+de;T.piece=new qt(re.bufferIndex,tt,re.end,yt,Ee),Fi(this,T,de,V)}shrinkNode(T,ee,re){const Me=T.piece,Ue=Me.start,tt=Me.end,yt=Me.length,Ye=Me.lineFeedCnt,V=ee,de=this.getLineFeedCnt(Me.bufferIndex,Me.start,V),Ee=this.offsetInBuffer(Me.bufferIndex,ee)-this.offsetInBuffer(Me.bufferIndex,Ue);T.piece=new qt(Me.bufferIndex,Me.start,V,de,Ee),Fi(this,T,Ee-yt,de-Ye);const Xe=new qt(Me.bufferIndex,re,tt,this.getLineFeedCnt(Me.bufferIndex,re,tt),this.offsetInBuffer(Me.bufferIndex,tt)-this.offsetInBuffer(Me.bufferIndex,re)),Pe=this.rbInsertRight(T,Xe);this.validateCRLFWithPrevNode(Pe)}appendToNode(T,ee){this.adjustCarriageReturnFromNext(ee,T)&&(ee+=`
`);const re=this.shouldCheckCRLF()&&this.startWithLF(ee)&&this.endWithCR(T),Me=this._buffers[0].buffer.length;this._buffers[0].buffer+=ee;const Ue=At(ee,!1);for(let Pe=0;Pe<Ue.length;Pe++)Ue[Pe]+=Me;if(re){const Pe=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Me-Pe}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ue.slice(1));const tt=this._buffers[0].lineStarts.length-1,yt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[tt],Ye={line:tt,column:yt},V=T.piece.length+ee.length,de=T.piece.lineFeedCnt,Ee=this.getLineFeedCnt(0,T.piece.start,Ye),Xe=Ee-de;T.piece=new qt(T.piece.bufferIndex,T.piece.start,Ye,Ee,V),this._lastChangeBufferPos=Ye,Fi(this,T,ee.length,Xe)}nodeAt(T){let ee=this.root;const re=this._searchCache.get(T);if(re)return{node:re.node,nodeStartOffset:re.nodeStartOffset,remainder:T-re.nodeStartOffset};let Me=0;for(;ee!==Zt;)if(ee.size_left>T)ee=ee.left;else if(ee.size_left+ee.piece.length>=T){Me+=ee.size_left;const Ue={node:ee,remainder:T-ee.size_left,nodeStartOffset:Me};return this._searchCache.set(Ue),Ue}else T-=ee.size_left+ee.piece.length,Me+=ee.size_left+ee.piece.length,ee=ee.right;return null}nodeAt2(T,ee){let re=this.root,Me=0;for(;re!==Zt;)if(re.left!==Zt&&re.lf_left>=T-1)re=re.left;else if(re.lf_left+re.piece.lineFeedCnt>T-1){const Ue=this.getAccumulatedValue(re,T-re.lf_left-2),tt=this.getAccumulatedValue(re,T-re.lf_left-1);return Me+=re.size_left,{node:re,remainder:Math.min(Ue+ee-1,tt),nodeStartOffset:Me}}else if(re.lf_left+re.piece.lineFeedCnt===T-1){const Ue=this.getAccumulatedValue(re,T-re.lf_left-2);if(Ue+ee-1<=re.piece.length)return{node:re,remainder:Ue+ee-1,nodeStartOffset:Me};ee-=re.piece.length-Ue;break}else T-=re.lf_left+re.piece.lineFeedCnt,Me+=re.size_left+re.piece.length,re=re.right;for(re=re.next();re!==Zt;){if(re.piece.lineFeedCnt>0){const Ue=this.getAccumulatedValue(re,0),tt=this.offsetOfNode(re);return{node:re,remainder:Math.min(ee-1,Ue),nodeStartOffset:tt}}else if(re.piece.length>=ee-1){const Ue=this.offsetOfNode(re);return{node:re,remainder:ee-1,nodeStartOffset:Ue}}else ee-=re.piece.length;re=re.next()}return null}nodeCharCodeAt(T,ee){if(T.piece.lineFeedCnt<1)return-1;const re=this._buffers[T.piece.bufferIndex],Me=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start)+ee;return re.buffer.charCodeAt(Me)}offsetOfNode(T){if(!T)return 0;let ee=T.size_left;for(;T!==this.root;)T.parent.right===T&&(ee+=T.parent.size_left+T.parent.piece.length),T=T.parent;return ee}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(T){if(typeof T=="string")return T.charCodeAt(0)===10;if(T===Zt||T.piece.lineFeedCnt===0)return!1;const ee=T.piece,re=this._buffers[ee.bufferIndex].lineStarts,Me=ee.start.line,Ue=re[Me]+ee.start.column;return Me===re.length-1||re[Me+1]>Ue+1?!1:this._buffers[ee.bufferIndex].buffer.charCodeAt(Ue)===10}endWithCR(T){return typeof T=="string"?T.charCodeAt(T.length-1)===13:T===Zt||T.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(T,T.piece.length-1)===13}validateCRLFWithPrevNode(T){if(this.shouldCheckCRLF()&&this.startWithLF(T)){const ee=T.prev();this.endWithCR(ee)&&this.fixCRLF(ee,T)}}validateCRLFWithNextNode(T){if(this.shouldCheckCRLF()&&this.endWithCR(T)){const ee=T.next();this.startWithLF(ee)&&this.fixCRLF(T,ee)}}fixCRLF(T,ee){const re=[],Me=this._buffers[T.piece.bufferIndex].lineStarts;let Ue;T.piece.end.column===0?Ue={line:T.piece.end.line-1,column:Me[T.piece.end.line]-Me[T.piece.end.line-1]-1}:Ue={line:T.piece.end.line,column:T.piece.end.column-1};const tt=T.piece.length-1,yt=T.piece.lineFeedCnt-1;T.piece=new qt(T.piece.bufferIndex,T.piece.start,Ue,yt,tt),Fi(this,T,-1,-1),T.piece.length===0&&re.push(T);const Ye={line:ee.piece.start.line+1,column:0},V=ee.piece.length-1,de=this.getLineFeedCnt(ee.piece.bufferIndex,Ye,ee.piece.end);ee.piece=new qt(ee.piece.bufferIndex,Ye,ee.piece.end,de,V),Fi(this,ee,-1,-1),ee.piece.length===0&&re.push(ee);const Ee=this.createNewPieces(`\r
`);this.rbInsertRight(T,Ee[0]);for(let Xe=0;Xe<re.length;Xe++)bn(this,re[Xe])}adjustCarriageReturnFromNext(T,ee){if(this.shouldCheckCRLF()&&this.endWithCR(T)){const re=ee.next();if(this.startWithLF(re)){if(T+=`
`,re.piece.length===1)bn(this,re);else{const Me=re.piece,Ue={line:Me.start.line+1,column:0},tt=Me.length-1,yt=this.getLineFeedCnt(Me.bufferIndex,Ue,Me.end);re.piece=new qt(Me.bufferIndex,Ue,Me.end,yt,tt),Fi(this,re,-1,-1)}return!0}}return!1}iterate(T,ee){if(T===Zt)return ee(Zt);const re=this.iterate(T.left,ee);return re&&ee(T)&&this.iterate(T.right,ee)}getNodeContent(T){if(T===Zt)return"";const ee=this._buffers[T.piece.bufferIndex],re=T.piece,Me=this.offsetInBuffer(re.bufferIndex,re.start),Ue=this.offsetInBuffer(re.bufferIndex,re.end);return ee.buffer.substring(Me,Ue)}getPieceContent(T){const ee=this._buffers[T.bufferIndex],re=this.offsetInBuffer(T.bufferIndex,T.start),Me=this.offsetInBuffer(T.bufferIndex,T.end);return ee.buffer.substring(re,Me)}rbInsertRight(T,ee){const re=new Kt(ee,1);if(re.left=Zt,re.right=Zt,re.parent=Zt,re.size_left=0,re.lf_left=0,this.root===Zt)this.root=re,re.color=0;else if(T.right===Zt)T.right=re,re.parent=T;else{const Ue=li(T.right);Ue.left=re,re.parent=Ue}return Cn(this,re),re}rbInsertLeft(T,ee){const re=new Kt(ee,1);if(re.left=Zt,re.right=Zt,re.parent=Zt,re.size_left=0,re.lf_left=0,this.root===Zt)this.root=re,re.color=0;else if(T.left===Zt)T.left=re,re.parent=T;else{const Me=ri(T.left);Me.right=re,re.parent=Me}return Cn(this,re),re}}var Ge=i(75010);class st extends S.JT{constructor(T,ee,re,Me,Ue,tt,yt){super(),this._onDidChangeContent=this._register(new A.Q5),this._BOM=ee,this._mightContainNonBasicASCII=!tt,this._mightContainRTL=Me,this._mightContainUnusualLineTerminators=Ue,this._pieceTree=new Ae(T,re,yt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(T){return this._pieceTree.createSnapshot(T?this._BOM:"")}getOffsetAt(T,ee){return this._pieceTree.getOffsetAt(T,ee)}getPositionAt(T){return this._pieceTree.getPositionAt(T)}getRangeAt(T,ee){const re=T+ee,Me=this.getPositionAt(T),Ue=this.getPositionAt(re);return new a.e(Me.lineNumber,Me.column,Ue.lineNumber,Ue.column)}getValueInRange(T,ee=0){if(T.isEmpty())return"";const re=this._getEndOfLine(ee);return this._pieceTree.getValueInRange(T,re)}getValueLengthInRange(T,ee=0){if(T.isEmpty())return 0;if(T.startLineNumber===T.endLineNumber)return T.endColumn-T.startColumn;const re=this.getOffsetAt(T.startLineNumber,T.startColumn),Me=this.getOffsetAt(T.endLineNumber,T.endColumn);let Ue=0;const tt=this._getEndOfLine(ee),yt=this.getEOL();if(tt.length!==yt.length){const Ye=tt.length-yt.length,V=T.endLineNumber-T.startLineNumber;Ue=Ye*V}return Me-re+Ue}getCharacterCountInRange(T,ee=0){if(this._mightContainNonBasicASCII){let re=0;const Me=T.startLineNumber,Ue=T.endLineNumber;for(let tt=Me;tt<=Ue;tt++){const yt=this.getLineContent(tt),Ye=tt===Me?T.startColumn-1:0,V=tt===Ue?T.endColumn-1:yt.length;for(let de=Ye;de<V;de++)$.ZG(yt.charCodeAt(de))?(re=re+1,de=de+1):re=re+1}return re+=this._getEndOfLine(ee).length*(Ue-Me),re}return this.getValueLengthInRange(T,ee)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(T){return this._pieceTree.getLineContent(T)}getLineCharCode(T,ee){return this._pieceTree.getLineCharCode(T,ee)}getLineLength(T){return this._pieceTree.getLineLength(T)}getLineFirstNonWhitespaceColumn(T){const ee=$.LC(this.getLineContent(T));return ee===-1?0:ee+1}getLineLastNonWhitespaceColumn(T){const ee=$.ow(this.getLineContent(T));return ee===-1?0:ee+2}_getEndOfLine(T){switch(T){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(T){this._pieceTree.setEOL(T)}applyEdits(T,ee,re){let Me=this._mightContainRTL,Ue=this._mightContainUnusualLineTerminators,tt=this._mightContainNonBasicASCII,yt=!0,Ye=[];for(let It=0;It<T.length;It++){const Rt=T[It];yt&&Rt._isTracked&&(yt=!1);const ei=Rt.range;if(Rt.text){let ci=!0;tt||(ci=!$.$i(Rt.text),tt=ci),!Me&&ci&&(Me=$.Ut(Rt.text)),!Ue&&ci&&(Ue=$.ab(Rt.text))}let ni="",pi=0,mi=0,wi=0;if(Rt.text){let ci;[pi,mi,wi,ci]=(0,x.Q)(Rt.text);const vi=this.getEOL();ci===0||ci===(vi===`\r
`?2:1)?ni=Rt.text:ni=Rt.text.replace(/\r\n|\r|\n/g,vi)}Ye[It]={sortIndex:It,identifier:Rt.identifier||null,range:ei,rangeOffset:this.getOffsetAt(ei.startLineNumber,ei.startColumn),rangeLength:this.getValueLengthInRange(ei),text:ni,eolCount:pi,firstLineLength:mi,lastLineLength:wi,forceMoveMarkers:Boolean(Rt.forceMoveMarkers),isAutoWhitespaceEdit:Rt.isAutoWhitespaceEdit||!1}}Ye.sort(st._sortOpsAscending);let V=!1;for(let It=0,Rt=Ye.length-1;It<Rt;It++){const ei=Ye[It].range.getEndPosition(),ni=Ye[It+1].range.getStartPosition();if(ni.isBeforeOrEqual(ei)){if(ni.isBefore(ei))throw new Error("Overlapping ranges are not allowed!");V=!0}}yt&&(Ye=this._reduceOperations(Ye));const de=re||ee?st._getInverseEditRanges(Ye):[],Ee=[];if(ee)for(let It=0;It<Ye.length;It++){const Rt=Ye[It],ei=de[It];if(Rt.isAutoWhitespaceEdit&&Rt.range.isEmpty())for(let ni=ei.startLineNumber;ni<=ei.endLineNumber;ni++){let pi="";ni===ei.startLineNumber&&(pi=this.getLineContent(Rt.range.startLineNumber),$.LC(pi)!==-1)||Ee.push({lineNumber:ni,oldContent:pi})}}let Xe=null;if(re){let It=0;Xe=[];for(let Rt=0;Rt<Ye.length;Rt++){const ei=Ye[Rt],ni=de[Rt],pi=this.getValueInRange(ei.range),mi=ei.rangeOffset+It;It+=ei.text.length-pi.length,Xe[Rt]={sortIndex:ei.sortIndex,identifier:ei.identifier,range:ni,text:pi,textChange:new Ge.q(ei.rangeOffset,pi,mi,ei.text)}}V||Xe.sort((Rt,ei)=>Rt.sortIndex-ei.sortIndex)}this._mightContainRTL=Me,this._mightContainUnusualLineTerminators=Ue,this._mightContainNonBasicASCII=tt;const Pe=this._doApplyEdits(Ye);let pt=null;if(ee&&Ee.length>0){Ee.sort((It,Rt)=>Rt.lineNumber-It.lineNumber),pt=[];for(let It=0,Rt=Ee.length;It<Rt;It++){const ei=Ee[It].lineNumber;if(It>0&&Ee[It-1].lineNumber===ei)continue;const ni=Ee[It].oldContent,pi=this.getLineContent(ei);pi.length===0||pi===ni||$.LC(pi)!==-1||pt.push(ei)}}return this._onDidChangeContent.fire(),new m.je(Xe,Pe,pt)}_reduceOperations(T){return T.length<1e3?T:[this._toSingleEditOperation(T)]}_toSingleEditOperation(T){let ee=!1;const re=T[0].range,Me=T[T.length-1].range,Ue=new a.e(re.startLineNumber,re.startColumn,Me.endLineNumber,Me.endColumn);let tt=re.startLineNumber,yt=re.startColumn;const Ye=[];for(let Pe=0,pt=T.length;Pe<pt;Pe++){const It=T[Pe],Rt=It.range;ee=ee||It.forceMoveMarkers,Ye.push(this.getValueInRange(new a.e(tt,yt,Rt.startLineNumber,Rt.startColumn))),It.text.length>0&&Ye.push(It.text),tt=Rt.endLineNumber,yt=Rt.endColumn}const V=Ye.join(""),[de,Ee,Xe]=(0,x.Q)(V);return{sortIndex:0,identifier:T[0].identifier,range:Ue,rangeOffset:this.getOffsetAt(Ue.startLineNumber,Ue.startColumn),rangeLength:this.getValueLengthInRange(Ue,0),text:V,eolCount:de,firstLineLength:Ee,lastLineLength:Xe,forceMoveMarkers:ee,isAutoWhitespaceEdit:!1}}_doApplyEdits(T){T.sort(st._sortOpsDescending);const ee=[];for(let re=0;re<T.length;re++){const Me=T[re],Ue=Me.range.startLineNumber,tt=Me.range.startColumn,yt=Me.range.endLineNumber,Ye=Me.range.endColumn;if(Ue===yt&&tt===Ye&&Me.text.length===0)continue;Me.text?(this._pieceTree.delete(Me.rangeOffset,Me.rangeLength),this._pieceTree.insert(Me.rangeOffset,Me.text,!0)):this._pieceTree.delete(Me.rangeOffset,Me.rangeLength);const V=new a.e(Ue,tt,yt,Ye);ee.push({range:V,rangeLength:Me.rangeLength,text:Me.text,rangeOffset:Me.rangeOffset,forceMoveMarkers:Me.forceMoveMarkers})}return ee}findMatchesLineByLine(T,ee,re,Me){return this._pieceTree.findMatchesLineByLine(T,ee,re,Me)}static _getInverseEditRanges(T){const ee=[];let re=0,Me=0,Ue=null;for(let tt=0,yt=T.length;tt<yt;tt++){const Ye=T[tt];let V,de;Ue?Ue.range.endLineNumber===Ye.range.startLineNumber?(V=re,de=Me+(Ye.range.startColumn-Ue.range.endColumn)):(V=re+(Ye.range.startLineNumber-Ue.range.endLineNumber),de=Ye.range.startColumn):(V=Ye.range.startLineNumber,de=Ye.range.startColumn);let Ee;if(Ye.text.length>0){const Xe=Ye.eolCount+1;Xe===1?Ee=new a.e(V,de,V,de+Ye.firstLineLength):Ee=new a.e(V,de,V+Xe-1,Ye.lastLineLength+1)}else Ee=new a.e(V,de,V,de);re=Ee.endLineNumber,Me=Ee.endColumn,ee.push(Ee),Ue=Ye}return ee}static _sortOpsAscending(T,ee){const re=a.e.compareRangesUsingEnds(T.range,ee.range);return re===0?T.sortIndex-ee.sortIndex:re}static _sortOpsDescending(T,ee){const re=a.e.compareRangesUsingEnds(T.range,ee.range);return re===0?ee.sortIndex-T.sortIndex:-re}}class rt{constructor(T,ee,re,Me,Ue,tt,yt,Ye,V){this._chunks=T,this._bom=ee,this._cr=re,this._lf=Me,this._crlf=Ue,this._containsRTL=tt,this._containsUnusualLineTerminators=yt,this._isBasicASCII=Ye,this._normalizeEOL=V}_getEOL(T){const ee=this._cr+this._lf+this._crlf,re=this._cr+this._crlf;return ee===0?T===1?`
`:`\r
`:re>ee/2?`\r
`:`
`}create(T){const ee=this._getEOL(T),re=this._chunks;if(this._normalizeEOL&&(ee===`\r
`&&(this._cr>0||this._lf>0)||ee===`
`&&(this._cr>0||this._crlf>0)))for(let Ue=0,tt=re.length;Ue<tt;Ue++){const yt=re[Ue].buffer.replace(/\r\n|\r|\n/g,ee),Ye=At(yt);re[Ue]=new at(yt,Ye)}const Me=new st(re,this._bom,ee,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Me,disposable:Me}}}class xt{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(T){if(T.length===0)return;this.chunks.length===0&&$.uS(T)&&(this.BOM=$.c1,T=T.substr(1));const ee=T.charCodeAt(T.length-1);ee===13||ee>=55296&&ee<=56319?(this._acceptChunk1(T.substr(0,T.length-1),!1),this._hasPreviousChar=!0,this._previousChar=ee):(this._acceptChunk1(T,!1),this._hasPreviousChar=!1,this._previousChar=ee)}_acceptChunk1(T,ee){!ee&&T.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+T):this._acceptChunk2(T))}_acceptChunk2(T){const ee=Wt(this._tmpLineStarts,T);this.chunks.push(new at(T,ee.lineStarts)),this.cr+=ee.cr,this.lf+=ee.lf,this.crlf+=ee.crlf,ee.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=$.Ut(T)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=$.ab(T)))}finish(T=!0){return this._finish(),new rt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,T)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const T=this.chunks[this.chunks.length-1];T.buffer+=String.fromCharCode(this._previousChar);const ee=At(T.buffer);T.lineStarts=ee,this._previousChar===13&&this.cr++}}}var Vt=i(96605),Gt=i(47846),ai=i(39460),Si=i(41420),hi=i(39589),Di=i(33686),Ni=i(82652);class yi{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(T,ee){this._startLineNumber=T,this._tokens=ee}getLineTokens(T){return this._tokens[T-this._startLineNumber]}appendLineTokens(T){this._tokens.push(T)}}class Zi{constructor(){this._tokens=[]}add(T,ee){if(this._tokens.length>0){const re=this._tokens[this._tokens.length-1];if(re.endLineNumber+1===T){re.appendLineTokens(ee);return}}this._tokens.push(new yi(T,[ee]))}finalize(){return this._tokens}}var Ri=i(28273);class Dn{constructor(T){this._default=T,this._store=[]}get(T){return T<this._store.length?this._store[T]:this._default}set(T,ee){for(;T>=this._store.length;)this._store[this._store.length]=this._default;this._store[T]=ee}delete(T,ee){ee===0||T>=this._store.length||this._store.splice(T,ee)}insert(T,ee){if(ee===0||T>=this._store.length)return;const re=[];for(let Me=0;Me<ee;Me++)re[Me]=this._default;this._store=c.Zv(this._store,T,re)}}class Bi{get invalidLineStartIndex(){return this._firstLineNeedsTokenization}constructor(T,ee){this.tokenizationSupport=T,this.initialState=ee,this._lineBeginState=new Dn(null),this._lineNeedsTokenization=new Dn(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}markMustBeTokenized(T){this._lineNeedsTokenization.set(T,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,T)}getBeginState(T){return this._lineBeginState.get(T)}setEndState(T,ee,re){if(this._lineNeedsTokenization.set(ee,!1),this._firstLineNeedsTokenization=ee+1,ee===T-1)return!1;const Me=this._lineBeginState.get(ee+1);if(Me===null||!re.equals(Me))return this._lineBeginState.set(ee+1,re),this.markMustBeTokenized(ee+1),!0;let Ue=ee+1;for(;Ue<T&&!this._lineNeedsTokenization.get(Ue);)Ue++;return this._firstLineNeedsTokenization=Ue,!1}applyEdits(T,ee){this.markMustBeTokenized(T.startLineNumber-1),this._lineBeginState.delete(T.startLineNumber,T.endLineNumber-T.startLineNumber),this._lineNeedsTokenization.delete(T.startLineNumber,T.endLineNumber-T.startLineNumber),this._lineBeginState.insert(T.startLineNumber,ee),this._lineNeedsTokenization.insert(T.startLineNumber,ee)}updateTokensUntilLine(T,ee,re,Me){const Ue=T.getLanguageId(),tt=T.getLineCount(),yt=Me-1;for(let Ye=this.invalidLineStartIndex;Ye<=yt;Ye++){const V=T.getLineContent(Ye+1),de=this.getBeginState(Ye),Ee=fe(ee,Ue,this.tokenizationSupport,V,!0,de);re.add(Ye+1,Ee.tokens),this.setEndState(tt,Ye,Ee.endState),Ye=this.invalidLineStartIndex-1}}isTokenizationComplete(T){return this.invalidLineStartIndex>=T.getLineCount()}}class ln extends S.JT{constructor(T,ee,re){super(),this._textModel=T,this._tokenizationPart=ee,this._languageIdCodec=re,this._tokenizationStateStore=null,this._defaultBackgroundTokenizer=null,this.backgroundTokenizer=this._register(new S.XK),this._register(Di.RW.onDidChange(Me=>{const Ue=this._textModel.getLanguageId();Me.changedLanguages.indexOf(Ue)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}handleDidChangeContent(T){var ee;if(T.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let re=0,Me=T.changes.length;re<Me;re++){const Ue=T.changes[re],[tt]=(0,x.Q)(Ue.text);this._tokenizationStateStore.applyEdits(Ue.range,tt)}(ee=this._defaultBackgroundTokenizer)===null||ee===void 0||ee.handleChanges()}handleDidChangeAttached(){var T;(T=this._defaultBackgroundTokenizer)===null||T===void 0||T.handleChanges()}handleDidChangeLanguage(T){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[T,ee]=Ht(this._textModel,this._tokenizationPart);if(T&&ee?this._tokenizationStateStore=new Bi(T,ee):this._tokenizationStateStore=null,this.backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizationStateStore){const re={setTokens:Me=>{this._tokenizationPart.setTokens(Me)},backgroundTokenizationFinished:()=>{this._tokenizationPart.handleBackgroundTokenizationFinished()},setEndState:(Me,Ue)=>{var tt,yt;if(!Ue)throw new g.he;const Ye=(tt=this._tokenizationStateStore)===null||tt===void 0?void 0:tt.invalidLineStartIndex;Ye!==void 0&&Me-1>=Ye&&((yt=this._tokenizationStateStore)===null||yt===void 0||yt.setEndState(this._textModel.getLineCount(),Me-1,Ue))}};T&&T.createBackgroundTokenizer&&(this.backgroundTokenizer.value=T.createBackgroundTokenizer(this._textModel,re)),this.backgroundTokenizer.value||(this.backgroundTokenizer.value=this._defaultBackgroundTokenizer=new De(this._textModel,this._tokenizationStateStore,re,this._languageIdCodec),this._defaultBackgroundTokenizer.handleChanges())}}tokenizeViewport(T,ee){var re;const Me=new Zi;this._heuristicallyTokenizeViewport(Me,T,ee),this._tokenizationPart.setTokens(Me.finalize()),(re=this._defaultBackgroundTokenizer)===null||re===void 0||re.checkFinished()}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(T){var ee,re;const Me=new Zi;(ee=this._tokenizationStateStore)===null||ee===void 0||ee.updateTokensUntilLine(this._textModel,this._languageIdCodec,Me,T),this._tokenizationPart.setTokens(Me.finalize()),(re=this._defaultBackgroundTokenizer)===null||re===void 0||re.checkFinished()}getTokenTypeIfInsertingCharacter(T,ee){if(!this._tokenizationStateStore)return 0;this.forceTokenization(T.lineNumber);const re=this._tokenizationStateStore.getBeginState(T.lineNumber-1);if(!re)return 0;const Me=this._textModel.getLanguageId(),Ue=this._textModel.getLineContent(T.lineNumber),tt=Ue.substring(0,T.column-1)+ee+Ue.substring(T.column-1),yt=fe(this._languageIdCodec,Me,this._tokenizationStateStore.tokenizationSupport,tt,!0,re),Ye=new Ri.A(yt.tokens,tt,this._languageIdCodec);if(Ye.getCount()===0)return 0;const V=Ye.findTokenIndexAtOffset(T.column-1);return Ye.getStandardTokenType(V)}tokenizeLineWithEdit(T,ee,re){const Me=T.lineNumber,Ue=T.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(Me);const tt=this._tokenizationStateStore.getBeginState(Me-1);if(!tt)return null;const yt=this._textModel.getLineContent(Me),Ye=yt.substring(0,Ue-1)+re+yt.substring(Ue-1+ee),V=this._textModel.getLanguageIdAtPosition(Me,0),de=fe(this._languageIdCodec,V,this._tokenizationStateStore.tokenizationSupport,Ye,!0,tt);return new Ri.A(de.tokens,Ye,this._languageIdCodec)}isCheapToTokenize(T){if(!this._tokenizationStateStore)return!0;const ee=this._tokenizationStateStore.invalidLineStartIndex+1;return T>ee?!1:T<ee||this._textModel.getLineLength(T)<2048}_heuristicallyTokenizeViewport(T,ee,re){var Me;if(!this._tokenizationStateStore||re<=this._tokenizationStateStore.invalidLineStartIndex)return;if(ee<=this._tokenizationStateStore.invalidLineStartIndex){this._tokenizationStateStore.updateTokensUntilLine(this._textModel,this._languageIdCodec,T,re);return}let Ue=this.guessStartState(ee);const tt=this._textModel.getLanguageId();for(let yt=ee;yt<=re;yt++){const Ye=this._textModel.getLineContent(yt),V=fe(this._languageIdCodec,tt,this._tokenizationStateStore.tokenizationSupport,Ye,!0,Ue);T.add(yt,V.tokens),Ue=V.endState}(Me=this.backgroundTokenizer.value)===null||Me===void 0||Me.requestTokens(ee,re+1)}guessStartState(T){let ee=this._textModel.getLineFirstNonWhitespaceColumn(T);const re=[];let Me=null;for(let yt=T-1;ee>1&&yt>=1;yt--){const Ye=this._textModel.getLineFirstNonWhitespaceColumn(yt);if(Ye!==0&&Ye<ee&&(re.push(this._textModel.getLineContent(yt)),ee=Ye,Me=this._tokenizationStateStore.getBeginState(yt-1),Me))break}Me||(Me=this._tokenizationStateStore.initialState),re.reverse();const Ue=this._textModel.getLanguageId();let tt=Me;for(const yt of re)tt=fe(this._languageIdCodec,Ue,this._tokenizationStateStore.tokenizationSupport,yt,!1,tt).endState;return tt}}function Ht(Lt,T){if(Lt.isTooLargeForTokenization())return[null,null];const ee=Di.RW.get(T.getLanguageId());if(!ee)return[null,null];let re;try{re=ee.getInitialState()}catch(Me){return(0,g.dL)(Me),[null,null]}return[ee,re]}function fe(Lt,T,ee,re,Me,Ue){let tt=null;if(ee)try{tt=ee.tokenizeEncoded(re,Me,Ue.clone())}catch(yt){(0,g.dL)(yt)}return tt||(tt=(0,Ni.Dy)(Lt.encodeLanguageId(T),Ue)),Ri.A.convertToEndOffset(tt.tokens,re.length),tt}class De{constructor(T,ee,re,Me){this._textModel=T,this._stateStore=ee,this._backgroundTokenStore=re,this._languageIdCodec=Me,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,ai.To)(T=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(T)}))}_backgroundTokenizeWithDeadline(T){const ee=Date.now()+T.timeRemaining(),re=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<ee?(0,Si.fn)(re):this._beginBackgroundTokenization())};re()}_backgroundTokenizeForAtLeast1ms(){const T=this._textModel.getLineCount(),ee=new Zi,re=hi.G.create(!1);do if(re.elapsed()>1||this._tokenizeOneInvalidLine(ee)>=T)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(ee.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._stateStore?this._stateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(T){if(!this._stateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const ee=this._stateStore.invalidLineStartIndex+1;return this._stateStore.updateTokensUntilLine(this._textModel,this._languageIdCodec,T,ee),ee}checkFinished(){this._isDisposed||this._stateStore.isTokenizationComplete(this._textModel)&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(T,ee){for(let re=T;re<ee;re++)this._stateStore.markMustBeTokenized(re-1)}}const ie=new Uint32Array(0).buffer;class Ie{static deleteBeginning(T,ee){return T===null||T===ie?T:Ie.delete(T,0,ee)}static deleteEnding(T,ee){if(T===null||T===ie)return T;const re=We(T),Me=re[re.length-2];return Ie.delete(T,ee,Me)}static delete(T,ee,re){if(T===null||T===ie||ee===re)return T;const Me=We(T),Ue=Me.length>>>1;if(ee===0&&Me[Me.length-2]===re)return ie;const tt=Ri.A.findIndexInTokensArray(Me,ee),yt=tt>0?Me[tt-1<<1]:0,Ye=Me[tt<<1];if(re<Ye){const Pe=re-ee;for(let pt=tt;pt<Ue;pt++)Me[pt<<1]-=Pe;return T}let V,de;yt!==ee?(Me[tt<<1]=ee,V=tt+1<<1,de=ee):(V=tt<<1,de=yt);const Ee=re-ee;for(let Pe=tt+1;Pe<Ue;Pe++){const pt=Me[Pe<<1]-Ee;pt>de&&(Me[V++]=pt,Me[V++]=Me[(Pe<<1)+1],de=pt)}if(V===Me.length)return T;const Xe=new Uint32Array(V);return Xe.set(Me.subarray(0,V),0),Xe.buffer}static append(T,ee){if(ee===ie)return T;if(T===ie)return ee;if(T===null)return T;if(ee===null)return null;const re=We(T),Me=We(ee),Ue=Me.length>>>1,tt=new Uint32Array(re.length+Me.length);tt.set(re,0);let yt=re.length;const Ye=re[re.length-2];for(let V=0;V<Ue;V++)tt[yt++]=Me[V<<1]+Ye,tt[yt++]=Me[(V<<1)+1];return tt.buffer}static insert(T,ee,re){if(T===null||T===ie)return T;const Me=We(T),Ue=Me.length>>>1;let tt=Ri.A.findIndexInTokensArray(Me,ee);tt>0&&Me[tt-1<<1]===ee&&tt--;for(let yt=tt;yt<Ue;yt++)Me[yt<<1]+=re;return T}}function We(Lt){return Lt instanceof Uint32Array?Lt:new Uint32Array(Lt)}var nt=i(58848);class lt{constructor(T){this._lineTokens=[],this._len=0,this._languageIdCodec=T}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(T,ee,re){let Me=null;if(ee<this._len&&(Me=this._lineTokens[ee]),Me!==null&&Me!==ie)return new Ri.A(We(Me),re,this._languageIdCodec);const Ue=new Uint32Array(2);return Ue[0]=re.length,Ue[1]=Pt(this._languageIdCodec.encodeLanguageId(T)),new Ri.A(Ue,re,this._languageIdCodec)}static _massageTokens(T,ee,re){const Me=re?We(re):null;if(ee===0){let Ue=!1;if(Me&&Me.length>1&&(Ue=nt.N.getLanguageId(Me[1])!==T),!Ue)return ie}if(!Me||Me.length===0){const Ue=new Uint32Array(2);return Ue[0]=ee,Ue[1]=Pt(T),Ue.buffer}return Me[Me.length-2]=ee,Me.byteOffset===0&&Me.byteLength===Me.buffer.byteLength?Me.buffer:Me}_ensureLine(T){for(;T>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(T,ee){ee!==0&&(T+ee>this._len&&(ee=this._len-T),this._lineTokens.splice(T,ee),this._len-=ee)}_insertLines(T,ee){if(ee===0)return;const re=[];for(let Me=0;Me<ee;Me++)re[Me]=null;this._lineTokens=c.Zv(this._lineTokens,T,re),this._len+=ee}setTokens(T,ee,re,Me,Ue){const tt=lt._massageTokens(this._languageIdCodec.encodeLanguageId(T),re,Me);this._ensureLine(ee);const yt=this._lineTokens[ee];return this._lineTokens[ee]=tt,Ue?!lt._equals(yt,tt):!1}static _equals(T,ee){if(!T||!ee)return!T&&!ee;const re=We(T),Me=We(ee);if(re.length!==Me.length)return!1;for(let Ue=0,tt=re.length;Ue<tt;Ue++)if(re[Ue]!==Me[Ue])return!1;return!0}acceptEdit(T,ee,re){this._acceptDeleteRange(T),this._acceptInsertText(new p.L(T.startLineNumber,T.startColumn),ee,re)}_acceptDeleteRange(T){const ee=T.startLineNumber-1;if(ee>=this._len)return;if(T.startLineNumber===T.endLineNumber){if(T.startColumn===T.endColumn)return;this._lineTokens[ee]=Ie.delete(this._lineTokens[ee],T.startColumn-1,T.endColumn-1);return}this._lineTokens[ee]=Ie.deleteEnding(this._lineTokens[ee],T.startColumn-1);const re=T.endLineNumber-1;let Me=null;re<this._len&&(Me=Ie.deleteBeginning(this._lineTokens[re],T.endColumn-1)),this._lineTokens[ee]=Ie.append(this._lineTokens[ee],Me),this._deleteLines(T.startLineNumber,T.endLineNumber-T.startLineNumber)}_acceptInsertText(T,ee,re){if(ee===0&&re===0)return;const Me=T.lineNumber-1;if(!(Me>=this._len)){if(ee===0){this._lineTokens[Me]=Ie.insert(this._lineTokens[Me],T.column-1,re);return}this._lineTokens[Me]=Ie.deleteEnding(this._lineTokens[Me],T.column-1),this._lineTokens[Me]=Ie.insert(this._lineTokens[Me],T.column-1,re),this._insertLines(T.lineNumber,ee)}}}function Pt(Lt){return(Lt<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}class $t{constructor(T){this._pieces=[],this._isComplete=!1,this._languageIdCodec=T}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(T,ee){this._pieces=T||[],this._isComplete=ee}setPartial(T,ee){let re=T;if(ee.length>0){const Ue=ee[0].getRange(),tt=ee[ee.length-1].getRange();if(!Ue||!tt)return T;re=T.plusRange(Ue).plusRange(tt)}let Me=null;for(let Ue=0,tt=this._pieces.length;Ue<tt;Ue++){const yt=this._pieces[Ue];if(yt.endLineNumber<re.startLineNumber)continue;if(yt.startLineNumber>re.endLineNumber){Me=Me||{index:Ue};break}if(yt.removeTokens(re),yt.isEmpty()){this._pieces.splice(Ue,1),Ue--,tt--;continue}if(yt.endLineNumber<re.startLineNumber)continue;if(yt.startLineNumber>re.endLineNumber){Me=Me||{index:Ue};continue}const[Ye,V]=yt.split(re);if(Ye.isEmpty()){Me=Me||{index:Ue};continue}V.isEmpty()||(this._pieces.splice(Ue,1,Ye,V),Ue++,tt++,Me=Me||{index:Ue})}return Me=Me||{index:this._pieces.length},ee.length>0&&(this._pieces=c.Zv(this._pieces,Me.index,ee)),re}isComplete(){return this._isComplete}addSparseTokens(T,ee){if(ee.getLineContent().length===0)return ee;const re=this._pieces;if(re.length===0)return ee;const Me=$t._findFirstPieceWithLine(re,T),Ue=re[Me].getLineTokens(T);if(!Ue)return ee;const tt=ee.getCount(),yt=Ue.getCount();let Ye=0;const V=[];let de=0,Ee=0;const Xe=(Pe,pt)=>{Pe!==Ee&&(Ee=Pe,V[de++]=Pe,V[de++]=pt)};for(let Pe=0;Pe<yt;Pe++){const pt=Ue.getStartCharacter(Pe),It=Ue.getEndCharacter(Pe),Rt=Ue.getMetadata(Pe),ei=((Rt&1?2048:0)|(Rt&2?4096:0)|(Rt&4?8192:0)|(Rt&8?16384:0)|(Rt&16?16744448:0)|(Rt&32?4278190080:0))>>>0,ni=~ei>>>0;for(;Ye<tt&&ee.getEndOffset(Ye)<=pt;)Xe(ee.getEndOffset(Ye),ee.getMetadata(Ye)),Ye++;for(Ye<tt&&ee.getStartOffset(Ye)<pt&&Xe(pt,ee.getMetadata(Ye));Ye<tt&&ee.getEndOffset(Ye)<It;)Xe(ee.getEndOffset(Ye),ee.getMetadata(Ye)&ni|Rt&ei),Ye++;if(Ye<tt)Xe(It,ee.getMetadata(Ye)&ni|Rt&ei),ee.getEndOffset(Ye)===It&&Ye++;else{const pi=Math.min(Math.max(0,Ye-1),tt-1);Xe(It,ee.getMetadata(pi)&ni|Rt&ei)}}for(;Ye<tt;)Xe(ee.getEndOffset(Ye),ee.getMetadata(Ye)),Ye++;return new Ri.A(new Uint32Array(V),ee.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(T,ee){let re=0,Me=T.length-1;for(;re<Me;){let Ue=re+Math.floor((Me-re)/2);if(T[Ue].endLineNumber<ee)re=Ue+1;else if(T[Ue].startLineNumber>ee)Me=Ue-1;else{for(;Ue>re&&T[Ue-1].startLineNumber<=ee&&ee<=T[Ue-1].endLineNumber;)Ue--;return Ue}}return re}acceptEdit(T,ee,re,Me,Ue){for(const tt of this._pieces)tt.acceptEdit(T,ee,re,Me,Ue)}}class ti extends Gt.U{constructor(T,ee,re,Me,Ue){super(),this._languageService=T,this._languageConfigurationService=ee,this._textModel=re,this.bracketPairsTextModelPart=Me,this._languageId=Ue,this._onDidChangeLanguage=this._register(new A.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new A.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new A.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=1,this._tokens=new lt(this._languageService.languageIdCodec),this._semanticTokens=new $t(this._languageService.languageIdCodec),this._tokenization=this._register(new ln(re,this,this._languageService.languageIdCodec)),this._register(this._languageConfigurationService.onDidChange(tt=>{tt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))}acceptEdit(T,ee,re,Me,Ue){this._tokens.acceptEdit(T,re,Me),this._semanticTokens.acceptEdit(T,re,Me,Ue,ee.length>0?ee.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(T){this._tokenization.handleDidChangeContent(T)}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleBackgroundTokenizationFinished(){if(this._backgroundTokenizationState===2)return;const T=2;this._backgroundTokenizationState=T,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}get hasTokens(){return this._tokens.hasTokens}setTokens(T){if(T.length===0)return;const ee=[];for(let re=0,Me=T.length;re<Me;re++){const Ue=T[re];let tt=0,yt=0,Ye=!1;for(let V=Ue.startLineNumber;V<=Ue.endLineNumber;V++)Ye?(this._tokens.setTokens(this._languageId,V-1,this._textModel.getLineLength(V),Ue.getLineTokens(V),!1),yt=V):this._tokens.setTokens(this._languageId,V-1,this._textModel.getLineLength(V),Ue.getLineTokens(V),!0)&&(Ye=!0,tt=V,yt=V);Ye&&ee.push({fromLineNumber:tt,toLineNumber:yt})}ee.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:ee})}setSemanticTokens(T,ee){this._semanticTokens.set(T,ee),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:T!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(T,ee){if(this.hasCompleteSemanticTokens())return;const re=this._textModel.validateRange(this._semanticTokens.setPartial(T,ee));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:re.startLineNumber,toLineNumber:re.endLineNumber}]})}tokenizeViewport(T,ee){T=Math.max(1,T),ee=Math.min(this._textModel.getLineCount(),ee),this._tokenization.tokenizeViewport(T,ee)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(T){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(T),this._onDidChangeTokens.fire(T))}resetTokenization(){this._tokenization.reset()}forceTokenization(T){if(T<1||T>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(T)}isCheapToTokenize(T){return this._tokenization.isCheapToTokenize(T)}tokenizeIfCheap(T){this.isCheapToTokenize(T)&&this.forceTokenization(T)}getLineTokens(T){if(T<1||T>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(T)}_getLineTokens(T){const ee=this._textModel.getLineContent(T),re=this._tokens.getTokens(this._languageId,T-1,ee);return this._semanticTokens.addSparseTokens(T,re)}getTokenTypeIfInsertingCharacter(T,ee,re){const Me=this._textModel.validatePosition(new p.L(T,ee));return this._tokenization.getTokenTypeIfInsertingCharacter(Me,re)}tokenizeLineWithEdit(T,ee,re){const Me=this._textModel.validatePosition(T);return this._tokenization.tokenizeLineWithEdit(Me,ee,re)}getLanguageConfiguration(T){return this._languageConfigurationService.getLanguageConfiguration(T)}getWordAtPosition(T){this.assertNotDisposed();const ee=this._textModel.validatePosition(T),re=this._textModel.getLineContent(ee.lineNumber),Me=this._getLineTokens(ee.lineNumber),Ue=Me.findTokenIndexAtOffset(ee.column-1),[tt,yt]=ti._findLanguageBoundaries(Me,Ue),Ye=(0,Vt.t2)(ee.column,this.getLanguageConfiguration(Me.getLanguageId(Ue)).getWordDefinition(),re.substring(tt,yt),tt);if(Ye&&Ye.startColumn<=T.column&&T.column<=Ye.endColumn)return Ye;if(Ue>0&&tt===ee.column-1){const[V,de]=ti._findLanguageBoundaries(Me,Ue-1),Ee=(0,Vt.t2)(ee.column,this.getLanguageConfiguration(Me.getLanguageId(Ue-1)).getWordDefinition(),re.substring(V,de),V);if(Ee&&Ee.startColumn<=T.column&&T.column<=Ee.endColumn)return Ee}return null}static _findLanguageBoundaries(T,ee){const re=T.getLanguageId(ee);let Me=0;for(let tt=ee;tt>=0&&T.getLanguageId(tt)===re;tt--)Me=T.getStartOffset(tt);let Ue=T.getLineContent().length;for(let tt=ee,yt=T.getCount();tt<yt&&T.getLanguageId(tt)===re;tt++)Ue=T.getEndOffset(tt);return[Me,Ue]}getWordUntilPosition(T){const ee=this.getWordAtPosition(T);return ee?{word:ee.word.substr(0,T.column-ee.startColumn),startColumn:ee.startColumn,endColumn:T.column}:{word:"",startColumn:T.column,endColumn:T.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(T,ee){const re=this._textModel.validatePosition(new p.L(T,ee)),Me=this.getLineTokens(re.lineNumber);return Me.getLanguageId(Me.findTokenIndexAtOffset(re.column-1))}setLanguageId(T,ee="api"){if(this._languageId===T)return;const re={oldLanguage:this._languageId,newLanguage:T,source:ee};this._languageId=T,this.bracketPairsTextModelPart.handleDidChangeLanguage(re),this._tokenization.handleDidChangeLanguage(re),this._onDidChangeLanguage.fire(re),this._onDidChangeLanguageConfiguration.fire({})}}var Qt=i(60667),Jt=i(15151),di=function(Lt,T,ee,re){var Me=arguments.length,Ue=Me<3?T:re===null?re=Object.getOwnPropertyDescriptor(T,ee):re,tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(Lt,T,ee,re);else for(var yt=Lt.length-1;yt>=0;yt--)(tt=Lt[yt])&&(Ue=(Me<3?tt(Ue):Me>3?tt(T,ee,Ue):tt(T,ee))||Ue);return Me>3&&Ue&&Object.defineProperty(T,ee,Ue),Ue},Ci=function(Lt,T){return function(ee,re){T(ee,re,Lt)}};function gi(Lt){const T=new xt;return T.acceptChunk(Lt),T.finish()}function Ei(Lt){const T=new xt;let ee;for(;typeof(ee=Lt.read())=="string";)T.acceptChunk(ee);return T.finish()}function Pi(Lt,T){let ee;return typeof Lt=="string"?ee=gi(Lt):m.Hf(Lt)?ee=Ei(Lt):ee=Lt,ee.create(T)}let tn=0;const an=999,nn=1e4;class cn{constructor(T){this._source=T,this._eos=!1}read(){if(this._eos)return null;const T=[];let ee=0,re=0;do{const Me=this._source.read();if(Me===null)return this._eos=!0,ee===0?null:T.join("");if(Me.length>0&&(T[ee++]=Me,re+=Me.length),re>=64*1024)return T.join("")}while(!0)}}const En=()=>{throw new Error("Invalid change accessor")};let Rn=class ha extends S.JT{static resolveOptions(T,ee){if(ee.detectIndentation){const re=$e(T,ee.tabSize,ee.insertSpaces);return new m.dJ({tabSize:re.tabSize,indentSize:"tabSize",insertSpaces:re.insertSpaces,trimAutoWhitespace:ee.trimAutoWhitespace,defaultEOL:ee.defaultEOL,bracketPairColorizationOptions:ee.bracketPairColorizationOptions})}return new m.dJ(ee)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(T){return this._eventEmitter.slowEvent(ee=>T(ee.contentChangedEvent))}onDidChangeContentOrInjectedText(T){return(0,S.F8)(this._eventEmitter.fastEvent(ee=>T(ee)),this._onDidChangeInjectedText.event(ee=>T(ee)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(T,ee,re,Me=null,Ue,tt,yt){super(),this._undoRedoService=Ue,this._languageService=tt,this._languageConfigurationService=yt,this._onWillDispose=this._register(new A.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new $n(Xe=>this.handleBeforeFireDecorationsChangedEvent(Xe))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new A.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new A.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new A.Q5),this._eventEmitter=this._register(new ss),this._deltaDecorationCallCnt=0,tn++,this.id="$model"+tn,this.isForSimpleWidget=re.isForSimpleWidget,typeof Me=="undefined"||Me===null?this._associatedResource=N.o.parse("inmemory://model/"+tn):this._associatedResource=Me,this._attachedEditorCount=0;const{textBuffer:Ye,disposable:V}=Pi(T,re.defaultEOL);this._buffer=Ye,this._bufferDisposable=V,this._options=ha.resolveOptions(this._buffer,re),this._bracketPairs=this._register(new B(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new le.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Se(this)),this._tokenizationTextModelPart=new ti(this._languageService,this._languageConfigurationService,this,this._bracketPairs,ee);const de=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new a.e(1,1,de,this._buffer.getLineLength(de)+1),0);re.largeFileOptimizations?this._isTooLargeForTokenization=Ee>ha.LARGE_FILE_SIZE_THRESHOLD||de>ha.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ee>ha._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=$.PJ(tn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new us,this._commandManager=new he.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const T=new st([],"",`
`,!1,!1,!0,!0);T.dispose(),this._buffer=T,this._bufferDisposable=S.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(T,ee){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(ee),this._bracketPairs.handleDidChangeContent(ee),this._eventEmitter.fire(new Qt.fV(T,ee)))}setValue(T){if(this._assertNotDisposed(),T==null)throw(0,g.b1)();const{textBuffer:ee,disposable:re}=Pi(T,this._options.defaultEOL);this._setValueFromTextBuffer(ee,re)}_createContentChanged2(T,ee,re,Me,Ue,tt,yt){return{changes:[{range:T,rangeOffset:ee,rangeLength:re,text:Me}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Ue,isRedoing:tt,isFlush:yt}}_setValueFromTextBuffer(T,ee){this._assertNotDisposed();const re=this.getFullModelRange(),Me=this.getValueLengthInRange(re),Ue=this.getLineCount(),tt=this.getLineMaxColumn(Ue);this._buffer=T,this._bufferDisposable.dispose(),this._bufferDisposable=ee,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new us,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Qt.dQ([new Qt.Jx],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Ue,tt),0,Me,this.getValue(),!1,!1,!0))}setEOL(T){this._assertNotDisposed();const ee=T===1?`\r
`:`
`;if(this._buffer.getEOL()===ee)return;const re=this.getFullModelRange(),Me=this.getValueLengthInRange(re),Ue=this.getLineCount(),tt=this.getLineMaxColumn(Ue);this._onBeforeEOLChange(),this._buffer.setEOL(ee),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Qt.dQ([new Qt.CZ],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Ue,tt),0,Me,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const T=this.getVersionId(),ee=this._decorationsTree.collectNodesPostOrder();for(let re=0,Me=ee.length;re<Me;re++){const Ue=ee[re],tt=Ue.range,yt=Ue.cachedAbsoluteStart-Ue.start,Ye=this._buffer.getOffsetAt(tt.startLineNumber,tt.startColumn),V=this._buffer.getOffsetAt(tt.endLineNumber,tt.endColumn);Ue.cachedAbsoluteStart=Ye,Ue.cachedAbsoluteEnd=V,Ue.cachedVersionId=T,Ue.start=Ye-yt,Ue.end=V-yt,jt(Ue)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let T=0,ee=0;const re=this._buffer.getLineCount();for(let Me=1;Me<=re;Me++){const Ue=this._buffer.getLineLength(Me);Ue>=nn?ee+=Ue:T+=Ue}return ee>T}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(T){this._assertNotDisposed();const ee=typeof T.tabSize!="undefined"?T.tabSize:this._options.tabSize,re=typeof T.indentSize!="undefined"?T.indentSize:this._options.originalIndentSize,Me=typeof T.insertSpaces!="undefined"?T.insertSpaces:this._options.insertSpaces,Ue=typeof T.trimAutoWhitespace!="undefined"?T.trimAutoWhitespace:this._options.trimAutoWhitespace,tt=typeof T.bracketColorizationOptions!="undefined"?T.bracketColorizationOptions:this._options.bracketPairColorizationOptions,yt=new m.dJ({tabSize:ee,indentSize:re,insertSpaces:Me,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Ue,bracketPairColorizationOptions:tt});if(this._options.equals(yt))return;const Ye=this._options.createChangeEvent(yt);this._options=yt,this._bracketPairs.handleDidChangeOptions(Ye),this._decorationProvider.handleDidChangeOptions(Ye),this._onDidChangeOptions.fire(Ye)}detectIndentation(T,ee){this._assertNotDisposed();const re=$e(this._buffer,ee,T);this.updateOptions({insertSpaces:re.insertSpaces,tabSize:re.tabSize,indentSize:re.tabSize})}normalizeIndentation(T){return this._assertNotDisposed(),(0,O.x)(T,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(T=null){const ee=this.findMatches($.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(T,ee.map(re=>({range:re.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(T){this._assertNotDisposed();const ee=this._validatePosition(T.lineNumber,T.column,0);return this._buffer.getOffsetAt(ee.lineNumber,ee.column)}getPositionAt(T){this._assertNotDisposed();const ee=Math.min(this._buffer.getLength(),Math.max(0,T));return this._buffer.getPositionAt(ee)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(T){this._versionId=T}_overwriteAlternativeVersionId(T){this._alternativeVersionId=T}_overwriteInitialUndoRedoSnapshot(T){this._initialUndoRedoSnapshot=T}getValue(T,ee=!1){this._assertNotDisposed();const re=this.getFullModelRange(),Me=this.getValueInRange(re,T);return ee?this._buffer.getBOM()+Me:Me}createSnapshot(T=!1){return new cn(this._buffer.createSnapshot(T))}getValueLength(T,ee=!1){this._assertNotDisposed();const re=this.getFullModelRange(),Me=this.getValueLengthInRange(re,T);return ee?this._buffer.getBOM().length+Me:Me}getValueInRange(T,ee=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(T),ee)}getValueLengthInRange(T,ee=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(T),ee)}getCharacterCountInRange(T,ee=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(T),ee)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(T)}getLineLength(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(T){return this._assertNotDisposed(),1}getLineMaxColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)+1}getLineFirstNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(T)}getLineLastNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(T)}_validateRangeRelaxedNoAllocations(T){const ee=this._buffer.getLineCount(),re=T.startLineNumber,Me=T.startColumn;let Ue=Math.floor(typeof re=="number"&&!isNaN(re)?re:1),tt=Math.floor(typeof Me=="number"&&!isNaN(Me)?Me:1);if(Ue<1)Ue=1,tt=1;else if(Ue>ee)Ue=ee,tt=this.getLineMaxColumn(Ue);else if(tt<=1)tt=1;else{const Ee=this.getLineMaxColumn(Ue);tt>=Ee&&(tt=Ee)}const yt=T.endLineNumber,Ye=T.endColumn;let V=Math.floor(typeof yt=="number"&&!isNaN(yt)?yt:1),de=Math.floor(typeof Ye=="number"&&!isNaN(Ye)?Ye:1);if(V<1)V=1,de=1;else if(V>ee)V=ee,de=this.getLineMaxColumn(V);else if(de<=1)de=1;else{const Ee=this.getLineMaxColumn(V);de>=Ee&&(de=Ee)}return re===Ue&&Me===tt&&yt===V&&Ye===de&&T instanceof a.e&&!(T instanceof d.Y)?T:new a.e(Ue,tt,V,de)}_isValidPosition(T,ee,re){if(typeof T!="number"||typeof ee!="number"||isNaN(T)||isNaN(ee)||T<1||ee<1||(T|0)!==T||(ee|0)!==ee)return!1;const Me=this._buffer.getLineCount();if(T>Me)return!1;if(ee===1)return!0;const Ue=this.getLineMaxColumn(T);if(ee>Ue)return!1;if(re===1){const tt=this._buffer.getLineCharCode(T,ee-2);if($.ZG(tt))return!1}return!0}_validatePosition(T,ee,re){const Me=Math.floor(typeof T=="number"&&!isNaN(T)?T:1),Ue=Math.floor(typeof ee=="number"&&!isNaN(ee)?ee:1),tt=this._buffer.getLineCount();if(Me<1)return new p.L(1,1);if(Me>tt)return new p.L(tt,this.getLineMaxColumn(tt));if(Ue<=1)return new p.L(Me,1);const yt=this.getLineMaxColumn(Me);if(Ue>=yt)return new p.L(Me,yt);if(re===1){const Ye=this._buffer.getLineCharCode(Me,Ue-2);if($.ZG(Ye))return new p.L(Me,Ue-1)}return new p.L(Me,Ue)}validatePosition(T){return this._assertNotDisposed(),T instanceof p.L&&this._isValidPosition(T.lineNumber,T.column,1)?T:this._validatePosition(T.lineNumber,T.column,1)}_isValidRange(T,ee){const re=T.startLineNumber,Me=T.startColumn,Ue=T.endLineNumber,tt=T.endColumn;if(!this._isValidPosition(re,Me,0)||!this._isValidPosition(Ue,tt,0))return!1;if(ee===1){const yt=Me>1?this._buffer.getLineCharCode(re,Me-2):0,Ye=tt>1&&tt<=this._buffer.getLineLength(Ue)?this._buffer.getLineCharCode(Ue,tt-2):0,V=$.ZG(yt),de=$.ZG(Ye);return!V&&!de}return!0}validateRange(T){if(this._assertNotDisposed(),T instanceof a.e&&!(T instanceof d.Y)&&this._isValidRange(T,1))return T;const re=this._validatePosition(T.startLineNumber,T.startColumn,0),Me=this._validatePosition(T.endLineNumber,T.endColumn,0),Ue=re.lineNumber,tt=re.column,yt=Me.lineNumber,Ye=Me.column;{const V=tt>1?this._buffer.getLineCharCode(Ue,tt-2):0,de=Ye>1&&Ye<=this._buffer.getLineLength(yt)?this._buffer.getLineCharCode(yt,Ye-2):0,Ee=$.ZG(V),Xe=$.ZG(de);return!Ee&&!Xe?new a.e(Ue,tt,yt,Ye):Ue===yt&&tt===Ye?new a.e(Ue,tt-1,yt,Ye-1):Ee&&Xe?new a.e(Ue,tt-1,yt,Ye+1):Ee?new a.e(Ue,tt-1,yt,Ye):new a.e(Ue,tt,yt,Ye+1)}return new a.e(Ue,tt,yt,Ye)}modifyPosition(T,ee){this._assertNotDisposed();const re=this.getOffsetAt(T)+ee;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,re)))}getFullModelRange(){this._assertNotDisposed();const T=this.getLineCount();return new a.e(1,1,T,this.getLineMaxColumn(T))}findMatchesLineByLine(T,ee,re,Me){return this._buffer.findMatchesLineByLine(T,ee,re,Me)}findMatches(T,ee,re,Me,Ue,tt,yt=an){this._assertNotDisposed();let Ye=null;ee!==null&&(Array.isArray(ee)||(ee=[ee]),ee.every(Ee=>a.e.isIRange(Ee))&&(Ye=ee.map(Ee=>this.validateRange(Ee)))),Ye===null&&(Ye=[this.getFullModelRange()]),Ye=Ye.sort((Ee,Xe)=>Ee.startLineNumber-Xe.startLineNumber||Ee.startColumn-Xe.startColumn);const V=[];V.push(Ye.reduce((Ee,Xe)=>a.e.areIntersecting(Ee,Xe)?Ee.plusRange(Xe):(V.push(Ee),Xe)));let de;if(!re&&T.indexOf(`
`)<0){const Xe=new rn.bc(T,re,Me,Ue).parseSearchRequest();if(!Xe)return[];de=Pe=>this.findMatchesLineByLine(Pe,Xe,tt,yt)}else de=Ee=>rn.pM.findMatches(this,new rn.bc(T,re,Me,Ue),Ee,tt,yt);return V.map(de).reduce((Ee,Xe)=>Ee.concat(Xe),[])}findNextMatch(T,ee,re,Me,Ue,tt){this._assertNotDisposed();const yt=this.validatePosition(ee);if(!re&&T.indexOf(`
`)<0){const V=new rn.bc(T,re,Me,Ue).parseSearchRequest();if(!V)return null;const de=this.getLineCount();let Ee=new a.e(yt.lineNumber,yt.column,de,this.getLineMaxColumn(de)),Xe=this.findMatchesLineByLine(Ee,V,tt,1);return rn.pM.findNextMatch(this,new rn.bc(T,re,Me,Ue),yt,tt),Xe.length>0||(Ee=new a.e(1,1,yt.lineNumber,this.getLineMaxColumn(yt.lineNumber)),Xe=this.findMatchesLineByLine(Ee,V,tt,1),Xe.length>0)?Xe[0]:null}return rn.pM.findNextMatch(this,new rn.bc(T,re,Me,Ue),yt,tt)}findPreviousMatch(T,ee,re,Me,Ue,tt){this._assertNotDisposed();const yt=this.validatePosition(ee);return rn.pM.findPreviousMatch(this,new rn.bc(T,re,Me,Ue),yt,tt)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(T){if((this.getEOL()===`
`?0:1)!==T)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(T)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(T){return T instanceof m.Qi?T:new m.Qi(T.identifier||null,this.validateRange(T.range),T.text,T.forceMoveMarkers||!1,T.isAutoWhitespaceEdit||!1,T._isTracked||!1)}_validateEditOperations(T){const ee=[];for(let re=0,Me=T.length;re<Me;re++)ee[re]=this._validateEditOperation(T[re]);return ee}pushEditOperations(T,ee,re,Me){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(T,this._validateEditOperations(ee),re,Me)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(T,ee,re,Me){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Ue=ee.map(yt=>({range:this.validateRange(yt.range),text:yt.text}));let tt=!0;if(T)for(let yt=0,Ye=T.length;yt<Ye;yt++){const V=T[yt];let de=!1;for(let Ee=0,Xe=Ue.length;Ee<Xe;Ee++){const Pe=Ue[Ee].range,pt=Pe.startLineNumber>V.endLineNumber,It=V.startLineNumber>Pe.endLineNumber;if(!pt&&!It){de=!0;break}}if(!de){tt=!1;break}}if(tt)for(let yt=0,Ye=this._trimAutoWhitespaceLines.length;yt<Ye;yt++){const V=this._trimAutoWhitespaceLines[yt],de=this.getLineMaxColumn(V);let Ee=!0;for(let Xe=0,Pe=Ue.length;Xe<Pe;Xe++){const pt=Ue[Xe].range,It=Ue[Xe].text;if(!(V<pt.startLineNumber||V>pt.endLineNumber)&&!(V===pt.startLineNumber&&pt.startColumn===de&&pt.isEmpty()&&It&&It.length>0&&It.charAt(0)===`
`)&&!(V===pt.startLineNumber&&pt.startColumn===1&&pt.isEmpty()&&It&&It.length>0&&It.charAt(It.length-1)===`
`)){Ee=!1;break}}if(Ee){const Xe=new a.e(V,1,V,de);ee.push(new m.Qi(null,Xe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(T,ee,re,Me)}_applyUndo(T,ee,re,Me){const Ue=T.map(tt=>{const yt=this.getPositionAt(tt.newPosition),Ye=this.getPositionAt(tt.newEnd);return{range:new a.e(yt.lineNumber,yt.column,Ye.lineNumber,Ye.column),text:tt.oldText}});this._applyUndoRedoEdits(Ue,ee,!0,!1,re,Me)}_applyRedo(T,ee,re,Me){const Ue=T.map(tt=>{const yt=this.getPositionAt(tt.oldPosition),Ye=this.getPositionAt(tt.oldEnd);return{range:new a.e(yt.lineNumber,yt.column,Ye.lineNumber,Ye.column),text:tt.newText}});this._applyUndoRedoEdits(Ue,ee,!1,!0,re,Me)}_applyUndoRedoEdits(T,ee,re,Me,Ue,tt){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=re,this._isRedoing=Me,this.applyEdits(T,!1),this.setEOL(ee),this._overwriteAlternativeVersionId(Ue)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(tt),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(T,ee=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const re=this._validateEditOperations(T);return this._doApplyEdits(re,ee)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(T,ee){const re=this._buffer.getLineCount(),Me=this._buffer.applyEdits(T,this._options.trimAutoWhitespace,ee),Ue=this._buffer.getLineCount(),tt=Me.changes;if(this._trimAutoWhitespaceLines=Me.trimAutoWhitespaceLineNumbers,tt.length!==0){for(let V=0,de=tt.length;V<de;V++){const Ee=tt[V],[Xe,Pe,pt]=(0,x.Q)(Ee.text);this._tokenizationTextModelPart.acceptEdit(Ee.range,Ee.text,Xe,Pe,pt),this._decorationsTree.acceptReplace(Ee.rangeOffset,Ee.rangeLength,Ee.text.length,Ee.forceMoveMarkers)}const yt=[];this._increaseVersionId();let Ye=re;for(let V=0,de=tt.length;V<de;V++){const Ee=tt[V],[Xe]=(0,x.Q)(Ee.text);this._onDidChangeDecorations.fire();const Pe=Ee.range.startLineNumber,pt=Ee.range.endLineNumber,It=pt-Pe,Rt=Xe,ei=Math.min(It,Rt),ni=Rt-It,pi=Ue-Ye-ni+Pe,mi=pi,wi=pi+Rt,ci=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new p.L(mi,1)),this.getOffsetAt(new p.L(wi,this.getLineMaxColumn(wi))),0),vi=Qt.gk.fromDecorations(ci),Ti=new c.H9(vi);for(let Yi=ei;Yi>=0;Yi--){const Zn=Pe+Yi,wn=pi+Yi;Ti.takeFromEndWhile(bs=>bs.lineNumber>wn);const Cs=Ti.takeFromEndWhile(bs=>bs.lineNumber===wn);yt.push(new Qt.rU(Zn,this.getLineContent(wn),Cs))}if(ei<It){const Yi=Pe+ei;yt.push(new Qt.lN(Yi+1,pt))}if(ei<Rt){const Yi=new c.H9(vi),Zn=Pe+ei,wn=Rt-ei,Cs=Ue-Ye-wn+Zn+1,bs=[],Ms=[];for(let xn=0;xn<wn;xn++){const Gn=Cs+xn;Ms[xn]=this.getLineContent(Gn),Yi.takeWhile(Ss=>Ss.lineNumber<Gn),bs[xn]=Yi.takeWhile(Ss=>Ss.lineNumber===Gn)}yt.push(new Qt.Tx(Zn+1,Pe+Rt,Ms,bs))}Ye+=ni}this._emitContentChangedEvent(new Qt.dQ(yt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:tt,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Me.reverseEdits===null?void 0:Me.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(T){if(T===null||T.size===0)return;const re=Array.from(T).map(Me=>new Qt.rU(Me,this.getLineContent(Me),this._getInjectedTextInLine(Me)));this._onDidChangeInjectedText.fire(new Qt.D8(re))}changeDecorations(T,ee=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(ee,T)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(T,ee){const re={addDecoration:(Ue,tt)=>this._deltaDecorationsImpl(T,[],[{range:Ue,options:tt}])[0],changeDecoration:(Ue,tt)=>{this._changeDecorationImpl(Ue,tt)},changeDecorationOptions:(Ue,tt)=>{this._changeDecorationOptionsImpl(Ue,Hn(tt))},removeDecoration:Ue=>{this._deltaDecorationsImpl(T,[Ue],[])},deltaDecorations:(Ue,tt)=>Ue.length===0&&tt.length===0?[]:this._deltaDecorationsImpl(T,Ue,tt)};let Me=null;try{Me=ee(re)}catch(Ue){(0,g.dL)(Ue)}return re.addDecoration=En,re.changeDecoration=En,re.changeDecorationOptions=En,re.removeDecoration=En,re.deltaDecorations=En,Me}deltaDecorations(T,ee,re=0){if(this._assertNotDisposed(),T||(T=[]),T.length===0&&ee.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,g.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(re,T,ee)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(T){return this.getDecorationRange(T)}_setTrackedRange(T,ee,re){const Me=T?this._decorations[T]:null;if(!Me)return ee?this._deltaDecorationsImpl(0,[],[{range:ee,options:Kn[re]}])[0]:null;if(!ee)return this._decorationsTree.delete(Me),delete this._decorations[Me.id],null;const Ue=this._validateRangeRelaxedNoAllocations(ee),tt=this._buffer.getOffsetAt(Ue.startLineNumber,Ue.startColumn),yt=this._buffer.getOffsetAt(Ue.endLineNumber,Ue.endColumn);return this._decorationsTree.delete(Me),Me.reset(this.getVersionId(),tt,yt,Ue),Me.setOptions(Kn[re]),this._decorationsTree.insert(Me),Me.id}removeAllDecorationsWithOwnerId(T){if(this._isDisposed)return;const ee=this._decorationsTree.collectNodesFromOwner(T);for(let re=0,Me=ee.length;re<Me;re++){const Ue=ee[re];this._decorationsTree.delete(Ue),delete this._decorations[Ue.id]}}getDecorationOptions(T){const ee=this._decorations[T];return ee?ee.options:null}getDecorationRange(T){const ee=this._decorations[T];return ee?this._decorationsTree.getNodeRange(this,ee):null}getLineDecorations(T,ee=0,re=!1){return T<1||T>this.getLineCount()?[]:this.getLinesDecorations(T,T,ee,re)}getLinesDecorations(T,ee,re=0,Me=!1){const Ue=this.getLineCount(),tt=Math.min(Ue,Math.max(1,T)),yt=Math.min(Ue,Math.max(1,ee)),Ye=this.getLineMaxColumn(yt),V=new a.e(tt,1,yt,Ye),de=this._getDecorationsInRange(V,re,Me);return(0,c.vA)(de,this._decorationProvider.getDecorationsInRange(V,re,Me)),de}getDecorationsInRange(T,ee=0,re=!1,Me=!1){const Ue=this.validateRange(T),tt=this._getDecorationsInRange(Ue,ee,re);return(0,c.vA)(tt,this._decorationProvider.getDecorationsInRange(Ue,ee,re,Me)),tt}getOverviewRulerDecorations(T=0,ee=!1){return this._decorationsTree.getAll(this,T,ee,!0)}getInjectedTextDecorations(T=0){return this._decorationsTree.getAllInjectedText(this,T)}_getInjectedTextInLine(T){const ee=this._buffer.getOffsetAt(T,1),re=ee+this._buffer.getLineLength(T),Me=this._decorationsTree.getInjectedTextInInterval(this,ee,re,0);return Qt.gk.fromDecorations(Me).filter(Ue=>Ue.lineNumber===T)}getAllDecorations(T=0,ee=!1){let re=this._decorationsTree.getAll(this,T,ee,!1);return re=re.concat(this._decorationProvider.getAllDecorations(T,ee)),re}_getDecorationsInRange(T,ee,re){const Me=this._buffer.getOffsetAt(T.startLineNumber,T.startColumn),Ue=this._buffer.getOffsetAt(T.endLineNumber,T.endColumn);return this._decorationsTree.getAllInInterval(this,Me,Ue,ee,re)}getRangeAt(T,ee){return this._buffer.getRangeAt(T,ee-T)}_changeDecorationImpl(T,ee){const re=this._decorations[T];if(!re)return;if(re.options.after){const yt=this.getDecorationRange(T);this._onDidChangeDecorations.recordLineAffectedByInjectedText(yt.endLineNumber)}if(re.options.before){const yt=this.getDecorationRange(T);this._onDidChangeDecorations.recordLineAffectedByInjectedText(yt.startLineNumber)}const Me=this._validateRangeRelaxedNoAllocations(ee),Ue=this._buffer.getOffsetAt(Me.startLineNumber,Me.startColumn),tt=this._buffer.getOffsetAt(Me.endLineNumber,Me.endColumn);this._decorationsTree.delete(re),re.reset(this.getVersionId(),Ue,tt,Me),this._decorationsTree.insert(re),this._onDidChangeDecorations.checkAffectedAndFire(re.options),re.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Me.endLineNumber),re.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Me.startLineNumber)}_changeDecorationOptionsImpl(T,ee){const re=this._decorations[T];if(!re)return;const Me=!!(re.options.overviewRuler&&re.options.overviewRuler.color),Ue=!!(ee.overviewRuler&&ee.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(re.options),this._onDidChangeDecorations.checkAffectedAndFire(ee),re.options.after||ee.after){const tt=this._decorationsTree.getNodeRange(this,re);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tt.endLineNumber)}if(re.options.before||ee.before){const tt=this._decorationsTree.getNodeRange(this,re);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tt.startLineNumber)}Me!==Ue?(this._decorationsTree.delete(re),re.setOptions(ee),this._decorationsTree.insert(re)):re.setOptions(ee)}_deltaDecorationsImpl(T,ee,re){const Me=this.getVersionId(),Ue=ee.length;let tt=0;const yt=re.length;let Ye=0;this._onDidChangeDecorations.beginDeferredEmit();try{const V=new Array(yt);for(;tt<Ue||Ye<yt;){let de=null;if(tt<Ue){do de=this._decorations[ee[tt++]];while(!de&&tt<Ue);if(de){if(de.options.after){const Ee=this._decorationsTree.getNodeRange(this,de);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(de.options.before){const Ee=this._decorationsTree.getNodeRange(this,de);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(de),this._onDidChangeDecorations.checkAffectedAndFire(de.options)}}if(Ye<yt){if(!de){const Rt=++this._lastDecorationId,ei=`${this._instanceId};${Rt}`;de=new et(ei,0,0),this._decorations[ei]=de}const Ee=re[Ye],Xe=this._validateRangeRelaxedNoAllocations(Ee.range),Pe=Hn(Ee.options),pt=this._buffer.getOffsetAt(Xe.startLineNumber,Xe.startColumn),It=this._buffer.getOffsetAt(Xe.endLineNumber,Xe.endColumn);de.ownerId=T,de.reset(Me,pt,It,Xe),de.setOptions(Pe),de.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.endLineNumber),de.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Xe.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Pe),this._decorationsTree.insert(de),V[Ye]=de.id,Ye++}else de&&delete this._decorations[de.id]}return V}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setMode(T,ee){this.tokenization.setLanguageId(T,ee)}getLanguageIdAtPosition(T,ee){return this.tokenization.getLanguageIdAtPosition(T,ee)}getWordAtPosition(T){return this._tokenizationTextModelPart.getWordAtPosition(T)}getWordUntilPosition(T){return this._tokenizationTextModelPart.getWordUntilPosition(T)}normalizePosition(T,ee){return T}getLineIndentColumn(T){return ps(this.getLineContent(T))+1}};Rn._MODEL_SYNC_LIMIT=50*1024*1024,Rn.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Rn.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Rn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:f.D.tabSize,indentSize:f.D.indentSize,insertSpaces:f.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:f.D.trimAutoWhitespace,largeFileOptimizations:f.D.largeFileOptimizations,bracketPairColorizationOptions:f.D.bracketPairColorizationOptions},Rn=di([Ci(4,Jt.tJ),Ci(5,s.O),Ci(6,r.c_)],Rn);function ps(Lt){let T=0;for(const ee of Lt)if(ee===" "||ee==="	")T++;else break;return T}function mn(Lt){return!!(Lt.options.overviewRuler&&Lt.options.overviewRuler.color)}function Xn(Lt){return!!Lt.options.after||!!Lt.options.before}class us{constructor(){this._decorationsTree0=new Le,this._decorationsTree1=new Le,this._injectedTextDecorationsTree=new Le}ensureAllNodesHaveRanges(T){this.getAll(T,0,!1,!1)}_ensureNodesHaveRanges(T,ee){for(const re of ee)re.range===null&&(re.range=T.getRangeAt(re.cachedAbsoluteStart,re.cachedAbsoluteEnd));return ee}getAllInInterval(T,ee,re,Me,Ue){const tt=T.getVersionId(),yt=this._intervalSearch(ee,re,Me,Ue,tt);return this._ensureNodesHaveRanges(T,yt)}_intervalSearch(T,ee,re,Me,Ue){const tt=this._decorationsTree0.intervalSearch(T,ee,re,Me,Ue),yt=this._decorationsTree1.intervalSearch(T,ee,re,Me,Ue),Ye=this._injectedTextDecorationsTree.intervalSearch(T,ee,re,Me,Ue);return tt.concat(yt).concat(Ye)}getInjectedTextInInterval(T,ee,re,Me){const Ue=T.getVersionId(),tt=this._injectedTextDecorationsTree.intervalSearch(ee,re,Me,!1,Ue);return this._ensureNodesHaveRanges(T,tt).filter(yt=>yt.options.showIfCollapsed||!yt.range.isEmpty())}getAllInjectedText(T,ee){const re=T.getVersionId(),Me=this._injectedTextDecorationsTree.search(ee,!1,re);return this._ensureNodesHaveRanges(T,Me).filter(Ue=>Ue.options.showIfCollapsed||!Ue.range.isEmpty())}getAll(T,ee,re,Me){const Ue=T.getVersionId(),tt=this._search(ee,re,Me,Ue);return this._ensureNodesHaveRanges(T,tt)}_search(T,ee,re,Me){if(re)return this._decorationsTree1.search(T,ee,Me);{const Ue=this._decorationsTree0.search(T,ee,Me),tt=this._decorationsTree1.search(T,ee,Me),yt=this._injectedTextDecorationsTree.search(T,ee,Me);return Ue.concat(tt).concat(yt)}}collectNodesFromOwner(T){const ee=this._decorationsTree0.collectNodesFromOwner(T),re=this._decorationsTree1.collectNodesFromOwner(T),Me=this._injectedTextDecorationsTree.collectNodesFromOwner(T);return ee.concat(re).concat(Me)}collectNodesPostOrder(){const T=this._decorationsTree0.collectNodesPostOrder(),ee=this._decorationsTree1.collectNodesPostOrder(),re=this._injectedTextDecorationsTree.collectNodesPostOrder();return T.concat(ee).concat(re)}insert(T){Xn(T)?this._injectedTextDecorationsTree.insert(T):mn(T)?this._decorationsTree1.insert(T):this._decorationsTree0.insert(T)}delete(T){Xn(T)?this._injectedTextDecorationsTree.delete(T):mn(T)?this._decorationsTree1.delete(T):this._decorationsTree0.delete(T)}getNodeRange(T,ee){const re=T.getVersionId();return ee.cachedVersionId!==re&&this._resolveNode(ee,re),ee.range===null&&(ee.range=T.getRangeAt(ee.cachedAbsoluteStart,ee.cachedAbsoluteEnd)),ee.range}_resolveNode(T,ee){Xn(T)?this._injectedTextDecorationsTree.resolveNode(T,ee):mn(T)?this._decorationsTree1.resolveNode(T,ee):this._decorationsTree0.resolveNode(T,ee)}acceptReplace(T,ee,re,Me){this._decorationsTree0.acceptReplace(T,ee,re,Me),this._decorationsTree1.acceptReplace(T,ee,re,Me),this._injectedTextDecorationsTree.acceptReplace(T,ee,re,Me)}}function qi(Lt){return Lt.replace(/[^a-z0-9\-_]/gi," ")}class ii{constructor(T){this.color=T.color||"",this.darkColor=T.darkColor||""}}class Oi extends ii{constructor(T){super(T),this._resolvedColor=null,this.position=typeof T.position=="number"?T.position:m.sh.Center}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(T,ee){if(typeof T=="string")return T;const re=T?ee.getColor(T.id):null;return re?re.toString():""}}class Vi extends ii{constructor(T){super(T),this.position=T.position}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(T,ee){return typeof T=="string"?F.Il.fromHex(T):ee.getColor(T.id)}}class yn{static from(T){return T instanceof yn?T:new yn(T)}constructor(T){this.content=T.content||"",this.inlineClassName=T.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=T.attachedData||null,this.cursorStops=T.cursorStops||null}}class An{static register(T){return new An(T)}static createDynamic(T){return new An(T)}constructor(T){var ee,re,Me;this.description=T.description,this.blockClassName=T.blockClassName?qi(T.blockClassName):null,this.blockIsAfterEnd=(ee=T.blockIsAfterEnd)!==null&&ee!==void 0?ee:null,this.stickiness=T.stickiness||0,this.zIndex=T.zIndex||0,this.className=T.className?qi(T.className):null,this.hoverMessage=T.hoverMessage||null,this.glyphMarginHoverMessage=T.glyphMarginHoverMessage||null,this.isWholeLine=T.isWholeLine||!1,this.showIfCollapsed=T.showIfCollapsed||!1,this.collapseOnReplaceEdit=T.collapseOnReplaceEdit||!1,this.overviewRuler=T.overviewRuler?new Oi(T.overviewRuler):null,this.minimap=T.minimap?new Vi(T.minimap):null,this.glyphMarginClassName=T.glyphMarginClassName?qi(T.glyphMarginClassName):null,this.linesDecorationsClassName=T.linesDecorationsClassName?qi(T.linesDecorationsClassName):null,this.firstLineDecorationClassName=T.firstLineDecorationClassName?qi(T.firstLineDecorationClassName):null,this.marginClassName=T.marginClassName?qi(T.marginClassName):null,this.inlineClassName=T.inlineClassName?qi(T.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=T.beforeContentClassName?qi(T.beforeContentClassName):null,this.afterContentClassName=T.afterContentClassName?qi(T.afterContentClassName):null,this.after=T.after?yn.from(T.after):null,this.before=T.before?yn.from(T.before):null,this.hideInCommentTokens=(re=T.hideInCommentTokens)!==null&&re!==void 0?re:!1,this.hideInStringTokens=(Me=T.hideInStringTokens)!==null&&Me!==void 0?Me:!1}}An.EMPTY=An.register({description:"empty"});const Kn=[An.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),An.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),An.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),An.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Hn(Lt){return Lt instanceof An?Lt:An.createDynamic(Lt)}class $n extends S.JT{constructor(T){super(),this.handleBeforeFire=T,this._actual=this._register(new A.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var T;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(T=this._affectedInjectedTextLines)===null||T===void 0||T.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(T){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(T)}checkAffectedAndFire(T){this._affectsMinimap||(this._affectsMinimap=!!(T.minimap&&T.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(T.overviewRuler&&T.overviewRuler.color)),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const T={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(T)}}class ss extends S.JT{constructor(){super(),this._fastEmitter=this._register(new A.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new A.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(T=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=T;const ee=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(ee),this._slowEmitter.fire(ee)}}fire(T){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(T):this._deferredEvent=T;return}this._fastEmitter.fire(T),this._slowEmitter.fire(T)}}},47846:function(vt,be,i){"use strict";i.d(be,{U:function(){return F}});var c=i(52357);class F extends c.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},68513:function(vt,be,i){"use strict";i.d(be,{bc:function(){return N},cM:function(){return s},iE:function(){return O},pM:function(){return a},sz:function(){return r}});var c=i(30613),F=i(36669),g=i(43976),A=i(22445),S=i(48117);const $=999;class N{constructor(C,u,_,b){this.searchString=C,this.isRegex=u,this.matchCase=_,this.wordSeparators=b}parseSearchRequest(){if(this.searchString==="")return null;let C;this.isRegex?C=x(this.searchString):C=this.searchString.indexOf(`
`)>=0;let u=null;try{u=c.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:C,global:!0,unicode:!0})}catch(b){return null}if(!u)return null;let _=!this.isRegex&&!C;return _&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(_=this.matchCase),new S.Tx(u,this.wordSeparators?(0,F.u)(this.wordSeparators):null,_?this.searchString:null)}}function x(m){if(!m||m.length===0)return!1;for(let C=0,u=m.length;C<u;C++){const _=m.charCodeAt(C);if(_===10)return!0;if(_===92){if(C++,C>=u)break;const b=m.charCodeAt(C);if(b===110||b===114||b===87)return!0}}return!1}function O(m,C,u){if(!u)return new S.tk(m,null);const _=[];for(let b=0,E=C.length;b<E;b++)_[b]=C[b];return new S.tk(m,_)}class p{constructor(C){const u=[];let _=0;for(let b=0,E=C.length;b<E;b++)C.charCodeAt(b)===10&&(u[_++]=b);this._lineFeedsOffsets=u}findLineFeedCountBeforeOffset(C){const u=this._lineFeedsOffsets;let _=0,b=u.length-1;if(b===-1||C<=u[0])return 0;for(;_<b;){const E=_+((b-_)/2>>0);u[E]>=C?b=E-1:u[E+1]>=C?(_=E,b=E):_=E+1}return _+1}}class a{static findMatches(C,u,_,b,E){const D=u.parseSearchRequest();return D?D.regex.multiline?this._doFindMatchesMultiline(C,_,new r(D.wordSeparators,D.regex),b,E):this._doFindMatchesLineByLine(C,_,D,b,E):[]}static _getMultilineMatchRange(C,u,_,b,E,D){let w,I=0;b?(I=b.findLineFeedCountBeforeOffset(E),w=u+E+I):w=u+E;let M;if(b){const Y=b.findLineFeedCountBeforeOffset(E+D.length)-I;M=w+D.length+Y}else M=w+D.length;const K=C.getPositionAt(w),z=C.getPositionAt(M);return new A.e(K.lineNumber,K.column,z.lineNumber,z.column)}static _doFindMatchesMultiline(C,u,_,b,E){const D=C.getOffsetAt(u.getStartPosition()),w=C.getValueInRange(u,1),I=C.getEOL()===`\r
`?new p(w):null,M=[];let K=0,z;for(_.reset(0);z=_.next(w);)if(M[K++]=O(this._getMultilineMatchRange(C,D,w,I,z.index,z[0]),z,b),K>=E)return M;return M}static _doFindMatchesLineByLine(C,u,_,b,E){const D=[];let w=0;if(u.startLineNumber===u.endLineNumber){const M=C.getLineContent(u.startLineNumber).substring(u.startColumn-1,u.endColumn-1);return w=this._findMatchesInLine(_,M,u.startLineNumber,u.startColumn-1,w,D,b,E),D}const I=C.getLineContent(u.startLineNumber).substring(u.startColumn-1);w=this._findMatchesInLine(_,I,u.startLineNumber,u.startColumn-1,w,D,b,E);for(let M=u.startLineNumber+1;M<u.endLineNumber&&w<E;M++)w=this._findMatchesInLine(_,C.getLineContent(M),M,0,w,D,b,E);if(w<E){const M=C.getLineContent(u.endLineNumber).substring(0,u.endColumn-1);w=this._findMatchesInLine(_,M,u.endLineNumber,0,w,D,b,E)}return D}static _findMatchesInLine(C,u,_,b,E,D,w,I){const M=C.wordSeparators;if(!w&&C.simpleSearch){const Q=C.simpleSearch,Y=Q.length,H=u.length;let P=-Y;for(;(P=u.indexOf(Q,P+Y))!==-1;)if((!M||s(M,u,H,P,Y))&&(D[E++]=new S.tk(new A.e(_,P+1+b,_,P+1+Y+b),null),E>=I))return E;return E}const K=new r(C.wordSeparators,C.regex);let z;K.reset(0);do if(z=K.next(u),z&&(D[E++]=O(new A.e(_,z.index+1+b,_,z.index+1+z[0].length+b),z,w),E>=I))return E;while(z);return E}static findNextMatch(C,u,_,b){const E=u.parseSearchRequest();if(!E)return null;const D=new r(E.wordSeparators,E.regex);return E.regex.multiline?this._doFindNextMatchMultiline(C,_,D,b):this._doFindNextMatchLineByLine(C,_,D,b)}static _doFindNextMatchMultiline(C,u,_,b){const E=new g.L(u.lineNumber,1),D=C.getOffsetAt(E),w=C.getLineCount(),I=C.getValueInRange(new A.e(E.lineNumber,E.column,w,C.getLineMaxColumn(w)),1),M=C.getEOL()===`\r
`?new p(I):null;_.reset(u.column-1);const K=_.next(I);return K?O(this._getMultilineMatchRange(C,D,I,M,K.index,K[0]),K,b):u.lineNumber!==1||u.column!==1?this._doFindNextMatchMultiline(C,new g.L(1,1),_,b):null}static _doFindNextMatchLineByLine(C,u,_,b){const E=C.getLineCount(),D=u.lineNumber,w=C.getLineContent(D),I=this._findFirstMatchInLine(_,w,D,u.column,b);if(I)return I;for(let M=1;M<=E;M++){const K=(D+M-1)%E,z=C.getLineContent(K+1),Q=this._findFirstMatchInLine(_,z,K+1,1,b);if(Q)return Q}return null}static _findFirstMatchInLine(C,u,_,b,E){C.reset(b-1);const D=C.next(u);return D?O(new A.e(_,D.index+1,_,D.index+1+D[0].length),D,E):null}static findPreviousMatch(C,u,_,b){const E=u.parseSearchRequest();if(!E)return null;const D=new r(E.wordSeparators,E.regex);return E.regex.multiline?this._doFindPreviousMatchMultiline(C,_,D,b):this._doFindPreviousMatchLineByLine(C,_,D,b)}static _doFindPreviousMatchMultiline(C,u,_,b){const E=this._doFindMatchesMultiline(C,new A.e(1,1,u.lineNumber,u.column),_,b,10*$);if(E.length>0)return E[E.length-1];const D=C.getLineCount();return u.lineNumber!==D||u.column!==C.getLineMaxColumn(D)?this._doFindPreviousMatchMultiline(C,new g.L(D,C.getLineMaxColumn(D)),_,b):null}static _doFindPreviousMatchLineByLine(C,u,_,b){const E=C.getLineCount(),D=u.lineNumber,w=C.getLineContent(D).substring(0,u.column-1),I=this._findLastMatchInLine(_,w,D,b);if(I)return I;for(let M=1;M<=E;M++){const K=(E+D-M-1)%E,z=C.getLineContent(K+1),Q=this._findLastMatchInLine(_,z,K+1,b);if(Q)return Q}return null}static _findLastMatchInLine(C,u,_,b){let E=null,D;for(C.reset(0);D=C.next(u);)E=O(new A.e(_,D.index+1,_,D.index+1+D[0].length),D,b);return E}}function d(m,C,u,_,b){if(_===0)return!0;const E=C.charCodeAt(_-1);if(m.get(E)!==0||E===13||E===10)return!0;if(b>0){const D=C.charCodeAt(_);if(m.get(D)!==0)return!0}return!1}function f(m,C,u,_,b){if(_+b===u)return!0;const E=C.charCodeAt(_+b);if(m.get(E)!==0||E===13||E===10)return!0;if(b>0){const D=C.charCodeAt(_+b-1);if(m.get(D)!==0)return!0}return!1}function s(m,C,u,_,b){return d(m,C,u,_,b)&&f(m,C,u,_,b)}class r{constructor(C,u){this._wordSeparators=C,this._searchRegex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(C){this._searchRegex.lastIndex=C,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(C){const u=C.length;let _;do{if(this._prevMatchStartIndex+this._prevMatchLength===u||(_=this._searchRegex.exec(C),!_))return null;const b=_.index,E=_[0].length;if(b===this._prevMatchStartIndex&&E===this._prevMatchLength){if(E===0){c.ZH(C,u,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=b,this._prevMatchLength=E,!this._wordSeparators||s(this._wordSeparators,C,u,b,E))return _}while(_);return null}}},7903:function(vt,be,i){"use strict";i.d(be,{q:function(){return c}});function c(F,g){let A=0,S=0;const $=F.length;for(;S<$;){const N=F.charCodeAt(S);if(N===32)A++;else if(N===9)A=A-A%g+g;else break;S++}return S===$?-1:A}},6375:function(vt,be,i){"use strict";i.d(be,{p:function(){return F}});var c=i(64700);const F=(0,c.yh)("editorWorkerService")},16978:function(vt,be,i){"use strict";i.d(be,{A:function(){return p}});var c=i(41397),F=i(15463),g=i(88523),A=i(70751),S=i(64700),$=i(18166),N=i(20009),x=function(s,r,m,C){var u=arguments.length,_=u<3?r:C===null?C=Object.getOwnPropertyDescriptor(r,m):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(s,r,m,C);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(_=(u<3?b(_):u>3?b(r,m,_):b(r,m))||_);return u>3&&_&&Object.defineProperty(r,m,_),_},O=function(s,r){return function(m,C){r(m,C,s)}};const p=(0,S.yh)("ILanguageFeatureDebounceService");var a;(function(s){const r=new WeakMap;let m=0;function C(u){let _=r.get(u);return _===void 0&&(_=++m,r.set(u,_)),_}s.of=C})(a||(a={}));class d{constructor(r,m,C,u,_,b){this._logService=r,this._name=m,this._registry=C,this._default=u,this._min=_,this._max=b,this._cache=new F.z6(50,.7)}_key(r){return r.id+this._registry.all(r).reduce((m,C)=>(0,c.SP)(a.of(C),m),0)}get(r){const m=this._key(r),C=this._cache.get(m);return C?(0,g.uZ)(C.value,this._min,this._max):this.default()}update(r,m){const C=this._key(r);let u=this._cache.get(C);u||(u=new g.N(6),this._cache.set(C,u));const _=(0,g.uZ)(u.update(m),this._min,this._max);return(0,N.xn)(r.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${r.uri.toString()} is ${_}ms`),_}_overall(){const r=new g.nM;for(const[,m]of this._cache)r.update(m.value);return r.value}default(){const r=this._overall()|0||this._default;return(0,g.uZ)(r,this._min,this._max)}}let f=class{constructor(r){this._logService=r,this._data=new Map}for(r,m,C){var u,_,b;const E=(u=C==null?void 0:C.min)!==null&&u!==void 0?u:50,D=(_=C==null?void 0:C.max)!==null&&_!==void 0?_:Math.pow(E,2),w=(b=C==null?void 0:C.key)!==null&&b!==void 0?b:void 0,I=`${a.of(r)},${E}${w?","+w:""}`;let M=this._data.get(I);return M||(M=new d(this._logService,m,r,this._overallAverage()|0||E*1.5,E,D),this._data.set(I,M)),M}_overallAverage(){const r=new g.nM;for(const m of this._data.values())r.update(m.default());return r.value}};f=x([O(0,$.VZ)],f),(0,A.z)(p,f,1)},26340:function(vt,be,i){"use strict";i.d(be,{p:function(){return F}});var c=i(64700);const F=(0,c.yh)("ILanguageFeaturesService")},91680:function(vt,be,i){"use strict";i.d(be,{i:function(){return F}});var c=i(64700);const F=(0,c.yh)("markerDecorationsService")},6033:function(vt,be,i){"use strict";i.d(be,{q:function(){return F}});var c=i(64700);const F=(0,c.yh)("modelService")},58295:function(vt,be,i){"use strict";i.d(be,{S:function(){return F}});var c=i(64700);const F=(0,c.yh)("textModelService")},74616:function(vt,be,i){"use strict";i.d(be,{$:function(){return f},h:function(){return s}});var c=i(58848),F=i(901),g=i(18166),A=i(43976),S=i(22445),$=i(93976);class N{static create(u,_){return new N(u,new x(_))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(u,_){this._startLineNumber=u,this._tokens=_,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new S.e(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const _=u.startLineNumber-this._startLineNumber,b=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(_,u.startColumn-1,b,u.endColumn-1),this._updateEndLineNumber()}split(u){const _=u.startLineNumber-this._startLineNumber,b=u.endLineNumber-this._startLineNumber,[E,D,w]=this._tokens.split(_,u.startColumn-1,b,u.endColumn-1);return[new N(this._startLineNumber,E),new N(this._startLineNumber+w,D)]}applyEdit(u,_){const[b,E,D]=(0,$.Q)(_);this.acceptEdit(u,b,E,D,_.length>0?_.charCodeAt(0):0)}acceptEdit(u,_,b,E,D){this._acceptDeleteRange(u),this._acceptInsertText(new A.L(u.startLineNumber,u.startColumn),_,b,E,D),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const _=u.startLineNumber-this._startLineNumber,b=u.endLineNumber-this._startLineNumber;if(b<0){const D=b-_;this._startLineNumber-=D;return}const E=this._tokens.getMaxDeltaLine();if(!(_>=E+1)){if(_<0&&b>=E+1){this._startLineNumber=0,this._tokens.clear();return}if(_<0){const D=-_;this._startLineNumber-=D,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,b,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,_,u.startColumn-1,b,u.endColumn-1)}}_acceptInsertText(u,_,b,E,D){if(_===0&&b===0)return;const w=u.lineNumber-this._startLineNumber;if(w<0){this._startLineNumber+=_;return}const I=this._tokens.getMaxDeltaLine();w>=I+1||this._tokens.acceptInsertText(w,u.column-1,_,b,E,D)}}class x{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const _=[];for(let b=0;b<this._tokenCount;b++)_.push(`(${this._getDeltaLine(b)+u},${this._getStartCharacter(b)}-${this._getEndCharacter(b)})`);return`[${_.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const _=this._getStartCharacter(0),b=this._getDeltaLine(u-1),E=this._getEndCharacter(u-1);return new S.e(0,_+1,b,E+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let _=0,b=this._getTokenCount()-1;for(;_<b;){const E=_+Math.floor((b-_)/2),D=this._getDeltaLine(E);if(D<u)_=E+1;else if(D>u)b=E-1;else{let w=E;for(;w>_&&this._getDeltaLine(w-1)===u;)w--;let I=E;for(;I<b&&this._getDeltaLine(I+1)===u;)I++;return new O(this._tokens.subarray(4*w,4*I+4))}}return this._getDeltaLine(_)===u?new O(this._tokens.subarray(4*_,4*_+4)):null}clear(){this._tokenCount=0}removeTokens(u,_,b,E){const D=this._tokens,w=this._tokenCount;let I=0,M=!1,K=0;for(let z=0;z<w;z++){const Q=4*z,Y=D[Q],H=D[Q+1],P=D[Q+2],X=D[Q+3];if((Y>u||Y===u&&P>=_)&&(Y<b||Y===b&&H<=E))M=!0;else{if(I===0&&(K=Y),M){const q=4*I;D[q]=Y-K,D[q+1]=H,D[q+2]=P,D[q+3]=X}I++}}return this._tokenCount=I,K}split(u,_,b,E){const D=this._tokens,w=this._tokenCount,I=[],M=[];let K=I,z=0,Q=0;for(let Y=0;Y<w;Y++){const H=4*Y,P=D[H],X=D[H+1],q=D[H+2],U=D[H+3];if(P>u||P===u&&q>=_){if(P<b||P===b&&X<=E)continue;K!==M&&(K=M,z=0,Q=P)}K[z++]=P-Q,K[z++]=X,K[z++]=q,K[z++]=U}return[new x(new Uint32Array(I)),new x(new Uint32Array(M)),Q]}acceptDeleteRange(u,_,b,E,D){const w=this._tokens,I=this._tokenCount,M=E-_;let K=0,z=!1;for(let Q=0;Q<I;Q++){const Y=4*Q;let H=w[Y],P=w[Y+1],X=w[Y+2];const q=w[Y+3];if(H<_||H===_&&X<=b){K++;continue}else if(H===_&&P<b)H===E&&X>D?X-=D-b:X=b;else if(H===_&&P===b)if(H===E&&X>D)X-=D-b;else{z=!0;continue}else if(H<E||H===E&&P<D)if(H===E&&X>D)H===_?(P=b,X=P+(X-D)):(P=0,X=P+(X-D));else{z=!0;continue}else if(H>E){if(M===0&&!z){K=I;break}H-=M}else if(H===E&&P>=D)u&&H===0&&(P+=u,X+=u),H-=M,P-=D-b,X-=D-b;else throw new Error("Not possible!");const U=4*K;w[U]=H,w[U+1]=P,w[U+2]=X,w[U+3]=q,K++}this._tokenCount=K}acceptInsertText(u,_,b,E,D,w){const I=b===0&&E===1&&(w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122),M=this._tokens,K=this._tokenCount;for(let z=0;z<K;z++){const Q=4*z;let Y=M[Q],H=M[Q+1],P=M[Q+2];if(!(Y<u||Y===u&&P<_)){if(Y===u&&P===_)if(I)P+=1;else continue;else if(Y===u&&H<_&&_<P)b===0?P+=E:P=_;else{if(Y===u&&H===_&&I)continue;if(Y===u)if(Y+=b,b===0)H+=E,P+=E;else{const X=P-H;H=D+(H-_),P=H+X}else Y+=b}M[Q]=Y,M[Q+1]=H,M[Q+2]=P}}}}class O{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}var p=i(18426),a=function(C,u,_,b){var E=arguments.length,D=E<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,u,_,b);else for(var I=C.length-1;I>=0;I--)(w=C[I])&&(D=(E<3?w(D):E>3?w(u,_,D):w(u,_))||D);return E>3&&D&&Object.defineProperty(u,_,D),D},d=function(C,u){return function(_,b){u(_,b,C)}};let f=class{constructor(u,_,b,E){this._legend=u,this._themeService=_,this._languageService=b,this._logService=E,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new m}getMetadata(u,_,b){const E=this._languageService.languageIdCodec.encodeLanguageId(b),D=this._hashTable.get(u,_,E);let w;if(D)w=D.metadata,this._logService.getLevel()===g.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${u} / ${_}: foreground ${c.N.getForeground(w)}, fontStyle ${c.N.getFontStyle(w).toString(2)}`);else{let I=this._legend.tokenTypes[u];const M=[];if(I){let K=_;for(let Q=0;K>0&&Q<this._legend.tokenModifiers.length;Q++)K&1&&M.push(this._legend.tokenModifiers[Q]),K=K>>1;K>0&&this._logService.getLevel()===g.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${_.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),M.push("not-in-legend"));const z=this._themeService.getColorTheme().getTokenStyleMetadata(I,M,b);if(typeof z=="undefined")w=2147483647;else{if(w=0,typeof z.italic!="undefined"){const Q=(z.italic?1:0)<<11;w|=Q|1}if(typeof z.bold!="undefined"){const Q=(z.bold?2:0)<<11;w|=Q|2}if(typeof z.underline!="undefined"){const Q=(z.underline?4:0)<<11;w|=Q|4}if(typeof z.strikethrough!="undefined"){const Q=(z.strikethrough?8:0)<<11;w|=Q|8}if(z.foreground){const Q=z.foreground<<15;w|=Q|16}w===0&&(w=2147483647)}}else this._logService.getLevel()===g.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${u} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),w=2147483647,I="not-in-legend";this._hashTable.add(u,_,E,w),this._logService.getLevel()===g.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${u} (${I}) / ${_} (${M.join(" ")}): foreground ${c.N.getForeground(w)}, fontStyle ${c.N.getFontStyle(w).toString(2)}`)}return w}warnOverlappingSemanticTokens(u,_){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${u}, column ${_}`))}warnInvalidLengthSemanticTokens(u,_){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${u}, column ${_}`))}warnInvalidEditStart(u,_,b,E,D){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${u}, resultId: ${_}) at edit #${b}: The provided start offset ${E} is outside the previous data (length ${D}).`))}};f=a([d(1,F.XE),d(2,p.O),d(3,g.VZ)],f);function s(C,u,_){const b=C.data,E=C.data.length/5|0,D=Math.max(Math.ceil(E/1024),400),w=[];let I=0,M=1,K=0;for(;I<E;){const z=I;let Q=Math.min(z+D,E);if(Q<E){let L=Q;for(;L-1>z&&b[5*L]===0;)L--;if(L-1===z){let B=Q;for(;B+1<E&&b[5*B]===0;)B++;Q=B}else Q=L}let Y=new Uint32Array((Q-z)*4),H=0,P=0,X=0,q=0;for(;I<Q;){const L=5*I,B=b[L],j=b[L+1],G=M+B|0,y=B===0?K+j|0:j,pe=b[L+2],ye=y+pe|0,me=b[L+3],Se=b[L+4];if(ye<=y)u.warnInvalidLengthSemanticTokens(G,y+1);else if(X===G&&q>y)u.warnOverlappingSemanticTokens(G,y+1);else{const _e=u.getMetadata(me,Se,_);_e!==2147483647&&(P===0&&(P=G),Y[H]=G-P,Y[H+1]=y,Y[H+2]=ye,Y[H+3]=_e,H+=4,X=G,q=ye)}M=G,K=y,I++}H!==Y.length&&(Y=Y.subarray(0,H));const U=N.create(P,Y);w.push(U)}return w}class r{constructor(u,_,b,E){this.tokenTypeIndex=u,this.tokenModifierSet=_,this.languageId=b,this.metadata=E,this.next=null}}class m{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(u,_){for(let b=0;b<_;b++)u[b]=null}_hash2(u,_){return(u<<5)-u+_|0}_hashFunc(u,_,b){return this._hash2(this._hash2(u,_),b)%this._currentLength}get(u,_,b){const E=this._hashFunc(u,_,b);let D=this._elements[E];for(;D;){if(D.tokenTypeIndex===u&&D.tokenModifierSet===_&&D.languageId===b)return D;D=D.next}return null}add(u,_,b,E){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const D=this._elements;this._currentLengthIndex++,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength);for(const w of D){let I=w;for(;I;){const M=I.next;I.next=null,this._add(I),I=M}}}this._add(new r(u,_,b,E))}_add(u){const _=this._hashFunc(u.tokenTypeIndex,u.tokenModifierSet,u.languageId);u.next=this._elements[_],this._elements[_]=u}}m._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},25220:function(vt,be,i){"use strict";i.d(be,{s:function(){return F}});var c=i(64700);const F=(0,c.yh)("semanticTokensStylingService")},97472:function(vt,be,i){"use strict";i.d(be,{V:function(){return F},y:function(){return g}});var c=i(64700);const F=(0,c.yh)("textResourceConfigurationService"),g=(0,c.yh)("textResourcePropertiesService")},60267:function(vt,be,i){"use strict";i.d(be,{a:function(){return $}});var c=i(22445),F=i(68513),g=i(30613),A=i(44516),S=i(96605);class ${static computeUnicodeHighlights(a,d,f){const s=f?f.startLineNumber:1,r=f?f.endLineNumber:a.getLineCount(),m=new x(d),C=m.getCandidateCodePoints();let u;C==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${N(Array.from(C))}`,"g");const _=new F.sz(null,u),b=[];let E=!1,D,w=0,I=0,M=0;e:for(let K=s,z=r;K<=z;K++){const Q=a.getLineContent(K),Y=Q.length;_.reset(0);do if(D=_.next(Q),D){let H=D.index,P=D.index+D[0].length;if(H>0){const L=Q.charCodeAt(H-1);g.ZG(L)&&H--}if(P+1<Y){const L=Q.charCodeAt(P-1);g.ZG(L)&&P++}const X=Q.substring(H,P);let q=(0,S.t2)(H+1,S.Af,Q,0);q&&q.endColumn<=H+1&&(q=null);const U=m.shouldHighlightNonBasicASCII(X,q?q.word:null);if(U!==0){U===3?w++:U===2?I++:U===1?M++:(0,A.vE)(U);const L=1e3;if(b.length>=L){E=!0;break e}b.push(new c.e(K,H+1,K,P+1))}}while(D)}return{ranges:b,hasMore:E,ambiguousCharacterCount:w,invisibleCharacterCount:I,nonBasicAsciiCharacterCount:M}}static computeUnicodeHighlightReason(a,d){const f=new x(d);switch(f.shouldHighlightNonBasicASCII(a,null)){case 0:return null;case 2:return{kind:1};case 3:{const r=a.codePointAt(0),m=f.ambiguousCharacters.getPrimaryConfusable(r),C=g.ZK.getLocales().filter(u=>!g.ZK.getInstance(new Set([...d.allowedLocales,u])).isAmbiguous(r));return{kind:0,confusableWith:String.fromCodePoint(m),notAmbiguousInLocales:C}}case 1:return{kind:2}}}}function N(p,a){return`[${g.ec(p.map(f=>String.fromCodePoint(f)).join(""))}]`}class x{constructor(a){this.options=a,this.allowedCodePoints=new Set(a.allowedCodePoints),this.ambiguousCharacters=g.ZK.getInstance(new Set(a.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const a=new Set;if(this.options.invisibleCharacters)for(const d of g.vU.codePoints)O(String.fromCodePoint(d))||a.add(d);if(this.options.ambiguousCharacters)for(const d of this.ambiguousCharacters.getConfusableCodePoints())a.add(d);for(const d of this.allowedCodePoints)a.delete(d);return a}shouldHighlightNonBasicASCII(a,d){const f=a.codePointAt(0);if(this.allowedCodePoints.has(f))return 0;if(this.options.nonBasicASCII)return 1;let s=!1,r=!1;if(d)for(const m of d){const C=m.codePointAt(0),u=g.$i(m);s=s||u,!u&&!this.ambiguousCharacters.isAmbiguous(C)&&!g.vU.isInvisibleCharacter(C)&&(r=!0)}return!s&&r?0:this.options.invisibleCharacters&&!O(a)&&g.vU.isInvisibleCharacter(f)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(f)?3:0}}function O(p){return p===" "||p===`
`||p==="	"}},7631:function(vt,be,i){"use strict";i.d(be,{B8:function(){return x},Oe:function(){return F},UX:function(){return $},aq:function(){return N},iN:function(){return p},ld:function(){return S},qq:function(){return A},ug:function(){return g},xi:function(){return O}});var c=i(15779),F;(function(a){a.noSelection=c.NC("noSelection","No selection"),a.singleSelectionRange=c.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),a.singleSelection=c.NC("singleSelection","Line {0}, Column {1}"),a.multiSelectionRange=c.NC("multiSelectionRange","{0} selections ({1} characters selected)"),a.multiSelection=c.NC("multiSelection","{0} selections"),a.emergencyConfOn=c.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),a.openingDocs=c.NC("openingDocs","Now opening the Editor Accessibility documentation page."),a.readonlyDiffEditor=c.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),a.editableDiffEditor=c.NC("editableDiffEditor"," in a pane of a diff editor."),a.readonlyEditor=c.NC("readonlyEditor"," in a read-only code editor"),a.editableEditor=c.NC("editableEditor"," in a code editor"),a.changeConfigToOnMac=c.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),a.changeConfigToOnWinLinux=c.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),a.auto_on=c.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),a.auto_off=c.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),a.tabFocusModeOnMsg=c.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),a.tabFocusModeOnMsgNoKb=c.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),a.tabFocusModeOffMsg=c.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),a.tabFocusModeOffMsgNoKb=c.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),a.openDocMac=c.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),a.openDocWinLinux=c.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),a.outroMsg=c.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),a.showAccessibilityHelpAction=c.NC("showAccessibilityHelpAction","Show Accessibility Help")})(F||(F={}));var g;(function(a){a.inspectTokensAction=c.NC("inspectTokens","Developer: Inspect Tokens")})(g||(g={}));var A;(function(a){a.gotoLineActionLabel=c.NC("gotoLineActionLabel","Go to Line/Column...")})(A||(A={}));var S;(function(a){a.helpQuickAccessActionLabel=c.NC("helpQuickAccess","Show all Quick Access Providers")})(S||(S={}));var $;(function(a){a.quickCommandActionLabel=c.NC("quickCommandActionLabel","Command Palette"),a.quickCommandHelp=c.NC("quickCommandActionHelp","Show And Run Commands")})($||($={}));var N;(function(a){a.quickOutlineActionLabel=c.NC("quickOutlineActionLabel","Go to Symbol..."),a.quickOutlineByCategoryActionLabel=c.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(N||(N={}));var x;(function(a){a.editorViewAccessibleLabel=c.NC("editorViewAccessibleLabel","Editor content"),a.accessibilityHelpMessage=c.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(x||(x={}));var O;(function(a){a.toggleHighContrast=c.NC("toggleHighContrast","Toggle High Contrast Theme")})(O||(O={}));var p;(function(a){a.bulkEditServiceSummary=c.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(p||(p={}))},42782:function(vt,be,i){"use strict";i.d(be,{E$:function(){return I},F5:function(){return D},Ij:function(){return $},In:function(){return L},Lu:function(){return z},MG:function(){return w},MY:function(){return p},OI:function(){return j},RM:function(){return m},VD:function(){return _},Vi:function(){return x},WW:function(){return X},ZL:function(){return b},_x:function(){return O},a$:function(){return P},a7:function(){return g},ao:function(){return c},bw:function(){return u},cR:function(){return q},cm:function(){return A},d2:function(){return B},eB:function(){return E},g4:function(){return Y},g_:function(){return H},gl:function(){return C},gm:function(){return f},jl:function(){return s},np:function(){return F},py:function(){return K},r3:function(){return N},r4:function(){return U},rf:function(){return a},sh:function(){return M},up:function(){return G},vQ:function(){return Q},wT:function(){return d},wU:function(){return r},we:function(){return S}});var c;(function(y){y[y.Unknown=0]="Unknown",y[y.Disabled=1]="Disabled",y[y.Enabled=2]="Enabled"})(c||(c={}));var F;(function(y){y[y.Invoke=1]="Invoke",y[y.Auto=2]="Auto"})(F||(F={}));var g;(function(y){y[y.None=0]="None",y[y.KeepWhitespace=1]="KeepWhitespace",y[y.InsertAsSnippet=4]="InsertAsSnippet"})(g||(g={}));var A;(function(y){y[y.Method=0]="Method",y[y.Function=1]="Function",y[y.Constructor=2]="Constructor",y[y.Field=3]="Field",y[y.Variable=4]="Variable",y[y.Class=5]="Class",y[y.Struct=6]="Struct",y[y.Interface=7]="Interface",y[y.Module=8]="Module",y[y.Property=9]="Property",y[y.Event=10]="Event",y[y.Operator=11]="Operator",y[y.Unit=12]="Unit",y[y.Value=13]="Value",y[y.Constant=14]="Constant",y[y.Enum=15]="Enum",y[y.EnumMember=16]="EnumMember",y[y.Keyword=17]="Keyword",y[y.Text=18]="Text",y[y.Color=19]="Color",y[y.File=20]="File",y[y.Reference=21]="Reference",y[y.Customcolor=22]="Customcolor",y[y.Folder=23]="Folder",y[y.TypeParameter=24]="TypeParameter",y[y.User=25]="User",y[y.Issue=26]="Issue",y[y.Snippet=27]="Snippet"})(A||(A={}));var S;(function(y){y[y.Deprecated=1]="Deprecated"})(S||(S={}));var $;(function(y){y[y.Invoke=0]="Invoke",y[y.TriggerCharacter=1]="TriggerCharacter",y[y.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})($||($={}));var N;(function(y){y[y.EXACT=0]="EXACT",y[y.ABOVE=1]="ABOVE",y[y.BELOW=2]="BELOW"})(N||(N={}));var x;(function(y){y[y.NotSet=0]="NotSet",y[y.ContentFlush=1]="ContentFlush",y[y.RecoverFromMarkers=2]="RecoverFromMarkers",y[y.Explicit=3]="Explicit",y[y.Paste=4]="Paste",y[y.Undo=5]="Undo",y[y.Redo=6]="Redo"})(x||(x={}));var O;(function(y){y[y.LF=1]="LF",y[y.CRLF=2]="CRLF"})(O||(O={}));var p;(function(y){y[y.Text=0]="Text",y[y.Read=1]="Read",y[y.Write=2]="Write"})(p||(p={}));var a;(function(y){y[y.None=0]="None",y[y.Keep=1]="Keep",y[y.Brackets=2]="Brackets",y[y.Advanced=3]="Advanced",y[y.Full=4]="Full"})(a||(a={}));var d;(function(y){y[y.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",y[y.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",y[y.accessibilitySupport=2]="accessibilitySupport",y[y.accessibilityPageSize=3]="accessibilityPageSize",y[y.ariaLabel=4]="ariaLabel",y[y.autoClosingBrackets=5]="autoClosingBrackets",y[y.autoClosingDelete=6]="autoClosingDelete",y[y.autoClosingOvertype=7]="autoClosingOvertype",y[y.autoClosingQuotes=8]="autoClosingQuotes",y[y.autoIndent=9]="autoIndent",y[y.automaticLayout=10]="automaticLayout",y[y.autoSurround=11]="autoSurround",y[y.bracketPairColorization=12]="bracketPairColorization",y[y.guides=13]="guides",y[y.codeLens=14]="codeLens",y[y.codeLensFontFamily=15]="codeLensFontFamily",y[y.codeLensFontSize=16]="codeLensFontSize",y[y.colorDecorators=17]="colorDecorators",y[y.colorDecoratorsLimit=18]="colorDecoratorsLimit",y[y.columnSelection=19]="columnSelection",y[y.comments=20]="comments",y[y.contextmenu=21]="contextmenu",y[y.copyWithSyntaxHighlighting=22]="copyWithSyntaxHighlighting",y[y.cursorBlinking=23]="cursorBlinking",y[y.cursorSmoothCaretAnimation=24]="cursorSmoothCaretAnimation",y[y.cursorStyle=25]="cursorStyle",y[y.cursorSurroundingLines=26]="cursorSurroundingLines",y[y.cursorSurroundingLinesStyle=27]="cursorSurroundingLinesStyle",y[y.cursorWidth=28]="cursorWidth",y[y.disableLayerHinting=29]="disableLayerHinting",y[y.disableMonospaceOptimizations=30]="disableMonospaceOptimizations",y[y.domReadOnly=31]="domReadOnly",y[y.dragAndDrop=32]="dragAndDrop",y[y.dropIntoEditor=33]="dropIntoEditor",y[y.emptySelectionClipboard=34]="emptySelectionClipboard",y[y.experimentalWhitespaceRendering=35]="experimentalWhitespaceRendering",y[y.extraEditorClassName=36]="extraEditorClassName",y[y.fastScrollSensitivity=37]="fastScrollSensitivity",y[y.find=38]="find",y[y.fixedOverflowWidgets=39]="fixedOverflowWidgets",y[y.folding=40]="folding",y[y.foldingStrategy=41]="foldingStrategy",y[y.foldingHighlight=42]="foldingHighlight",y[y.foldingImportsByDefault=43]="foldingImportsByDefault",y[y.foldingMaximumRegions=44]="foldingMaximumRegions",y[y.unfoldOnClickAfterEndOfLine=45]="unfoldOnClickAfterEndOfLine",y[y.fontFamily=46]="fontFamily",y[y.fontInfo=47]="fontInfo",y[y.fontLigatures=48]="fontLigatures",y[y.fontSize=49]="fontSize",y[y.fontWeight=50]="fontWeight",y[y.fontVariations=51]="fontVariations",y[y.formatOnPaste=52]="formatOnPaste",y[y.formatOnType=53]="formatOnType",y[y.glyphMargin=54]="glyphMargin",y[y.gotoLocation=55]="gotoLocation",y[y.hideCursorInOverviewRuler=56]="hideCursorInOverviewRuler",y[y.hover=57]="hover",y[y.inDiffEditor=58]="inDiffEditor",y[y.inlineSuggest=59]="inlineSuggest",y[y.letterSpacing=60]="letterSpacing",y[y.lightbulb=61]="lightbulb",y[y.lineDecorationsWidth=62]="lineDecorationsWidth",y[y.lineHeight=63]="lineHeight",y[y.lineNumbers=64]="lineNumbers",y[y.lineNumbersMinChars=65]="lineNumbersMinChars",y[y.linkedEditing=66]="linkedEditing",y[y.links=67]="links",y[y.matchBrackets=68]="matchBrackets",y[y.minimap=69]="minimap",y[y.mouseStyle=70]="mouseStyle",y[y.mouseWheelScrollSensitivity=71]="mouseWheelScrollSensitivity",y[y.mouseWheelZoom=72]="mouseWheelZoom",y[y.multiCursorMergeOverlapping=73]="multiCursorMergeOverlapping",y[y.multiCursorModifier=74]="multiCursorModifier",y[y.multiCursorPaste=75]="multiCursorPaste",y[y.multiCursorLimit=76]="multiCursorLimit",y[y.occurrencesHighlight=77]="occurrencesHighlight",y[y.overviewRulerBorder=78]="overviewRulerBorder",y[y.overviewRulerLanes=79]="overviewRulerLanes",y[y.padding=80]="padding",y[y.parameterHints=81]="parameterHints",y[y.peekWidgetDefaultFocus=82]="peekWidgetDefaultFocus",y[y.definitionLinkOpensInPeek=83]="definitionLinkOpensInPeek",y[y.quickSuggestions=84]="quickSuggestions",y[y.quickSuggestionsDelay=85]="quickSuggestionsDelay",y[y.readOnly=86]="readOnly",y[y.renameOnType=87]="renameOnType",y[y.renderControlCharacters=88]="renderControlCharacters",y[y.renderFinalNewline=89]="renderFinalNewline",y[y.renderLineHighlight=90]="renderLineHighlight",y[y.renderLineHighlightOnlyWhenFocus=91]="renderLineHighlightOnlyWhenFocus",y[y.renderValidationDecorations=92]="renderValidationDecorations",y[y.renderWhitespace=93]="renderWhitespace",y[y.revealHorizontalRightPadding=94]="revealHorizontalRightPadding",y[y.roundedSelection=95]="roundedSelection",y[y.rulers=96]="rulers",y[y.scrollbar=97]="scrollbar",y[y.scrollBeyondLastColumn=98]="scrollBeyondLastColumn",y[y.scrollBeyondLastLine=99]="scrollBeyondLastLine",y[y.scrollPredominantAxis=100]="scrollPredominantAxis",y[y.selectionClipboard=101]="selectionClipboard",y[y.selectionHighlight=102]="selectionHighlight",y[y.selectOnLineNumbers=103]="selectOnLineNumbers",y[y.showFoldingControls=104]="showFoldingControls",y[y.showUnused=105]="showUnused",y[y.snippetSuggestions=106]="snippetSuggestions",y[y.smartSelect=107]="smartSelect",y[y.smoothScrolling=108]="smoothScrolling",y[y.stickyScroll=109]="stickyScroll",y[y.stickyTabStops=110]="stickyTabStops",y[y.stopRenderingLineAfter=111]="stopRenderingLineAfter",y[y.suggest=112]="suggest",y[y.suggestFontSize=113]="suggestFontSize",y[y.suggestLineHeight=114]="suggestLineHeight",y[y.suggestOnTriggerCharacters=115]="suggestOnTriggerCharacters",y[y.suggestSelection=116]="suggestSelection",y[y.tabCompletion=117]="tabCompletion",y[y.tabIndex=118]="tabIndex",y[y.unicodeHighlighting=119]="unicodeHighlighting",y[y.unusualLineTerminators=120]="unusualLineTerminators",y[y.useShadowDOM=121]="useShadowDOM",y[y.useTabStops=122]="useTabStops",y[y.wordBreak=123]="wordBreak",y[y.wordSeparators=124]="wordSeparators",y[y.wordWrap=125]="wordWrap",y[y.wordWrapBreakAfterCharacters=126]="wordWrapBreakAfterCharacters",y[y.wordWrapBreakBeforeCharacters=127]="wordWrapBreakBeforeCharacters",y[y.wordWrapColumn=128]="wordWrapColumn",y[y.wordWrapOverride1=129]="wordWrapOverride1",y[y.wordWrapOverride2=130]="wordWrapOverride2",y[y.wrappingIndent=131]="wrappingIndent",y[y.wrappingStrategy=132]="wrappingStrategy",y[y.showDeprecated=133]="showDeprecated",y[y.inlayHints=134]="inlayHints",y[y.editorClassName=135]="editorClassName",y[y.pixelRatio=136]="pixelRatio",y[y.tabFocusMode=137]="tabFocusMode",y[y.layoutInfo=138]="layoutInfo",y[y.wrappingInfo=139]="wrappingInfo"})(d||(d={}));var f;(function(y){y[y.TextDefined=0]="TextDefined",y[y.LF=1]="LF",y[y.CRLF=2]="CRLF"})(f||(f={}));var s;(function(y){y[y.LF=0]="LF",y[y.CRLF=1]="CRLF"})(s||(s={}));var r;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(r||(r={}));var m;(function(y){y[y.Both=0]="Both",y[y.Right=1]="Right",y[y.Left=2]="Left",y[y.None=3]="None"})(m||(m={}));var C;(function(y){y[y.Type=1]="Type",y[y.Parameter=2]="Parameter"})(C||(C={}));var u;(function(y){y[y.Automatic=0]="Automatic",y[y.Explicit=1]="Explicit"})(u||(u={}));var _;(function(y){y[y.DependsOnKbLayout=-1]="DependsOnKbLayout",y[y.Unknown=0]="Unknown",y[y.Backspace=1]="Backspace",y[y.Tab=2]="Tab",y[y.Enter=3]="Enter",y[y.Shift=4]="Shift",y[y.Ctrl=5]="Ctrl",y[y.Alt=6]="Alt",y[y.PauseBreak=7]="PauseBreak",y[y.CapsLock=8]="CapsLock",y[y.Escape=9]="Escape",y[y.Space=10]="Space",y[y.PageUp=11]="PageUp",y[y.PageDown=12]="PageDown",y[y.End=13]="End",y[y.Home=14]="Home",y[y.LeftArrow=15]="LeftArrow",y[y.UpArrow=16]="UpArrow",y[y.RightArrow=17]="RightArrow",y[y.DownArrow=18]="DownArrow",y[y.Insert=19]="Insert",y[y.Delete=20]="Delete",y[y.Digit0=21]="Digit0",y[y.Digit1=22]="Digit1",y[y.Digit2=23]="Digit2",y[y.Digit3=24]="Digit3",y[y.Digit4=25]="Digit4",y[y.Digit5=26]="Digit5",y[y.Digit6=27]="Digit6",y[y.Digit7=28]="Digit7",y[y.Digit8=29]="Digit8",y[y.Digit9=30]="Digit9",y[y.KeyA=31]="KeyA",y[y.KeyB=32]="KeyB",y[y.KeyC=33]="KeyC",y[y.KeyD=34]="KeyD",y[y.KeyE=35]="KeyE",y[y.KeyF=36]="KeyF",y[y.KeyG=37]="KeyG",y[y.KeyH=38]="KeyH",y[y.KeyI=39]="KeyI",y[y.KeyJ=40]="KeyJ",y[y.KeyK=41]="KeyK",y[y.KeyL=42]="KeyL",y[y.KeyM=43]="KeyM",y[y.KeyN=44]="KeyN",y[y.KeyO=45]="KeyO",y[y.KeyP=46]="KeyP",y[y.KeyQ=47]="KeyQ",y[y.KeyR=48]="KeyR",y[y.KeyS=49]="KeyS",y[y.KeyT=50]="KeyT",y[y.KeyU=51]="KeyU",y[y.KeyV=52]="KeyV",y[y.KeyW=53]="KeyW",y[y.KeyX=54]="KeyX",y[y.KeyY=55]="KeyY",y[y.KeyZ=56]="KeyZ",y[y.Meta=57]="Meta",y[y.ContextMenu=58]="ContextMenu",y[y.F1=59]="F1",y[y.F2=60]="F2",y[y.F3=61]="F3",y[y.F4=62]="F4",y[y.F5=63]="F5",y[y.F6=64]="F6",y[y.F7=65]="F7",y[y.F8=66]="F8",y[y.F9=67]="F9",y[y.F10=68]="F10",y[y.F11=69]="F11",y[y.F12=70]="F12",y[y.F13=71]="F13",y[y.F14=72]="F14",y[y.F15=73]="F15",y[y.F16=74]="F16",y[y.F17=75]="F17",y[y.F18=76]="F18",y[y.F19=77]="F19",y[y.NumLock=78]="NumLock",y[y.ScrollLock=79]="ScrollLock",y[y.Semicolon=80]="Semicolon",y[y.Equal=81]="Equal",y[y.Comma=82]="Comma",y[y.Minus=83]="Minus",y[y.Period=84]="Period",y[y.Slash=85]="Slash",y[y.Backquote=86]="Backquote",y[y.BracketLeft=87]="BracketLeft",y[y.Backslash=88]="Backslash",y[y.BracketRight=89]="BracketRight",y[y.Quote=90]="Quote",y[y.OEM_8=91]="OEM_8",y[y.IntlBackslash=92]="IntlBackslash",y[y.Numpad0=93]="Numpad0",y[y.Numpad1=94]="Numpad1",y[y.Numpad2=95]="Numpad2",y[y.Numpad3=96]="Numpad3",y[y.Numpad4=97]="Numpad4",y[y.Numpad5=98]="Numpad5",y[y.Numpad6=99]="Numpad6",y[y.Numpad7=100]="Numpad7",y[y.Numpad8=101]="Numpad8",y[y.Numpad9=102]="Numpad9",y[y.NumpadMultiply=103]="NumpadMultiply",y[y.NumpadAdd=104]="NumpadAdd",y[y.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",y[y.NumpadSubtract=106]="NumpadSubtract",y[y.NumpadDecimal=107]="NumpadDecimal",y[y.NumpadDivide=108]="NumpadDivide",y[y.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",y[y.ABNT_C1=110]="ABNT_C1",y[y.ABNT_C2=111]="ABNT_C2",y[y.AudioVolumeMute=112]="AudioVolumeMute",y[y.AudioVolumeUp=113]="AudioVolumeUp",y[y.AudioVolumeDown=114]="AudioVolumeDown",y[y.BrowserSearch=115]="BrowserSearch",y[y.BrowserHome=116]="BrowserHome",y[y.BrowserBack=117]="BrowserBack",y[y.BrowserForward=118]="BrowserForward",y[y.MediaTrackNext=119]="MediaTrackNext",y[y.MediaTrackPrevious=120]="MediaTrackPrevious",y[y.MediaStop=121]="MediaStop",y[y.MediaPlayPause=122]="MediaPlayPause",y[y.LaunchMediaPlayer=123]="LaunchMediaPlayer",y[y.LaunchMail=124]="LaunchMail",y[y.LaunchApp2=125]="LaunchApp2",y[y.Clear=126]="Clear",y[y.MAX_VALUE=127]="MAX_VALUE"})(_||(_={}));var b;(function(y){y[y.Hint=1]="Hint",y[y.Info=2]="Info",y[y.Warning=4]="Warning",y[y.Error=8]="Error"})(b||(b={}));var E;(function(y){y[y.Unnecessary=1]="Unnecessary",y[y.Deprecated=2]="Deprecated"})(E||(E={}));var D;(function(y){y[y.Inline=1]="Inline",y[y.Gutter=2]="Gutter"})(D||(D={}));var w;(function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.TEXTAREA=1]="TEXTAREA",y[y.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",y[y.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",y[y.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",y[y.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",y[y.CONTENT_TEXT=6]="CONTENT_TEXT",y[y.CONTENT_EMPTY=7]="CONTENT_EMPTY",y[y.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",y[y.CONTENT_WIDGET=9]="CONTENT_WIDGET",y[y.OVERVIEW_RULER=10]="OVERVIEW_RULER",y[y.SCROLLBAR=11]="SCROLLBAR",y[y.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",y[y.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(w||(w={}));var I;(function(y){y[y.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",y[y.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",y[y.TOP_CENTER=2]="TOP_CENTER"})(I||(I={}));var M;(function(y){y[y.Left=1]="Left",y[y.Center=2]="Center",y[y.Right=4]="Right",y[y.Full=7]="Full"})(M||(M={}));var K;(function(y){y[y.Left=0]="Left",y[y.Right=1]="Right",y[y.None=2]="None",y[y.LeftOfInjectedText=3]="LeftOfInjectedText",y[y.RightOfInjectedText=4]="RightOfInjectedText"})(K||(K={}));var z;(function(y){y[y.Off=0]="Off",y[y.On=1]="On",y[y.Relative=2]="Relative",y[y.Interval=3]="Interval",y[y.Custom=4]="Custom"})(z||(z={}));var Q;(function(y){y[y.None=0]="None",y[y.Text=1]="Text",y[y.Blocks=2]="Blocks"})(Q||(Q={}));var Y;(function(y){y[y.Smooth=0]="Smooth",y[y.Immediate=1]="Immediate"})(Y||(Y={}));var H;(function(y){y[y.Auto=1]="Auto",y[y.Hidden=2]="Hidden",y[y.Visible=3]="Visible"})(H||(H={}));var P;(function(y){y[y.LTR=0]="LTR",y[y.RTL=1]="RTL"})(P||(P={}));var X;(function(y){y[y.Invoke=1]="Invoke",y[y.TriggerCharacter=2]="TriggerCharacter",y[y.ContentChange=3]="ContentChange"})(X||(X={}));var q;(function(y){y[y.File=0]="File",y[y.Module=1]="Module",y[y.Namespace=2]="Namespace",y[y.Package=3]="Package",y[y.Class=4]="Class",y[y.Method=5]="Method",y[y.Property=6]="Property",y[y.Field=7]="Field",y[y.Constructor=8]="Constructor",y[y.Enum=9]="Enum",y[y.Interface=10]="Interface",y[y.Function=11]="Function",y[y.Variable=12]="Variable",y[y.Constant=13]="Constant",y[y.String=14]="String",y[y.Number=15]="Number",y[y.Boolean=16]="Boolean",y[y.Array=17]="Array",y[y.Object=18]="Object",y[y.Key=19]="Key",y[y.Null=20]="Null",y[y.EnumMember=21]="EnumMember",y[y.Struct=22]="Struct",y[y.Event=23]="Event",y[y.Operator=24]="Operator",y[y.TypeParameter=25]="TypeParameter"})(q||(q={}));var U;(function(y){y[y.Deprecated=1]="Deprecated"})(U||(U={}));var L;(function(y){y[y.Hidden=0]="Hidden",y[y.Blink=1]="Blink",y[y.Smooth=2]="Smooth",y[y.Phase=3]="Phase",y[y.Expand=4]="Expand",y[y.Solid=5]="Solid"})(L||(L={}));var B;(function(y){y[y.Line=1]="Line",y[y.Block=2]="Block",y[y.Underline=3]="Underline",y[y.LineThin=4]="LineThin",y[y.BlockOutline=5]="BlockOutline",y[y.UnderlineThin=6]="UnderlineThin"})(B||(B={}));var j;(function(y){y[y.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",y[y.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",y[y.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",y[y.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(j||(j={}));var G;(function(y){y[y.None=0]="None",y[y.Same=1]="Same",y[y.Indent=2]="Indent",y[y.DeepIndent=3]="DeepIndent"})(G||(G={}))},60667:function(vt,be,i){"use strict";i.d(be,{CZ:function(){return $},D8:function(){return x},Jx:function(){return c},Tx:function(){return S},dQ:function(){return N},fV:function(){return O},gk:function(){return F},lN:function(){return A},rU:function(){return g}});class c{constructor(){this.changeType=1}}class F{static applyInjectedText(a,d){if(!d||d.length===0)return a;let f="",s=0;for(const r of d)f+=a.substring(s,r.column-1),s=r.column-1,f+=r.options.content;return f+=a.substring(s),f}static fromDecorations(a){const d=[];for(const f of a)f.options.before&&f.options.before.content.length>0&&d.push(new F(f.ownerId,f.range.startLineNumber,f.range.startColumn,f.options.before,0)),f.options.after&&f.options.after.content.length>0&&d.push(new F(f.ownerId,f.range.endLineNumber,f.range.endColumn,f.options.after,1));return d.sort((f,s)=>f.lineNumber===s.lineNumber?f.column===s.column?f.order-s.order:f.column-s.column:f.lineNumber-s.lineNumber),d}constructor(a,d,f,s,r){this.ownerId=a,this.lineNumber=d,this.column=f,this.options=s,this.order=r}}class g{constructor(a,d,f){this.changeType=2,this.lineNumber=a,this.detail=d,this.injectedText=f}}class A{constructor(a,d){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=d}}class S{constructor(a,d,f,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=a,this.toLineNumber=d,this.detail=f}}class ${constructor(){this.changeType=5}}class N{constructor(a,d,f,s){this.changes=a,this.versionId=d,this.isUndoing=f,this.isRedoing=s,this.resultingSelection=null}containsEvent(a){for(let d=0,f=this.changes.length;d<f;d++)if(this.changes[d].changeType===a)return!0;return!1}static merge(a,d){const f=[].concat(a.changes).concat(d.changes),s=d.versionId,r=a.isUndoing||d.isUndoing,m=a.isRedoing||d.isRedoing;return new N(f,s,r,m)}}class x{constructor(a){this.changes=a}}class O{constructor(a,d){this.rawContentChangedEvent=a,this.contentChangedEvent=d}merge(a){const d=N.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),f=O._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new O(d,f)}static _mergeChangeEvents(a,d){const f=[].concat(a.changes).concat(d.changes),s=d.eol,r=d.versionId,m=a.isUndoing||d.isUndoing,C=a.isRedoing||d.isRedoing,u=a.isFlush||d.isFlush;return{changes:f,eol:s,versionId:r,isUndoing:m,isRedoing:C,isFlush:u}}}},45331:function(vt,be,i){"use strict";i.d(be,{UO:function(){return F},s6:function(){return c},vW:function(){return g}});var c;(function(A){A[A.Disabled=0]="Disabled",A[A.EnabledForActive=1]="EnabledForActive",A[A.Enabled=2]="Enabled"})(c||(c={}));class F{constructor(S,$,N,x,O,p){if(this.visibleColumn=S,this.column=$,this.className=N,this.horizontalLine=x,this.forWrappedLinesAfterColumn=O,this.forWrappedLinesBeforeOrAtColumn=p,S!==-1==($!==-1))throw new Error}}class g{constructor(S,$){this.top=S,this.endColumn=$}}},28273:function(vt,be,i){"use strict";i.d(be,{A:function(){return F}});var c=i(58848);class F{static createEmpty(S,$){const N=F.defaultTokenMetadata,x=new Uint32Array(2);return x[0]=S.length,x[1]=N,new F(x,S,$)}constructor(S,$,N){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=N}equals(S){return S instanceof F?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,$,N){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const x=$<<1,O=x+(N<<1);for(let p=x;p<O;p++)if(this._tokens[p]!==S._tokens[p])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const $=this._tokens[(S<<1)+1],N=c.N.getLanguageId($);return this._languageIdCodec.decodeLanguageId(N)}getStandardTokenType(S){const $=this._tokens[(S<<1)+1];return c.N.getTokenType($)}getForeground(S){const $=this._tokens[(S<<1)+1];return c.N.getForeground($)}getClassName(S){const $=this._tokens[(S<<1)+1];return c.N.getClassNameFromMetadata($)}getInlineStyle(S,$){const N=this._tokens[(S<<1)+1];return c.N.getInlineStyleFromMetadata(N,$)}getPresentation(S){const $=this._tokens[(S<<1)+1];return c.N.getPresentationFromMetadata($)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return F.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,$,N){return new g(this,S,$,N)}static convertToEndOffset(S,$){const x=(S.length>>>1)-1;for(let O=0;O<x;O++)S[O<<1]=S[O+1<<1];S[x<<1]=$}static findIndexInTokensArray(S,$){if(S.length<=2)return 0;let N=0,x=(S.length>>>1)-1;for(;N<x;){const O=N+Math.floor((x-N)/2),p=S[O<<1];if(p===$)return O+1;p<$?N=O+1:p>$&&(x=O)}return N}withInserted(S){if(S.length===0)return this;let $=0,N=0,x="";const O=new Array;let p=0;for(;;){const a=$<this._tokensCount?this._tokens[$<<1]:-1,d=N<S.length?S[N]:null;if(a!==-1&&(d===null||a<=d.offset)){x+=this._text.substring(p,a);const f=this._tokens[($<<1)+1];O.push(x.length,f),$++,p=a}else if(d){if(d.offset>p){x+=this._text.substring(p,d.offset);const f=this._tokens[($<<1)+1];O.push(x.length,f),p=d.offset}x+=d.text,O.push(x.length,d.tokenMetadata),N++}else break}return new F(new Uint32Array(O),x,this._languageIdCodec)}}F.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class g{constructor(S,$,N,x){this._source=S,this._startOffset=$,this._endOffset=N,this._deltaOffset=x,this._firstTokenIndex=S.findTokenIndexAtOffset($),this._tokensCount=0;for(let O=this._firstTokenIndex,p=S.getCount();O<p&&!(S.getStartOffset(O)>=N);O++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof g?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const $=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,$){return this._source.getInlineStyle(this._firstTokenIndex+S,$)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},47004:function(vt,be,i){"use strict";i.d(be,{Kp:function(){return F},k:function(){return S}});var c=i(30613);class F{constructor(N,x,O,p){this.startColumn=N,this.endColumn=x,this.className=O,this.type=p,this._lineDecorationBrand=void 0}static _equals(N,x){return N.startColumn===x.startColumn&&N.endColumn===x.endColumn&&N.className===x.className&&N.type===x.type}static equalsArr(N,x){const O=N.length,p=x.length;if(O!==p)return!1;for(let a=0;a<O;a++)if(!F._equals(N[a],x[a]))return!1;return!0}static extractWrapped(N,x,O){if(N.length===0)return N;const p=x+1,a=O+1,d=O-x,f=[];let s=0;for(const r of N)r.endColumn<=p||r.startColumn>=a||(f[s++]=new F(Math.max(1,r.startColumn-p+1),Math.min(d+1,r.endColumn-p+1),r.className,r.type));return f}static filter(N,x,O,p){if(N.length===0)return[];const a=[];let d=0;for(let f=0,s=N.length;f<s;f++){const r=N[f],m=r.range;if(m.endLineNumber<x||m.startLineNumber>x||m.isEmpty()&&(r.type===0||r.type===3))continue;const C=m.startLineNumber===x?m.startColumn:O,u=m.endLineNumber===x?m.endColumn:p;a[d++]=new F(C,u,r.inlineClassName,r.type)}return a}static _typeCompare(N,x){const O=[2,0,1,3];return O[N]-O[x]}static compare(N,x){if(N.startColumn!==x.startColumn)return N.startColumn-x.startColumn;if(N.endColumn!==x.endColumn)return N.endColumn-x.endColumn;const O=F._typeCompare(N.type,x.type);return O!==0?O:N.className!==x.className?N.className<x.className?-1:1:0}}class g{constructor(N,x,O,p){this.startOffset=N,this.endOffset=x,this.className=O,this.metadata=p}}class A{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(N){let x=0;for(let O=0,p=N.length;O<p;O++)x|=N[O];return x}consumeLowerThan(N,x,O){for(;this.count>0&&this.stopOffsets[0]<N;){let p=0;for(;p+1<this.count&&this.stopOffsets[p]===this.stopOffsets[p+1];)p++;O.push(new g(x,this.stopOffsets[p],this.classNames.join(" "),A._metadata(this.metadata))),x=this.stopOffsets[p]+1,this.stopOffsets.splice(0,p+1),this.classNames.splice(0,p+1),this.metadata.splice(0,p+1),this.count-=p+1}return this.count>0&&x<N&&(O.push(new g(x,N-1,this.classNames.join(" "),A._metadata(this.metadata))),x=N),x}insert(N,x,O){if(this.count===0||this.stopOffsets[this.count-1]<=N)this.stopOffsets.push(N),this.classNames.push(x),this.metadata.push(O);else for(let p=0;p<this.count;p++)if(this.stopOffsets[p]>=N){this.stopOffsets.splice(p,0,N),this.classNames.splice(p,0,x),this.metadata.splice(p,0,O);break}this.count++}}class S{static normalize(N,x){if(x.length===0)return[];const O=[],p=new A;let a=0;for(let d=0,f=x.length;d<f;d++){const s=x[d];let r=s.startColumn,m=s.endColumn;const C=s.className,u=s.type===1?2:s.type===2?4:0;if(r>1){const E=N.charCodeAt(r-2);c.ZG(E)&&r--}if(m>1){const E=N.charCodeAt(m-2);c.ZG(E)&&m--}const _=r-1,b=m-2;a=p.consumeLowerThan(_,a,O),p.count===0&&(a=_),p.insert(b,C,u)}return p.consumeLowerThan(1073741824,a,O),O}}},8101:function(vt,be,i){"use strict";i.d(be,{Nd:function(){return x},zG:function(){return $},IJ:function(){return N},d1:function(){return a},tF:function(){return f}});var c=i(15779),F=i(30613),g=i(82336),A=i(47004);class S{constructor(K,z,Q,Y){this.endIndex=K,this.type=z,this.metadata=Q,this.containsRTL=Y,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class ${constructor(K,z){this.startOffset=K,this.endOffset=z}equals(K){return this.startOffset===K.startOffset&&this.endOffset===K.endOffset}}class N{constructor(K,z,Q,Y,H,P,X,q,U,L,B,j,G,y,pe,ye,me,Se,_e){this.useMonospaceOptimizations=K,this.canUseHalfwidthRightwardsArrow=z,this.lineContent=Q,this.continuesWithWrappedLine=Y,this.isBasicASCII=H,this.containsRTL=P,this.fauxIndentLength=X,this.lineTokens=q,this.lineDecorations=U.sort(A.Kp.compare),this.tabSize=L,this.startVisibleColumn=B,this.spaceWidth=j,this.stopRenderingLineAfter=pe,this.renderWhitespace=ye==="all"?4:ye==="boundary"?1:ye==="selection"?2:ye==="trailing"?3:0,this.renderControlCharacters=me,this.fontLigatures=Se,this.selectionsOnLine=_e&&_e.sort((se,Re)=>se.startOffset<Re.startOffset?-1:1);const he=Math.abs(y-j),le=Math.abs(G-j);he<le?(this.renderSpaceWidth=y,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=G,this.renderSpaceCharCode=183)}sameSelection(K){if(this.selectionsOnLine===null)return K===null;if(K===null||K.length!==this.selectionsOnLine.length)return!1;for(let z=0;z<this.selectionsOnLine.length;z++)if(!this.selectionsOnLine[z].equals(K[z]))return!1;return!0}equals(K){return this.useMonospaceOptimizations===K.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===K.canUseHalfwidthRightwardsArrow&&this.lineContent===K.lineContent&&this.continuesWithWrappedLine===K.continuesWithWrappedLine&&this.isBasicASCII===K.isBasicASCII&&this.containsRTL===K.containsRTL&&this.fauxIndentLength===K.fauxIndentLength&&this.tabSize===K.tabSize&&this.startVisibleColumn===K.startVisibleColumn&&this.spaceWidth===K.spaceWidth&&this.renderSpaceWidth===K.renderSpaceWidth&&this.renderSpaceCharCode===K.renderSpaceCharCode&&this.stopRenderingLineAfter===K.stopRenderingLineAfter&&this.renderWhitespace===K.renderWhitespace&&this.renderControlCharacters===K.renderControlCharacters&&this.fontLigatures===K.fontLigatures&&A.Kp.equalsArr(this.lineDecorations,K.lineDecorations)&&this.lineTokens.equals(K.lineTokens)&&this.sameSelection(K.selectionsOnLine)}}class x{constructor(K,z){this.partIndex=K,this.charIndex=z}}class O{static getPartIndex(K){return(K&4294901760)>>>16}static getCharIndex(K){return(K&65535)>>>0}constructor(K,z){this.length=K,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(K,z,Q,Y){const H=(z<<16|Q<<0)>>>0;this._data[K-1]=H,this._horizontalOffset[K-1]=Y}getHorizontalOffset(K){return this._horizontalOffset.length===0?0:this._horizontalOffset[K-1]}charOffsetToPartData(K){return this.length===0?0:K<0?this._data[0]:K>=this.length?this._data[this.length-1]:this._data[K]}getDomPosition(K){const z=this.charOffsetToPartData(K-1),Q=O.getPartIndex(z),Y=O.getCharIndex(z);return new x(Q,Y)}getColumn(K,z){return this.partDataToCharOffset(K.partIndex,z,K.charIndex)+1}partDataToCharOffset(K,z,Q){if(this.length===0)return 0;const Y=(K<<16|Q<<0)>>>0;let H=0,P=this.length-1;for(;H+1<P;){const pe=H+P>>>1,ye=this._data[pe];if(ye===Y)return pe;ye>Y?P=pe:H=pe}if(H===P)return H;const X=this._data[H],q=this._data[P];if(X===Y)return H;if(q===Y)return P;const U=O.getPartIndex(X),L=O.getCharIndex(X),B=O.getPartIndex(q);let j;U!==B?j=z:j=O.getCharIndex(q);const G=Q-L,y=j-Q;return G<=y?H:P}}class p{constructor(K,z,Q){this._renderLineOutputBrand=void 0,this.characterMapping=K,this.containsRTL=z,this.containsForeignElements=Q}}function a(M,K){if(M.lineContent.length===0){if(M.lineDecorations.length>0){K.appendString("<span>");let z=0,Q=0,Y=0;for(const P of M.lineDecorations)(P.type===1||P.type===2)&&(K.appendString('<span class="'),K.appendString(P.className),K.appendString('"></span>'),P.type===1&&(Y|=1,z++),P.type===2&&(Y|=2,Q++));K.appendString("</span>");const H=new O(1,z+Q);return H.setColumnInfo(1,z,0,0),new p(H,!1,Y)}return K.appendString("<span><span></span></span>"),new p(new O(0,0),!1,0)}return D(r(M),K)}class d{constructor(K,z,Q,Y){this.characterMapping=K,this.html=z,this.containsRTL=Q,this.containsForeignElements=Y}}function f(M){const K=new g.HT(1e4),z=a(M,K);return new d(z.characterMapping,K.build(),z.containsRTL,z.containsForeignElements)}class s{constructor(K,z,Q,Y,H,P,X,q,U,L,B,j,G,y,pe,ye){this.fontIsMonospace=K,this.canUseHalfwidthRightwardsArrow=z,this.lineContent=Q,this.len=Y,this.isOverflowing=H,this.overflowingCharCount=P,this.parts=X,this.containsForeignElements=q,this.fauxIndentLength=U,this.tabSize=L,this.startVisibleColumn=B,this.containsRTL=j,this.spaceWidth=G,this.renderSpaceCharCode=y,this.renderWhitespace=pe,this.renderControlCharacters=ye}}function r(M){const K=M.lineContent;let z,Q,Y;M.stopRenderingLineAfter!==-1&&M.stopRenderingLineAfter<K.length?(z=!0,Q=K.length-M.stopRenderingLineAfter,Y=M.stopRenderingLineAfter):(z=!1,Q=0,Y=K.length);let H=m(K,M.containsRTL,M.lineTokens,M.fauxIndentLength,Y);M.renderControlCharacters&&!M.isBasicASCII&&(H=_(K,H)),(M.renderWhitespace===4||M.renderWhitespace===1||M.renderWhitespace===2&&M.selectionsOnLine||M.renderWhitespace===3&&!M.continuesWithWrappedLine)&&(H=b(M,K,Y,H));let P=0;if(M.lineDecorations.length>0){for(let X=0,q=M.lineDecorations.length;X<q;X++){const U=M.lineDecorations[X];U.type===3||U.type===1?P|=1:U.type===2&&(P|=2)}H=E(K,Y,H,M.lineDecorations)}return M.containsRTL||(H=C(K,H,!M.isBasicASCII||M.fontLigatures)),new s(M.useMonospaceOptimizations,M.canUseHalfwidthRightwardsArrow,K,Y,z,Q,H,P,M.fauxIndentLength,M.tabSize,M.startVisibleColumn,M.containsRTL,M.spaceWidth,M.renderSpaceCharCode,M.renderWhitespace,M.renderControlCharacters)}function m(M,K,z,Q,Y){const H=[];let P=0;Q>0&&(H[P++]=new S(Q,"",0,!1));let X=Q;for(let q=0,U=z.getCount();q<U;q++){const L=z.getEndOffset(q);if(L<=Q)continue;const B=z.getClassName(q);if(L>=Y){const G=K?F.Ut(M.substring(X,Y)):!1;H[P++]=new S(Y,B,0,G);break}const j=K?F.Ut(M.substring(X,L)):!1;H[P++]=new S(L,B,0,j),X=L}return H}function C(M,K,z){let Q=0;const Y=[];let H=0;if(z)for(let P=0,X=K.length;P<X;P++){const q=K[P],U=q.endIndex;if(Q+50<U){const L=q.type,B=q.metadata,j=q.containsRTL;let G=-1,y=Q;for(let pe=Q;pe<U;pe++)M.charCodeAt(pe)===32&&(G=pe),G!==-1&&pe-y>=50&&(Y[H++]=new S(G+1,L,B,j),y=G+1,G=-1);y!==U&&(Y[H++]=new S(U,L,B,j))}else Y[H++]=q;Q=U}else for(let P=0,X=K.length;P<X;P++){const q=K[P],U=q.endIndex,L=U-Q;if(L>50){const B=q.type,j=q.metadata,G=q.containsRTL,y=Math.ceil(L/50);for(let pe=1;pe<y;pe++){const ye=Q+pe*50;Y[H++]=new S(ye,B,j,G)}Y[H++]=new S(U,B,j,G)}else Y[H++]=q;Q=U}return Y}function u(M){return M<32?M!==9:M===127||M>=8234&&M<=8238||M>=8294&&M<=8297||M>=8206&&M<=8207||M===1564}function _(M,K){const z=[];let Q=new S(0,"",0,!1),Y=0;for(const H of K){const P=H.endIndex;for(;Y<P;Y++){const X=M.charCodeAt(Y);u(X)&&(Y>Q.endIndex&&(Q=new S(Y,H.type,H.metadata,H.containsRTL),z.push(Q)),Q=new S(Y+1,"mtkcontrol",H.metadata,!1),z.push(Q))}Y>Q.endIndex&&(Q=new S(P,H.type,H.metadata,H.containsRTL),z.push(Q))}return z}function b(M,K,z,Q){const Y=M.continuesWithWrappedLine,H=M.fauxIndentLength,P=M.tabSize,X=M.startVisibleColumn,q=M.useMonospaceOptimizations,U=M.selectionsOnLine,L=M.renderWhitespace===1,B=M.renderWhitespace===3,j=M.renderSpaceWidth!==M.spaceWidth,G=[];let y=0,pe=0,ye=Q[pe].type,me=Q[pe].containsRTL,Se=Q[pe].endIndex;const _e=Q.length;let he=!1,le=F.LC(K),se;le===-1?(he=!0,le=z,se=z):se=F.ow(K);let Re=!1,$e=0,je=U&&U[$e],Ce=X%P;for(let ne=H;ne<z;ne++){const ae=K.charCodeAt(ne);je&&ne>=je.endOffset&&($e++,je=U&&U[$e]);let xe;if(ne<le||ne>se)xe=!0;else if(ae===9)xe=!0;else if(ae===32)if(L)if(Re)xe=!0;else{const Ke=ne+1<z?K.charCodeAt(ne+1):0;xe=Ke===32||Ke===9}else xe=!0;else xe=!1;if(xe&&U&&(xe=!!je&&je.startOffset<=ne&&je.endOffset>ne),xe&&B&&(xe=he||ne>se),xe&&me&&ne>=le&&ne<=se&&(xe=!1),Re){if(!xe||!q&&Ce>=P){if(j){const Ke=y>0?G[y-1].endIndex:H;for(let ct=Ke+1;ct<=ne;ct++)G[y++]=new S(ct,"mtkw",1,!1)}else G[y++]=new S(ne,"mtkw",1,!1);Ce=Ce%P}}else(ne===Se||xe&&ne>H)&&(G[y++]=new S(ne,ye,0,me),Ce=Ce%P);for(ae===9?Ce=P:F.K7(ae)?Ce+=2:Ce++,Re=xe;ne===Se&&(pe++,pe<_e);)ye=Q[pe].type,me=Q[pe].containsRTL,Se=Q[pe].endIndex}let J=!1;if(Re)if(Y&&L){const ne=z>0?K.charCodeAt(z-1):0,ae=z>1?K.charCodeAt(z-2):0;ne===32&&ae!==32&&ae!==9||(J=!0)}else J=!0;if(J)if(j){const ne=y>0?G[y-1].endIndex:H;for(let ae=ne+1;ae<=z;ae++)G[y++]=new S(ae,"mtkw",1,!1)}else G[y++]=new S(z,"mtkw",1,!1);else G[y++]=new S(z,ye,0,me);return G}function E(M,K,z,Q){Q.sort(A.Kp.compare);const Y=A.k.normalize(M,Q),H=Y.length;let P=0;const X=[];let q=0,U=0;for(let B=0,j=z.length;B<j;B++){const G=z[B],y=G.endIndex,pe=G.type,ye=G.metadata,me=G.containsRTL;for(;P<H&&Y[P].startOffset<y;){const Se=Y[P];if(Se.startOffset>U&&(U=Se.startOffset,X[q++]=new S(U,pe,ye,me)),Se.endOffset+1<=y)U=Se.endOffset+1,X[q++]=new S(U,pe+" "+Se.className,ye|Se.metadata,me),P++;else{U=y,X[q++]=new S(U,pe+" "+Se.className,ye|Se.metadata,me);break}}y>U&&(U=y,X[q++]=new S(U,pe,ye,me))}const L=z[z.length-1].endIndex;if(P<H&&Y[P].startOffset===L)for(;P<H&&Y[P].startOffset===L;){const B=Y[P];X[q++]=new S(U,B.className,B.metadata,!1),P++}return X}function D(M,K){const z=M.fontIsMonospace,Q=M.canUseHalfwidthRightwardsArrow,Y=M.containsForeignElements,H=M.lineContent,P=M.len,X=M.isOverflowing,q=M.overflowingCharCount,U=M.parts,L=M.fauxIndentLength,B=M.tabSize,j=M.startVisibleColumn,G=M.containsRTL,y=M.spaceWidth,pe=M.renderSpaceCharCode,ye=M.renderWhitespace,me=M.renderControlCharacters,Se=new O(P+1,U.length);let _e=!1,he=0,le=j,se=0,Re=0,$e=0;G?K.appendString('<span dir="ltr">'):K.appendString("<span>");for(let je=0,Ce=U.length;je<Ce;je++){const J=U[je],ne=J.endIndex,ae=J.type,xe=J.containsRTL,Ke=ye!==0&&J.isWhitespace(),ct=Ke&&!z&&(ae==="mtkw"||!Y),ot=he===ne&&J.isPseudoAfter();if(se=0,K.appendString("<span "),xe&&K.appendString('style="unicode-bidi:isolate" '),K.appendString('class="'),K.appendString(ct?"mtkz":ae),K.appendASCIICharCode(34),Ke){let dt=0;{let et=he,Fe=le;for(;et<ne;et++){const Te=(H.charCodeAt(et)===9?B-Fe%B:1)|0;dt+=Te,et>=L&&(Fe+=Te)}}for(ct&&(K.appendString(' style="width:'),K.appendString(String(y*dt)),K.appendString('px"')),K.appendASCIICharCode(62);he<ne;he++){Se.setColumnInfo(he+1,je-$e,se,Re),$e=0;const et=H.charCodeAt(he);let Fe,Le;if(et===9){Fe=B-le%B|0,Le=Fe,!Q||Le>1?K.appendCharCode(8594):K.appendCharCode(65515);for(let Te=2;Te<=Le;Te++)K.appendCharCode(160)}else Fe=2,Le=1,K.appendCharCode(pe),K.appendCharCode(8204);se+=Fe,Re+=Le,he>=L&&(le+=Le)}}else for(K.appendASCIICharCode(62);he<ne;he++){Se.setColumnInfo(he+1,je-$e,se,Re),$e=0;const dt=H.charCodeAt(he);let et=1,Fe=1;switch(dt){case 9:et=B-le%B,Fe=et;for(let Le=1;Le<=et;Le++)K.appendCharCode(160);break;case 32:K.appendCharCode(160);break;case 60:K.appendString("&lt;");break;case 62:K.appendString("&gt;");break;case 38:K.appendString("&amp;");break;case 0:me?K.appendCharCode(9216):K.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:K.appendCharCode(65533);break;default:F.K7(dt)&&Fe++,me&&dt<32?K.appendCharCode(9216+dt):me&&dt===127?K.appendCharCode(9249):me&&u(dt)?(K.appendString("[U+"),K.appendString(w(dt)),K.appendString("]"),et=8,Fe=et):K.appendCharCode(dt)}se+=et,Re+=Fe,he>=L&&(le+=Fe)}ot?$e++:$e=0,he>=P&&!_e&&J.isPseudoAfter()&&(_e=!0,Se.setColumnInfo(he+1,je,se,Re)),K.appendString("</span>")}return _e||Se.setColumnInfo(P+1,U.length-1,se,Re),X&&(K.appendString('<span class="mtkoverflow">'),K.appendString(c.NC("showMore","Show more ({0})",I(q))),K.appendString("</span>")),K.appendString("</span>"),new p(Se,G,Y)}function w(M){return M.toString(16).toUpperCase().padStart(4,"0")}function I(M){return M<1024?c.NC("overflow.chars","{0} chars",M):M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/1024/1024).toFixed(1)} MB`}},36885:function(vt,be,i){"use strict";i.d(be,{$l:function(){return O},$t:function(){return N},IP:function(){return S},SQ:function(){return p},Wx:function(){return x},l_:function(){return g},ud:function(){return A},wA:function(){return $}});var c=i(30613),F=i(22445);class g{constructor(d,f,s,r){this._viewportBrand=void 0,this.top=d|0,this.left=f|0,this.width=s|0,this.height=r|0}}class A{constructor(d,f){this.tabSize=d,this.data=f}}class S{constructor(d,f,s,r,m,C,u){this._viewLineDataBrand=void 0,this.content=d,this.continuesWithWrappedLine=f,this.minColumn=s,this.maxColumn=r,this.startVisibleColumn=m,this.tokens=C,this.inlineDecorations=u}}class ${constructor(d,f,s,r,m,C,u,_,b,E){this.minColumn=d,this.maxColumn=f,this.content=s,this.continuesWithWrappedLine=r,this.isBasicASCII=$.isBasicASCII(s,C),this.containsRTL=$.containsRTL(s,this.isBasicASCII,m),this.tokens=u,this.inlineDecorations=_,this.tabSize=b,this.startVisibleColumn=E}static isBasicASCII(d,f){return f?c.$i(d):!0}static containsRTL(d,f,s){return!f&&s?c.Ut(d):!1}}class N{constructor(d,f,s){this.range=d,this.inlineClassName=f,this.type=s}}class x{constructor(d,f,s,r){this.startOffset=d,this.endOffset=f,this.inlineClassName=s,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(d){return new N(new F.e(d,this.startOffset+1,d,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class O{constructor(d,f){this._viewModelDecorationBrand=void 0,this.range=d,this.options=f}}class p{constructor(d,f,s){this.color=d,this.zIndex=f,this.data=s}static cmp(d,f){return d.zIndex===f.zIndex?d.color<f.color?-1:d.color>f.color?1:0:d.zIndex-f.zIndex}}},14326:function(vt,be,i){"use strict";i.d(be,{EY:function(){return F},Tj:function(){return g}});class c{constructor(S,$,N){this._colorZoneBrand=void 0,this.from=S|0,this.to=$|0,this.colorId=N|0}static compare(S,$){return S.colorId===$.colorId?S.from===$.from?S.to-$.to:S.from-$.from:S.colorId-$.colorId}}class F{constructor(S,$,N,x){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=$,this.heightInLines=N,this.color=x,this._colorZone=null}static compare(S,$){return S.color===$.color?S.startLineNumber===$.startLineNumber?S.heightInLines===$.heightInLines?S.endLineNumber-$.endLineNumber:S.heightInLines-$.heightInLines:S.startLineNumber-$.startLineNumber:S.color<$.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}class g{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(F.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,$=Math.floor(this._lineHeight),N=Math.floor(this.getCanvasHeight()),x=Math.floor(this._outerHeight),O=N/x,p=Math.floor(4*this._pixelRatio/2),a=[];for(let d=0,f=this._zones.length;d<f;d++){const s=this._zones[d];if(!S){const I=s.getColorZones();if(I){a.push(I);continue}}const r=this._getVerticalOffsetForLine(s.startLineNumber),m=s.heightInLines===0?this._getVerticalOffsetForLine(s.endLineNumber)+$:r+s.heightInLines*$,C=Math.floor(O*r),u=Math.floor(O*m);let _=Math.floor((C+u)/2),b=u-_;b<p&&(b=p),_-b<0&&(_=b),_+b>N&&(_=N-b);const E=s.color;let D=this._color2Id[E];D||(D=++this._lastAssignedId,this._color2Id[E]=D,this._id2Color[D]=E);const w=new c(_-b,_+b,D);s.setColorZone(w),a.push(w)}return this._colorZonesInvalid=!1,a.sort(c.compare),a}}},41449:function(vt,be,i){"use strict";i.d(be,{$t:function(){return N},CU:function(){return S},Fd:function(){return $},zg:function(){return x}});var c=i(43976),F=i(22445),g=i(36885),A=i(32052);class S{constructor(a,d,f,s,r){this._cachedOnlyMinimapDecorations=null,this.editorId=a,this.model=d,this.configuration=f,this._linesCollection=s,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(a){const d=a.id;let f=this._decorationsCache[d];if(!f){const s=a.range,r=a.options;let m;if(r.isWholeLine){const C=this._coordinatesConverter.convertModelPositionToViewPosition(new c.L(s.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new c.L(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)),1);m=new F.e(C.lineNumber,C.column,u.lineNumber,u.column)}else m=this._coordinatesConverter.convertModelRangeToViewRange(s,1);f=new g.$l(m,r),this._decorationsCache[d]=f}return f}getDecorationsViewportData(a,d=!1){let f=this._cachedModelDecorationsResolver!==null;return f=f&&a.equalsRange(this._cachedModelDecorationsResolverViewRange),f=f&&this._cachedOnlyMinimapDecorations===d,f||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(a,d),this._cachedModelDecorationsResolverViewRange=a,this._cachedOnlyMinimapDecorations=d),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(a,d=!1){const f=new F.e(a,this._linesCollection.getViewLineMinColumn(a),a,this._linesCollection.getViewLineMaxColumn(a));return this._getDecorationsInRange(f,d).inlineDecorations[0]}_getDecorationsInRange(a,d){const f=this._linesCollection.getDecorationsInRange(a,this.editorId,(0,A.$J)(this.configuration.options),d),s=a.startLineNumber,r=a.endLineNumber,m=[];let C=0;const u=[];for(let _=s;_<=r;_++)u[_-s]=[];for(let _=0,b=f.length;_<b;_++){const E=f[_],D=E.options;if(!$(this.model,E))continue;const w=this._getOrCreateViewModelDecoration(E),I=w.range;if(m[C++]=w,D.inlineClassName){const M=new g.$t(I,D.inlineClassName,D.inlineClassNameAffectsLetterSpacing?3:0),K=Math.max(s,I.startLineNumber),z=Math.min(r,I.endLineNumber);for(let Q=K;Q<=z;Q++)u[Q-s].push(M)}if(D.beforeContentClassName&&s<=I.startLineNumber&&I.startLineNumber<=r){const M=new g.$t(new F.e(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn),D.beforeContentClassName,1);u[I.startLineNumber-s].push(M)}if(D.afterContentClassName&&s<=I.endLineNumber&&I.endLineNumber<=r){const M=new g.$t(new F.e(I.endLineNumber,I.endColumn,I.endLineNumber,I.endColumn),D.afterContentClassName,2);u[I.endLineNumber-s].push(M)}}return{decorations:m,inlineDecorations:u}}}function $(p,a){return!(a.options.hideInCommentTokens&&N(p,a)||a.options.hideInStringTokens&&x(p,a))}function N(p,a){return O(p,a.range,d=>d===1)}function x(p,a){return O(p,a.range,d=>d===2)}function O(p,a,d){for(let f=a.startLineNumber;f<=a.endLineNumber;f++){const s=p.tokenization.getLineTokens(f),r=f===a.startLineNumber,m=f===a.endLineNumber;let C=r?s.findTokenIndexAtOffset(a.startColumn-1):0;for(;C<s.getCount()&&!(m&&s.getStartOffset(C)>a.endColumn-1);){if(!d(s.getStandardTokenType(C)))return!1;C++}}return!0}},40680:function(vt,be,i){"use strict";i.r(be),i.d(be,{SelectionAnchorSet:function(){return d}});var c=i(26017),F=i(69549),g=i(42528),A=i(98981),S=i(15489),$=i(73805),N=i(15779),x=i(23286),O=function(u,_,b,E){var D=arguments.length,w=D<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,b):E,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,_,b,E);else for(var M=u.length-1;M>=0;M--)(I=u[M])&&(w=(D<3?I(w):D>3?I(_,b,w):I(_,b))||w);return D>3&&w&&Object.defineProperty(_,b,w),w},p=function(u,_){return function(b,E){_(b,E,u)}},a=function(u,_,b,E){function D(w){return w instanceof b?w:new b(function(I){I(w)})}return new(b||(b=Promise))(function(w,I){function M(Q){try{z(E.next(Q))}catch(Y){I(Y)}}function K(Q){try{z(E.throw(Q))}catch(Y){I(Y)}}function z(Q){Q.done?w(Q.value):D(Q.value).then(M,K)}z((E=E.apply(u,_||[])).next())})};const d=new x.uy("selectionAnchorSet",!1);let f=class Nc{static get(_){return _.getContribution(Nc.ID)}constructor(_,b){this.editor=_,this.selectionAnchorSetContextKey=d.bindTo(b),this.modelChangeListener=_.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const _=this.editor.getPosition();this.editor.changeDecorations(b=>{this.decorationId&&b.removeDecoration(this.decorationId),this.decorationId=b.addDecoration(S.Y.fromPositions(_,_),{description:"selection-anchor",stickiness:1,hoverMessage:new F.W5().appendText((0,N.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,c.Z9)((0,N.NC)("anchorSet","Anchor set at {0}:{1}",_.lineNumber,_.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const _=this.editor.getModel().getDecorationRange(this.decorationId);_&&this.editor.setPosition(_.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const _=this.editor.getModel().getDecorationRange(this.decorationId);if(_){const b=this.editor.getPosition();this.editor.setSelection(S.Y.fromPositions(_.getStartPosition(),b)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const _=this.decorationId;this.editor.changeDecorations(b=>{b.removeDecoration(_),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};f.ID="editor.contrib.selectionAnchorController",f=O([p(1,x.i6)],f);class s extends A.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,N.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:$.u.editorTextFocus,primary:(0,g.gx)(2089,2080),weight:100}})}run(_,b){var E;return a(this,void 0,void 0,function*(){(E=f.get(b))===null||E===void 0||E.setSelectionAnchor()})}}class r extends A.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,N.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:d})}run(_,b){var E;return a(this,void 0,void 0,function*(){(E=f.get(b))===null||E===void 0||E.goToSelectionAnchor()})}}class m extends A.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,N.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:d,kbOpts:{kbExpr:$.u.editorTextFocus,primary:(0,g.gx)(2089,2089),weight:100}})}run(_,b){var E;return a(this,void 0,void 0,function*(){(E=f.get(b))===null||E===void 0||E.selectFromAnchorToCursor()})}}class C extends A.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,N.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:d,kbOpts:{kbExpr:$.u.editorTextFocus,primary:9,weight:100}})}run(_,b){var E;return a(this,void 0,void 0,function*(){(E=f.get(b))===null||E===void 0||E.cancelSelectionAnchor()})}}(0,A._K)(f.ID,f,4),(0,A.Qr)(s),(0,A.Qr)(r),(0,A.Qr)(m),(0,A.Qr)(C)},59700:function(vt,be,i){"use strict";i.r(be),i.d(be,{BracketMatchingController:function(){return u}});var c=i(39460),F=i(52357),g=i(98981),A=i(43976),S=i(22445),$=i(15489),N=i(73805),x=i(48117),O=i(73740),p=i(15779),a=i(49597),d=i(78382),f=i(901);const s=(0,d.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},p.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class r extends g.R6{constructor(){super({id:"editor.action.jumpToBracket",label:p.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:3160,weight:100}})}run(b,E){var D;(D=u.get(E))===null||D===void 0||D.jumpToBracket()}}class m extends g.R6{constructor(){super({id:"editor.action.selectToBracket",label:p.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(b,E,D){var w;let I=!0;D&&D.selectBrackets===!1&&(I=!1),(w=u.get(E))===null||w===void 0||w.selectToBracket(I)}}class C{constructor(b,E,D){this.position=b,this.brackets=E,this.options=D}}class u extends F.JT{static get(b){return b.getContribution(u.ID)}constructor(b){super(),this._editor=b,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new c.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(68),this._updateBracketsSoon.schedule(),this._register(b.onDidChangeCursorPosition(E=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModelContent(E=>{this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModel(E=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModelLanguageConfiguration(E=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeConfiguration(E=>{E.hasChanged(68)&&(this._matchBrackets=this._editor.getOption(68),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(b.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(b.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const b=this._editor.getModel(),E=this._editor.getSelections().map(D=>{const w=D.getStartPosition(),I=b.bracketPairs.matchBracket(w);let M=null;if(I)I[0].containsPosition(w)&&!I[1].containsPosition(w)?M=I[1].getStartPosition():I[1].containsPosition(w)&&(M=I[0].getStartPosition());else{const K=b.bracketPairs.findEnclosingBrackets(w);if(K)M=K[1].getStartPosition();else{const z=b.bracketPairs.findNextBracket(w);z&&z.range&&(M=z.range.getStartPosition())}}return M?new $.Y(M.lineNumber,M.column,M.lineNumber,M.column):new $.Y(w.lineNumber,w.column,w.lineNumber,w.column)});this._editor.setSelections(E),this._editor.revealRange(E[0])}selectToBracket(b){if(!this._editor.hasModel())return;const E=this._editor.getModel(),D=[];this._editor.getSelections().forEach(w=>{const I=w.getStartPosition();let M=E.bracketPairs.matchBracket(I);if(!M&&(M=E.bracketPairs.findEnclosingBrackets(I),!M)){const Q=E.bracketPairs.findNextBracket(I);Q&&Q.range&&(M=E.bracketPairs.matchBracket(Q.range.getStartPosition()))}let K=null,z=null;if(M){M.sort(S.e.compareRangesUsingStarts);const[Q,Y]=M;if(K=b?Q.getStartPosition():Q.getEndPosition(),z=b?Y.getEndPosition():Y.getStartPosition(),Y.containsPosition(I)){const H=K;K=z,z=H}}K&&z&&D.push(new $.Y(K.lineNumber,K.column,z.lineNumber,z.column))}),D.length>0&&(this._editor.setSelections(D),this._editor.revealRange(D[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const b=[];let E=0;for(const D of this._lastBracketsData){const w=D.brackets;w&&(b[E++]={range:w[0],options:D.options},b[E++]={range:w[1],options:D.options})}this._decorations.set(b)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const b=this._editor.getSelections();if(b.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const E=this._editor.getModel(),D=E.getVersionId();let w=[];this._lastVersionId===D&&(w=this._lastBracketsData);const I=[];let M=0;for(let H=0,P=b.length;H<P;H++){const X=b[H];X.isEmpty()&&(I[M++]=X.getStartPosition())}I.length>1&&I.sort(A.L.compare);const K=[];let z=0,Q=0;const Y=w.length;for(let H=0,P=I.length;H<P;H++){const X=I[H];for(;Q<Y&&w[Q].position.isBefore(X);)Q++;if(Q<Y&&w[Q].position.equals(X))K[z++]=w[Q];else{let q=E.bracketPairs.matchBracket(X,20),U=u._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!q&&this._matchBrackets==="always"&&(q=E.bracketPairs.findEnclosingBrackets(X,20),U=u._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),K[z++]=new C(X,q,U)}}this._lastBracketsData=K,this._lastVersionId=D}}u.ID="editor.contrib.bracketMatchingController",u._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=O.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,f.EN)(s),position:x.sh.Center}}),u._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=O.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,g._K)(u.ID,u,1),(0,g.Qr)(m),(0,g.Qr)(r),a.BH.appendMenuItem(a.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:p.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},19949:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(73805),g=i(22445),A=i(15489);class S{constructor(a,d){this._selection=a,this._isMovingLeft=d}getEditOperations(a,d){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const f=this._selection.startLineNumber,s=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&s===1)&&!(!this._isMovingLeft&&r===a.getLineMaxColumn(f)))if(this._isMovingLeft){const m=new g.e(f,s-1,f,s),C=a.getValueInRange(m);d.addEditOperation(m,null),d.addEditOperation(new g.e(f,r,f,r),C)}else{const m=new g.e(f,r,f,r+1),C=a.getValueInRange(m);d.addEditOperation(m,null),d.addEditOperation(new g.e(f,s,f,s),C)}}computeCursorState(a,d){return this._isMovingLeft?new A.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new A.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var $=i(15779);class N extends c.R6{constructor(a,d){super(d),this.left=a}run(a,d){if(!d.hasModel())return;const f=[],s=d.getSelections();for(const r of s)f.push(new S(r,this.left));d.pushUndoStop(),d.executeCommands(this.id,f),d.pushUndoStop()}}class x extends N{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:$.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:F.u.writable})}}class O extends N{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:$.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:F.u.writable})}}(0,c.Qr)(x),(0,c.Qr)(O)},66821:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(71802),g=i(95987),A=i(22445),S=i(73805),$=i(15779);class N extends c.R6{constructor(){super({id:"editor.action.transposeLetters",label:$.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(O,p){if(!p.hasModel())return;const a=p.getModel(),d=[],f=p.getSelections();for(const s of f){if(!s.isEmpty())continue;const r=s.startLineNumber,m=s.startColumn,C=a.getLineMaxColumn(r);if(r===1&&(m===1||m===2&&C===2))continue;const u=m===C?s.getPosition():g.o.rightPosition(a,s.getPosition().lineNumber,s.getPosition().column),_=g.o.leftPosition(a,u),b=g.o.leftPosition(a,_),E=a.getValueInRange(A.e.fromPositions(b,_)),D=a.getValueInRange(A.e.fromPositions(_,u)),w=A.e.fromPositions(b,u);d.push(new F.T4(w,D+E))}d.length>0&&(p.pushUndoStop(),p.executeCommands(this.id,d),p.pushUndoStop())}}(0,c.Qr)(N)},36459:function(vt,be,i){"use strict";i.r(be),i.d(be,{CopyAction:function(){return C},CutAction:function(){return m},PasteAction:function(){return u}});var c=i(26766),F=i(41420),g=i(23230),A=i(98981),S=i(76356),$=i(73805),N=i(15779),x=i(49597),O=i(52167),p=function(E,D,w,I){function M(K){return K instanceof w?K:new w(function(z){z(K)})}return new(w||(w=Promise))(function(K,z){function Q(P){try{H(I.next(P))}catch(X){z(X)}}function Y(P){try{H(I.throw(P))}catch(X){z(X)}}function H(P){P.done?K(P.value):M(P.value).then(Q,Y)}H((I=I.apply(E,D||[])).next())})};const a="9_cutcopypaste",d=F.tY||document.queryCommandSupported("cut"),f=F.tY||document.queryCommandSupported("copy"),s=typeof navigator.clipboard=="undefined"||c.isFirefox?document.queryCommandSupported("paste"):!0;function r(E){return E.register(),E}const m=d?r(new A.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:F.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:x.eH.MenubarEditMenu,group:"2_ccp",title:N.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:x.eH.EditorContext,group:a,title:N.NC("actions.clipboard.cutLabel","Cut"),when:$.u.writable,order:1},{menuId:x.eH.CommandPalette,group:"",title:N.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:x.eH.SimpleEditorContext,group:a,title:N.NC("actions.clipboard.cutLabel","Cut"),when:$.u.writable,order:1}]})):void 0,C=f?r(new A.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:F.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:x.eH.MenubarEditMenu,group:"2_ccp",title:N.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:x.eH.EditorContext,group:a,title:N.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:x.eH.CommandPalette,group:"",title:N.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:x.eH.SimpleEditorContext,group:a,title:N.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;x.BH.appendMenuItem(x.eH.MenubarEditMenu,{submenu:x.eH.MenubarCopy,title:{value:N.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),x.BH.appendMenuItem(x.eH.EditorContext,{submenu:x.eH.EditorContextCopy,title:{value:N.NC("copy as","Copy As"),original:"Copy As"},group:a,order:3}),x.BH.appendMenuItem(x.eH.EditorContext,{submenu:x.eH.EditorContextShare,title:{value:N.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const u=s?r(new A.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:F.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:x.eH.MenubarEditMenu,group:"2_ccp",title:N.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:x.eH.EditorContext,group:a,title:N.NC("actions.clipboard.pasteLabel","Paste"),when:$.u.writable,order:4},{menuId:x.eH.CommandPalette,group:"",title:N.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:x.eH.SimpleEditorContext,group:a,title:N.NC("actions.clipboard.pasteLabel","Paste"),when:$.u.writable,order:4}]})):void 0;class _ extends A.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:N.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:$.u.textInputFocus,primary:0,weight:100}})}run(D,w){!w.hasModel()||!w.getOption(34)&&w.getSelection().isEmpty()||(g.RA.forceCopyWithSyntaxHighlighting=!0,w.focus(),document.execCommand("copy"),g.RA.forceCopyWithSyntaxHighlighting=!1)}}function b(E,D){E&&(E.addImplementation(1e4,"code-editor",(w,I)=>{const M=w.get(S.$).getFocusedCodeEditor();if(M&&M.hasTextFocus()){const K=M.getOption(34),z=M.getSelection();return z&&z.isEmpty()&&!K||document.execCommand(D),!0}return!1}),E.addImplementation(0,"generic-dom",(w,I)=>(document.execCommand(D),!0)))}b(m,"cut"),b(C,"copy"),u&&(u.addImplementation(1e4,"code-editor",(E,D)=>{const w=E.get(S.$),I=E.get(O.p),M=w.getFocusedCodeEditor();return M&&M.hasTextFocus()?!document.execCommand("paste")&&F.$L?(()=>p(void 0,void 0,void 0,function*(){const z=yield I.readText();if(z!==""){const Q=g.Nl.INSTANCE.get(z);let Y=!1,H=null,P=null;Q&&(Y=M.getOption(34)&&!!Q.isFromEmptySelection,H=typeof Q.multicursorText!="undefined"?Q.multicursorText:null,P=Q.mode),M.trigger("keyboard","paste",{text:z,pasteOnNewLine:Y,multicursorText:H,mode:P})}}))():!0:!1}),u.addImplementation(0,"generic-dom",(E,D)=>(document.execCommand("paste"),!0))),f&&(0,A.Qr)(_)},90255:function(vt,be,i){"use strict";i.d(be,{Bb:function(){return b},LR:function(){return X},MN:function(){return D},RB:function(){return _},TM:function(){return I},UX:function(){return P},aI:function(){return z},sh:function(){return E},uH:function(){return w}});var c=i(16842),F=i(19713),g=i(50505),A=i(52357),S=i(39508),$=i(24467),N=i(22445),x=i(15489),O=i(26340),p=i(6033),a=i(46978),d=i(15779),f=i(21760),s=i(28382),r=i(26348),m=i(43257),C=i(87545),u=function(U,L,B,j){function G(y){return y instanceof B?y:new B(function(pe){pe(y)})}return new(B||(B=Promise))(function(y,pe){function ye(_e){try{Se(j.next(_e))}catch(he){pe(he)}}function me(_e){try{Se(j.throw(_e))}catch(he){pe(he)}}function Se(_e){_e.done?y(_e.value):G(_e.value).then(ye,me)}Se((j=j.apply(U,L||[])).next())})};const _="editor.action.codeAction",b="editor.action.refactor",E="editor.action.refactor.preview",D="editor.action.sourceAction",w="editor.action.organizeImports",I="editor.action.fixAll";class M extends A.JT{static codeActionsPreferredComparator(L,B){return L.isPreferred&&!B.isPreferred?-1:!L.isPreferred&&B.isPreferred?1:0}static codeActionsComparator({action:L},{action:B}){return(0,c.Of)(L.diagnostics)?(0,c.Of)(B.diagnostics)?M.codeActionsPreferredComparator(L,B):-1:(0,c.Of)(B.diagnostics)?1:M.codeActionsPreferredComparator(L,B)}constructor(L,B,j){super(),this.documentation=B,this._register(j),this.allActions=[...L].sort(M.codeActionsComparator),this.validActions=this.allActions.filter(({action:G})=>!G.disabled)}get hasAutoFix(){return this.validActions.some(({action:L})=>!!L.kind&&C.yN.QuickFix.contains(new C.yN(L.kind))&&!!L.isPreferred)}}const K={actions:[],documentation:void 0};function z(U,L,B,j,G,y){var pe;return u(this,void 0,void 0,function*(){const ye=j.filter||{},me={only:(pe=ye.include)===null||pe===void 0?void 0:pe.value,trigger:j.type},Se=new a.YQ(L,y),_e=Q(U,L,ye),he=new A.SL,le=_e.map(Re=>u(this,void 0,void 0,function*(){try{G.report(Re);const $e=yield Re.provideCodeActions(L,B,me,Se.token);if($e&&he.add($e),Se.token.isCancellationRequested)return K;const je=(($e==null?void 0:$e.actions)||[]).filter(J=>J&&(0,C.Yl)(ye,J)),Ce=H(Re,je,ye.include);return{actions:je.map(J=>new C.bA(J,Re)),documentation:Ce}}catch($e){if((0,g.n2)($e))throw $e;return(0,g.Cp)($e),K}})),se=U.onDidChange(()=>{const Re=U.all(L);(0,c.fS)(Re,_e)||Se.cancel()});try{const Re=yield Promise.all(le),$e=Re.map(Ce=>Ce.actions).flat(),je=[...(0,c.kX)(Re.map(Ce=>Ce.documentation)),...Y(U,L,j,$e)];return new M($e,je,he)}finally{se.dispose(),Se.dispose()}})}function Q(U,L,B){return U.all(L).filter(j=>j.providedCodeActionKinds?j.providedCodeActionKinds.some(G=>(0,C.EU)(B,new C.yN(G))):!0)}function*Y(U,L,B,j){var G,y,pe;if(L&&j.length)for(const ye of U.all(L))ye._getAdditionalMenuItems&&(yield*(G=ye._getAdditionalMenuItems)===null||G===void 0?void 0:G.call(ye,{trigger:B.type,only:(pe=(y=B.filter)===null||y===void 0?void 0:y.include)===null||pe===void 0?void 0:pe.value},j.map(me=>me.action)))}function H(U,L,B){if(!U.documentation)return;const j=U.documentation.map(G=>({kind:new C.yN(G.kind),command:G.command}));if(B){let G;for(const y of j)y.kind.contains(B)&&(G?G.kind.contains(y.kind)&&(G=y):G=y);if(G)return G==null?void 0:G.command}for(const G of L)if(G.kind){for(const y of j)if(y.kind.contains(new C.yN(G.kind)))return y.command}}var P;(function(U){U.OnSave="onSave",U.FromProblemsView="fromProblemsView",U.FromCodeActions="fromCodeActions"})(P||(P={}));function X(U,L,B,j,G=F.T.None){var y;return u(this,void 0,void 0,function*(){const pe=U.get($.vu),ye=U.get(f.H),me=U.get(m.b),Se=U.get(s.lT);if(me.publicLog2("codeAction.applyCodeAction",{codeActionTitle:L.action.title,codeActionKind:L.action.kind,codeActionIsPreferred:!!L.action.isPreferred,reason:B}),yield L.resolve(G),!G.isCancellationRequested&&!(!((y=L.action.edit)===null||y===void 0)&&y.edits.length&&!(yield pe.apply(L.action.edit,{editor:j==null?void 0:j.editor,label:L.action.title,quotableLabel:L.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:B!==P.OnSave,showPreview:j==null?void 0:j.preview})).isApplied)&&L.action.command)try{yield ye.executeCommand(L.action.command.id,...L.action.command.arguments||[])}catch(_e){const he=q(_e);Se.error(typeof he=="string"?he:d.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function q(U){return typeof U=="string"?U:U instanceof Error&&typeof U.message=="string"?U.message:void 0}f.P.registerCommand("_executeCodeActionProvider",function(U,L,B,j,G){return u(this,void 0,void 0,function*(){if(!(L instanceof S.o))throw(0,g.b1)();const{codeActionProvider:y}=U.get(O.p),pe=U.get(p.q).getModel(L);if(!pe)throw(0,g.b1)();const ye=x.Y.isISelection(B)?x.Y.liftSelection(B):N.e.isIRange(B)?pe.validateRange(B):void 0;if(!ye)throw(0,g.b1)();const me=typeof j=="string"?new C.yN(j):void 0,Se=yield z(y,pe,ye,{type:1,triggerAction:C.aQ.Default,filter:{includeSourceActions:!0,include:me}},r.Ex.None,F.T.None),_e=[],he=Math.min(Se.validActions.length,typeof G=="number"?G:0);for(let le=0;le<he;le++)_e.push(Se.validActions[le].resolve(F.T.None));try{return yield Promise.all(_e),Se.validActions.map(le=>le.action)}finally{setTimeout(()=>Se.dispose(),100)}})})},90609:function(vt,be,i){"use strict";i.d(be,{S5:function(){return pn},dW:function(){return Sn},G6:function(){return on},Hv:function(){return rn},o$:function(){return On},E7:function(){return un},Eb:function(){return bn},UG:function(){return Cn},VQ:function(){return Fi}});var c=i(48911),F=i(52357),g=i(30613),A=i(98981),S=i(73805),$=i(26340),N=i(90255),x=i(16563),O=i(50505),p=i(43976),a=i(87545),d=i(22437),f=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},s=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}};let r=class Mc{constructor(Mt){this.keybindingService=Mt}getResolver(){const Mt=new c.o(()=>this.keybindingService.getKeybindings().filter(At=>Mc.codeActionCommands.indexOf(At.command)>=0).filter(At=>At.resolvedKeybinding).map(At=>{let Wt=At.commandArgs;return At.command===N.uH?Wt={kind:a.yN.SourceOrganizeImports.value}:At.command===N.TM&&(Wt={kind:a.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:At.resolvedKeybinding},a.wZ.fromUser(Wt,{kind:a.yN.None,apply:"never"}))}));return At=>{if(At.kind){const Wt=this.bestKeybindingForCodeAction(At,Mt.value);return Wt==null?void 0:Wt.resolvedKeybinding}}}bestKeybindingForCodeAction(Mt,At){if(!Mt.kind)return;const Wt=new a.yN(Mt.kind);return At.filter(qt=>qt.kind.contains(Wt)).filter(qt=>qt.preferred?Mt.isPreferred:!0).reduceRight((qt,at)=>qt?qt.kind.contains(at.kind)?at:qt:at,void 0)}};r.codeActionCommands=[N.Bb,N.RB,N.MN,N.uH,N.TM],r=f([s(0,d.d)],r);var m=i(42409),C=i(54195),u=i(96584),_=i(15779);const b=Object.freeze({kind:a.yN.Empty,title:(0,_.NC)("codeAction.widget.id.more","More Actions...")}),E=Object.freeze([{kind:a.yN.QuickFix,title:(0,_.NC)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:a.yN.RefactorExtract,title:(0,_.NC)("codeAction.widget.id.extract","Extract..."),icon:C.l.wrench},{kind:a.yN.RefactorInline,title:(0,_.NC)("codeAction.widget.id.inline","Inline..."),icon:C.l.wrench},{kind:a.yN.RefactorRewrite,title:(0,_.NC)("codeAction.widget.id.convert","Rewrite..."),icon:C.l.wrench},{kind:a.yN.RefactorMove,title:(0,_.NC)("codeAction.widget.id.move","Move..."),icon:C.l.wrench},{kind:a.yN.SurroundWith,title:(0,_.NC)("codeAction.widget.id.surround","Surround With..."),icon:C.l.symbolSnippet},{kind:a.yN.Source,title:(0,_.NC)("codeAction.widget.id.source","Source Action..."),icon:C.l.symbolFile},b]);function D(ui,Mt,At){if(!Mt)return ui.map(at=>({kind:"action",item:at,group:b,disabled:!!at.action.disabled,label:at.action.disabled||at.action.title}));const Wt=E.map(at=>({group:at,actions:[]}));for(const at of ui){const Ve=at.action.kind?new a.yN(at.action.kind):a.yN.None;for(const ze of Wt)if(ze.group.kind.contains(Ve)){ze.actions.push(at);break}}const qt=[];for(const at of Wt)if(at.actions.length){qt.push({kind:"header",group:at.group});for(const Ve of at.actions)qt.push({kind:"action",item:Ve,group:at.group,label:Ve.action.title,disabled:!!Ve.action.disabled,keybinding:At(Ve.action)})}return qt}var w=i(41967),I=i(38224),M=i(98290),K=i(47258),z=i(2898),Q=i(81189),Y=i(41420),H=i(81477),P=i(74964),X=i(78382),q=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},U=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}};const L="acceptSelectedCodeAction",B="previewSelectedCodeAction";class j{get templateId(){return"header"}renderTemplate(Mt){Mt.classList.add("group-header");const At=document.createElement("span");return Mt.append(At),{container:Mt,text:At}}renderElement(Mt,At,Wt){var qt,at;Wt.text.textContent=(at=(qt=Mt.group)===null||qt===void 0?void 0:qt.title)!==null&&at!==void 0?at:""}disposeTemplate(Mt){}}let G=class{get templateId(){return"action"}constructor(Mt,At){this._supportsPreview=Mt,this._keybindingService=At}renderTemplate(Mt){Mt.classList.add(this.templateId);const At=document.createElement("div");At.className="icon",Mt.append(At);const Wt=document.createElement("span");Wt.className="title",Mt.append(Wt);const qt=new K.e(Mt,Y.OS);return{container:Mt,icon:At,text:Wt,keybinding:qt}}renderElement(Mt,At,Wt){var qt,at,Ve;if(!((qt=Mt.group)===null||qt===void 0)&&qt.icon?(Wt.icon.className=Q.k.asClassName(Mt.group.icon),Mt.group.icon.color&&(Wt.icon.style.color=(0,X.n_1)(Mt.group.icon.color.id))):(Wt.icon.className=Q.k.asClassName(C.l.lightBulb),Wt.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!Mt.item||!Mt.label)return;Wt.text.textContent=me(Mt.label),Mt.keybinding?(Wt.keybinding.set(Mt.keybinding),x.$Z(Wt.keybinding.element)):x.Cp(Wt.keybinding.element);const ze=(at=this._keybindingService.lookupKeybinding(L))===null||at===void 0?void 0:at.getLabel(),Ae=(Ve=this._keybindingService.lookupKeybinding(B))===null||Ve===void 0?void 0:Ve.getLabel();if(Wt.container.classList.toggle("option-disabled",Mt.disabled),Mt.disabled?Wt.container.title=Mt.label:ze&&Ae?this._supportsPreview?Wt.container.title=(0,_.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",ze,Ae):Wt.container.title=(0,_.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",ze):Wt.container.title="",Mt.description){const Ge=new M.q(x.R3(Wt.container,x.$("span.label-description")));Ge.element.classList.add("action-list-description"),Ge.set(Mt.description)}}disposeTemplate(Mt){}};G=q([U(1,d.d)],G);class y extends UIEvent{constructor(){super("acceptSelectedAction")}}class pe extends UIEvent{constructor(){super("previewSelectedAction")}}let ye=class extends F.JT{constructor(Mt,At,Wt,qt,at,Ve){super(),this._delegate=qt,this._contextViewService=at,this._keybindingService=Ve,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const ze={getHeight:Ae=>Ae.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:Ae=>Ae.kind};this._list=this._register(new z.aV(Mt,this.domNode,ze,[new G(At,this._keybindingService),new j],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:Ae=>{if(Ae.kind==="action"){let Ge=Ae.label?me(Ae==null?void 0:Ae.label):"";return Ae.disabled&&(Ge=(0,_.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",Ge,Ae.disabled)),Ge}return null},getWidgetAriaLabel:()=>(0,_.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:Ae=>Ae.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(P.O2),this._register(this._list.onMouseClick(Ae=>this.onListClick(Ae))),this._register(this._list.onMouseOver(Ae=>this.onListHover(Ae))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(Ae=>this.onListSelection(Ae))),this._allMenuItems=Wt,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(Mt){return!Mt.disabled&&Mt.kind==="action"}hide(Mt){this._delegate.onHide(Mt),this._contextViewService.hideContextView()}layout(Mt){const At=this._allMenuItems.filter(Ge=>Ge.kind==="header").length,qt=this._allMenuItems.length*this._actionLineHeight+At*this._headerLineHeight-At*this._actionLineHeight;this._list.layout(qt);const at=this._allMenuItems.map((Ge,st)=>{const rt=document.getElementById(this._list.getElementID(st));if(rt){rt.style.width="auto";const xt=rt.getBoundingClientRect().width;return rt.style.width="",xt}return 0}),Ve=Math.max(...at,Mt),ze=.7,Ae=Math.min(qt,document.body.clientHeight*ze);return this._list.layout(Ae,Ve),this.domNode.style.height=`${Ae}px`,this._list.domFocus(),Ve}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(Mt){const At=this._list.getFocus();if(At.length===0)return;const Wt=At[0],qt=this._list.element(Wt);if(!this.focusCondition(qt))return;const at=Mt?new pe:new y;this._list.setSelection([Wt],at)}onListSelection(Mt){if(!Mt.elements.length)return;const At=Mt.elements[0];At.item&&this.focusCondition(At)?this._delegate.onSelect(At.item,Mt.browserEvent instanceof pe):this._list.setSelection([])}onListHover(Mt){this._list.setFocus(typeof Mt.index=="number"?[Mt.index]:[])}onListClick(Mt){Mt.element&&this.focusCondition(Mt.element)&&this._list.setFocus([])}};ye=q([U(4,H.u),U(5,d.d)],ye);function me(ui){return ui.replace(/\r\n|\r|\n/g," ")}var Se=i(49597),_e=i(23286),he=i(70751),le=i(64700),se=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},Re=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}};const $e={Visible:new _e.uy("codeActionMenuVisible",!1,(0,_.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},je=(0,le.yh)("actionWidgetService");let Ce=class extends F.JT{get isVisible(){return $e.Visible.getValue(this._contextKeyService)||!1}constructor(Mt,At,Wt){super(),this._contextViewService=Mt,this._contextKeyService=At,this._instantiationService=Wt,this._list=this._register(new F.XK)}show(Mt,At,Wt,qt,at,Ve,ze){const Ae=$e.Visible.bindTo(this._contextKeyService),Ge=this._instantiationService.createInstance(ye,Mt,At,Wt,qt);this._contextViewService.showContextView({getAnchor:()=>at,render:st=>(Ae.set(!0),this._renderWidget(st,Ge,ze!=null?ze:[])),onHide:st=>{Ae.reset(),this._onWidgetClosed(st)}},Ve,!1)}acceptSelected(Mt){var At;(At=this._list.value)===null||At===void 0||At.acceptSelected(Mt)}focusPrevious(){var Mt,At;(At=(Mt=this._list)===null||Mt===void 0?void 0:Mt.value)===null||At===void 0||At.focusPrevious()}focusNext(){var Mt,At;(At=(Mt=this._list)===null||Mt===void 0?void 0:Mt.value)===null||At===void 0||At.focusNext()}hide(){var Mt;(Mt=this._list.value)===null||Mt===void 0||Mt.hide(),this._list.clear()}_renderWidget(Mt,At,Wt){var qt;const at=document.createElement("div");if(at.classList.add("action-widget"),Mt.appendChild(at),this._list.value=At,this._list.value)at.appendChild(this._list.value.domNode);else throw new Error("List has no value");const Ve=new F.SL,ze=document.createElement("div"),Ae=Mt.appendChild(ze);Ae.classList.add("context-view-block"),Ve.add(x.nm(Ae,x.tw.MOUSE_DOWN,Gt=>Gt.stopPropagation()));const Ge=document.createElement("div"),st=Mt.appendChild(Ge);st.classList.add("context-view-pointerBlock"),Ve.add(x.nm(st,x.tw.POINTER_MOVE,()=>st.remove())),Ve.add(x.nm(st,x.tw.MOUSE_DOWN,()=>st.remove()));let rt=0;if(Wt.length){const Gt=this._createActionBar(".action-widget-action-bar",Wt);Gt&&(at.appendChild(Gt.getContainer().parentElement),Ve.add(Gt),rt=Gt.getContainer().offsetWidth)}const xt=(qt=this._list.value)===null||qt===void 0?void 0:qt.layout(rt);at.style.width=`${xt}px`;const Vt=Ve.add(x.go(Mt));return Ve.add(Vt.onDidBlur(()=>this.hide())),Ve}_createActionBar(Mt,At){if(!At.length)return;const Wt=x.$(Mt),qt=new I.o(Wt);return qt.push(At,{icon:!1,label:!0}),qt}_onWidgetClosed(Mt){var At;(At=this._list.value)===null||At===void 0||At.hide(Mt)}};Ce=se([Re(0,H.u),Re(1,_e.i6),Re(2,le.TG)],Ce),(0,he.z)(je,Ce,1);const J=100+1e3;(0,Se.r1)(class extends Se.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,_.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:$e.Visible,keybinding:{weight:J,primary:9,secondary:[1033]}})}run(ui){ui.get(je).hide()}}),(0,Se.r1)(class extends Se.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,_.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:$e.Visible,keybinding:{weight:J,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(ui){const Mt=ui.get(je);Mt instanceof Ce&&Mt.focusPrevious()}}),(0,Se.r1)(class extends Se.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,_.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:$e.Visible,keybinding:{weight:J,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(ui){const Mt=ui.get(je);Mt instanceof Ce&&Mt.focusNext()}}),(0,Se.r1)(class extends Se.Ke{constructor(){super({id:L,title:{value:(0,_.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:$e.Visible,keybinding:{weight:J,primary:3,secondary:[2132]}})}run(ui){const Mt=ui.get(je);Mt instanceof Ce&&Mt.acceptSelected()}}),(0,Se.r1)(class extends Se.Ke{constructor(){super({id:B,title:{value:(0,_.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:$e.Visible,keybinding:{weight:J,primary:2051}})}run(ui){const Mt=ui.get(je);Mt instanceof Ce&&Mt.acceptSelected(!0)}});var ne=i(21760),ae=i(64464),xe=i(92759),Ke=i(94162),ct=i(67770),ot=i(7903),dt=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},et=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}},Fe;(function(ui){ui.Hidden={type:0};class Mt{constructor(Wt,qt,at,Ve){this.actions=Wt,this.trigger=qt,this.editorPosition=at,this.widgetPosition=Ve,this.type=1}}ui.Showing=Mt})(Fe||(Fe={}));let Le=class Tc extends F.JT{constructor(Mt,At,Wt,qt){super(),this._editor=Mt,this._onClick=this._register(new Ke.Q5),this.onClick=this._onClick.event,this._state=Fe.Hidden,this._domNode=x.$("div.lightBulbWidget"),this._register(xe.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(at=>{const Ve=this._editor.getModel();(this.state.type!==1||!Ve||this.state.editorPosition.lineNumber>=Ve.getLineCount())&&this.hide()})),this._register(x.GQ(this._domNode,at=>{if(this.state.type!==1)return;this._editor.focus(),at.preventDefault();const{top:Ve,height:ze}=x.i(this._domNode),Ae=this._editor.getOption(63);let Ge=Math.floor(Ae/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Ge+=Ae),this._onClick.fire({x:at.posx,y:Ve+ze+Ge,actions:this.state.actions,trigger:this.state.trigger})})),this._register(x.nm(this._domNode,"mouseenter",at=>{(at.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(at=>{at.hasChanged(61)&&!this._editor.getOption(61).enabled&&this.hide()})),this._register(Ke.ju.runAndSubscribe(qt.onDidUpdateKeybindings,()=>{var at,Ve;this._preferredKbLabel=(0,ct.f6)((at=qt.lookupKeybinding(Wt))===null||at===void 0?void 0:at.getLabel()),this._quickFixKbLabel=(0,ct.f6)((Ve=qt.lookupKeybinding(At))===null||Ve===void 0?void 0:Ve.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(Mt,At,Wt){if(Mt.validActions.length<=0)return this.hide();const qt=this._editor.getOptions();if(!qt.get(61).enabled)return this.hide();const at=this._editor.getModel();if(!at)return this.hide();const{lineNumber:Ve,column:ze}=at.validatePosition(Wt),Ae=at.getOptions().tabSize,Ge=qt.get(47),st=at.getLineContent(Ve),rt=(0,ot.q)(st,Ae),xt=Ge.spaceWidth*rt>22,Vt=ai=>ai>2&&this._editor.getTopForLineNumber(ai)===this._editor.getTopForLineNumber(ai-1);let Gt=Ve;if(!xt){if(Ve>1&&!Vt(Ve-1))Gt-=1;else if(!Vt(Ve+1))Gt+=1;else if(ze*Ge.spaceWidth<22)return this.hide()}this.state=new Fe.Showing(Mt,At,Wt,{position:{lineNumber:Gt,column:1},preference:Tc._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==Fe.Hidden&&(this.state=Fe.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(Mt){this._state=Mt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...Q.k.asClassNameArray(C.l.lightBulb)),this._domNode.classList.add(...Q.k.asClassNameArray(C.l.lightbulbAutofix)),this._preferredKbLabel)){this.title=_.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}this._domNode.classList.remove(...Q.k.asClassNameArray(C.l.lightbulbAutofix)),this._domNode.classList.add(...Q.k.asClassNameArray(C.l.lightBulb)),this._quickFixKbLabel?this.title=_.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=_.NC("codeAction","Show Code Actions")}set title(Mt){this._domNode.title=Mt}};Le._posPref=[0],Le=dt([et(3,d.d)],Le);var Te=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},ge=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}},ve=function(ui,Mt,At,Wt){function qt(at){return at instanceof At?at:new At(function(Ve){Ve(at)})}return new(At||(At=Promise))(function(at,Ve){function ze(st){try{Ge(Wt.next(st))}catch(rt){Ve(rt)}}function Ae(st){try{Ge(Wt.throw(st))}catch(rt){Ve(rt)}}function Ge(st){st.done?at(st.value):qt(st.value).then(ze,Ae)}Ge((Wt=Wt.apply(ui,Mt||[])).next())})},we=function(ui,Mt,At,Wt,qt){if(Wt==="m")throw new TypeError("Private method is not writable");if(Wt==="a"&&!qt)throw new TypeError("Private accessor was defined without a setter");if(typeof Mt=="function"?ui!==Mt||!qt:!Mt.has(ui))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Wt==="a"?qt.call(ui,At):qt?qt.value=At:Mt.set(ui,At),At},Oe=function(ui,Mt,At,Wt){if(At==="a"&&!Wt)throw new TypeError("Private accessor was defined without a getter");if(typeof Mt=="function"?ui!==Mt||!Wt:!Mt.has(ui))throw new TypeError("Cannot read private member from an object whose class did not declare it");return At==="m"?Wt:At==="a"?Wt.call(ui):Wt?Wt.value:Mt.get(ui)},He;let mt=class extends F.JT{constructor(Mt,At,Wt,qt,at,Ve,ze,Ae){super(),this._editor=Mt,this.delegate=qt,this._configurationService=Ve,this._actionWidgetService=ze,this._commandService=Ae,this._activeCodeActions=this._register(new F.XK),He.set(this,!1),this._showDisabled=!1,this._lightBulbWidget=new c.o(()=>{const Ge=this._register(at.createInstance(Le,this._editor,At,Wt));return this._register(Ge.onClick(st=>this.showCodeActionList(st.actions,st,{includeDisabledActions:!1,fromLightbulb:!0}))),Ge}),this._resolver=at.createInstance(r),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){we(this,He,!0,"f"),super.dispose()}update(Mt){var At,Wt,qt,at,Ve;return ve(this,void 0,void 0,function*(){if(Mt.type!==1){(At=this._lightBulbWidget.rawValue)===null||At===void 0||At.hide();return}let ze;try{ze=yield Mt.actions}catch(Ae){(0,O.dL)(Ae);return}if(!Oe(this,He,"f"))if(this._lightBulbWidget.value.update(ze,Mt.trigger,Mt.position),Mt.trigger.type===1){if(!((Wt=Mt.trigger.filter)===null||Wt===void 0)&&Wt.include){const Ge=this.tryGetValidActionToApply(Mt.trigger,ze);if(Ge){try{this._lightBulbWidget.value.hide(),yield this.delegate.applyCodeAction(Ge,!1,!1)}finally{ze.dispose()}return}if(Mt.trigger.context){const st=this.getInvalidActionThatWouldHaveBeenApplied(Mt.trigger,ze);if(st&&st.action.disabled){(qt=w.O.get(this._editor))===null||qt===void 0||qt.showMessage(st.action.disabled,Mt.trigger.context.position),ze.dispose();return}}}const Ae=!!(!((at=Mt.trigger.filter)===null||at===void 0)&&at.include);if(Mt.trigger.context&&(!ze.allActions.length||!Ae&&!ze.validActions.length)){(Ve=w.O.get(this._editor))===null||Ve===void 0||Ve.showMessage(Mt.trigger.context.notAvailableMessage,Mt.trigger.context.position),this._activeCodeActions.value=ze,ze.dispose();return}this._activeCodeActions.value=ze,this.showCodeActionList(ze,this.toCoords(Mt.position),{includeDisabledActions:Ae,fromLightbulb:!1})}else this._actionWidgetService.isVisible?ze.dispose():this._activeCodeActions.value=ze})}getInvalidActionThatWouldHaveBeenApplied(Mt,At){if(At.allActions.length&&(Mt.autoApply==="first"&&At.validActions.length===0||Mt.autoApply==="ifSingle"&&At.allActions.length===1))return At.allActions.find(({action:Wt})=>Wt.disabled)}tryGetValidActionToApply(Mt,At){if(At.validActions.length&&(Mt.autoApply==="first"&&At.validActions.length>0||Mt.autoApply==="ifSingle"&&At.validActions.length===1))return At.validActions[0]}showCodeActionList(Mt,At,Wt){return ve(this,void 0,void 0,function*(){const qt=this._editor.getDomNode();if(!qt)return;const at=Wt.includeDisabledActions&&(this._showDisabled||Mt.validActions.length===0)?Mt.allActions:Mt.validActions;if(!at.length)return;const Ve=p.L.isIPosition(At)?this.toCoords(At):At,ze={onSelect:(Ae,Ge)=>ve(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Ae,!0,Ge||!1),this._actionWidgetService.hide()}),onHide:()=>{var Ae;(Ae=this._editor)===null||Ae===void 0||Ae.focus()}};this._actionWidgetService.show("codeActionWidget",!0,D(at,this._shouldShowHeaders(),this._resolver.getResolver()),ze,Ve,qt,this._getActionBarActions(Mt,At,Wt))})}toCoords(Mt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Mt,1),this._editor.render();const At=this._editor.getScrolledVisiblePosition(Mt),Wt=(0,x.i)(this._editor.getDomNode()),qt=Wt.left+At.left,at=Wt.top+At.top+At.height;return{x:qt,y:at}}_shouldShowHeaders(){var Mt;const At=(Mt=this._editor)===null||Mt===void 0?void 0:Mt.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:At==null?void 0:At.uri})}_getActionBarActions(Mt,At,Wt){if(Wt.fromLightbulb)return[];const qt=Mt.documentation.map(at=>{var Ve;return{id:at.id,label:at.title,tooltip:(Ve=at.tooltip)!==null&&Ve!==void 0?Ve:"",class:void 0,enabled:!0,run:()=>{var ze;return this._commandService.executeCommand(at.id,...(ze=at.commandArguments)!==null&&ze!==void 0?ze:[])}}});return Wt.includeDisabledActions&&Mt.validActions.length>0&&Mt.allActions.length!==Mt.validActions.length&&qt.push(this._showDisabled?{id:"hideMoreActions",label:(0,_.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(Mt,At,Wt))}:{id:"showMoreActions",label:(0,_.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(Mt,At,Wt))}),qt}};He=new WeakMap,mt=Te([ge(4,le.TG),ge(5,ae.Ui),ge(6,je),ge(7,ne.H)],mt);var bt=i(85901),kt=i(26348),Ut=i(39460),ut=i(17349),Dt=function(ui,Mt,At,Wt){if(At==="a"&&!Wt)throw new TypeError("Private accessor was defined without a getter");if(typeof Mt=="function"?ui!==Mt||!Wt:!Mt.has(ui))throw new TypeError("Cannot read private member from an object whose class did not declare it");return At==="m"?Wt:At==="a"?Wt.call(ui):Wt?Wt.value:Mt.get(ui)},ft=function(ui,Mt,At,Wt,qt){if(Wt==="m")throw new TypeError("Private method is not writable");if(Wt==="a"&&!qt)throw new TypeError("Private accessor was defined without a setter");if(typeof Mt=="function"?ui!==Mt||!qt:!Mt.has(ui))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Wt==="a"?qt.call(ui,At):qt?qt.value=At:Mt.set(ui,At),At},Ft;const Et=new _e.uy("supportedCodeAction","");class Ze extends F.JT{constructor(Mt,At,Wt,qt=250){super(),this._editor=Mt,this._markerService=At,this._signalChange=Wt,this._delay=qt,this._autoTriggerTimer=this._register(new Ut._F),this._register(this._markerService.onMarkerChanged(at=>this._onMarkerChanges(at))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Mt){const At=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Mt);return this._createEventAndSignalChange(Mt,At)}_onMarkerChanges(Mt){const At=this._editor.getModel();At&&Mt.some(Wt=>(0,ut.Xy)(Wt,At.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:a.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:a.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(Mt){if(!this._editor.hasModel())return;const At=this._editor.getModel(),Wt=this._editor.getSelection();if(Wt.isEmpty()&&Mt.type===2){const{lineNumber:qt,column:at}=Wt.getPosition(),Ve=At.getLineContent(qt);if(Ve.length===0)return;if(at===1){if(/\s/.test(Ve[0]))return}else if(at===At.getLineMaxColumn(qt)){if(/\s/.test(Ve[Ve.length-1]))return}else if(/\s/.test(Ve[at-2])&&/\s/.test(Ve[at-1]))return}return Wt}_createEventAndSignalChange(Mt,At){const Wt=this._editor.getModel();if(!At||!Wt){this._signalChange(void 0);return}const qt={trigger:Mt,selection:At,position:At.getStartPosition()};return this._signalChange(qt),qt}}var St;(function(ui){ui.Empty={type:0};class Mt{constructor(Wt,qt,at,Ve){this.trigger=Wt,this.rangeOrSelection=qt,this.position=at,this._cancellablePromise=Ve,this.type=1,this.actions=Ve.catch(ze=>{if((0,O.n2)(ze))return jt;throw ze})}cancel(){this._cancellablePromise.cancel()}}ui.Triggered=Mt})(St||(St={}));const jt={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Ct extends F.JT{constructor(Mt,At,Wt,qt,at){super(),this._editor=Mt,this._registry=At,this._markerService=Wt,this._progressService=at,this._codeActionOracle=this._register(new F.XK),this._state=St.Empty,this._onDidChangeState=this._register(new Ke.Q5),this.onDidChangeState=this._onDidChangeState.event,Ft.set(this,!1),this._supportedCodeActions=Et.bindTo(qt),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Dt(this,Ft,"f")||(ft(this,Ft,!0,"f"),super.dispose(),this.setState(St.Empty,!0))}_update(){if(Dt(this,Ft,"f"))return;this._codeActionOracle.value=void 0,this.setState(St.Empty);const Mt=this._editor.getModel();if(Mt&&this._registry.has(Mt)&&!this._editor.getOption(86)){const At=[];for(const Wt of this._registry.all(Mt))Array.isArray(Wt.providedCodeActionKinds)&&At.push(...Wt.providedCodeActionKinds);this._supportedCodeActions.set(At.join(" ")),this._codeActionOracle.value=new Ze(this._editor,this._markerService,Wt=>{var qt;if(!Wt){this.setState(St.Empty);return}const at=(0,Ut.PG)(Ve=>(0,N.aI)(this._registry,Mt,Wt.selection,Wt.trigger,kt.Ex.None,Ve));Wt.trigger.type===1&&((qt=this._progressService)===null||qt===void 0||qt.showWhile(at,250)),this.setState(new St.Triggered(Wt.trigger,Wt.selection,Wt.position,at))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:a.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Mt){var At;(At=this._codeActionOracle.value)===null||At===void 0||At.trigger(Mt)}setState(Mt,At){Mt!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=Mt,!At&&!Dt(this,Ft,"f")&&this._onDidChangeState.fire(Mt))}}Ft=new WeakMap;var _t=function(ui,Mt,At,Wt){var qt=arguments.length,at=qt<3?Mt:Wt===null?Wt=Object.getOwnPropertyDescriptor(Mt,At):Wt,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(ui,Mt,At,Wt);else for(var ze=ui.length-1;ze>=0;ze--)(Ve=ui[ze])&&(at=(qt<3?Ve(at):qt>3?Ve(Mt,At,at):Ve(Mt,At))||at);return qt>3&&at&&Object.defineProperty(Mt,At,at),at},Kt=function(ui,Mt){return function(At,Wt){Mt(At,Wt,ui)}},Zt=function(ui,Mt,At,Wt){function qt(at){return at instanceof At?at:new At(function(Ve){Ve(at)})}return new(At||(At=Promise))(function(at,Ve){function ze(st){try{Ge(Wt.next(st))}catch(rt){Ve(rt)}}function Ae(st){try{Ge(Wt.throw(st))}catch(rt){Ve(rt)}}function Ge(st){st.done?at(st.value):qt(st.value).then(ze,Ae)}Ge((Wt=Wt.apply(ui,Mt||[])).next())})};function li(ui){return _e.Ao.regex(Et.keys()[0],new RegExp("(\\s|^)"+(0,g.ec)(ui.value)+"\\b"))}function ri(ui,Mt,At,Wt){const qt=a.wZ.fromUser(Mt,{kind:a.yN.Refactor,apply:"never"});return Qi(ui,typeof(Mt==null?void 0:Mt.kind)=="string"?qt.preferred?_.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Mt.kind):_.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Mt.kind):qt.preferred?_.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:a.yN.Refactor.contains(qt.kind)?qt.kind:a.yN.None,onlyIncludePreferredActions:qt.preferred},qt.apply,At,Wt)}const Ui={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_.NC("args.schema.apply.first","Always apply the first returned code action."),_.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let on=class Rc extends F.JT{static get(Mt){return Mt.getContribution(Rc.ID)}constructor(Mt,At,Wt,qt,at,Ve){super(),this._instantiationService=at,this._editor=Mt,this._model=this._register(new Ct(this._editor,Ve.codeActionProvider,At,Wt,qt)),this._register(this._model.onDidChangeState(ze=>this.update(ze))),this._ui=new c.o(()=>this._register(at.createInstance(mt,Mt,un.Id,pn.Id,{applyCodeAction:(ze,Ae,Ge)=>Zt(this,void 0,void 0,function*(){try{yield this._applyCodeAction(ze,Ge)}finally{Ae&&this._trigger({type:2,triggerAction:a.aQ.QuickFix,filter:{}})}})})))}update(Mt){this._ui.value.update(Mt)}showCodeActions(Mt,At,Wt){return this._ui.value.showCodeActionList(At,Wt,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Mt,At,Wt,qt,at){var Ve;if(!this._editor.hasModel())return;(Ve=w.O.get(this._editor))===null||Ve===void 0||Ve.closeMessage();const ze=this._editor.getPosition();this._trigger({type:1,triggerAction:At,filter:Wt,autoApply:qt,context:{notAvailableMessage:Mt,position:ze},preview:at})}_trigger(Mt){return this._model.trigger(Mt)}_applyCodeAction(Mt,At){return this._instantiationService.invokeFunction(N.LR,Mt,N.UX.FromCodeActions,{preview:At,editor:this._editor})}};on.ID="editor.contrib.codeActionController",on=_t([Kt(1,bt.lT),Kt(2,_e.i6),Kt(3,kt.ek),Kt(4,le.TG),Kt(5,$.p)],on);function Qi(ui,Mt,At,Wt,qt=!1,at=a.aQ.Default){if(ui.hasModel()){const Ve=on.get(ui);Ve==null||Ve.manualTriggerAtCurrentPosition(Mt,at,At,Wt,qt)}}class un extends A.R6{constructor(){super({id:un.Id,label:_.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:_e.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),kbOpts:{kbExpr:S.u.editorTextFocus,primary:2132,weight:100}})}run(Mt,At){return Qi(At,_.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,a.aQ.QuickFix)}}un.Id="editor.action.quickFix";class Sn extends A._l{constructor(){super({id:N.RB,precondition:_e.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Ui}]}})}runEditorCommand(Mt,At,Wt){const qt=a.wZ.fromUser(Wt,{kind:a.yN.Empty,apply:"ifSingle"});return Qi(At,typeof(Wt==null?void 0:Wt.kind)=="string"?qt.preferred?_.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",Wt.kind):_.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",Wt.kind):qt.preferred?_.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:qt.kind,includeSourceActions:!0,onlyIncludePreferredActions:qt.preferred},qt.apply)}}class bn extends A.R6{constructor(){super({id:N.Bb,label:_.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:_e.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),kbOpts:{kbExpr:S.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:_e.Ao.and(S.u.writable,li(a.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Ui}]}})}run(Mt,At,Wt){return ri(At,Wt,!1,a.aQ.Refactor)}}class Cn extends A.R6{constructor(){super({id:N.sh,label:_.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:_e.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:Ui}]}})}run(Mt,At,Wt){return ri(At,Wt,!0,a.aQ.RefactorPreview)}}class Fi extends A.R6{constructor(){super({id:N.MN,label:_.NC("source.label","Source Action..."),alias:"Source Action...",precondition:_e.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:_e.Ao.and(S.u.writable,li(a.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Ui}]}})}run(Mt,At,Wt){const qt=a.wZ.fromUser(Wt,{kind:a.yN.Source,apply:"never"});return Qi(At,typeof(Wt==null?void 0:Wt.kind)=="string"?qt.preferred?_.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",Wt.kind):_.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",Wt.kind):qt.preferred?_.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):_.NC("editor.action.source.noneMessage","No source actions available"),{include:a.yN.Source.contains(qt.kind)?qt.kind:a.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:qt.preferred},qt.apply,void 0,a.aQ.SourceAction)}}class On extends A.R6{constructor(){super({id:N.uH,label:_.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:_e.Ao.and(S.u.writable,li(a.yN.SourceOrganizeImports)),kbOpts:{kbExpr:S.u.editorTextFocus,primary:1581,weight:100}})}run(Mt,At){return Qi(At,_.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:a.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,a.aQ.OrganizeImports)}}class rn extends A.R6{constructor(){super({id:N.TM,label:_.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:_e.Ao.and(S.u.writable,li(a.yN.SourceFixAll))})}run(Mt,At){return Qi(At,_.NC("fixAll.noneMessage","No fix all action available"),{include:a.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,a.aQ.FixAll)}}class pn extends A.R6{constructor(){super({id:pn.Id,label:_.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:_e.Ao.and(S.u.writable,li(a.yN.QuickFix)),kbOpts:{kbExpr:S.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(Mt,At){return Qi(At,_.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:a.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,a.aQ.AutoFix)}}pn.Id="editor.action.autoFix"},93775:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(107),g=i(90609),A=i(15779),S=i(29628),$=i(94814);(0,c._K)(g.G6.ID,g.G6,3),(0,c.Qr)(g.E7),(0,c.Qr)(g.Eb),(0,c.Qr)(g.UG),(0,c.Qr)(g.VQ),(0,c.Qr)(g.o$),(0,c.Qr)(g.S5),(0,c.Qr)(g.Hv),(0,c.fK)(new g.dW),$.B.as(S.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},F.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:A.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}))},87545:function(vt,be,i){"use strict";i.d(be,{EU:function(){return S},Yl:function(){return $},aQ:function(){return A},bA:function(){return O},wZ:function(){return x},yN:function(){return g}});var c=i(50505),F=function(p,a,d,f){function s(r){return r instanceof d?r:new d(function(m){m(r)})}return new(d||(d=Promise))(function(r,m){function C(b){try{_(f.next(b))}catch(E){m(E)}}function u(b){try{_(f.throw(b))}catch(E){m(E)}}function _(b){b.done?r(b.value):s(b.value).then(C,u)}_((f=f.apply(p,a||[])).next())})};class g{constructor(a){this.value=a}equals(a){return this.value===a.value}contains(a){return this.equals(a)||this.value===""||a.value.startsWith(this.value+g.sep)}intersects(a){return this.contains(a)||a.contains(this)}append(a){return new g(this.value+g.sep+a)}}g.sep=".",g.None=new g("@@none@@"),g.Empty=new g(""),g.QuickFix=new g("quickfix"),g.Refactor=new g("refactor"),g.RefactorExtract=g.Refactor.append("extract"),g.RefactorInline=g.Refactor.append("inline"),g.RefactorMove=g.Refactor.append("move"),g.RefactorRewrite=g.Refactor.append("rewrite"),g.Source=new g("source"),g.SourceOrganizeImports=g.Source.append("organizeImports"),g.SourceFixAll=g.Source.append("fixAll"),g.SurroundWith=g.Refactor.append("surround");var A;(function(p){p.Refactor="refactor",p.RefactorPreview="refactor preview",p.Lightbulb="lightbulb",p.Default="other (default)",p.SourceAction="source action",p.QuickFix="quick fix action",p.FixAll="fix all",p.OrganizeImports="organize imports",p.AutoFix="auto fix",p.QuickFixHover="quick fix hover window",p.OnSave="save participants",p.ProblemsView="problems view"})(A||(A={}));function S(p,a){return!(p.include&&!p.include.intersects(a)||p.excludes&&p.excludes.some(d=>N(a,d,p.include))||!p.includeSourceActions&&g.Source.contains(a))}function $(p,a){const d=a.kind?new g(a.kind):void 0;return!(p.include&&(!d||!p.include.contains(d))||p.excludes&&d&&p.excludes.some(f=>N(d,f,p.include))||!p.includeSourceActions&&d&&g.Source.contains(d)||p.onlyIncludePreferredActions&&!a.isPreferred)}function N(p,a,d){return!(!a.contains(p)||d&&a.contains(d))}class x{static fromUser(a,d){return!a||typeof a!="object"?new x(d.kind,d.apply,!1):new x(x.getKindFromUser(a,d.kind),x.getApplyFromUser(a,d.apply),x.getPreferredUser(a))}static getApplyFromUser(a,d){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return d}}static getKindFromUser(a,d){return typeof a.kind=="string"?new g(a.kind):d}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}constructor(a,d,f){this.kind=a,this.apply=d,this.preferred=f}}class O{constructor(a,d){this.action=a,this.provider=d}resolve(a){var d;return F(this,void 0,void 0,function*(){if(!((d=this.provider)===null||d===void 0)&&d.resolveCodeAction&&!this.action.edit){let f;try{f=yield this.provider.resolveCodeAction(this.action,a)}catch(s){(0,c.Cp)(s)}f&&(this.action.edit=f.edit)}return this})}}},64763:function(vt,be,i){"use strict";i.r(be),i.d(be,{CodeLensContribution:function(){return Se}});var c=i(39460),F=i(50505),g=i(52357),A=i(43167),S=i(98981),$=i(32052),N=i(73805),x=i(19713),O=i(67770),p=i(39508),a=i(6033),d=i(21760),f=i(26340),s=function(_e,he,le,se){function Re($e){return $e instanceof le?$e:new le(function(je){je($e)})}return new(le||(le=Promise))(function($e,je){function Ce(ae){try{ne(se.next(ae))}catch(xe){je(xe)}}function J(ae){try{ne(se.throw(ae))}catch(xe){je(xe)}}function ne(ae){ae.done?$e(ae.value):Re(ae.value).then(Ce,J)}ne((se=se.apply(_e,he||[])).next())})};class r{constructor(){this.lenses=[],this._disposables=new g.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(he,le){this._disposables.add(he);for(const se of he.lenses)this.lenses.push({symbol:se,provider:le})}}function m(_e,he,le){return s(this,void 0,void 0,function*(){const se=_e.ordered(he),Re=new Map,$e=new r,je=se.map((Ce,J)=>s(this,void 0,void 0,function*(){Re.set(Ce,J);try{const ne=yield Promise.resolve(Ce.provideCodeLenses(he,le));ne&&$e.add(ne,Ce)}catch(ne){(0,F.Cp)(ne)}}));return yield Promise.all(je),$e.lenses=$e.lenses.sort((Ce,J)=>Ce.symbol.range.startLineNumber<J.symbol.range.startLineNumber?-1:Ce.symbol.range.startLineNumber>J.symbol.range.startLineNumber?1:Re.get(Ce.provider)<Re.get(J.provider)?-1:Re.get(Ce.provider)>Re.get(J.provider)?1:Ce.symbol.range.startColumn<J.symbol.range.startColumn?-1:Ce.symbol.range.startColumn>J.symbol.range.startColumn?1:0),$e})}d.P.registerCommand("_executeCodeLensProvider",function(_e,...he){let[le,se]=he;(0,O.p_)(p.o.isUri(le)),(0,O.p_)(typeof se=="number"||!se);const{codeLensProvider:Re}=_e.get(f.p),$e=_e.get(a.q).getModel(le);if(!$e)throw(0,F.b1)();const je=[],Ce=new g.SL;return m(Re,$e,x.T.None).then(J=>{Ce.add(J);const ne=[];for(const ae of J.lenses)se==null||Boolean(ae.symbol.command)?je.push(ae.symbol):se-- >0&&ae.provider.resolveCodeLens&&ne.push(Promise.resolve(ae.provider.resolveCodeLens($e,ae.symbol,x.T.None)).then(xe=>je.push(xe||ae.symbol)));return Promise.all(ne)}).then(()=>je).finally(()=>{setTimeout(()=>Ce.dispose(),100)})});var C=i(52473),u=i(15463),_=i(22445),b=i(70751),E=i(64700),D=i(47955),w=function(_e,he,le,se){var Re=arguments.length,$e=Re<3?he:se===null?se=Object.getOwnPropertyDescriptor(he,le):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$e=Reflect.decorate(_e,he,le,se);else for(var Ce=_e.length-1;Ce>=0;Ce--)(je=_e[Ce])&&($e=(Re<3?je($e):Re>3?je(he,le,$e):je(he,le))||$e);return Re>3&&$e&&Object.defineProperty(he,le,$e),$e},I=function(_e,he){return function(le,se){he(le,se,_e)}};const M=(0,E.yh)("ICodeLensCache");class K{constructor(he,le){this.lineCount=he,this.data=le}}let z=class{constructor(he){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new u.z6(20,.75);const le="codelens/cache";(0,c.To)(()=>he.remove(le,1));const se="codelens/cache2",Re=he.get(se,1,"{}");this._deserialize(Re),(0,C.I)(he.onWillSaveState)($e=>{$e.reason===D.fk.SHUTDOWN&&he.store(se,this._serialize(),1,1)})}put(he,le){const se=le.lenses.map(je=>{var Ce;return{range:je.symbol.range,command:je.symbol.command&&{id:"",title:(Ce=je.symbol.command)===null||Ce===void 0?void 0:Ce.title}}}),Re=new r;Re.add({lenses:se,dispose:()=>{}},this._fakeProvider);const $e=new K(he.getLineCount(),Re);this._cache.set(he.uri.toString(),$e)}get(he){const le=this._cache.get(he.uri.toString());return le&&le.lineCount===he.getLineCount()?le.data:void 0}delete(he){this._cache.delete(he.uri.toString())}_serialize(){const he=Object.create(null);for(const[le,se]of this._cache){const Re=new Set;for(const $e of se.data.lenses)Re.add($e.symbol.range.startLineNumber);he[le]={lineCount:se.lineCount,lines:[...Re.values()]}}return JSON.stringify(he)}_deserialize(he){try{const le=JSON.parse(he);for(const se in le){const Re=le[se],$e=[];for(const Ce of Re.lines)$e.push({range:new _.e(Ce,1,Ce,11)});const je=new r;je.add({lenses:$e,dispose(){}},this._fakeProvider),this._cache.set(se,new K(Re.lineCount,je))}}catch(le){}}};z=w([I(0,D.Uy)],z),(0,b.z)(M,z,1);var Q=i(16563),Y=i(20915),H=i(73740);class P{constructor(he,le,se){this.afterColumn=1073741824,this.afterLineNumber=he,this.heightInPx=le,this._onHeight=se,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(he){this._lastHeight===void 0?this._lastHeight=he:this._lastHeight!==he&&(this._lastHeight=he,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class X{constructor(he,le){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=he,this._id=`codelens.widget-${X._idPool++}`,this.updatePosition(le),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(he,le){this._commands.clear();const se=[];let Re=!1;for(let $e=0;$e<he.length;$e++){const je=he[$e];if(je&&(Re=!0,je.command)){const Ce=(0,Y.T)(je.command.title.trim());je.command.id?(se.push(Q.$("a",{id:String($e),title:je.command.tooltip,role:"button"},...Ce)),this._commands.set(String($e),je.command)):se.push(Q.$("span",{title:je.command.tooltip},...Ce)),$e+1<he.length&&se.push(Q.$("span",void 0,"\xA0|\xA0"))}}Re?(Q.mc(this._domNode,...se),this._isEmpty&&le&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Q.mc(this._domNode,Q.$("span",void 0,"no commands"))}getCommand(he){return he.parentElement===this._domNode?this._commands.get(he.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(he){const le=this._editor.getModel().getLineFirstNonWhitespaceColumn(he);this._widgetPosition={position:{lineNumber:he,column:le},preference:[1]}}getPosition(){return this._widgetPosition||null}}X._idPool=0;class q{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(he,le){this._addDecorations.push(he),this._addDecorationsCallbacks.push(le)}removeDecoration(he){this._removeDecorations.push(he)}commit(he){const le=he.deltaDecorations(this._removeDecorations,this._addDecorations);for(let se=0,Re=le.length;se<Re;se++)this._addDecorationsCallbacks[se](le[se])}}const U=H.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class L{constructor(he,le,se,Re,$e,je){this._isDisposed=!1,this._editor=le,this._data=he,this._decorationIds=[];let Ce;const J=[];this._data.forEach((ne,ae)=>{ne.symbol.command&&J.push(ne.symbol),se.addDecoration({range:ne.symbol.range,options:U},xe=>this._decorationIds[ae]=xe),Ce?Ce=_.e.plusRange(Ce,ne.symbol.range):Ce=_.e.lift(ne.symbol.range)}),this._viewZone=new P(Ce.startLineNumber-1,$e,je),this._viewZoneId=Re.addZone(this._viewZone),J.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(J,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new X(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(he,le){this._decorationIds.forEach(he.removeDecoration,he),this._decorationIds=[],le==null||le.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((he,le)=>{const se=this._editor.getModel().getDecorationRange(he),Re=this._data[le].symbol;return!!(se&&_.e.isEmpty(Re.range)===se.isEmpty())})}updateCodeLensSymbols(he,le){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],this._data=he,this._data.forEach((se,Re)=>{le.addDecoration({range:se.symbol.range,options:U},$e=>this._decorationIds[Re]=$e)})}updateHeight(he,le){this._viewZone.heightInPx=he,le.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(he){if(!this._viewZone.isVisible())return null;for(let le=0;le<this._decorationIds.length;le++){const se=he.getDecorationRange(this._decorationIds[le]);se&&(this._data[le].symbol.range=se)}return this._data}updateCommands(he){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(he,!0);for(let le=0;le<this._data.length;le++){const se=he[le];if(se){const{symbol:Re}=this._data[le];Re.command=se.command||Re.command}}}getCommand(he){var le;return(le=this._contentWidget)===null||le===void 0?void 0:le.getCommand(he)}getLineNumber(){const he=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return he?he.startLineNumber:-1}update(he){if(this.isValid()){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);le&&(this._viewZone.afterLineNumber=le.startLineNumber-1,he.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(le.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var B=i(15779),j=i(28382),G=i(93611),y=i(16978),pe=function(_e,he,le,se){var Re=arguments.length,$e=Re<3?he:se===null?se=Object.getOwnPropertyDescriptor(he,le):se,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$e=Reflect.decorate(_e,he,le,se);else for(var Ce=_e.length-1;Ce>=0;Ce--)(je=_e[Ce])&&($e=(Re<3?je($e):Re>3?je(he,le,$e):je(he,le))||$e);return Re>3&&$e&&Object.defineProperty(he,le,$e),$e},ye=function(_e,he){return function(le,se){he(le,se,_e)}},me=function(_e,he,le,se){function Re($e){return $e instanceof le?$e:new le(function(je){je($e)})}return new(le||(le=Promise))(function($e,je){function Ce(ae){try{ne(se.next(ae))}catch(xe){je(xe)}}function J(ae){try{ne(se.throw(ae))}catch(xe){je(xe)}}function ne(ae){ae.done?$e(ae.value):Re(ae.value).then(Ce,J)}ne((se=se.apply(_e,he||[])).next())})};let Se=class{constructor(he,le,se,Re,$e,je){this._editor=he,this._languageFeaturesService=le,this._commandService=Re,this._notificationService=$e,this._codeLensCache=je,this._disposables=new g.SL,this._localToDispose=new g.SL,this._lenses=[],this._oldCodeLensModels=new g.SL,this._provideCodeLensDebounce=se.for(le.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=se.for(le.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new c.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(Ce=>{(Ce.hasChanged(47)||Ce.hasChanged(16)||Ce.hasChanged(15))&&this._updateLensStyle(),Ce.hasChanged(14)&&this._onModelChange()})),this._disposables.add(le.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var he;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(he=this._currentCodeLensModel)===null||he===void 0||he.dispose()}_getLayoutInfo(){const he=Math.max(1.3,this._editor.getOption(63)/this._editor.getOption(49));let le=this._editor.getOption(16);return(!le||le<5)&&(le=this._editor.getOption(49)*.9|0),{fontSize:le,codeLensHeight:le*he|0}}_updateLensStyle(){const{codeLensHeight:he,fontSize:le}=this._getLayoutInfo(),se=this._editor.getOption(15),Re=this._editor.getOption(47),{style:$e}=this._editor.getContainerDomNode();$e.setProperty("--vscode-editorCodeLens-lineHeight",`${he}px`),$e.setProperty("--vscode-editorCodeLens-fontSize",`${le}px`),$e.setProperty("--vscode-editorCodeLens-fontFeatureSettings",Re.fontFeatureSettings),se&&($e.setProperty("--vscode-editorCodeLens-fontFamily",se),$e.setProperty("--vscode-editorCodeLens-fontFamilyDefault",$.hL.fontFamily)),this._editor.changeViewZones(je=>{for(const Ce of this._lenses)Ce.updateHeight(he,je)})}_localDispose(){var he,le,se;(he=this._getCodeLensModelPromise)===null||he===void 0||he.cancel(),this._getCodeLensModelPromise=void 0,(le=this._resolveCodeLensesPromise)===null||le===void 0||le.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(se=this._currentCodeLensModel)===null||se===void 0||se.dispose()}_onModelChange(){this._localDispose();const he=this._editor.getModel();if(!he||!this._editor.getOption(14))return;const le=this._codeLensCache.get(he);if(le&&this._renderCodeLensSymbols(le),!this._languageFeaturesService.codeLensProvider.has(he)){le&&this._localToDispose.add((0,c.Vg)(()=>{const Re=this._codeLensCache.get(he);le===Re&&(this._codeLensCache.delete(he),this._onModelChange())},30*1e3));return}for(const Re of this._languageFeaturesService.codeLensProvider.all(he))if(typeof Re.onDidChange=="function"){const $e=Re.onDidChange(()=>se.schedule());this._localToDispose.add($e)}const se=new c.pY(()=>{var Re;const $e=Date.now();(Re=this._getCodeLensModelPromise)===null||Re===void 0||Re.cancel(),this._getCodeLensModelPromise=(0,c.PG)(je=>m(this._languageFeaturesService.codeLensProvider,he,je)),this._getCodeLensModelPromise.then(je=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=je,this._codeLensCache.put(he,je);const Ce=this._provideCodeLensDebounce.update(he,Date.now()-$e);se.delay=Ce,this._renderCodeLensSymbols(je),this._resolveCodeLensesInViewportSoon()},F.dL)},this._provideCodeLensDebounce.get(he));this._localToDispose.add(se),this._localToDispose.add((0,g.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(Re=>{this._editor.changeViewZones($e=>{const je=[];let Ce=-1;this._lenses.forEach(ne=>{!ne.isValid()||Ce===ne.getLineNumber()?je.push(ne):(ne.update($e),Ce=ne.getLineNumber())});const J=new q;je.forEach(ne=>{ne.dispose(J,$e),this._lenses.splice(this._lenses.indexOf(ne),1)}),J.commit(Re)})}),se.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{se.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(Re=>{Re.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,g.OF)(()=>{if(this._editor.getModel()){const Re=A.Z.capture(this._editor);this._editor.changeDecorations($e=>{this._editor.changeViewZones(je=>{this._disposeAllLenses($e,je)})}),Re.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Re=>{if(Re.target.type!==9)return;let $e=Re.target.element;if(($e==null?void 0:$e.tagName)==="SPAN"&&($e=$e.parentElement),($e==null?void 0:$e.tagName)==="A")for(const je of this._lenses){const Ce=je.getCommand($e);if(Ce){this._commandService.executeCommand(Ce.id,...Ce.arguments||[]).catch(J=>this._notificationService.error(J));break}}})),se.schedule()}_disposeAllLenses(he,le){const se=new q;for(const Re of this._lenses)Re.dispose(se,le);he&&se.commit(he),this._lenses.length=0}_renderCodeLensSymbols(he){if(!this._editor.hasModel())return;const le=this._editor.getModel().getLineCount(),se=[];let Re;for(const Ce of he.lenses){const J=Ce.symbol.range.startLineNumber;J<1||J>le||(Re&&Re[Re.length-1].symbol.range.startLineNumber===J?Re.push(Ce):(Re=[Ce],se.push(Re)))}if(!se.length&&!this._lenses.length)return;const $e=A.Z.capture(this._editor),je=this._getLayoutInfo();this._editor.changeDecorations(Ce=>{this._editor.changeViewZones(J=>{const ne=new q;let ae=0,xe=0;for(;xe<se.length&&ae<this._lenses.length;){const Ke=se[xe][0].symbol.range.startLineNumber,ct=this._lenses[ae].getLineNumber();ct<Ke?(this._lenses[ae].dispose(ne,J),this._lenses.splice(ae,1)):ct===Ke?(this._lenses[ae].updateCodeLensSymbols(se[xe],ne),xe++,ae++):(this._lenses.splice(ae,0,new L(se[xe],this._editor,ne,J,je.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ae++,xe++)}for(;ae<this._lenses.length;)this._lenses[ae].dispose(ne,J),this._lenses.splice(ae,1);for(;xe<se.length;)this._lenses.push(new L(se[xe],this._editor,ne,J,je.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),xe++;ne.commit(Ce)})}),$e.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var he;(he=this._resolveCodeLensesPromise)===null||he===void 0||he.cancel(),this._resolveCodeLensesPromise=void 0;const le=this._editor.getModel();if(!le)return;const se=[],Re=[];if(this._lenses.forEach(Ce=>{const J=Ce.computeIfNecessary(le);J&&(se.push(J),Re.push(Ce))}),se.length===0)return;const $e=Date.now(),je=(0,c.PG)(Ce=>{const J=se.map((ne,ae)=>{const xe=new Array(ne.length),Ke=ne.map((ct,ot)=>!ct.symbol.command&&typeof ct.provider.resolveCodeLens=="function"?Promise.resolve(ct.provider.resolveCodeLens(le,ct.symbol,Ce)).then(dt=>{xe[ot]=dt},F.Cp):(xe[ot]=ct.symbol,Promise.resolve(void 0)));return Promise.all(Ke).then(()=>{!Ce.isCancellationRequested&&!Re[ae].isDisposed()&&Re[ae].updateCommands(xe)})});return Promise.all(J)});this._resolveCodeLensesPromise=je,this._resolveCodeLensesPromise.then(()=>{const Ce=this._resolveCodeLensesDebounce.update(le,Date.now()-$e);this._resolveCodeLensesScheduler.delay=Ce,this._currentCodeLensModel&&this._codeLensCache.put(le,this._currentCodeLensModel),this._oldCodeLensModels.clear(),je===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},Ce=>{(0,F.dL)(Ce),je===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Se.ID="css.editor.codeLens",Se=pe([ye(1,f.p),ye(2,y.A),ye(3,d.H),ye(4,j.lT),ye(5,M)],Se),(0,S._K)(Se.ID,Se,1),(0,S.Qr)(class extends S.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:N.u.hasCodeLensProvider,label:(0,B.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(he,le){return me(this,void 0,void 0,function*(){if(!le.hasModel())return;const se=he.get(G.eJ),Re=he.get(d.H),$e=he.get(j.lT),je=le.getSelection().positionLineNumber,Ce=le.getContribution(Se.ID);if(!Ce)return;const J=Ce.getModel();if(!J)return;const ne=[];for(const xe of J.lenses)xe.symbol.command&&xe.symbol.range.startLineNumber===je&&ne.push({label:xe.symbol.command.title,command:xe.symbol.command});if(ne.length===0)return;const ae=yield se.pick(ne,{canPickMany:!1});if(ae){if(J.isDisposed)return yield Re.executeCommand(this.id);try{yield Re.executeCommand(ae.command.id,...ae.command.arguments||[])}catch(xe){$e.error(xe)}}})}})},33041:function(vt,be,i){"use strict";i.r(be),i.d(be,{ColorContribution:function(){return je}});var c=i(52357),F=i(98981),g=i(22445),A=i(39460),S=i(87799),$=i(50505),N=i(94162),x=i(39589),O=i(30613),p=i(25149),a=i(73740),d=i(16978),f=i(26340),s=i(19713),r=i(39508),m=i(6033),C=i(21760);function u(Ce,J,ne){const ae=[],Ke=Ce.ordered(J).reverse().map(ct=>Promise.resolve(ct.provideDocumentColors(J,ne)).then(ot=>{if(Array.isArray(ot))for(const dt of ot)ae.push({colorInfo:dt,provider:ct})}));return Promise.all(Ke).then(()=>ae)}function _(Ce,J,ne,ae){return Promise.resolve(ne.provideColorPresentations(Ce,J,ae))}C.P.registerCommand("_executeDocumentColorProvider",function(Ce,...J){const[ne]=J;if(!(ne instanceof r.o))throw(0,$.b1)();const{colorProvider:ae}=Ce.get(f.p),xe=Ce.get(m.q).getModel(ne);if(!xe)throw(0,$.b1)();const Ke=[],ot=ae.ordered(xe).reverse().map(dt=>Promise.resolve(dt.provideDocumentColors(xe,s.T.None)).then(et=>{if(Array.isArray(et))for(const Fe of et)Ke.push({range:Fe.range,color:[Fe.color.red,Fe.color.green,Fe.color.blue,Fe.color.alpha]})}));return Promise.all(ot).then(()=>Ke)}),C.P.registerCommand("_executeColorPresentationProvider",function(Ce,...J){const[ne,ae]=J,{uri:xe,range:Ke}=ae;if(!(xe instanceof r.o)||!Array.isArray(ne)||ne.length!==4||!g.e.isIRange(Ke))throw(0,$.b1)();const[ct,ot,dt,et]=ne,{colorProvider:Fe}=Ce.get(f.p),Le=Ce.get(m.q).getModel(xe);if(!Le)throw(0,$.b1)();const Te={range:Ke,color:{red:ct,green:ot,blue:dt,alpha:et}},ge=[],we=Fe.ordered(Le).reverse().map(Oe=>Promise.resolve(Oe.provideColorPresentations(Le,Te,s.T.None)).then(He=>{Array.isArray(He)&&ge.push(...He)}));return Promise.all(we).then(()=>ge)});var b=i(64464),E=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},D=function(Ce,J){return function(ne,ae){J(ne,ae,Ce)}},w=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};const I=Object.create({});let M=class Oc extends c.JT{constructor(J,ne,ae,xe){super(),this._editor=J,this._configurationService=ne,this._languageFeaturesService=ae,this._localToDispose=this._register(new c.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new p.t7(this._editor),this._decoratorLimitReporter=new K,this._colorDecorationClassRefs=this._register(new c.SL),this._debounceInformation=xe.for(ae.colorProvider,"Document Colors",{min:Oc.RECOMPUTE_TIME}),this._register(J.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(J.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(ae.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(J.onDidChangeConfiguration(Ke=>{const ct=this._isEnabled;this._isEnabled=this.isEnabled(),(ct!==this._isEnabled||Ke.hasChanged(18))&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const J=this._editor.getModel();if(!J)return!1;const ne=J.getLanguageId(),ae=this._configurationService.getValue(ne);if(ae&&typeof ae=="object"){const xe=ae.colorDecorators;if(xe&&xe.enable!==void 0&&!xe.enable)return xe.enable}return this._editor.getOption(17)}static get(J){return J.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const J=this._editor.getModel();!J||!this._languageFeaturesService.colorProvider.has(J)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new A._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(J)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,A.PG)(J=>w(this,void 0,void 0,function*(){const ne=this._editor.getModel();if(!ne)return Promise.resolve([]);const ae=new x.G(!1),xe=yield u(this._languageFeaturesService.colorProvider,ne,J);return this._debounceInformation.update(ne,ae.elapsed()),xe})),this._computePromise.then(J=>{this.updateDecorations(J),this.updateColorDecorators(J),this._computePromise=null},$.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(J){const ne=J.map(ae=>({range:{startLineNumber:ae.colorInfo.range.startLineNumber,startColumn:ae.colorInfo.range.startColumn,endLineNumber:ae.colorInfo.range.endLineNumber,endColumn:ae.colorInfo.range.endColumn},options:a.qx.EMPTY}));this._editor.changeDecorations(ae=>{this._decorationsIds=ae.deltaDecorations(this._decorationsIds,ne),this._colorDatas=new Map,this._decorationsIds.forEach((xe,Ke)=>this._colorDatas.set(xe,J[Ke]))})}updateColorDecorators(J){this._colorDecorationClassRefs.clear();const ne=[],ae=this._editor.getOption(18);for(let Ke=0;Ke<J.length&&ne.length<ae;Ke++){const{red:ct,green:ot,blue:dt,alpha:et}=J[Ke].colorInfo.color,Fe=new S.VS(Math.round(ct*255),Math.round(ot*255),Math.round(dt*255),et),Le=`rgba(${Fe.r}, ${Fe.g}, ${Fe.b}, ${Fe.a})`,Te=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:Le}));ne.push({range:{startLineNumber:J[Ke].colorInfo.range.startLineNumber,startColumn:J[Ke].colorInfo.range.startColumn,endLineNumber:J[Ke].colorInfo.range.endLineNumber,endColumn:J[Ke].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:O.B4,inlineClassName:`${Te.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:I}}})}const xe=ae<J.length?ae:!1;this._decoratorLimitReporter.update(J.length,xe),this._colorDecoratorIds.set(ne)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(J){const ne=this._editor.getModel();if(!ne)return null;const ae=ne.getDecorationsInRange(g.e.fromPositions(J,J)).filter(xe=>this._colorDatas.has(xe.id));return ae.length===0?null:this._colorDatas.get(ae[0].id)}isColorDecoration(J){return this._colorDecoratorIds.has(J)}};M.ID="editor.contrib.colorDetector",M.RECOMPUTE_TIME=1e3,M=E([D(1,b.Ui),D(2,f.p),D(3,d.A)],M);class K{constructor(){this._onDidChange=new N.Q5,this._computed=0,this._limited=!1}update(J,ne){(J!==this._computed||ne!==this._limited)&&(this._computed=J,this._limited=ne,this._onDidChange.fire())}}(0,F._K)(M.ID,M,1);class z{get color(){return this._color}set color(J){this._color.equals(J)||(this._color=J,this._onDidChangeColor.fire(J))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(J){this._colorPresentations=J,this.presentationIndex>J.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(J,ne,ae){this.presentationIndex=ae,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new N.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new N.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=J,this._color=J,this._colorPresentations=ne}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(J,ne){let ae=-1;for(let xe=0;xe<this.colorPresentations.length;xe++)if(ne.toLowerCase()===this.colorPresentations[xe].label){ae=xe;break}if(ae===-1){const xe=ne.split("(")[0].toLowerCase();for(let Ke=0;Ke<this.colorPresentations.length;Ke++)if(this.colorPresentations[Ke].label.toLowerCase().startsWith(xe)){ae=Ke;break}}ae!==-1&&ae!==this.presentationIndex&&(this.presentationIndex=ae,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var Q=i(26766),Y=i(16563),H=i(69782),P=i(89021),X=i(15779),q=i(78382);const U=Y.$;class L extends c.JT{constructor(J,ne,ae){super(),this.model=ne,this.domNode=U(".colorpicker-header"),Y.R3(J,this.domNode),this.pickedColorNode=Y.R3(this.domNode,U(".picked-color"));const xe=(0,X.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",xe);const Ke=Y.R3(this.domNode,U(".original-color"));Ke.style.backgroundColor=S.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ae.getColorTheme().getColor(q.yJx)||S.Il.white,this._register(ae.onDidColorThemeChange(ct=>{this.backgroundColor=ct.getColor(q.yJx)||S.Il.white})),this._register(Y.nm(this.pickedColorNode,Y.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(Y.nm(Ke,Y.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(ne.onDidChangeColor(this.onDidChangeColor,this)),this._register(ne.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Il.Format.CSS.format(ne.color)||"",this.pickedColorNode.classList.toggle("light",ne.color.rgba.a<.5?this.backgroundColor.isLighter():ne.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(J){this.pickedColorNode.style.backgroundColor=S.Il.Format.CSS.format(J)||"",this.pickedColorNode.classList.toggle("light",J.rgba.a<.5?this.backgroundColor.isLighter():J.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(U(".codicon.codicon-color-mode"))}}class B extends c.JT{constructor(J,ne,ae){super(),this.model=ne,this.pixelRatio=ae,this.domNode=U(".colorpicker-body"),Y.R3(J,this.domNode),this.saturationBox=new j(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new y(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new pe(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:J,v:ne}){const ae=this.model.color.hsva;this.model.color=new S.Il(new S.tx(ae.h,J,ne,ae.a))}onDidOpacityChange(J){const ne=this.model.color.hsva;this.model.color=new S.Il(new S.tx(ne.h,ne.s,ne.v,J))}onDidHueChange(J){const ne=this.model.color.hsva,ae=(1-J)*360;this.model.color=new S.Il(new S.tx(ae===360?0:ae,ne.s,ne.v,ne.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class j extends c.JT{constructor(J,ne,ae){super(),this.model=ne,this.pixelRatio=ae,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=U(".saturation-wrap"),Y.R3(J,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",Y.R3(this.domNode,this.canvas),this.selection=U(".saturation-selection"),Y.R3(this.domNode,this.selection),this.layout(),this._register(Y.nm(this.domNode,Y.tw.POINTER_DOWN,xe=>this.onPointerDown(xe))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;this.monitor=this._register(new H.C);const ne=Y.i(this.domNode);J.target!==this.selection&&this.onDidChangePosition(J.offsetX,J.offsetY),this.monitor.startMonitoring(J.target,J.pointerId,J.buttons,xe=>this.onDidChangePosition(xe.pageX-ne.left,xe.pageY-ne.top),()=>null);const ae=Y.nm(document,Y.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ae.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(J,ne){const ae=Math.max(0,Math.min(1,J/this.width)),xe=Math.max(0,Math.min(1,1-ne/this.height));this.paintSelection(ae,xe),this._onDidChange.fire({s:ae,v:xe})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const J=this.model.color.hsva;this.paintSelection(J.s,J.v)}paint(){const J=this.model.color.hsva,ne=new S.Il(new S.tx(J.h,1,1,1)),ae=this.canvas.getContext("2d"),xe=ae.createLinearGradient(0,0,this.canvas.width,0);xe.addColorStop(0,"rgba(255, 255, 255, 1)"),xe.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),xe.addColorStop(1,"rgba(255, 255, 255, 0)");const Ke=ae.createLinearGradient(0,0,0,this.canvas.height);Ke.addColorStop(0,"rgba(0, 0, 0, 0)"),Ke.addColorStop(1,"rgba(0, 0, 0, 1)"),ae.rect(0,0,this.canvas.width,this.canvas.height),ae.fillStyle=S.Il.Format.CSS.format(ne),ae.fill(),ae.fillStyle=xe,ae.fill(),ae.fillStyle=Ke,ae.fill()}paintSelection(J,ne){this.selection.style.left=`${J*this.width}px`,this.selection.style.top=`${this.height-ne*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class G extends c.JT{constructor(J,ne){super(),this.model=ne,this._onDidChange=new N.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new N.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Y.R3(J,U(".strip")),this.overlay=Y.R3(this.domNode,U(".overlay")),this.slider=Y.R3(this.domNode,U(".slider")),this.slider.style.top="0px",this._register(Y.nm(this.domNode,Y.tw.POINTER_DOWN,ae=>this.onPointerDown(ae))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const J=this.getValue(this.model.color);this.updateSliderPosition(J)}onPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const ne=this._register(new H.C),ae=Y.i(this.domNode);this.domNode.classList.add("grabbing"),J.target!==this.slider&&this.onDidChangeTop(J.offsetY),ne.startMonitoring(J.target,J.pointerId,J.buttons,Ke=>this.onDidChangeTop(Ke.pageY-ae.top),()=>null);const xe=Y.nm(document,Y.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),xe.dispose(),ne.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(J){const ne=Math.max(0,Math.min(1,1-J/this.height));this.updateSliderPosition(ne),this._onDidChange.fire(ne)}updateSliderPosition(J){this.slider.style.top=`${(1-J)*this.height}px`}}class y extends G{constructor(J,ne){super(J,ne),this.domNode.classList.add("opacity-strip"),this._register(ne.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(J){const{r:ne,g:ae,b:xe}=J.rgba,Ke=new S.Il(new S.VS(ne,ae,xe,1)),ct=new S.Il(new S.VS(ne,ae,xe,0));this.overlay.style.background=`linear-gradient(to bottom, ${Ke} 0%, ${ct} 100%)`}getValue(J){return J.hsva.a}}class pe extends G{constructor(J,ne){super(J,ne),this.domNode.classList.add("hue-strip")}getValue(J){return 1-J.hsva.h/360}}class ye extends P.${constructor(J,ne,ae,xe){super(),this.model=ne,this.pixelRatio=ae,this._register(Q.PixelRatio.onDidChange(()=>this.layout()));const Ke=U(".colorpicker-widget");J.appendChild(Ke);const ct=new L(Ke,this.model,xe);this.body=new B(Ke,this.model,this.pixelRatio),this._register(ct),this._register(this.body)}layout(){this.body.layout()}}var me=i(901),Se=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},_e=function(Ce,J){return function(ne,ae){J(ne,ae,Ce)}},he=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};class le{constructor(J,ne,ae,xe){this.owner=J,this.range=ne,this.model=ae,this.provider=xe,this.forceShowAtRange=!0}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}let se=class{constructor(J,ne){this._editor=J,this._themeService=ne,this.hoverOrdinal=1}computeSync(J,ne){return[]}computeAsync(J,ne,ae){return A.Aq.fromPromise(this._computeAsync(J,ne,ae))}_computeAsync(J,ne,ae){return he(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const xe=M.get(this._editor);if(!xe)return[];for(const Ke of ne){if(!xe.isColorDecoration(Ke))continue;const ct=xe.getColorData(Ke.range.getStartPosition());if(ct)return[yield this._createColorHover(this._editor.getModel(),ct.colorInfo,ct.provider)]}return[]})}_createColorHover(J,ne,ae){return he(this,void 0,void 0,function*(){const xe=J.getValueInRange(ne.range),{red:Ke,green:ct,blue:ot,alpha:dt}=ne.color,et=new S.VS(Math.round(Ke*255),Math.round(ct*255),Math.round(ot*255),dt),Fe=new S.Il(et),Le=yield _(J,ne,ae,s.T.None),Te=new z(Fe,[],0);return Te.colorPresentations=Le||[],Te.guessColorPresentation(Fe,xe),new le(this,g.e.lift(ne.range),Te,ae)})}renderHoverParts(J,ne){if(ne.length===0||!this._editor.hasModel())return c.JT.None;const ae=new c.SL,xe=ne[0],Ke=this._editor.getModel(),ct=xe.model,ot=ae.add(new ye(J.fragment,ct,this._editor.getOption(136),this._themeService));J.setColorPicker(ot);let dt=new g.e(xe.range.startLineNumber,xe.range.startColumn,xe.range.endLineNumber,xe.range.endColumn);const et=()=>{let Le,Te;if(ct.presentation.textEdit){Le=[ct.presentation.textEdit],Te=new g.e(ct.presentation.textEdit.range.startLineNumber,ct.presentation.textEdit.range.startColumn,ct.presentation.textEdit.range.endLineNumber,ct.presentation.textEdit.range.endColumn);const ge=this._editor.getModel()._setTrackedRange(null,Te,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Le),Te=this._editor.getModel()._getTrackedRange(ge)||Te}else Le=[{range:dt,text:ct.presentation.label,forceMoveMarkers:!1}],Te=dt.setEndPosition(dt.endLineNumber,dt.startColumn+ct.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Le);ct.presentation.additionalTextEdits&&(Le=[...ct.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Le),J.hide()),this._editor.pushUndoStop(),dt=Te},Fe=Le=>_(Ke,{range:dt,color:{red:Le.rgba.r/255,green:Le.rgba.g/255,blue:Le.rgba.b/255,alpha:Le.rgba.a}},xe.provider,s.T.None).then(Te=>{ct.colorPresentations=Te||[]});return ae.add(ct.onColorFlushed(Le=>{Fe(Le).then(et)})),ae.add(ct.onDidChangeColor(Fe)),ae}};se=Se([_e(1,me.XE)],se);var Re=i(5214),$e=i(45820);class je extends c.JT{constructor(J){super(),this._editor=J,this._register(J.onMouseDown(ne=>this.onMouseDown(ne)))}dispose(){super.dispose()}onMouseDown(J){const ne=J.target;if(ne.type!==6||!ne.detail.injectedText||ne.detail.injectedText.options.attachedData!==I||!ne.range)return;const ae=this._editor.getContribution(Re.ModesHoverController.ID);if(ae&&!ae.isColorPickerVisible()){const xe=new g.e(ne.range.startLineNumber,ne.range.startColumn+1,ne.range.endLineNumber,ne.range.endColumn+1);ae.showContentHover(xe,1,0,!1)}}}je.ID="editor.contrib.colorContribution",(0,F._K)(je.ID,je,2),$e.Ae.register(se)},40876:function(vt,be,i){"use strict";i.r(be);var c=i(42528),F=i(98981),g=i(22445),A=i(73805),S=i(28170),$=i(24222),N=i(43976),x=i(15489);class O{constructor(b,E,D){this.languageConfigurationService=D,this._selection=b,this._insertSpace=E,this._usedEndToken=null}static _haystackHasNeedleAtOffset(b,E,D){if(D<0)return!1;const w=E.length,I=b.length;if(D+w>I)return!1;for(let M=0;M<w;M++){const K=b.charCodeAt(D+M),z=E.charCodeAt(M);if(K!==z&&!(K>=65&&K<=90&&K+32===z)&&!(z>=65&&z<=90&&z+32===K))return!1}return!0}_createOperationsForBlockComment(b,E,D,w,I,M){const K=b.startLineNumber,z=b.startColumn,Q=b.endLineNumber,Y=b.endColumn,H=I.getLineContent(K),P=I.getLineContent(Q);let X=H.lastIndexOf(E,z-1+E.length),q=P.indexOf(D,Y-1-D.length);if(X!==-1&&q!==-1)if(K===Q)H.substring(X+E.length,q).indexOf(D)>=0&&(X=-1,q=-1);else{const L=H.substring(X+E.length),B=P.substring(0,q);(L.indexOf(D)>=0||B.indexOf(D)>=0)&&(X=-1,q=-1)}let U;X!==-1&&q!==-1?(w&&X+E.length<H.length&&H.charCodeAt(X+E.length)===32&&(E=E+" "),w&&q>0&&P.charCodeAt(q-1)===32&&(D=" "+D,q-=1),U=O._createRemoveBlockCommentOperations(new g.e(K,X+E.length+1,Q,q+1),E,D)):(U=O._createAddBlockCommentOperations(b,E,D,this._insertSpace),this._usedEndToken=U.length===1?D:null);for(const L of U)M.addTrackedEditOperation(L.range,L.text)}static _createRemoveBlockCommentOperations(b,E,D){const w=[];return g.e.isEmpty(b)?w.push($.h.delete(new g.e(b.startLineNumber,b.startColumn-E.length,b.endLineNumber,b.endColumn+D.length))):(w.push($.h.delete(new g.e(b.startLineNumber,b.startColumn-E.length,b.startLineNumber,b.startColumn))),w.push($.h.delete(new g.e(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn+D.length)))),w}static _createAddBlockCommentOperations(b,E,D,w){const I=[];return g.e.isEmpty(b)?I.push($.h.replace(new g.e(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),E+"  "+D)):(I.push($.h.insert(new N.L(b.startLineNumber,b.startColumn),E+(w?" ":""))),I.push($.h.insert(new N.L(b.endLineNumber,b.endColumn),(w?" ":"")+D))),I}getEditOperations(b,E){const D=this._selection.startLineNumber,w=this._selection.startColumn;b.tokenization.tokenizeIfCheap(D);const I=b.getLanguageIdAtPosition(D,w),M=this.languageConfigurationService.getLanguageConfiguration(I).comments;!M||!M.blockCommentStartToken||!M.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,M.blockCommentStartToken,M.blockCommentEndToken,this._insertSpace,b,E)}computeCursorState(b,E){const D=E.getInverseEditOperations();if(D.length===2){const w=D[0],I=D[1];return new x.Y(w.range.endLineNumber,w.range.endColumn,I.range.startLineNumber,I.range.startColumn)}else{const w=D[0].range,I=this._usedEndToken?-this._usedEndToken.length-1:0;return new x.Y(w.endLineNumber,w.endColumn+I,w.endLineNumber,w.endColumn+I)}}}var p=i(30613);class a{constructor(b,E,D,w,I,M,K){this.languageConfigurationService=b,this._selection=E,this._tabSize=D,this._type=w,this._insertSpace=I,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=M,this._ignoreFirstLine=K||!1}static _gatherPreflightCommentStrings(b,E,D,w){b.tokenization.tokenizeIfCheap(E);const I=b.getLanguageIdAtPosition(E,1),M=w.getLanguageConfiguration(I).comments,K=M?M.lineCommentToken:null;if(!K)return null;const z=[];for(let Q=0,Y=D-E+1;Q<Y;Q++)z[Q]={ignore:!1,commentStr:K,commentStrOffset:0,commentStrLength:K.length};return z}static _analyzeLines(b,E,D,w,I,M,K,z){let Q=!0,Y;b===0?Y=!0:b===1?Y=!1:Y=!0;for(let H=0,P=w.length;H<P;H++){const X=w[H],q=I+H;if(q===I&&K){X.ignore=!0;continue}const U=D.getLineContent(q),L=p.LC(U);if(L===-1){X.ignore=M,X.commentStrOffset=U.length;continue}if(Q=!1,X.ignore=!1,X.commentStrOffset=L,Y&&!O._haystackHasNeedleAtOffset(U,X.commentStr,L)&&(b===0?Y=!1:b===1||(X.ignore=!0)),Y&&E){const B=L+X.commentStrLength;B<U.length&&U.charCodeAt(B)===32&&(X.commentStrLength+=1)}}if(b===0&&Q){Y=!1;for(let H=0,P=w.length;H<P;H++)w[H].ignore=!1}return{supported:!0,shouldRemoveComments:Y,lines:w}}static _gatherPreflightData(b,E,D,w,I,M,K,z){const Q=a._gatherPreflightCommentStrings(D,w,I,z);return Q===null?{supported:!1}:a._analyzeLines(b,E,D,Q,w,M,K,z)}_executeLineComments(b,E,D,w){let I;D.shouldRemoveComments?I=a._createRemoveLineCommentsOperations(D.lines,w.startLineNumber):(a._normalizeInsertionPoint(b,D.lines,w.startLineNumber,this._tabSize),I=this._createAddLineCommentsOperations(D.lines,w.startLineNumber));const M=new N.L(w.positionLineNumber,w.positionColumn);for(let K=0,z=I.length;K<z;K++)E.addEditOperation(I[K].range,I[K].text),g.e.isEmpty(I[K].range)&&g.e.getStartPosition(I[K].range).equals(M)&&b.getLineContent(M.lineNumber).length+1===M.column&&(this._deltaColumn=(I[K].text||"").length);this._selectionId=E.trackSelection(w)}_attemptRemoveBlockComment(b,E,D,w){let I=E.startLineNumber,M=E.endLineNumber;const K=w.length+Math.max(b.getLineFirstNonWhitespaceColumn(E.startLineNumber),E.startColumn);let z=b.getLineContent(I).lastIndexOf(D,K-1),Q=b.getLineContent(M).indexOf(w,E.endColumn-1-D.length);return z!==-1&&Q===-1&&(Q=b.getLineContent(I).indexOf(w,z+D.length),M=I),z===-1&&Q!==-1&&(z=b.getLineContent(M).lastIndexOf(D,Q),I=M),E.isEmpty()&&(z===-1||Q===-1)&&(z=b.getLineContent(I).indexOf(D),z!==-1&&(Q=b.getLineContent(I).indexOf(w,z+D.length))),z!==-1&&b.getLineContent(I).charCodeAt(z+D.length)===32&&(D+=" "),Q!==-1&&b.getLineContent(M).charCodeAt(Q-1)===32&&(w=" "+w,Q-=1),z!==-1&&Q!==-1?O._createRemoveBlockCommentOperations(new g.e(I,z+D.length+1,M,Q+1),D,w):null}_executeBlockComment(b,E,D){b.tokenization.tokenizeIfCheap(D.startLineNumber);const w=b.getLanguageIdAtPosition(D.startLineNumber,1),I=this.languageConfigurationService.getLanguageConfiguration(w).comments;if(!I||!I.blockCommentStartToken||!I.blockCommentEndToken)return;const M=I.blockCommentStartToken,K=I.blockCommentEndToken;let z=this._attemptRemoveBlockComment(b,D,M,K);if(!z){if(D.isEmpty()){const Q=b.getLineContent(D.startLineNumber);let Y=p.LC(Q);Y===-1&&(Y=Q.length),z=O._createAddBlockCommentOperations(new g.e(D.startLineNumber,Y+1,D.startLineNumber,Q.length+1),M,K,this._insertSpace)}else z=O._createAddBlockCommentOperations(new g.e(D.startLineNumber,b.getLineFirstNonWhitespaceColumn(D.startLineNumber),D.endLineNumber,b.getLineMaxColumn(D.endLineNumber)),M,K,this._insertSpace);z.length===1&&(this._deltaColumn=M.length+1)}this._selectionId=E.trackSelection(D);for(const Q of z)E.addEditOperation(Q.range,Q.text)}getEditOperations(b,E){let D=this._selection;if(this._moveEndPositionDown=!1,D.startLineNumber===D.endLineNumber&&this._ignoreFirstLine){E.addEditOperation(new g.e(D.startLineNumber,b.getLineMaxColumn(D.startLineNumber),D.startLineNumber+1,1),D.startLineNumber===b.getLineCount()?"":`
`),this._selectionId=E.trackSelection(D);return}D.startLineNumber<D.endLineNumber&&D.endColumn===1&&(this._moveEndPositionDown=!0,D=D.setEndPosition(D.endLineNumber-1,b.getLineMaxColumn(D.endLineNumber-1)));const w=a._gatherPreflightData(this._type,this._insertSpace,b,D.startLineNumber,D.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return w.supported?this._executeLineComments(b,E,w,D):this._executeBlockComment(b,E,D)}computeCursorState(b,E){let D=E.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(D=D.setEndPosition(D.endLineNumber+1,1)),new x.Y(D.selectionStartLineNumber,D.selectionStartColumn+this._deltaColumn,D.positionLineNumber,D.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(b,E){const D=[];for(let w=0,I=b.length;w<I;w++){const M=b[w];M.ignore||D.push($.h.delete(new g.e(E+w,M.commentStrOffset+1,E+w,M.commentStrOffset+M.commentStrLength+1)))}return D}_createAddLineCommentsOperations(b,E){const D=[],w=this._insertSpace?" ":"";for(let I=0,M=b.length;I<M;I++){const K=b[I];K.ignore||D.push($.h.insert(new N.L(E+I,K.commentStrOffset+1),K.commentStr+w))}return D}static nextVisibleColumn(b,E,D,w){return D?b+(E-b%E):b+w}static _normalizeInsertionPoint(b,E,D,w){let I=1073741824,M,K;for(let z=0,Q=E.length;z<Q;z++){if(E[z].ignore)continue;const Y=b.getLineContent(D+z);let H=0;for(let P=0,X=E[z].commentStrOffset;H<I&&P<X;P++)H=a.nextVisibleColumn(H,w,Y.charCodeAt(P)===9,1);H<I&&(I=H)}I=Math.floor(I/w)*w;for(let z=0,Q=E.length;z<Q;z++){if(E[z].ignore)continue;const Y=b.getLineContent(D+z);let H=0;for(M=0,K=E[z].commentStrOffset;H<I&&M<K;M++)H=a.nextVisibleColumn(H,w,Y.charCodeAt(M)===9,1);H>I?E[z].commentStrOffset=M-1:E[z].commentStrOffset=M}}}var d=i(15779),f=i(49597);class s extends F.R6{constructor(b,E){super(E),this._type=b}run(b,E){const D=b.get(S.c_);if(!E.hasModel())return;const w=E.getModel(),I=[],M=w.getOptions(),K=E.getOption(20),z=E.getSelections().map((Y,H)=>({selection:Y,index:H,ignoreFirstLine:!1}));z.sort((Y,H)=>g.e.compareRangesUsingStarts(Y.selection,H.selection));let Q=z[0];for(let Y=1;Y<z.length;Y++){const H=z[Y];Q.selection.endLineNumber===H.selection.startLineNumber&&(Q.index<H.index?H.ignoreFirstLine=!0:(Q.ignoreFirstLine=!0,Q=H))}for(const Y of z)I.push(new a(D,Y.selection,M.tabSize,this._type,K.insertSpace,K.ignoreEmptyLines,Y.ignoreFirstLine));E.pushUndoStop(),E.executeCommands(this.id,I),E.pushUndoStop()}}class r extends s{constructor(){super(0,{id:"editor.action.commentLine",label:d.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:f.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class m extends s{constructor(){super(1,{id:"editor.action.addCommentLine",label:d.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,c.gx)(2089,2081),weight:100}})}}class C extends s{constructor(){super(2,{id:"editor.action.removeCommentLine",label:d.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,c.gx)(2089,2099),weight:100}})}}class u extends F.R6{constructor(){super({id:"editor.action.blockComment",label:d.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:A.u.writable,kbOpts:{kbExpr:A.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:f.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(b,E){const D=b.get(S.c_);if(!E.hasModel())return;const w=E.getOption(20),I=[],M=E.getSelections();for(const K of M)I.push(new O(K,w.insertSpace,D));E.pushUndoStop(),E.executeCommands(this.id,I),E.pushUndoStop()}}(0,F.Qr)(r),(0,F.Qr)(m),(0,F.Qr)(C),(0,F.Qr)(u)},14053:function(vt,be,i){"use strict";i.r(be),i.d(be,{ContextMenuController:function(){return m}});var c=i(16563),F=i(1794),g=i(50453),A=i(52357),S=i(41420),$=i(98981),N=i(73805),x=i(15779),O=i(49597),p=i(23286),a=i(81477),d=i(22437),f=i(64464),s=function(u,_,b,E){var D=arguments.length,w=D<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,b):E,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,_,b,E);else for(var M=u.length-1;M>=0;M--)(I=u[M])&&(w=(D<3?I(w):D>3?I(_,b,w):I(_,b))||w);return D>3&&w&&Object.defineProperty(_,b,w),w},r=function(u,_){return function(b,E){_(b,E,u)}};let m=class Pc{static get(_){return _.getContribution(Pc.ID)}constructor(_,b,E,D,w,I,M){this._contextMenuService=b,this._contextViewService=E,this._contextKeyService=D,this._keybindingService=w,this._menuService=I,this._configurationService=M,this._toDispose=new A.SL,this._contextMenuIsBeingShownCount=0,this._editor=_,this._toDispose.add(this._editor.onContextMenu(K=>this._onContextMenu(K))),this._toDispose.add(this._editor.onMouseWheel(K=>{if(this._contextMenuIsBeingShownCount>0){const z=this._contextViewService.getContextViewElement(),Q=K.srcElement;Q.shadowRoot&&c.Ay(z)===Q.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(K=>{this._editor.getOption(21)&&K.keyCode===58&&(K.preventDefault(),K.stopPropagation(),this.showContextMenu())}))}_onContextMenu(_){if(!this._editor.hasModel())return;if(!this._editor.getOption(21)){this._editor.focus(),_.target.position&&!this._editor.getSelection().containsPosition(_.target.position)&&this._editor.setPosition(_.target.position);return}if(_.target.type===12||_.target.type===6&&_.target.detail.injectedText)return;if(_.event.preventDefault(),_.event.stopPropagation(),_.target.type===11)return this._showScrollbarContextMenu({x:_.event.posx-1,width:2,y:_.event.posy-1,height:2});if(_.target.type!==6&&_.target.type!==7&&_.target.type!==1)return;if(this._editor.focus(),_.target.position){let E=!1;for(const D of this._editor.getSelections())if(D.containsPosition(_.target.position)){E=!0;break}E||this._editor.setPosition(_.target.position)}let b=null;_.target.type!==1&&(b={x:_.event.posx-1,width:2,y:_.event.posy-1,height:2}),this.showContextMenu(b)}showContextMenu(_){if(!this._editor.getOption(21)||!this._editor.hasModel())return;const b=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?O.eH.SimpleEditorContext:O.eH.EditorContext);b.length>0&&this._doShowContextMenu(b,_)}_getMenuActions(_,b){const E=[],D=this._menuService.createMenu(b,this._contextKeyService),w=D.getActions({arg:_.uri});D.dispose();for(const I of w){const[,M]=I;let K=0;for(const z of M)if(z instanceof O.NZ){const Q=this._getMenuActions(_,z.item.submenu);Q.length>0&&(E.push(new g.wY(z.id,z.label,Q)),K++)}else E.push(z),K++;K&&E.push(new g.Z0)}return E.length&&E.pop(),E}_doShowContextMenu(_,b=null){if(!this._editor.hasModel())return;const E=this._editor.getOption(57);if(this._editor.updateOptions({hover:{enabled:!1}}),!b){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const w=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),I=c.i(this._editor.getDomNode()),M=I.left+w.left,K=I.top+w.top+w.height;b={x:M,y:K}}const D=this._editor.getOption(121)&&!S.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:D?this._editor.getDomNode():void 0,getAnchor:()=>b,getActions:()=>_,getActionViewItem:w=>{const I=this._keybindingFor(w);if(I)return new F.gU(w,w,{label:!0,keybinding:I.getLabel(),isMenu:!0});const M=w;return typeof M.getActionViewItem=="function"?M.getActionViewItem():new F.gU(w,w,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:w=>this._keybindingFor(w),onHide:w=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:E})}})}_showScrollbarContextMenu(_){if(!this._editor.hasModel())return;const b=this._editor.getOption(69);let E=0;const D=z=>({id:`menu-action-${++E}`,label:z.label,tooltip:"",class:void 0,enabled:typeof z.enabled=="undefined"?!0:z.enabled,checked:z.checked,run:z.run}),w=(z,Q)=>new g.wY(`menu-action-${++E}`,z,Q,void 0),I=(z,Q,Y,H,P)=>{if(!Q)return D({label:z,enabled:Q,run:()=>{}});const X=U=>()=>{this._configurationService.updateValue(Y,U)},q=[];for(const U of P)q.push(D({label:U.label,checked:H===U.value,run:X(U.value)}));return w(z,q)},M=[];M.push(D({label:x.NC("context.minimap.minimap","Minimap"),checked:b.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!b.enabled)}})),M.push(new g.Z0),M.push(D({label:x.NC("context.minimap.renderCharacters","Render Characters"),enabled:b.enabled,checked:b.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!b.renderCharacters)}})),M.push(I(x.NC("context.minimap.size","Vertical size"),b.enabled,"editor.minimap.size",b.size,[{label:x.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:x.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:x.NC("context.minimap.size.fit","Fit"),value:"fit"}])),M.push(I(x.NC("context.minimap.slider","Slider"),b.enabled,"editor.minimap.showSlider",b.showSlider,[{label:x.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:x.NC("context.minimap.slider.always","Always"),value:"always"}]));const K=this._editor.getOption(121)&&!S.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:K?this._editor.getDomNode():void 0,getAnchor:()=>_,getActions:()=>M,onHide:z=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(_){return this._keybindingService.lookupKeybinding(_.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};m.ID="editor.contrib.contextmenu",m=s([r(1,a.i),r(2,a.u),r(3,p.i6),r(4,d.d),r(5,O.co),r(6,f.Ui)],m);class C extends $.R6{constructor(){super({id:"editor.action.showContextMenu",label:x.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:N.u.textInputFocus,primary:1092,weight:100}})}run(_,b){var E;(E=m.get(b))===null||E===void 0||E.showContextMenu()}}(0,$._K)(m.ID,m,2),(0,$.Qr)(C)},16774:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(107),g=i(2020),A=i(16563),S=i(39460),$=i(39193),N=i(52357),x=i(70112),O=i(571),p=i(93059),a=i(84344),d=i(24467),f=i(22445),s=i(15489),r=i(26340),m=i(46978),C=i(90248),u=i(15779),_=i(52167),b=i(64464),E=i(26348),D=function(H,P,X,q){var U=arguments.length,L=U<3?P:q===null?q=Object.getOwnPropertyDescriptor(P,X):q,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(H,P,X,q);else for(var j=H.length-1;j>=0;j--)(B=H[j])&&(L=(U<3?B(L):U>3?B(P,X,L):B(P,X))||L);return U>3&&L&&Object.defineProperty(P,X,L),L},w=function(H,P){return function(X,q){P(X,q,H)}},I=function(H,P,X,q){function U(L){return L instanceof X?L:new X(function(B){B(L)})}return new(X||(X=Promise))(function(L,B){function j(pe){try{y(q.next(pe))}catch(ye){B(ye)}}function G(pe){try{y(q.throw(pe))}catch(ye){B(ye)}}function y(pe){pe.done?L(pe.value):U(pe.value).then(j,G)}y((q=q.apply(H,P||[])).next())})};const M="application/vnd.code.copyMetadata";let K=class extends N.JT{constructor(P,X,q,U,L,B){super(),this._bulkEditService=X,this._clipboardService=q,this._configurationService=U,this._languageFeaturesService=L,this._progressService=B,this._editor=P;const j=P.getContainerDomNode();this._register((0,A.nm)(j,"copy",G=>this.handleCopy(G))),this._register((0,A.nm)(j,"cut",G=>this.handleCopy(G))),this._register((0,A.nm)(j,"paste",G=>this.handlePaste(G),!0))}arePasteActionsEnabled(P){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:P.uri})?!0:P.uri.scheme===O.lg.vscodeNotebookCell}handleCopy(P){var X;if(!P.clipboardData||!this._editor.hasTextFocus())return;const q=this._editor.getModel(),U=this._editor.getSelections();if(!q||!(U!=null&&U.length)||!this.arePasteActionsEnabled(q))return;const L=[...U],B=U[0],j=B.isEmpty();if(j){if(!this._editor.getOption(34))return;L[0]=new f.e(B.startLineNumber,0,B.startLineNumber,q.getLineLength(B.startLineNumber))}const G=this._languageFeaturesService.documentPasteEditProvider.ordered(q).filter(me=>!!me.prepareDocumentPaste);if(!G.length){this.setCopyMetadata(P.clipboardData,{wasFromEmptySelection:j});return}const y=(0,a.B)(P.clipboardData),pe=(0,p.R)();this.setCopyMetadata(P.clipboardData,{id:pe,wasFromEmptySelection:j});const ye=(0,S.PG)(me=>I(this,void 0,void 0,function*(){const Se=yield Promise.all(G.map(_e=>_e.prepareDocumentPaste(q,L,y,me)));for(const _e of Se)_e==null||_e.forEach((he,le)=>{y.replace(le,he)});return y}));(X=this._currentClipboardItem)===null||X===void 0||X.dataTransferPromise.cancel(),this._currentClipboardItem={handle:pe,dataTransferPromise:ye}}setCopyMetadata(P,X){P.setData(M,JSON.stringify(X))}handlePaste(P){var X,q,U,L;return I(this,void 0,void 0,function*(){if(!P.clipboardData||!this._editor.hasTextFocus())return;const B=this._editor.getSelections();if(!(B!=null&&B.length)||!this._editor.hasModel())return;const j=this._editor.getModel();if(!this.arePasteActionsEnabled(j))return;let G;const y=(X=P.clipboardData)===null||X===void 0?void 0:X.getData(M);y&&typeof y=="string"&&(G=JSON.parse(y));const pe=this._languageFeaturesService.documentPasteEditProvider.ordered(j);if(!pe.length)return;P.preventDefault(),P.stopImmediatePropagation();const ye=new m.Dl(this._editor,3);try{const me=(0,a.B)(P.clipboardData);if(G!=null&&G.id&&((q=this._currentClipboardItem)===null||q===void 0?void 0:q.handle)===G.id){const _e=yield this._currentClipboardItem.dataTransferPromise;if(ye.token.isCancellationRequested)return;_e.forEach((he,le)=>{me.replace(le,he)})}if(!me.has(x.v.uriList)){const _e=yield this._clipboardService.readResources();if(ye.token.isCancellationRequested)return;_e.length&&me.append(x.v.uriList,(0,$.ZO)($.Z0.create(_e)))}me.delete(M);const Se=yield this._progressService.withProgress({location:15,delay:750,title:(0,u.NC)("pasteProgressTitle","Running paste handlers..."),cancellable:!0},()=>this.getProviderPasteEdit(pe,me,j,B,ye.token),()=>ye.cancel());if(ye.token.isCancellationRequested)return;if(Se){const _e=typeof Se.insertText=="string"?C.Yj.escape(Se.insertText):Se.insertText.snippet,he={edits:[new d.Gl(j.uri,{range:s.Y.liftSelection(this._editor.getSelection()),text:_e,insertAsSnippet:!0}),...(L=(U=Se.additionalEdit)===null||U===void 0?void 0:U.edits)!==null&&L!==void 0?L:[]]};yield this._bulkEditService.apply(he,{editor:this._editor});return}yield this.applyDefaultPasteHandler(me,G,ye.token)}finally{ye.dispose()}})}getProviderPasteEdit(P,X,q,U,L){return(0,S.eP)((()=>I(this,void 0,void 0,function*(){for(const B of P){if(L.isCancellationRequested)return;if(!z(B,X))continue;const j=yield B.provideDocumentPasteEdits(q,U,X,L);if(j)return j}}))(),L)}applyDefaultPasteHandler(P,X,q){var U;return I(this,void 0,void 0,function*(){const L=(U=P.get(x.v.text))!==null&&U!==void 0?U:P.get("text");if(!L)return;const B=yield L.asString();q.isCancellationRequested||this._editor.trigger("keyboard","paste",{text:B,pasteOnNewLine:X==null?void 0:X.wasFromEmptySelection,multicursorText:null})})}};K.ID="editor.contrib.copyPasteActionController",K=D([w(1,d.vu),w(2,_.p),w(3,b.Ui),w(4,r.p),w(5,E.R9)],K);function z(H,P){return H.pasteMimeTypes.some(X=>X.toLowerCase()===g.g.FILES.toLowerCase()?[...P.values()].some(q=>q.asFile()):P.has(X))}var Q=i(29628),Y=i(94814);(0,c._K)(K.ID,K,0),Y.B.as(Q.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},F.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:u.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},75410:function(vt,be,i){"use strict";i.r(be),i.d(be,{CursorRedo:function(){return O},CursorUndo:function(){return x},CursorUndoRedoController:function(){return N}});var c=i(52357),F=i(98981),g=i(73805),A=i(15779);class S{constructor(a){this.selections=a}equals(a){const d=this.selections.length,f=a.selections.length;if(d!==f)return!1;for(let s=0;s<d;s++)if(!this.selections[s].equalsSelection(a.selections[s]))return!1;return!0}}class ${constructor(a,d,f){this.cursorState=a,this.scrollTop=d,this.scrollLeft=f}}class N extends c.JT{static get(a){return a.getContribution(N.ID)}constructor(a){super(),this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(d=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(d=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(d=>{if(this._isCursorUndoRedo||!d.oldSelections||d.oldModelVersionId!==d.modelVersionId)return;const f=new S(d.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(f)||(this._undoStack.push(new $(f,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new $(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new $(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}N.ID="editor.contrib.cursorUndoRedoController";class x extends F.R6{constructor(){super({id:"cursorUndo",label:A.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:g.u.textInputFocus,primary:2099,weight:100}})}run(a,d,f){var s;(s=N.get(d))===null||s===void 0||s.cursorUndo()}}class O extends F.R6{constructor(){super({id:"cursorRedo",label:A.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(a,d,f){var s;(s=N.get(d))===null||s===void 0||s.cursorRedo()}}(0,F._K)(N.ID,N,0),(0,F.Qr)(x),(0,F.Qr)(O)},35565:function(vt,be,i){"use strict";i.r(be),i.d(be,{DragAndDropController:function(){return p}});var c=i(52357),F=i(41420),g=i(98981),A=i(43976),S=i(22445),$=i(15489),N=i(73740);class x{constructor(d,f,s){this.selection=d,this.targetPosition=f,this.copy=s,this.targetSelection=null}getEditOperations(d,f){const s=d.getValueInRange(this.selection);if(this.copy||f.addEditOperation(this.selection,null),f.addEditOperation(new S.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),s),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new $.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new $.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(d,f){return this.targetSelection}}function O(a){return F.dz?a.altKey:a.ctrlKey}class p extends c.JT{constructor(d){super(),this._editor=d,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(f=>this._onEditorMouseDown(f))),this._register(this._editor.onMouseUp(f=>this._onEditorMouseUp(f))),this._register(this._editor.onMouseDrag(f=>this._onEditorMouseDrag(f))),this._register(this._editor.onMouseDrop(f=>this._onEditorMouseDrop(f))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(f=>this.onEditorKeyDown(f))),this._register(this._editor.onKeyUp(f=>this.onEditorKeyUp(f))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(d){!this._editor.getOption(32)||this._editor.getOption(19)||(O(d)&&(this._modifierPressed=!0),this._mouseDown&&O(d)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(d){!this._editor.getOption(32)||this._editor.getOption(19)||(O(d)&&(this._modifierPressed=!1),this._mouseDown&&d.keyCode===p.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(d){this._mouseDown=!0}_onEditorMouseUp(d){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(d){const f=d.target;if(this._dragSelection===null){const r=(this._editor.getSelections()||[]).filter(m=>f.position&&m.containsPosition(f.position));if(r.length===1)this._dragSelection=r[0];else return}O(d.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),f.position&&(this._dragSelection.containsPosition(f.position)?this._removeDecoration():this.showAt(f.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(d){if(d.target&&(this._hitContent(d.target)||this._hitMargin(d.target))&&d.target.position){const f=new A.L(d.target.position.lineNumber,d.target.position.column);if(this._dragSelection===null){let s=null;if(d.event.shiftKey){const r=this._editor.getSelection();if(r){const{selectionStartLineNumber:m,selectionStartColumn:C}=r;s=[new $.Y(m,C,f.lineNumber,f.column)]}}else s=(this._editor.getSelections()||[]).map(r=>r.containsPosition(f)?new $.Y(f.lineNumber,f.column,f.lineNumber,f.column):r);this._editor.setSelections(s||[],"mouse",3)}else(!this._dragSelection.containsPosition(f)||(O(d.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(f)||this._dragSelection.getStartPosition().equals(f)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(p.ID,new x(this._dragSelection,f,O(d.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(d){this._dndDecorationIds.set([{range:new S.e(d.lineNumber,d.column,d.lineNumber,d.column),options:p._DECORATION_OPTIONS}]),this._editor.revealPosition(d,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(d){return d.type===6||d.type===7}_hitMargin(d){return d.type===2||d.type===3||d.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}p.ID="editor.contrib.dragAndDrop",p.TRIGGER_KEY_VALUE=F.dz?6:5,p._DECORATION_OPTIONS=N.qx.register({description:"dnd-target",className:"dnd-target"}),(0,g._K)(p.ID,p,2)},21841:function(vt,be,i){"use strict";i.r(be);var c=i(19713),F=i(67770),g=i(39508),A=i(58295),S=i(72355),$=i(21760),N=function(x,O,p,a){function d(f){return f instanceof p?f:new p(function(s){s(f)})}return new(p||(p=Promise))(function(f,s){function r(u){try{C(a.next(u))}catch(_){s(_)}}function m(u){try{C(a.throw(u))}catch(_){s(_)}}function C(u){u.done?f(u.value):d(u.value).then(r,m)}C((a=a.apply(x,O||[])).next())})};$.P.registerCommand("_executeDocumentSymbolProvider",function(x,...O){return N(this,void 0,void 0,function*(){const[p]=O;(0,F.p_)(g.o.isUri(p));const a=x.get(S.Je),f=yield x.get(A.S).createModelReference(p);try{return(yield a.getOrCreate(f.object.textEditorModel,c.T.None)).getTopLevelSymbols()}finally{f.dispose()}})})},72355:function(vt,be,i){"use strict";i.d(be,{C3:function(){return b},H3:function(){return _},Je:function(){return E},sT:function(){return u}});var c=i(16842),F=i(19713),g=i(50505),A=i(62841),S=i(15463),$=i(43976),N=i(22445),x=i(16978),O=i(64700),p=i(70751),a=i(6033),d=i(52357),f=i(26340),s=function(w,I,M,K){var z=arguments.length,Q=z<3?I:K===null?K=Object.getOwnPropertyDescriptor(I,M):K,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(w,I,M,K);else for(var H=w.length-1;H>=0;H--)(Y=w[H])&&(Q=(z<3?Y(Q):z>3?Y(I,M,Q):Y(I,M))||Q);return z>3&&Q&&Object.defineProperty(I,M,Q),Q},r=function(w,I){return function(M,K){I(M,K,w)}},m=function(w,I,M,K){function z(Q){return Q instanceof M?Q:new M(function(Y){Y(Q)})}return new(M||(M=Promise))(function(Q,Y){function H(q){try{X(K.next(q))}catch(U){Y(U)}}function P(q){try{X(K.throw(q))}catch(U){Y(U)}}function X(q){q.done?Q(q.value):z(q.value).then(H,P)}X((K=K.apply(w,I||[])).next())})};class C{remove(){var I;(I=this.parent)===null||I===void 0||I.children.delete(this.id)}static findId(I,M){let K;typeof I=="string"?K=`${M.id}/${I}`:(K=`${M.id}/${I.name}`,M.children.get(K)!==void 0&&(K=`${M.id}/${I.name}_${I.range.startLineNumber}_${I.range.startColumn}`));let z=K;for(let Q=0;M.children.get(z)!==void 0;Q++)z=`${K}_${Q}`;return z}static empty(I){return I.children.size===0}}class u extends C{constructor(I,M,K){super(),this.id=I,this.parent=M,this.symbol=K,this.children=new Map}}class _ extends C{constructor(I,M,K,z){super(),this.id=I,this.parent=M,this.label=K,this.order=z,this.children=new Map}}class b extends C{static create(I,M,K){const z=new F.A(K),Q=new b(M.uri),Y=I.ordered(M),H=Y.map((X,q)=>{var U;const L=C.findId(`provider_${q}`,Q),B=new _(L,Q,(U=X.displayName)!==null&&U!==void 0?U:"Unknown Outline Provider",q);return Promise.resolve(X.provideDocumentSymbols(M,z.token)).then(j=>{for(const G of j||[])b._makeOutlineElement(G,B);return B},j=>((0,g.Cp)(j),B)).then(j=>{C.empty(j)?j.remove():Q._groups.set(L,j)})}),P=I.onDidChange(()=>{const X=I.ordered(M);(0,c.fS)(X,Y)||z.cancel()});return Promise.all(H).then(()=>z.token.isCancellationRequested&&!K.isCancellationRequested?b.create(I,M,K):Q._compact()).finally(()=>{P.dispose()})}static _makeOutlineElement(I,M){const K=C.findId(I,M),z=new u(K,M,I);if(I.children)for(const Q of I.children)b._makeOutlineElement(Q,z);M.children.set(z.id,z)}constructor(I){super(),this.uri=I,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let I=0;for(const[M,K]of this._groups)K.children.size===0?this._groups.delete(M):I+=1;if(I!==1)this.children=this._groups;else{const M=A.$.first(this._groups.values());for(const[,K]of M.children)K.parent=this,this.children.set(K.id,K)}return this}getTopLevelSymbols(){const I=[];for(const M of this.children.values())M instanceof u?I.push(M.symbol):I.push(...A.$.map(M.children.values(),K=>K.symbol));return I.sort((M,K)=>N.e.compareRangesUsingStarts(M.range,K.range))}asListOfDocumentSymbols(){const I=this.getTopLevelSymbols(),M=[];return b._flattenDocumentSymbols(M,I,""),M.sort((K,z)=>$.L.compare(N.e.getStartPosition(K.range),N.e.getStartPosition(z.range))||$.L.compare(N.e.getEndPosition(z.range),N.e.getEndPosition(K.range)))}static _flattenDocumentSymbols(I,M,K){for(const z of M)I.push({kind:z.kind,tags:z.tags,name:z.name,detail:z.detail,containerName:z.containerName||K,range:z.range,selectionRange:z.selectionRange,children:void 0}),z.children&&b._flattenDocumentSymbols(I,z.children,z.name)}}const E=(0,O.yh)("IOutlineModelService");let D=class{constructor(I,M,K){this._languageFeaturesService=I,this._disposables=new d.SL,this._cache=new S.z6(10,.7),this._debounceInformation=M.for(I.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(K.onModelRemoved(z=>{this._cache.delete(z.id)}))}dispose(){this._disposables.dispose()}getOrCreate(I,M){return m(this,void 0,void 0,function*(){const K=this._languageFeaturesService.documentSymbolProvider,z=K.ordered(I);let Q=this._cache.get(I.id);if(!Q||Q.versionId!==I.getVersionId()||!(0,c.fS)(Q.provider,z)){const H=new F.A;Q={versionId:I.getVersionId(),provider:z,promiseCnt:0,source:H,promise:b.create(K,I,H.token),model:void 0},this._cache.set(I.id,Q);const P=Date.now();Q.promise.then(X=>{Q.model=X,this._debounceInformation.update(I,Date.now()-P)}).catch(X=>{this._cache.delete(I.id)})}if(Q.model)return Q.model;Q.promiseCnt+=1;const Y=M.onCancellationRequested(()=>{--Q.promiseCnt===0&&(Q.source.cancel(),this._cache.delete(I.id))});try{return yield Q.promise}finally{Y.dispose()}})}};D=s([r(0,f.p),r(1,x.A),r(2,a.q)],D),(0,p.z)(E,D,1)},51760:function(vt,be,i){"use strict";i.r(be),i.d(be,{DropIntoEditorController:function(){return b}});var c=i(39460),F=i(39193),g=i(52357),A=i(70112),S=i(17349),$=i(39508),N=i(84344),x=i(98981),O=i(24467),p=i(22445),a=i(26340),d=i(46978),f=i(90248),s=i(15779),r=i(26348),m=i(52199),C=function(D,w,I,M){var K=arguments.length,z=K<3?w:M===null?M=Object.getOwnPropertyDescriptor(w,I):M,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(D,w,I,M);else for(var Y=D.length-1;Y>=0;Y--)(Q=D[Y])&&(z=(K<3?Q(z):K>3?Q(w,I,z):Q(w,I))||z);return K>3&&z&&Object.defineProperty(w,I,z),z},u=function(D,w){return function(I,M){w(I,M,D)}},_=function(D,w,I,M){function K(z){return z instanceof I?z:new I(function(Q){Q(z)})}return new(I||(I=Promise))(function(z,Q){function Y(X){try{P(M.next(X))}catch(q){Q(q)}}function H(X){try{P(M.throw(X))}catch(q){Q(q)}}function P(X){X.done?z(X.value):K(X.value).then(Y,H)}P((M=M.apply(D,w||[])).next())})};let b=class extends g.JT{constructor(w,I,M,K,z){super(),this._bulkEditService=I,this._languageFeaturesService=M,this._progressService=K,this._register(w.onDropIntoEditor(Q=>this.onDropIntoEditor(w,Q.position,Q.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new E(z))}onDropIntoEditor(w,I,M){var K,z;return _(this,void 0,void 0,function*(){if(!M.dataTransfer||!w.hasModel())return;const Q=w.getModel(),Y=Q.getVersionId(),H=yield this.extractDataTransferData(M);if(H.size===0||w.getModel().getVersionId()!==Y)return;const P=new d.Dl(w,1);try{const X=this._languageFeaturesService.documentOnDropEditProvider.ordered(Q),q=yield this._progressService.withProgress({location:15,delay:750,title:(0,s.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,c.eP)((()=>_(this,void 0,void 0,function*(){for(const U of X){const L=yield U.provideDocumentOnDropEdits(Q,I,H,P.token);if(P.token.isCancellationRequested)return;if(L)return L}}))(),P.token),()=>{P.cancel()});if(P.token.isCancellationRequested||w.getModel().getVersionId()!==Y)return;if(q){const U=typeof q.insertText=="string"?f.Yj.escape(q.insertText):q.insertText.snippet,L={edits:[new O.Gl(Q.uri,{range:new p.e(I.lineNumber,I.column,I.lineNumber,I.column),text:U,insertAsSnippet:!0}),...(z=(K=q.additionalEdit)===null||K===void 0?void 0:K.edits)!==null&&z!==void 0?z:[]]};yield this._bulkEditService.apply(L,{editor:w});return}}finally{P.dispose()}})}extractDataTransferData(w){return _(this,void 0,void 0,function*(){if(!w.dataTransfer)return new F.Hl;const I=(0,N.B)(w.dataTransfer);return(0,N.d)(I,w),I})}};b.ID="editor.contrib.dropIntoEditorController",b=C([u(1,O.vu),u(2,a.p),u(3,r.R9),u(4,m.ec)],b);let E=class{constructor(w){this._workspaceContextService=w}provideDocumentOnDropEdits(w,I,M,K){var z;return _(this,void 0,void 0,function*(){const Q=M.get(A.v.uriList);if(Q){const H=yield Q.asString(),P=this.getUriListInsertText(H);if(P)return{insertText:P}}const Y=(z=M.get("text"))!==null&&z!==void 0?z:M.get(A.v.text);if(Y)return{insertText:yield Y.asString()}})}getUriListInsertText(w){const I=[];for(const M of F.Z0.parse(w))try{I.push($.o.parse(M))}catch(K){}if(I.length)return I.map(M=>{const K=this._workspaceContextService.getWorkspaceFolder(M);if(K){const z=(0,S.lX)(K.uri,M);if(z)return z}return M.fsPath}).join(" ")}};E=C([u(0,m.ec)],E),(0,x._K)(b.ID,b,2)},46978:function(vt,be,i){"use strict";i.d(be,{yy:function(){return s},Dl:function(){return r},YQ:function(){return m}});var c=i(30613),F=i(22445),g=i(19713),A=i(52357),S=i(98981),$=i(23286),N=i(23345),x=i(64700),O=i(70751),p=i(15779);const a=(0,x.yh)("IEditorCancelService"),d=new $.uy("cancellableOperation",!1,(0,p.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,O.z)(a,class{constructor(){this._tokens=new WeakMap}add(C,u){let _=this._tokens.get(C);_||(_=C.invokeWithinContext(E=>{const D=d.bindTo(E.get($.i6)),w=new N.S;return{key:D,tokens:w}}),this._tokens.set(C,_));let b;return _.key.set(!0),b=_.tokens.push(u),()=>{b&&(b(),_.key.set(!_.tokens.isEmpty()),b=void 0)}}cancel(C){const u=this._tokens.get(C);if(!u)return;const _=u.tokens.pop();_&&(_.cancel(),u.key.set(!u.tokens.isEmpty()))}},1);class f extends g.A{constructor(u,_){super(_),this.editor=u,this._unregister=u.invokeWithinContext(b=>b.get(a).add(u,this))}dispose(){this._unregister(),super.dispose()}}(0,S.fK)(new class extends S._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:d})}runEditorCommand(C,u){C.get(a).cancel(u)}});class s{constructor(u,_){if(this.flags=_,this.flags&1){const b=u.getModel();this.modelVersionId=b?c.WU("{0}#{1}",b.uri.toString(),b.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=u.getPosition():this.position=null,this.flags&2?this.selection=u.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=u.getScrollLeft(),this.scrollTop=u.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(u){if(!(u instanceof s))return!1;const _=u;return!(this.modelVersionId!==_.modelVersionId||this.scrollLeft!==_.scrollLeft||this.scrollTop!==_.scrollTop||!this.position&&_.position||this.position&&!_.position||this.position&&_.position&&!this.position.equals(_.position)||!this.selection&&_.selection||this.selection&&!_.selection||this.selection&&_.selection&&!this.selection.equalsRange(_.selection))}validate(u){return this._equals(new s(u,this.flags))}}class r extends f{constructor(u,_,b,E){super(u,E),this._listener=new A.SL,_&4&&this._listener.add(u.onDidChangeCursorPosition(D=>{(!b||!F.e.containsPosition(b,D.position))&&this.cancel()})),_&2&&this._listener.add(u.onDidChangeCursorSelection(D=>{(!b||!F.e.containsRange(b,D.selection))&&this.cancel()})),_&8&&this._listener.add(u.onDidScrollChange(D=>this.cancel())),_&1&&(this._listener.add(u.onDidChangeModel(D=>this.cancel())),this._listener.add(u.onDidChangeModelContent(D=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class m extends g.A{constructor(u,_){super(_),this._listener=u.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},98976:function(vt,be,i){"use strict";i.r(be),i.d(be,{CommonFindController:function(){return rt},FindController:function(){return xt},MatchFindAction:function(){return hi},MoveToMatchFindAction:function(){return yi},NextMatchFindAction:function(){return Di},NextSelectionMatchFindAction:function(){return Ri},PreviousMatchFindAction:function(){return Ni},PreviousSelectionMatchFindAction:function(){return Dn},SelectionMatchFindAction:function(){return Zi},StartFindAction:function(){return Vt},StartFindReplaceAction:function(){return Bi},StartFindWithArgsAction:function(){return ai},StartFindWithSelectionAction:function(){return Si},getSelectionSearchString:function(){return st}});var c=i(39460),F=i(52357),g=i(30613),A=i(98981),S=i(34467),$=i(73805),N=i(48117),x=i(16842),O=i(71802),p=i(43976),a=i(22445),d=i(15489),f=i(68513),s=i(73740),r=i(78382),m=i(901);class C{constructor(fe){this._editor=fe,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const fe=this._findScopeDecorationIds.map(De=>this._editor.getModel().getDecorationRange(De)).filter(De=>!!De);if(fe.length)return fe}return null}getStartPosition(){return this._startPosition}setStartPosition(fe){this._startPosition=fe,this.setCurrentFindMatch(null)}_getDecorationIndex(fe){const De=this._decorations.indexOf(fe);return De>=0?De+1:1}getDecorationRangeAt(fe){const De=fe<this._decorations.length?this._decorations[fe]:null;return De?this._editor.getModel().getDecorationRange(De):null}getCurrentMatchesPosition(fe){const De=this._editor.getModel().getDecorationsInRange(fe);for(const ie of De){const Ie=ie.options;if(Ie===C._FIND_MATCH_DECORATION||Ie===C._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(ie.id)}return 0}setCurrentFindMatch(fe){let De=null,ie=0;if(fe)for(let Ie=0,We=this._decorations.length;Ie<We;Ie++){const nt=this._editor.getModel().getDecorationRange(this._decorations[Ie]);if(fe.equalsRange(nt)){De=this._decorations[Ie],ie=Ie+1;break}}return(this._highlightedDecorationId!==null||De!==null)&&this._editor.changeDecorations(Ie=>{if(this._highlightedDecorationId!==null&&(Ie.changeDecorationOptions(this._highlightedDecorationId,C._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),De!==null&&(this._highlightedDecorationId=De,Ie.changeDecorationOptions(this._highlightedDecorationId,C._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Ie.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),De!==null){let We=this._editor.getModel().getDecorationRange(De);if(We.startLineNumber!==We.endLineNumber&&We.endColumn===1){const nt=We.endLineNumber-1,lt=this._editor.getModel().getLineMaxColumn(nt);We=new a.e(We.startLineNumber,We.startColumn,nt,lt)}this._rangeHighlightDecorationId=Ie.addDecoration(We,C._RANGE_HIGHLIGHT_DECORATION)}}),ie}set(fe,De){this._editor.changeDecorations(ie=>{let Ie=C._FIND_MATCH_DECORATION;const We=[];if(fe.length>1e3){Ie=C._FIND_MATCH_NO_OVERVIEW_DECORATION;const lt=this._editor.getModel().getLineCount(),$t=this._editor.getLayoutInfo().height/lt,ti=Math.max(2,Math.ceil(3/$t));let Qt=fe[0].range.startLineNumber,Jt=fe[0].range.endLineNumber;for(let di=1,Ci=fe.length;di<Ci;di++){const gi=fe[di].range;Jt+ti>=gi.startLineNumber?gi.endLineNumber>Jt&&(Jt=gi.endLineNumber):(We.push({range:new a.e(Qt,1,Jt,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Qt=gi.startLineNumber,Jt=gi.endLineNumber)}We.push({range:new a.e(Qt,1,Jt,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const nt=new Array(fe.length);for(let lt=0,Pt=fe.length;lt<Pt;lt++)nt[lt]={range:fe[lt].range,options:Ie};this._decorations=ie.deltaDecorations(this._decorations,nt),this._overviewRulerApproximateDecorations=ie.deltaDecorations(this._overviewRulerApproximateDecorations,We),this._rangeHighlightDecorationId&&(ie.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(lt=>ie.removeDecoration(lt)),this._findScopeDecorationIds=[]),De!=null&&De.length&&(this._findScopeDecorationIds=De.map(lt=>ie.addDecoration(lt,C._FIND_SCOPE_DECORATION)))})}matchBeforePosition(fe){if(this._decorations.length===0)return null;for(let De=this._decorations.length-1;De>=0;De--){const ie=this._decorations[De],Ie=this._editor.getModel().getDecorationRange(ie);if(!(!Ie||Ie.endLineNumber>fe.lineNumber)){if(Ie.endLineNumber<fe.lineNumber)return Ie;if(!(Ie.endColumn>fe.column))return Ie}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(fe){if(this._decorations.length===0)return null;for(let De=0,ie=this._decorations.length;De<ie;De++){const Ie=this._decorations[De],We=this._editor.getModel().getDecorationRange(Ie);if(!(!We||We.startLineNumber<fe.lineNumber)){if(We.startLineNumber>fe.lineNumber)return We;if(!(We.startColumn<fe.column))return We}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let fe=[];return fe=fe.concat(this._decorations),fe=fe.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&fe.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&fe.push(this._rangeHighlightDecorationId),fe}}C._CURRENT_FIND_MATCH_DECORATION=s.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,m.EN)(r.Fm_),position:N.sh.Center},minimap:{color:(0,m.EN)(r.SUY),position:N.F5.Inline}}),C._FIND_MATCH_DECORATION=s.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,m.EN)(r.Fm_),position:N.sh.Center},minimap:{color:(0,m.EN)(r.SUY),position:N.F5.Inline}}),C._FIND_MATCH_NO_OVERVIEW_DECORATION=s.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),C._FIND_MATCH_ONLY_OVERVIEW_DECORATION=s.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,m.EN)(r.Fm_),position:N.sh.Center}}),C._RANGE_HIGHLIGHT_DECORATION=s.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),C._FIND_SCOPE_DECORATION=s.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class u{constructor(fe,De,ie){this._editorSelection=fe,this._ranges=De,this._replaceStrings=ie,this._trackedEditorSelectionId=null}getEditOperations(fe,De){if(this._ranges.length>0){const ie=[];for(let nt=0;nt<this._ranges.length;nt++)ie.push({range:this._ranges[nt],text:this._replaceStrings[nt]});ie.sort((nt,lt)=>a.e.compareRangesUsingStarts(nt.range,lt.range));const Ie=[];let We=ie[0];for(let nt=1;nt<ie.length;nt++)We.range.endLineNumber===ie[nt].range.startLineNumber&&We.range.endColumn===ie[nt].range.startColumn?(We.range=We.range.plusRange(ie[nt].range),We.text=We.text+ie[nt].text):(Ie.push(We),We=ie[nt]);Ie.push(We);for(const nt of Ie)De.addEditOperation(nt.range,nt.text)}this._trackedEditorSelectionId=De.trackSelection(this._editorSelection)}computeCursorState(fe,De){return De.getTrackedSelection(this._trackedEditorSelectionId)}}function _(Ht,fe){if(Ht&&Ht[0]!==""){const De=b(Ht,fe,"-"),ie=b(Ht,fe,"_");return De&&!ie?E(Ht,fe,"-"):!De&&ie?E(Ht,fe,"_"):Ht[0].toUpperCase()===Ht[0]?fe.toUpperCase():Ht[0].toLowerCase()===Ht[0]?fe.toLowerCase():g.Kw(Ht[0][0])&&fe.length>0?fe[0].toUpperCase()+fe.substr(1):Ht[0][0].toUpperCase()!==Ht[0][0]&&fe.length>0?fe[0].toLowerCase()+fe.substr(1):fe}else return fe}function b(Ht,fe,De){return Ht[0].indexOf(De)!==-1&&fe.indexOf(De)!==-1&&Ht[0].split(De).length===fe.split(De).length}function E(Ht,fe,De){const ie=fe.split(De),Ie=Ht[0].split(De);let We="";return ie.forEach((nt,lt)=>{We+=_([Ie[lt]],nt)+De}),We.slice(0,-1)}class D{constructor(fe){this.staticValue=fe,this.kind=0}}class w{constructor(fe){this.pieces=fe,this.kind=1}}class I{static fromStaticValue(fe){return new I([M.staticValue(fe)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(fe){!fe||fe.length===0?this._state=new D(""):fe.length===1&&fe[0].staticValue!==null?this._state=new D(fe[0].staticValue):this._state=new w(fe)}buildReplaceString(fe,De){if(this._state.kind===0)return De?_(fe,this._state.staticValue):this._state.staticValue;let ie="";for(let Ie=0,We=this._state.pieces.length;Ie<We;Ie++){const nt=this._state.pieces[Ie];if(nt.staticValue!==null){ie+=nt.staticValue;continue}let lt=I._substitute(nt.matchIndex,fe);if(nt.caseOps!==null&&nt.caseOps.length>0){const Pt=[],$t=nt.caseOps.length;let ti=0;for(let Qt=0,Jt=lt.length;Qt<Jt;Qt++){if(ti>=$t){Pt.push(lt.slice(Qt));break}switch(nt.caseOps[ti]){case"U":Pt.push(lt[Qt].toUpperCase());break;case"u":Pt.push(lt[Qt].toUpperCase()),ti++;break;case"L":Pt.push(lt[Qt].toLowerCase());break;case"l":Pt.push(lt[Qt].toLowerCase()),ti++;break;default:Pt.push(lt[Qt])}}lt=Pt.join("")}ie+=lt}return ie}static _substitute(fe,De){if(De===null)return"";if(fe===0)return De[0];let ie="";for(;fe>0;){if(fe<De.length)return(De[fe]||"")+ie;ie=String(fe%10)+ie,fe=Math.floor(fe/10)}return"$"+ie}}class M{static staticValue(fe){return new M(fe,-1,null)}static caseOps(fe,De){return new M(null,fe,De)}constructor(fe,De,ie){this.staticValue=fe,this.matchIndex=De,!ie||ie.length===0?this.caseOps=null:this.caseOps=ie.slice(0)}}class K{constructor(fe){this._source=fe,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(fe){this._emitStatic(this._source.substring(this._lastCharIndex,fe)),this._lastCharIndex=fe}emitStatic(fe,De){this._emitStatic(fe),this._lastCharIndex=De}_emitStatic(fe){fe.length!==0&&(this._currentStaticPiece+=fe)}emitMatchIndex(fe,De,ie){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=M.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=M.caseOps(fe,ie),this._lastCharIndex=De}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=M.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function z(Ht){if(!Ht||Ht.length===0)return new I(null);const fe=[],De=new K(Ht);for(let ie=0,Ie=Ht.length;ie<Ie;ie++){const We=Ht.charCodeAt(ie);if(We===92){if(ie++,ie>=Ie)break;const nt=Ht.charCodeAt(ie);switch(nt){case 92:De.emitUnchanged(ie-1),De.emitStatic("\\",ie+1);break;case 110:De.emitUnchanged(ie-1),De.emitStatic(`
`,ie+1);break;case 116:De.emitUnchanged(ie-1),De.emitStatic("	",ie+1);break;case 117:case 85:case 108:case 76:De.emitUnchanged(ie-1),De.emitStatic("",ie+1),fe.push(String.fromCharCode(nt));break}continue}if(We===36){if(ie++,ie>=Ie)break;const nt=Ht.charCodeAt(ie);if(nt===36){De.emitUnchanged(ie-1),De.emitStatic("$",ie+1);continue}if(nt===48||nt===38){De.emitUnchanged(ie-1),De.emitMatchIndex(0,ie+1,fe),fe.length=0;continue}if(49<=nt&&nt<=57){let lt=nt-48;if(ie+1<Ie){const Pt=Ht.charCodeAt(ie+1);if(48<=Pt&&Pt<=57){ie++,lt=lt*10+(Pt-48),De.emitUnchanged(ie-2),De.emitMatchIndex(lt,ie+1,fe),fe.length=0;continue}}De.emitUnchanged(ie-1),De.emitMatchIndex(lt,ie+1,fe),fe.length=0;continue}}}return De.finalize()}var Q=i(23286);const Y=new Q.uy("findWidgetVisible",!1),H=Y.toNegated(),P=new Q.uy("findInputFocussed",!1),X=new Q.uy("replaceInputFocussed",!1),q={primary:545,mac:{primary:2593}},U={primary:565,mac:{primary:2613}},L={primary:560,mac:{primary:2608}},B={primary:554,mac:{primary:2602}},j={primary:558,mac:{primary:2606}},G={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},y=19999,pe=240;class ye{constructor(fe,De){this._toDispose=new F.SL,this._editor=fe,this._state=De,this._isDisposed=!1,this._startSearchingTimer=new c._F,this._decorations=new C(fe),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new c.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(ie=>{(ie.reason===3||ie.reason===5||ie.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(ie=>{this._ignoreModelContentChanged||(ie.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(ie=>this._onStateChanged(ie))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,F.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(fe){this._isDisposed||this._editor.hasModel()&&(fe.searchString||fe.isReplaceRevealed||fe.isRegex||fe.wholeWord||fe.matchCase||fe.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{fe.searchScope?this.research(fe.moveCursor,this._state.searchScope):this.research(fe.moveCursor)},pe)):fe.searchScope?this.research(fe.moveCursor,this._state.searchScope):this.research(fe.moveCursor))}static _getSearchRange(fe,De){return De||fe.getFullModelRange()}research(fe,De){let ie=null;typeof De!="undefined"?De!==null&&(Array.isArray(De)?ie=De:ie=[De]):ie=this._decorations.getFindScopes(),ie!==null&&(ie=ie.map(lt=>{if(lt.startLineNumber!==lt.endLineNumber){let Pt=lt.endLineNumber;return lt.endColumn===1&&(Pt=Pt-1),new a.e(lt.startLineNumber,1,Pt,this._editor.getModel().getLineMaxColumn(Pt))}return lt}));const Ie=this._findMatches(ie,!1,y);this._decorations.set(Ie,ie);const We=this._editor.getSelection();let nt=this._decorations.getCurrentMatchesPosition(We);if(nt===0&&Ie.length>0){const lt=(0,x.lG)(Ie.map(Pt=>Pt.range),Pt=>a.e.compareRangesUsingStarts(Pt,We)>=0);nt=lt>0?lt-1+1:nt}this._state.changeMatchInfo(nt,this._decorations.getCount(),void 0),fe&&this._editor.getOption(38).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const fe=this._decorations.getFindScope();return fe&&this._editor.revealRangeInCenterIfOutsideViewport(fe,0),!0}return!1}_setCurrentFindMatch(fe){const De=this._decorations.setCurrentFindMatch(fe);this._state.changeMatchInfo(De,this._decorations.getCount(),fe),this._editor.setSelection(fe),this._editor.revealRangeInCenterIfOutsideViewport(fe,0)}_prevSearchPosition(fe){const De=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:ie,column:Ie}=fe;const We=this._editor.getModel();return De||Ie===1?(ie===1?ie=We.getLineCount():ie--,Ie=We.getLineMaxColumn(ie)):Ie--,new p.L(ie,Ie)}_moveToPrevMatch(fe,De=!1){if(!this._state.canNavigateBack()){const ti=this._decorations.matchAfterPosition(fe);ti&&this._setCurrentFindMatch(ti);return}if(this._decorations.getCount()<y){let ti=this._decorations.matchBeforePosition(fe);ti&&ti.isEmpty()&&ti.getStartPosition().equals(fe)&&(fe=this._prevSearchPosition(fe),ti=this._decorations.matchBeforePosition(fe)),ti&&this._setCurrentFindMatch(ti);return}if(this._cannotFind())return;const ie=this._decorations.getFindScope(),Ie=ye._getSearchRange(this._editor.getModel(),ie);Ie.getEndPosition().isBefore(fe)&&(fe=Ie.getEndPosition()),fe.isBefore(Ie.getStartPosition())&&(fe=Ie.getEndPosition());const{lineNumber:We,column:nt}=fe,lt=this._editor.getModel();let Pt=new p.L(We,nt),$t=lt.findPreviousMatch(this._state.searchString,Pt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null,!1);if($t&&$t.range.isEmpty()&&$t.range.getStartPosition().equals(Pt)&&(Pt=this._prevSearchPosition(Pt),$t=lt.findPreviousMatch(this._state.searchString,Pt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null,!1)),!!$t){if(!De&&!Ie.containsRange($t.range))return this._moveToPrevMatch($t.range.getStartPosition(),!0);this._setCurrentFindMatch($t.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(fe){const De=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:ie,column:Ie}=fe;const We=this._editor.getModel();return De||Ie===We.getLineMaxColumn(ie)?(ie===We.getLineCount()?ie=1:ie++,Ie=1):Ie++,new p.L(ie,Ie)}_moveToNextMatch(fe){if(!this._state.canNavigateForward()){const ie=this._decorations.matchBeforePosition(fe);ie&&this._setCurrentFindMatch(ie);return}if(this._decorations.getCount()<y){let ie=this._decorations.matchAfterPosition(fe);ie&&ie.isEmpty()&&ie.getStartPosition().equals(fe)&&(fe=this._nextSearchPosition(fe),ie=this._decorations.matchAfterPosition(fe)),ie&&this._setCurrentFindMatch(ie);return}const De=this._getNextMatch(fe,!1,!0);De&&this._setCurrentFindMatch(De.range)}_getNextMatch(fe,De,ie,Ie=!1){if(this._cannotFind())return null;const We=this._decorations.getFindScope(),nt=ye._getSearchRange(this._editor.getModel(),We);nt.getEndPosition().isBefore(fe)&&(fe=nt.getStartPosition()),fe.isBefore(nt.getStartPosition())&&(fe=nt.getStartPosition());const{lineNumber:lt,column:Pt}=fe,$t=this._editor.getModel();let ti=new p.L(lt,Pt),Qt=$t.findNextMatch(this._state.searchString,ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null,De);return ie&&Qt&&Qt.range.isEmpty()&&Qt.range.getStartPosition().equals(ti)&&(ti=this._nextSearchPosition(ti),Qt=$t.findNextMatch(this._state.searchString,ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null,De)),Qt?!Ie&&!nt.containsRange(Qt.range)?this._getNextMatch(Qt.range.getEndPosition(),De,ie,!0):Qt:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(fe){const De=this._decorations.getDecorationRangeAt(fe);De&&this._setCurrentFindMatch(De)}moveToMatch(fe){this._moveToMatch(fe)}_getReplacePattern(){return this._state.isRegex?z(this._state.replaceString):I.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const fe=this._getReplacePattern(),De=this._editor.getSelection(),ie=this._getNextMatch(De.getStartPosition(),!0,!1);if(ie)if(De.equalsRange(ie.range)){const Ie=fe.buildReplaceString(ie.matches,this._state.preserveCase),We=new O.T4(De,Ie);this._executeEditorCommand("replace",We),this._decorations.setStartPosition(new p.L(De.startLineNumber,De.startColumn+Ie.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(ie.range)}_findMatches(fe,De,ie){const Ie=(fe||[null]).map(We=>ye._getSearchRange(this._editor.getModel(),We));return this._editor.getModel().findMatches(this._state.searchString,Ie,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null,De,ie)}replaceAll(){if(!this._hasMatches())return;const fe=this._decorations.getFindScopes();fe===null&&this._state.matchesCount>=y?this._largeReplaceAll():this._regularReplaceAll(fe),this.research(!1)}_largeReplaceAll(){const De=new f.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(124):null).parseSearchRequest();if(!De)return;let ie=De.regex;if(!ie.multiline){let Qt="mu";ie.ignoreCase&&(Qt+="i"),ie.global&&(Qt+="g"),ie=new RegExp(ie.source,Qt)}const Ie=this._editor.getModel(),We=Ie.getValue(1),nt=Ie.getFullModelRange(),lt=this._getReplacePattern();let Pt;const $t=this._state.preserveCase;lt.hasReplacementPatterns||$t?Pt=We.replace(ie,function(){return lt.buildReplaceString(arguments,$t)}):Pt=We.replace(ie,lt.buildReplaceString(null,$t));const ti=new O.hP(nt,Pt,this._editor.getSelection());this._executeEditorCommand("replaceAll",ti)}_regularReplaceAll(fe){const De=this._getReplacePattern(),ie=this._findMatches(fe,De.hasReplacementPatterns||this._state.preserveCase,1073741824),Ie=[];for(let nt=0,lt=ie.length;nt<lt;nt++)Ie[nt]=De.buildReplaceString(ie[nt].matches,this._state.preserveCase);const We=new u(this._editor.getSelection(),ie.map(nt=>nt.range),Ie);this._executeEditorCommand("replaceAll",We)}selectAllMatches(){if(!this._hasMatches())return;const fe=this._decorations.getFindScopes();let ie=this._findMatches(fe,!1,1073741824).map(We=>new d.Y(We.range.startLineNumber,We.range.startColumn,We.range.endLineNumber,We.range.endColumn));const Ie=this._editor.getSelection();for(let We=0,nt=ie.length;We<nt;We++)if(ie[We].equalsRange(Ie)){ie=[Ie].concat(ie.slice(0,We)).concat(ie.slice(We+1));break}this._editor.setSelections(ie)}_executeEditorCommand(fe,De){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(fe,De),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var me=i(16563),Se=i(59306),_e=i(89021);class he extends _e.${constructor(fe,De,ie){super(),this._hideSoon=this._register(new c.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=fe,this._state=De,this._keybindingService=ie,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Ie={inputActiveOptionBorder:(0,r.n_1)(r.PRb),inputActiveOptionForeground:(0,r.n_1)(r.Pvw),inputActiveOptionBackground:(0,r.n_1)(r.XEs)};this.caseSensitive=this._register(new Se.rk(Object.assign({appendTitle:this._keybindingLabelFor(G.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},Ie))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Se.Qx(Object.assign({appendTitle:this._keybindingLabelFor(G.ToggleWholeWordCommand),isChecked:this._state.wholeWord},Ie))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Se.eH(Object.assign({appendTitle:this._keybindingLabelFor(G.ToggleRegexCommand),isChecked:this._state.isRegex},Ie))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(We=>{let nt=!1;We.isRegex&&(this.regex.checked=this._state.isRegex,nt=!0),We.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,nt=!0),We.matchCase&&(this.caseSensitive.checked=this._state.matchCase,nt=!0),!this._state.isRevealed&&nt&&this._revealTemporarily()})),this._register(me.nm(this._domNode,me.tw.MOUSE_LEAVE,We=>this._onMouseLeave())),this._register(me.nm(this._domNode,"mouseover",We=>this._onMouseOver()))}_keybindingLabelFor(fe){const De=this._keybindingService.lookupKeybinding(fe);return De?` (${De.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return he.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}he.ID="editor.contrib.findOptionsWidget";var le=i(94162);function se(Ht,fe){return Ht===1?!0:Ht===2?!1:fe}class Re extends F.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return se(this._isRegexOverride,this._isRegex)}get wholeWord(){return se(this._wholeWordOverride,this._wholeWord)}get matchCase(){return se(this._matchCaseOverride,this._matchCase)}get preserveCase(){return se(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new le.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(fe,De,ie){const Ie={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let We=!1;De===0&&(fe=0),fe>De&&(fe=De),this._matchesPosition!==fe&&(this._matchesPosition=fe,Ie.matchesPosition=!0,We=!0),this._matchesCount!==De&&(this._matchesCount=De,Ie.matchesCount=!0,We=!0),typeof ie!="undefined"&&(a.e.equalsRange(this._currentMatch,ie)||(this._currentMatch=ie,Ie.currentMatch=!0,We=!0)),We&&this._onFindReplaceStateChange.fire(Ie)}change(fe,De,ie=!0){var Ie;const We={moveCursor:De,updateHistory:ie,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let nt=!1;const lt=this.isRegex,Pt=this.wholeWord,$t=this.matchCase,ti=this.preserveCase;typeof fe.searchString!="undefined"&&this._searchString!==fe.searchString&&(this._searchString=fe.searchString,We.searchString=!0,nt=!0),typeof fe.replaceString!="undefined"&&this._replaceString!==fe.replaceString&&(this._replaceString=fe.replaceString,We.replaceString=!0,nt=!0),typeof fe.isRevealed!="undefined"&&this._isRevealed!==fe.isRevealed&&(this._isRevealed=fe.isRevealed,We.isRevealed=!0,nt=!0),typeof fe.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==fe.isReplaceRevealed&&(this._isReplaceRevealed=fe.isReplaceRevealed,We.isReplaceRevealed=!0,nt=!0),typeof fe.isRegex!="undefined"&&(this._isRegex=fe.isRegex),typeof fe.wholeWord!="undefined"&&(this._wholeWord=fe.wholeWord),typeof fe.matchCase!="undefined"&&(this._matchCase=fe.matchCase),typeof fe.preserveCase!="undefined"&&(this._preserveCase=fe.preserveCase),typeof fe.searchScope!="undefined"&&(!((Ie=fe.searchScope)===null||Ie===void 0)&&Ie.every(Qt=>{var Jt;return(Jt=this._searchScope)===null||Jt===void 0?void 0:Jt.some(di=>!a.e.equalsRange(di,Qt))})||(this._searchScope=fe.searchScope,We.searchScope=!0,nt=!0)),typeof fe.loop!="undefined"&&this._loop!==fe.loop&&(this._loop=fe.loop,We.loop=!0,nt=!0),typeof fe.isSearching!="undefined"&&this._isSearching!==fe.isSearching&&(this._isSearching=fe.isSearching,We.isSearching=!0,nt=!0),typeof fe.filters!="undefined"&&(this._filters?this._filters.update(fe.filters):this._filters=fe.filters,We.filters=!0,nt=!0),this._isRegexOverride=typeof fe.isRegexOverride!="undefined"?fe.isRegexOverride:0,this._wholeWordOverride=typeof fe.wholeWordOverride!="undefined"?fe.wholeWordOverride:0,this._matchCaseOverride=typeof fe.matchCaseOverride!="undefined"?fe.matchCaseOverride:0,this._preserveCaseOverride=typeof fe.preserveCaseOverride!="undefined"?fe.preserveCaseOverride:0,lt!==this.isRegex&&(nt=!0,We.isRegex=!0),Pt!==this.wholeWord&&(nt=!0,We.wholeWord=!0),$t!==this.matchCase&&(nt=!0,We.matchCase=!0),ti!==this.preserveCase&&(nt=!0,We.preserveCase=!0),nt&&this._onFindReplaceStateChange.fire(We)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=y}}var $e=i(26017),je=i(27654),Ce=i(69303),J=i(54195),ne=i(50505),ae=i(41420),xe=i(15779),Ke=i(44872);function ct(Ht){var fe,De;return((fe=Ht.lookupKeybinding("history.showPrevious"))===null||fe===void 0?void 0:fe.getElectronAccelerator())==="Up"&&((De=Ht.lookupKeybinding("history.showNext"))===null||De===void 0?void 0:De.getElectronAccelerator())==="Down"}var ot=i(88159),dt=i(81189),et=i(33479),Fe=i(67770),Le=i(74964),Te=function(Ht,fe,De,ie){function Ie(We){return We instanceof De?We:new De(function(nt){nt(We)})}return new(De||(De=Promise))(function(We,nt){function lt(ti){try{$t(ie.next(ti))}catch(Qt){nt(Qt)}}function Pt(ti){try{$t(ie.throw(ti))}catch(Qt){nt(Qt)}}function $t(ti){ti.done?We(ti.value):Ie(ti.value).then(lt,Pt)}$t((ie=ie.apply(Ht,fe||[])).next())})};const ge=(0,ot.q5)("find-selection",J.l.selection,xe.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ve=(0,ot.q5)("find-collapsed",J.l.chevronRight,xe.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),we=(0,ot.q5)("find-expanded",J.l.chevronDown,xe.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Oe=(0,ot.q5)("find-replace",J.l.replace,xe.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),He=(0,ot.q5)("find-replace-all",J.l.replaceAll,xe.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),mt=(0,ot.q5)("find-previous-match",J.l.arrowUp,xe.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),bt=(0,ot.q5)("find-next-match",J.l.arrowDown,xe.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),kt=xe.NC("label.find","Find"),Ut=xe.NC("placeholder.find","Find"),ut=xe.NC("label.previousMatchButton","Previous Match"),Dt=xe.NC("label.nextMatchButton","Next Match"),ft=xe.NC("label.toggleSelectionFind","Find in Selection"),Ft=xe.NC("label.closeButton","Close"),Et=xe.NC("label.replace","Replace"),Ze=xe.NC("placeholder.replace","Replace"),St=xe.NC("label.replaceButton","Replace"),jt=xe.NC("label.replaceAllButton","Replace All"),Ct=xe.NC("label.toggleReplaceButton","Toggle Replace"),_t=xe.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",y),Kt=xe.NC("label.matchesLocation","{0} of {1}"),Zt=xe.NC("label.noResults","No results"),li=419,Ui=275-54;let on=69;const Qi=33,un="ctrlEnterReplaceAll.windows.donotask",Sn=ae.dz?256:2048;class bn{constructor(fe){this.afterLineNumber=fe,this.heightInPx=Qi,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Cn(Ht,fe,De){const ie=!!fe.match(/\n/);if(De&&ie&&De.selectionStart>0){Ht.stopPropagation();return}}function Fi(Ht,fe,De){const ie=!!fe.match(/\n/);if(De&&ie&&De.selectionEnd<De.value.length){Ht.stopPropagation();return}}class On extends _e.${constructor(fe,De,ie,Ie,We,nt,lt,Pt,$t){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=fe,this._controller=De,this._state=ie,this._contextViewProvider=Ie,this._keybindingService=We,this._contextKeyService=nt,this._storageService=Pt,this._notificationService=$t,this._ctrlEnterReplaceAllWarningPrompted=!!Pt.getBoolean(un,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new c.vp(500),this._register((0,F.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ti=>this._onStateChanged(ti))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ti=>{if(ti.hasChanged(86)&&(this._codeEditor.getOption(86)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ti.hasChanged(138)&&this._tryUpdateWidgetWidth(),ti.hasChanged(2)&&this.updateAccessibilitySupport(),ti.hasChanged(38)){const Qt=this._codeEditor.getOption(38).loop;this._state.change({loop:Qt},!1);const Jt=this._codeEditor.getOption(38).addExtraSpaceOnTop;Jt&&!this._viewZone&&(this._viewZone=new bn(0),this._showViewZone()),!Jt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Te(this,void 0,void 0,function*(){if(this._isVisible){const ti=yield this._controller.getGlobalBufferTerm();ti&&ti!==this._state.searchString&&(this._state.change({searchString:ti},!1),this._findInput.select())}}))),this._findInputFocused=P.bindTo(nt),this._findFocusTracker=this._register(me.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=X.bindTo(nt),this._replaceFocusTracker=this._register(me.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(38).addExtraSpaceOnTop&&(this._viewZone=new bn(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ti=>{if(ti.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return On.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(fe){if(fe.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(fe.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),fe.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),fe.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(86)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=me.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(fe.isRevealed||fe.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),fe.isRegex&&this._findInput.setRegex(this._state.isRegex),fe.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),fe.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),fe.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),fe.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),fe.searchString||fe.matchesCount||fe.matchesPosition){const De=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",De),this._updateMatchesCount(),this._updateButtons()}(fe.searchString||fe.currentMatch)&&this._layoutViewZone(),fe.updateHistory&&this._delayedUpdateHistory(),fe.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ne.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=on+"px",this._state.matchesCount>=y?this._matchesCount.title=_t:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let fe;if(this._state.matchesCount>0){let De=String(this._state.matchesCount);this._state.matchesCount>=y&&(De+="+");let ie=String(this._state.matchesPosition);ie==="0"&&(ie="?"),fe=g.WU(Kt,ie,De)}else fe=Zt;this._matchesCount.appendChild(document.createTextNode(fe)),(0,$e.Z9)(this._getAriaLabel(fe,this._state.currentMatch,this._state.searchString)),on=Math.max(on,this._matchesCount.clientWidth)}_getAriaLabel(fe,De,ie){if(fe===Zt)return ie===""?xe.NC("ariaSearchNoResultEmpty","{0} found",fe):xe.NC("ariaSearchNoResult","{0} found for '{1}'",fe,ie);if(De){const Ie=xe.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",fe,ie,De.startLineNumber+":"+De.startColumn),We=this._codeEditor.getModel();return We&&De.startLineNumber<=We.getLineCount()&&De.startLineNumber>=1?`${We.getLineContent(De.startLineNumber)}, ${Ie}`:Ie}return xe.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",fe,ie)}_updateToggleSelectionFindButton(){const fe=this._codeEditor.getSelection(),De=fe?fe.startLineNumber!==fe.endLineNumber||fe.startColumn!==fe.endColumn:!1,ie=this._toggleSelectionFind.checked;this._isVisible&&(ie||De)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const fe=this._state.searchString.length>0,De=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&fe&&De&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&fe&&De&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&fe),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&fe),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ie=!this._codeEditor.getOption(86);this._toggleReplaceBtn.setEnabled(this._isVisible&&ie)}_reveal(){if(this._revealTimeouts.forEach(fe=>{clearTimeout(fe)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const fe=this._codeEditor.getSelection();switch(this._codeEditor.getOption(38).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ie=!!fe&&fe.startLineNumber!==fe.endLineNumber;this._toggleSelectionFind.checked=ie;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let De=!0;if(this._codeEditor.getOption(38).seedSearchStringFromSelection&&fe){const ie=this._codeEditor.getDomNode();if(ie){const Ie=me.i(ie),We=this._codeEditor.getScrolledVisiblePosition(fe.getStartPosition()),nt=Ie.left+(We?We.left:0),lt=We?We.top:0;if(this._viewZone&&lt<this._viewZone.heightInPx){fe.endLineNumber>fe.startLineNumber&&(De=!1);const Pt=me.xQ(this._domNode).left;nt>Pt&&(De=!1);const $t=this._codeEditor.getScrolledVisiblePosition(fe.getEndPosition());Ie.left+($t?$t.left:0)>Pt&&(De=!1)}}}this._showViewZone(De)}}_hide(fe){this._revealTimeouts.forEach(De=>{clearTimeout(De)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),fe&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(fe){if(!this._codeEditor.getOption(38).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ie=this._viewZone;this._viewZoneId!==void 0||!ie||this._codeEditor.changeViewZones(Ie=>{ie.heightInPx=this._getHeight(),this._viewZoneId=Ie.addZone(ie),this._codeEditor.setScrollTop(fe||this._codeEditor.getScrollTop()+ie.heightInPx)})}_showViewZone(fe=!0){if(!this._isVisible||!this._codeEditor.getOption(38).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new bn(0));const ie=this._viewZone;this._codeEditor.changeViewZones(Ie=>{if(this._viewZoneId!==void 0){const We=this._getHeight();if(We===ie.heightInPx)return;const nt=We-ie.heightInPx;ie.heightInPx=We,Ie.layoutZone(this._viewZoneId),fe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+nt);return}else{let We=this._getHeight();if(We-=this._codeEditor.getOption(80).top,We<=0)return;ie.heightInPx=We,this._viewZoneId=Ie.addZone(ie),fe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+We)}})}_removeViewZone(){this._codeEditor.changeViewZones(fe=>{this._viewZoneId!==void 0&&(fe.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!me.Uw(this._domNode))return;const fe=this._codeEditor.getLayoutInfo();if(fe.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ie=fe.width,Ie=fe.minimap.minimapWidth;let We=!1,nt=!1,lt=!1;if(this._resized&&me.w(this._domNode)>li){this._domNode.style.maxWidth=`${ie-28-Ie-15}px`,this._replaceInput.width=me.w(this._findInput.domNode);return}if(li+28+Ie>=ie&&(nt=!0),li+28+Ie-on>=ie&&(lt=!0),li+28+Ie-on>=ie+50&&(We=!0),this._domNode.classList.toggle("collapsed-find-widget",We),this._domNode.classList.toggle("narrow-find-widget",lt),this._domNode.classList.toggle("reduced-find-widget",nt),!lt&&!We&&(this._domNode.style.maxWidth=`${ie-28-Ie-15}px`),this._resized){this._findInput.inputBox.layout();const Pt=this._findInput.inputBox.element.clientWidth;Pt>0&&(this._replaceInput.width=Pt)}else this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode))}_getHeight(){let fe=0;return fe+=4,fe+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(fe+=4,fe+=this._replaceInput.inputBox.height+2),fe+=4,fe}_tryUpdateHeight(){const fe=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===fe?!1:(this._cachedHeight=fe,this._domNode.style.height=`${fe}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const fe=this._codeEditor.getSelections();fe.map(De=>{De.endColumn===1&&De.endLineNumber>De.startLineNumber&&(De=De.setEndPosition(De.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(De.endLineNumber-1)));const ie=this._state.currentMatch;return De.startLineNumber!==De.endLineNumber&&!a.e.equalsRange(De,ie)?De:null}).filter(De=>!!De),fe.length&&this._state.change({searchScope:fe},!0)}}_onFindInputMouseDown(fe){fe.middleButton&&fe.stopPropagation()}_onFindInputKeyDown(fe){if(fe.equals(Sn|3))if(this._keybindingService.dispatchEvent(fe,fe.target)){fe.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),fe.preventDefault();return}if(fe.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),fe.preventDefault();return}if(fe.equals(2066)){this._codeEditor.focus(),fe.preventDefault();return}if(fe.equals(16))return Cn(fe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(fe.equals(18))return Fi(fe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(fe){if(fe.equals(Sn|3))if(this._keybindingService.dispatchEvent(fe,fe.target)){fe.preventDefault();return}else{ae.ED&&ae.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(xe.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(un,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),fe.preventDefault();return}if(fe.equals(2)){this._findInput.focusOnCaseSensitive(),fe.preventDefault();return}if(fe.equals(1026)){this._findInput.focus(),fe.preventDefault();return}if(fe.equals(2066)){this._codeEditor.focus(),fe.preventDefault();return}if(fe.equals(16))return Cn(fe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(fe.equals(18))return Fi(fe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(fe){return 0}_keybindingLabelFor(fe){const De=this._keybindingService.lookupKeybinding(fe);return De?` (${De.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Ke.Yb(null,this._contextViewProvider,{width:Ui,label:kt,placeholder:Ut,appendCaseSensitiveLabel:this._keybindingLabelFor(G.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(G.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(G.ToggleRegexCommand),validation:Pt=>{if(Pt.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Pt,"gu"),null}catch($t){return{content:$t.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>ct(this._keybindingService),inputBoxStyles:Le.Hc,toggleStyles:Le.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Pt=>this._onFindInputKeyDown(Pt))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Pt=>{Pt.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Pt.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Pt=>{Pt.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Pt.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Pt=>{this._tryUpdateHeight()&&this._showViewZone()})),ae.IJ&&this._register(this._findInput.onMouseDown(Pt=>this._onFindInputMouseDown(Pt))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new rn({label:ut+this._keybindingLabelFor(G.PreviousMatchFindAction),icon:mt,onTrigger:()=>{(0,Fe.cW)(this._codeEditor.getAction(G.PreviousMatchFindAction)).run().then(void 0,ne.dL)}})),this._nextBtn=this._register(new rn({label:Dt+this._keybindingLabelFor(G.NextMatchFindAction),icon:bt,onTrigger:()=>{(0,Fe.cW)(this._codeEditor.getAction(G.NextMatchFindAction)).run().then(void 0,ne.dL)}}));const ie=document.createElement("div");ie.className="find-part",ie.appendChild(this._findInput.domNode);const Ie=document.createElement("div");Ie.className="find-actions",ie.appendChild(Ie),Ie.appendChild(this._matchesCount),Ie.appendChild(this._prevBtn.domNode),Ie.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new je.Z({icon:ge,title:ft+this._keybindingLabelFor(G.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,r.n_1)(r.XEs),inputActiveOptionBorder:(0,r.n_1)(r.PRb),inputActiveOptionForeground:(0,r.n_1)(r.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Pt=this._codeEditor.getSelections();Pt.map($t=>($t.endColumn===1&&$t.endLineNumber>$t.startLineNumber&&($t=$t.setEndPosition($t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn($t.endLineNumber-1))),$t.isEmpty()?null:$t)).filter($t=>!!$t),Pt.length&&this._state.change({searchScope:Pt},!0)}}else this._state.change({searchScope:null},!0)})),Ie.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new rn({label:Ft+this._keybindingLabelFor(G.CloseFindWidgetCommand),icon:ot.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Pt=>{Pt.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Pt.preventDefault())}})),Ie.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Ke.Nq(null,void 0,{label:Et,placeholder:Ze,appendPreserveCaseLabel:this._keybindingLabelFor(G.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ct(this._keybindingService),inputBoxStyles:Le.Hc,toggleStyles:Le.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Pt=>this._onReplaceInputKeyDown(Pt))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Pt=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Pt=>{Pt.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Pt.preventDefault())})),this._replaceBtn=this._register(new rn({label:St+this._keybindingLabelFor(G.ReplaceOneAction),icon:Oe,onTrigger:()=>{this._controller.replace()},onKeyDown:Pt=>{Pt.equals(1026)&&(this._closeBtn.focus(),Pt.preventDefault())}})),this._replaceAllBtn=this._register(new rn({label:jt+this._keybindingLabelFor(G.ReplaceAllAction),icon:He,onTrigger:()=>{this._controller.replaceAll()}}));const We=document.createElement("div");We.className="replace-part",We.appendChild(this._replaceInput.domNode);const nt=document.createElement("div");nt.className="replace-actions",We.appendChild(nt),nt.appendChild(this._replaceBtn.domNode),nt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new rn({label:Ct,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${li}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ie),this._domNode.appendChild(We),this._resizeSash=new Ce.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let lt=li;this._register(this._resizeSash.onDidStart(()=>{lt=me.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Pt=>{this._resized=!0;const $t=lt+Pt.startX-Pt.currentX;if($t<li)return;const ti=parseFloat(me.Dx(this._domNode).maxWidth)||0;$t>ti||(this._domNode.style.width=`${$t}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Pt=me.w(this._domNode);if(Pt<li)return;let $t=li;if(!this._resized||Pt===li){const ti=this._codeEditor.getLayoutInfo();$t=ti.width-28-ti.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${$t}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const fe=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(fe!==2)}}On.ID="editor.contrib.findWidget";class rn extends _e.${constructor(fe){super(),this._opts=fe;let De="button";this._opts.className&&(De=De+" "+this._opts.className),this._opts.icon&&(De=De+" "+dt.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=De,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ie=>{this._opts.onTrigger(),ie.preventDefault()}),this.onkeydown(this._domNode,ie=>{var Ie,We;if(ie.equals(10)||ie.equals(3)){this._opts.onTrigger(),ie.preventDefault();return}(We=(Ie=this._opts).onKeyDown)===null||We===void 0||We.call(Ie,ie)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(fe){this._domNode.classList.toggle("disabled",!fe),this._domNode.setAttribute("aria-disabled",String(!fe)),this._domNode.tabIndex=fe?0:-1}setExpanded(fe){this._domNode.setAttribute("aria-expanded",String(!!fe)),fe?(this._domNode.classList.remove(...dt.k.asClassNameArray(ve)),this._domNode.classList.add(...dt.k.asClassNameArray(we))):(this._domNode.classList.remove(...dt.k.asClassNameArray(we)),this._domNode.classList.add(...dt.k.asClassNameArray(ve)))}}(0,m.Ic)((Ht,fe)=>{const De=(gi,Ei)=>{Ei&&fe.addRule(`.monaco-editor ${gi} { background-color: ${Ei}; }`)};De(".findMatch",Ht.getColor(r.MUv)),De(".currentFindMatch",Ht.getColor(r.nyM)),De(".findScope",Ht.getColor(r.jUe));const ie=Ht.getColor(r.D0T);De(".find-widget",ie);const Ie=Ht.getColor(r.rh);Ie&&fe.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Ie}; }`);const We=Ht.getColor(r.A42);We&&fe.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${We}; border-right: 1px solid ${We}; border-bottom: 1px solid ${We}; }`);const nt=Ht.getColor(r.EiJ);nt&&fe.addRule(`.monaco-editor .findMatch { border: 1px ${(0,et.c3)(Ht.type)?"dotted":"solid"} ${nt}; box-sizing: border-box; }`);const lt=Ht.getColor(r.pnM);lt&&fe.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${lt}; padding: 1px; box-sizing: border-box; }`);const Pt=Ht.getColor(r.gkn);Pt&&fe.addRule(`.monaco-editor .findScope { border: 1px ${(0,et.c3)(Ht.type)?"dashed":"solid"} ${Pt}; }`);const $t=Ht.getColor(r.lRK);$t&&fe.addRule(`.monaco-editor .find-widget { border: 1px solid ${$t}; }`);const ti=Ht.getColor(r.Hfx);ti&&fe.addRule(`.monaco-editor .find-widget { color: ${ti}; }`);const Qt=Ht.getColor(r.Ido);Qt&&fe.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Qt}; }`);const Jt=Ht.getColor(r.Ng6);if(Jt)fe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Jt}; }`);else{const gi=Ht.getColor(r.D1_);gi&&fe.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${gi}; }`)}const di=Ht.getColor(r.lUq);di&&fe.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${di} !important;
		}
	`);const Ci=Ht.getColor(r.R80);Ci&&fe.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ci}; }`)});var pn=i(49597),ui=i(52167),Mt=i(81477),At=i(22437),Wt=i(28382),qt=i(93611),at=i(47955),Ve=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},ze=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}},Ae=function(Ht,fe,De,ie){function Ie(We){return We instanceof De?We:new De(function(nt){nt(We)})}return new(De||(De=Promise))(function(We,nt){function lt(ti){try{$t(ie.next(ti))}catch(Qt){nt(Qt)}}function Pt(ti){try{$t(ie.throw(ti))}catch(Qt){nt(Qt)}}function $t(ti){ti.done?We(ti.value):Ie(ti.value).then(lt,Pt)}$t((ie=ie.apply(Ht,fe||[])).next())})};const Ge=524288;function st(Ht,fe="single",De=!1){if(!Ht.hasModel())return null;const ie=Ht.getSelection();if(fe==="single"&&ie.startLineNumber===ie.endLineNumber||fe==="multiple"){if(ie.isEmpty()){const Ie=Ht.getConfiguredWordAtPosition(ie.getStartPosition());if(Ie&&De===!1)return Ie.word}else if(Ht.getModel().getValueLengthInRange(ie)<Ge)return Ht.getModel().getValueInRange(ie)}return null}let rt=class Ac extends F.JT{get editor(){return this._editor}static get(fe){return fe.getContribution(Ac.ID)}constructor(fe,De,ie,Ie){super(),this._editor=fe,this._findWidgetVisible=Y.bindTo(De),this._contextKeyService=De,this._storageService=ie,this._clipboardService=Ie,this._updateHistoryDelayer=new c.vp(500),this._state=this._register(new Re),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(We=>this._onStateChanged(We))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const We=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),We&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(38).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(fe){this.saveQueryState(fe),fe.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),fe.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(fe){fe.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),fe.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),fe.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),fe.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!P.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const fe=this._editor.getSelections();fe.map(De=>(De.endColumn===1&&De.endLineNumber>De.startLineNumber&&(De=De.setEndPosition(De.endLineNumber-1,this._editor.getModel().getLineMaxColumn(De.endLineNumber-1))),De.isEmpty()?null:De)).filter(De=>!!De),fe.length&&this._state.change({searchScope:fe},!0)}}setSearchString(fe){this._state.isRegex&&(fe=g.ec(fe)),this._state.change({searchString:fe},!1)}highlightFindOptions(fe=!1){}_start(fe,De){return Ae(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const ie=Object.assign(Object.assign({},De),{isRevealed:!0});if(fe.seedSearchStringFromSelection==="single"){const Ie=st(this._editor,fe.seedSearchStringFromSelection,fe.seedSearchStringFromNonEmptySelection);Ie&&(this._state.isRegex?ie.searchString=g.ec(Ie):ie.searchString=Ie)}else if(fe.seedSearchStringFromSelection==="multiple"&&!fe.updateSearchScope){const Ie=st(this._editor,fe.seedSearchStringFromSelection);Ie&&(ie.searchString=Ie)}if(!ie.searchString&&fe.seedSearchStringFromGlobalClipboard){const Ie=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ie&&(ie.searchString=Ie)}if(fe.forceRevealReplace||ie.isReplaceRevealed?ie.isReplaceRevealed=!0:this._findWidgetVisible.get()||(ie.isReplaceRevealed=!1),fe.updateSearchScope){const Ie=this._editor.getSelections();Ie.some(We=>!We.isEmpty())&&(ie.searchScope=Ie)}ie.loop=fe.loop,this._state.change(ie,!1),this._model||(this._model=new ye(this._editor,this._state))})}start(fe,De){return this._start(fe,De)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(fe){return this._model?(this._model.moveToMatch(fe),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ae(this,void 0,void 0,function*(){return this._editor.getOption(38).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(fe){this._editor.getOption(38).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(fe)}};rt.ID="editor.contrib.findController",rt=Ve([ze(1,Q.i6),ze(2,at.Uy),ze(3,ui.p)],rt);let xt=class extends rt{constructor(fe,De,ie,Ie,We,nt,lt,Pt){super(fe,ie,lt,Pt),this._contextViewService=De,this._keybindingService=Ie,this._themeService=We,this._notificationService=nt,this._widget=null,this._findOptionsWidget=null}_start(fe,De){const ie=Object.create(null,{_start:{get:()=>super._start}});return Ae(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Ie=this._editor.getSelection();let We=!1;switch(this._editor.getOption(38).autoFindInSelection){case"always":We=!0;break;case"never":We=!1;break;case"multiline":{We=!!Ie&&Ie.startLineNumber!==Ie.endLineNumber;break}default:break}fe.updateSearchScope=fe.updateSearchScope||We,yield ie._start.call(this,fe,De),this._widget&&(fe.shouldFocus===2?this._widget.focusReplaceInput():fe.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(fe=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!fe?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new On(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new he(this._editor,this._state,this._keybindingService))}};xt=Ve([ze(1,Mt.u),ze(2,Q.i6),ze(3,At.d),ze(4,m.XE),ze(5,Wt.lT),ze(6,at.Uy),ze(7,ui.p)],xt);const Vt=(0,A.rn)(new A.jY({id:G.StartFindAction,label:xe.NC("startFindAction","Find"),alias:"Find",precondition:Q.Ao.or($.u.focus,Q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:pn.eH.MenubarEditMenu,group:"3_find",title:xe.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Vt.addImplementation(0,(Ht,fe,De)=>{const ie=rt.get(fe);return ie?ie.start({forceRevealReplace:!1,seedSearchStringFromSelection:fe.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:fe.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:fe.getOption(38).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:fe.getOption(38).loop}):!1});const Gt={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:xe.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:xe.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:xe.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:xe.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class ai extends A.R6{constructor(){super({id:G.StartFindWithArgs,label:xe.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Gt})}run(fe,De,ie){return Ae(this,void 0,void 0,function*(){const Ie=rt.get(De);if(Ie){const We=ie?{searchString:ie.searchString,replaceString:ie.replaceString,isReplaceRevealed:ie.replaceString!==void 0,isRegex:ie.isRegex,wholeWord:ie.matchWholeWord,matchCase:ie.isCaseSensitive,preserveCase:ie.preserveCase}:{};yield Ie.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ie.getState().searchString.length===0&&De.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:De.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(ie==null?void 0:ie.findInSelection)||!1,loop:De.getOption(38).loop},We),Ie.setGlobalBufferTerm(Ie.getState().searchString)}})}}class Si extends A.R6{constructor(){super({id:G.StartFindWithSelection,label:xe.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(fe,De){return Ae(this,void 0,void 0,function*(){const ie=rt.get(De);ie&&(yield ie.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:De.getOption(38).loop}),ie.setGlobalBufferTerm(ie.getState().searchString))})}}class hi extends A.R6{run(fe,De){return Ae(this,void 0,void 0,function*(){const ie=rt.get(De);ie&&!this._run(ie)&&(yield ie.start({forceRevealReplace:!1,seedSearchStringFromSelection:ie.getState().searchString.length===0&&De.getOption(38).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:De.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:De.getOption(38).loop}),this._run(ie))})}}class Di extends hi{constructor(){super({id:G.NextMatchFindAction,label:xe.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:$.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Q.Ao.and($.u.focus,P),primary:3,weight:100}]})}_run(fe){return fe.moveToNextMatch()?(fe.editor.pushUndoStop(),!0):!1}}class Ni extends hi{constructor(){super({id:G.PreviousMatchFindAction,label:xe.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:$.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Q.Ao.and($.u.focus,P),primary:1027,weight:100}]})}_run(fe){return fe.moveToPrevMatch()}}class yi extends A.R6{constructor(){super({id:G.GoToMatchFindAction,label:xe.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Y}),this._highlightDecorations=[]}run(fe,De,ie){const Ie=rt.get(De);if(!Ie)return;const nt=fe.get(qt.eJ).createInputBox();nt.placeholder=xe.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Ie.getState().matchesCount);const lt=Pt=>{const $t=parseInt(Pt);if(!isNaN($t)&&$t>0&&$t<=Ie.getState().matchesCount){nt.validationMessage=void 0,Ie.goToMatch($t-1);const ti=Ie.getState().currentMatch;ti&&this.addDecorations(De,ti)}else nt.validationMessage=xe.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ie.getState().matchesCount),this.clearDecorations(De)};nt.onDidChangeValue(Pt=>{lt(Pt)}),nt.onDidAccept(()=>{const Pt=parseInt(nt.value);!isNaN(Pt)&&Pt>0&&Pt<=Ie.getState().matchesCount?(Ie.goToMatch(Pt-1),nt.hide()):nt.validationMessage=xe.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ie.getState().matchesCount)}),nt.onDidHide(()=>{this.clearDecorations(De),nt.dispose()}),nt.show()}clearDecorations(fe){fe.changeDecorations(De=>{this._highlightDecorations=De.deltaDecorations(this._highlightDecorations,[])})}addDecorations(fe,De){fe.changeDecorations(ie=>{this._highlightDecorations=ie.deltaDecorations(this._highlightDecorations,[{range:De,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:De,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,m.EN)(S.m9),position:N.sh.Full}}}])})}}class Zi extends A.R6{run(fe,De){return Ae(this,void 0,void 0,function*(){const ie=rt.get(De);if(!ie)return;const Ie=st(De,"single",!1);Ie&&ie.setSearchString(Ie),this._run(ie)||(yield ie.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:De.getOption(38).loop}),this._run(ie))})}}class Ri extends Zi{constructor(){super({id:G.NextSelectionMatchFindAction,label:xe.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:$.u.focus,primary:2109,weight:100}})}_run(fe){return fe.moveToNextMatch()}}class Dn extends Zi{constructor(){super({id:G.PreviousSelectionMatchFindAction,label:xe.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:$.u.focus,primary:3133,weight:100}})}_run(fe){return fe.moveToPrevMatch()}}const Bi=(0,A.rn)(new A.jY({id:G.StartFindReplaceAction,label:xe.NC("startReplace","Replace"),alias:"Replace",precondition:Q.Ao.or($.u.focus,Q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:pn.eH.MenubarEditMenu,group:"3_find",title:xe.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Bi.addImplementation(0,(Ht,fe,De)=>{if(!fe.hasModel()||fe.getOption(86))return!1;const ie=rt.get(fe);if(!ie)return!1;const Ie=fe.getSelection(),We=ie.isFindInputFocused(),nt=!Ie.isEmpty()&&Ie.startLineNumber===Ie.endLineNumber&&fe.getOption(38).seedSearchStringFromSelection!=="never"&&!We,lt=We||nt?2:1;return ie.start({forceRevealReplace:!0,seedSearchStringFromSelection:nt?"single":"none",seedSearchStringFromNonEmptySelection:fe.getOption(38).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:fe.getOption(38).seedSearchStringFromSelection!=="never",shouldFocus:lt,shouldAnimate:!0,updateSearchScope:!1,loop:fe.getOption(38).loop})}),(0,A._K)(rt.ID,xt,0),(0,A.Qr)(ai),(0,A.Qr)(Si),(0,A.Qr)(Di),(0,A.Qr)(Ni),(0,A.Qr)(yi),(0,A.Qr)(Ri),(0,A.Qr)(Dn);const ln=A._l.bindToContribution(rt.get);(0,A.fK)(new ln({id:G.CloseFindWidgetCommand,precondition:Y,handler:Ht=>Ht.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and($.u.focus,Q.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,A.fK)(new ln({id:G.ToggleCaseSensitiveCommand,precondition:void 0,handler:Ht=>Ht.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:q.primary,mac:q.mac,win:q.win,linux:q.linux}})),(0,A.fK)(new ln({id:G.ToggleWholeWordCommand,precondition:void 0,handler:Ht=>Ht.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:U.primary,mac:U.mac,win:U.win,linux:U.linux}})),(0,A.fK)(new ln({id:G.ToggleRegexCommand,precondition:void 0,handler:Ht=>Ht.toggleRegex(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:L.primary,mac:L.mac,win:L.win,linux:L.linux}})),(0,A.fK)(new ln({id:G.ToggleSearchScopeCommand,precondition:void 0,handler:Ht=>Ht.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:B.primary,mac:B.mac,win:B.win,linux:B.linux}})),(0,A.fK)(new ln({id:G.TogglePreserveCaseCommand,precondition:void 0,handler:Ht=>Ht.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,A.fK)(new ln({id:G.ReplaceOneAction,precondition:Y,handler:Ht=>Ht.replace(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:3094}})),(0,A.fK)(new ln({id:G.ReplaceOneAction,precondition:Y,handler:Ht=>Ht.replace(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and($.u.focus,X),primary:3}})),(0,A.fK)(new ln({id:G.ReplaceAllAction,precondition:Y,handler:Ht=>Ht.replaceAll(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:2563}})),(0,A.fK)(new ln({id:G.ReplaceAllAction,precondition:Y,handler:Ht=>Ht.replaceAll(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and($.u.focus,X),primary:void 0,mac:{primary:2051}}})),(0,A.fK)(new ln({id:G.SelectAllMatchesAction,precondition:Y,handler:Ht=>Ht.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:$.u.focus,primary:515}}))},65484:function(vt,be,i){"use strict";i.r(be),i.d(be,{FoldingController:function(){return Ct},RangesLimitReporter:function(){return _t}});var c=i(39460),F=i(19713),g=i(50505),A=i(42528),S=i(52357),$=i(30613),N=i(67770),x=i(43167),O=i(98981),p=i(73805),a=i(33686),d=i(28170),f=i(94162);const s={[0]:" ",[1]:"u",[2]:"r"},r=65535,m=16777215,C=4278190080;class u{constructor(Ve){const ze=Math.ceil(Ve/32);this._states=new Uint32Array(ze)}get(Ve){const ze=Ve/32|0,Ae=Ve%32;return(this._states[ze]&1<<Ae)!==0}set(Ve,ze){const Ae=Ve/32|0,Ge=Ve%32,st=this._states[Ae];ze?this._states[Ae]=st|1<<Ge:this._states[Ae]=st&~(1<<Ge)}}class _{constructor(Ve,ze,Ae){if(Ve.length!==ze.length||Ve.length>r)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Ve,this._endIndexes=ze,this._collapseStates=new u(Ve.length),this._userDefinedStates=new u(Ve.length),this._recoveredStates=new u(Ve.length),this._types=Ae,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const Ve=[],ze=(Ae,Ge)=>{const st=Ve[Ve.length-1];return this.getStartLineNumber(st)<=Ae&&this.getEndLineNumber(st)>=Ge};for(let Ae=0,Ge=this._startIndexes.length;Ae<Ge;Ae++){const st=this._startIndexes[Ae],rt=this._endIndexes[Ae];if(st>m||rt>m)throw new Error("startLineNumber or endLineNumber must not exceed "+m);for(;Ve.length>0&&!ze(st,rt);)Ve.pop();const xt=Ve.length>0?Ve[Ve.length-1]:-1;Ve.push(Ae),this._startIndexes[Ae]=st+((xt&255)<<24),this._endIndexes[Ae]=rt+((xt&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Ve){return this._startIndexes[Ve]&m}getEndLineNumber(Ve){return this._endIndexes[Ve]&m}getType(Ve){return this._types?this._types[Ve]:void 0}hasTypes(){return!!this._types}isCollapsed(Ve){return this._collapseStates.get(Ve)}setCollapsed(Ve,ze){this._collapseStates.set(Ve,ze)}isUserDefined(Ve){return this._userDefinedStates.get(Ve)}setUserDefined(Ve,ze){return this._userDefinedStates.set(Ve,ze)}isRecovered(Ve){return this._recoveredStates.get(Ve)}setRecovered(Ve,ze){return this._recoveredStates.set(Ve,ze)}getSource(Ve){return this.isUserDefined(Ve)?1:this.isRecovered(Ve)?2:0}setSource(Ve,ze){ze===1?(this.setUserDefined(Ve,!0),this.setRecovered(Ve,!1)):ze===2?(this.setUserDefined(Ve,!1),this.setRecovered(Ve,!0)):(this.setUserDefined(Ve,!1),this.setRecovered(Ve,!1))}setCollapsedAllOfType(Ve,ze){let Ae=!1;if(this._types)for(let Ge=0;Ge<this._types.length;Ge++)this._types[Ge]===Ve&&(this.setCollapsed(Ge,ze),Ae=!0);return Ae}toRegion(Ve){return new b(this,Ve)}getParentIndex(Ve){this.ensureParentIndices();const ze=((this._startIndexes[Ve]&C)>>>24)+((this._endIndexes[Ve]&C)>>>16);return ze===r?-1:ze}contains(Ve,ze){return this.getStartLineNumber(Ve)<=ze&&this.getEndLineNumber(Ve)>=ze}findIndex(Ve){let ze=0,Ae=this._startIndexes.length;if(Ae===0)return-1;for(;ze<Ae;){const Ge=Math.floor((ze+Ae)/2);Ve<this.getStartLineNumber(Ge)?Ae=Ge:ze=Ge+1}return ze-1}findRange(Ve){let ze=this.findIndex(Ve);if(ze>=0){if(this.getEndLineNumber(ze)>=Ve)return ze;for(ze=this.getParentIndex(ze);ze!==-1;){if(this.contains(ze,Ve))return ze;ze=this.getParentIndex(ze)}}return-1}toString(){const Ve=[];for(let ze=0;ze<this.length;ze++)Ve[ze]=`[${s[this.getSource(ze)]}${this.isCollapsed(ze)?"+":"-"}] ${this.getStartLineNumber(ze)}/${this.getEndLineNumber(ze)}`;return Ve.join(", ")}toFoldRange(Ve){return{startLineNumber:this._startIndexes[Ve]&m,endLineNumber:this._endIndexes[Ve]&m,type:this._types?this._types[Ve]:void 0,isCollapsed:this.isCollapsed(Ve),source:this.getSource(Ve)}}static fromFoldRanges(Ve){const ze=Ve.length,Ae=new Uint32Array(ze),Ge=new Uint32Array(ze);let st=[],rt=!1;for(let Vt=0;Vt<ze;Vt++){const Gt=Ve[Vt];Ae[Vt]=Gt.startLineNumber,Ge[Vt]=Gt.endLineNumber,st.push(Gt.type),Gt.type&&(rt=!0)}rt||(st=void 0);const xt=new _(Ae,Ge,st);for(let Vt=0;Vt<ze;Vt++)Ve[Vt].isCollapsed&&xt.setCollapsed(Vt,!0),xt.setSource(Vt,Ve[Vt].source);return xt}static sanitizeAndMerge(Ve,ze,Ae){Ae=Ae!=null?Ae:Number.MAX_VALUE;const Ge=(yi,Zi)=>Array.isArray(yi)?Ri=>Ri<Zi?yi[Ri]:void 0:Ri=>Ri<Zi?yi.toFoldRange(Ri):void 0,st=Ge(Ve,Ve.length),rt=Ge(ze,ze.length);let xt=0,Vt=0,Gt=st(0),ai=rt(0);const Si=[];let hi,Di=0;const Ni=[];for(;Gt||ai;){let yi;if(ai&&(!Gt||Gt.startLineNumber>=ai.startLineNumber))Gt&&Gt.startLineNumber===ai.startLineNumber?(ai.source===1?yi=ai:(yi=Gt,yi.isCollapsed=ai.isCollapsed&&Gt.endLineNumber===ai.endLineNumber,yi.source=0),Gt=st(++xt)):(yi=ai,ai.isCollapsed&&ai.source===0&&(yi.source=2)),ai=rt(++Vt);else{let Zi=Vt,Ri=ai;for(;;){if(!Ri||Ri.startLineNumber>Gt.endLineNumber){yi=Gt;break}if(Ri.source===1&&Ri.endLineNumber>Gt.endLineNumber)break;Ri=rt(++Zi)}Gt=st(++xt)}if(yi){for(;hi&&hi.endLineNumber<yi.startLineNumber;)hi=Si.pop();yi.endLineNumber>yi.startLineNumber&&yi.startLineNumber>Di&&yi.endLineNumber<=Ae&&(!hi||hi.endLineNumber>=yi.endLineNumber)&&(Ni.push(yi),Di=yi.startLineNumber,hi&&Si.push(hi),hi=yi)}}return Ni}}class b{constructor(Ve,ze){this.ranges=Ve,this.index=ze}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Ve){return Ve.startLineNumber<=this.startLineNumber&&Ve.endLineNumber>=this.endLineNumber}containsLine(Ve){return this.startLineNumber<=Ve&&Ve<=this.endLineNumber}}var E=i(41397);class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(Ve,ze){this._updateEventEmitter=new f.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Ve,this._decorationProvider=ze,this._regions=new _(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(Ve){if(!Ve.length)return;Ve=Ve.sort((Ae,Ge)=>Ae.regionIndex-Ge.regionIndex);const ze={};this._decorationProvider.changeDecorations(Ae=>{let Ge=0,st=-1,rt=-1;const xt=Vt=>{for(;Ge<Vt;){const Gt=this._regions.getEndLineNumber(Ge),ai=this._regions.isCollapsed(Ge);if(Gt<=st){const Si=this.regions.getSource(Ge)!==0;Ae.changeDecorationOptions(this._editorDecorationIds[Ge],this._decorationProvider.getDecorationOption(ai,Gt<=rt,Si))}ai&&Gt>rt&&(rt=Gt),Ge++}};for(const Vt of Ve){const Gt=Vt.regionIndex,ai=this._editorDecorationIds[Gt];if(ai&&!ze[ai]){ze[ai]=!0,xt(Gt);const Si=!this._regions.isCollapsed(Gt);this._regions.setCollapsed(Gt,Si),st=Math.max(st,this._regions.getEndLineNumber(Gt))}}xt(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Ve})}removeManualRanges(Ve){const ze=new Array,Ae=Ge=>{for(const st of Ve)if(!(st.startLineNumber>Ge.endLineNumber||Ge.startLineNumber>st.endLineNumber))return!0;return!1};for(let Ge=0;Ge<this._regions.length;Ge++){const st=this._regions.toFoldRange(Ge);(st.source===0||!Ae(st))&&ze.push(st)}this.updatePost(_.fromFoldRanges(ze))}update(Ve,ze=[]){const Ae=this._currentFoldedOrManualRanges(ze),Ge=_.sanitizeAndMerge(Ve,Ae,this._textModel.getLineCount());this.updatePost(_.fromFoldRanges(Ge))}updatePost(Ve){const ze=[];let Ae=-1;for(let Ge=0,st=Ve.length;Ge<st;Ge++){const rt=Ve.getStartLineNumber(Ge),xt=Ve.getEndLineNumber(Ge),Vt=Ve.isCollapsed(Ge),Gt=Ve.getSource(Ge)!==0,ai={startLineNumber:rt,startColumn:this._textModel.getLineMaxColumn(rt),endLineNumber:xt,endColumn:this._textModel.getLineMaxColumn(xt)+1};ze.push({range:ai,options:this._decorationProvider.getDecorationOption(Vt,xt<=Ae,Gt)}),Vt&&xt>Ae&&(Ae=xt)}this._decorationProvider.changeDecorations(Ge=>this._editorDecorationIds=Ge.deltaDecorations(this._editorDecorationIds,ze)),this._regions=Ve,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(Ve=[]){const ze=(Ge,st)=>{for(const rt of Ve)if(Ge<rt&&rt<=st)return!0;return!1},Ae=[];for(let Ge=0,st=this._regions.length;Ge<st;Ge++){let rt=this.regions.isCollapsed(Ge);const xt=this.regions.getSource(Ge);if(rt||xt!==0){const Vt=this._regions.toFoldRange(Ge),Gt=this._textModel.getDecorationRange(this._editorDecorationIds[Ge]);Gt&&(rt&&ze(Gt.startLineNumber,Gt.endLineNumber)&&(rt=!1),Ae.push({startLineNumber:Gt.startLineNumber,endLineNumber:Gt.endLineNumber,type:Vt.type,isCollapsed:rt,source:xt}))}}return Ae}getMemento(){const Ve=this._currentFoldedOrManualRanges(),ze=[],Ae=this._textModel.getLineCount();for(let Ge=0,st=Ve.length;Ge<st;Ge++){const rt=Ve[Ge];if(rt.startLineNumber>=rt.endLineNumber||rt.startLineNumber<1||rt.endLineNumber>Ae)continue;const xt=this._getLinesChecksum(rt.startLineNumber+1,rt.endLineNumber);ze.push({startLineNumber:rt.startLineNumber,endLineNumber:rt.endLineNumber,isCollapsed:rt.isCollapsed,source:rt.source,checksum:xt})}return ze.length>0?ze:void 0}applyMemento(Ve){var ze,Ae;if(!Array.isArray(Ve))return;const Ge=[],st=this._textModel.getLineCount();for(const xt of Ve){if(xt.startLineNumber>=xt.endLineNumber||xt.startLineNumber<1||xt.endLineNumber>st)continue;const Vt=this._getLinesChecksum(xt.startLineNumber+1,xt.endLineNumber);(!xt.checksum||Vt===xt.checksum)&&Ge.push({startLineNumber:xt.startLineNumber,endLineNumber:xt.endLineNumber,type:void 0,isCollapsed:(ze=xt.isCollapsed)!==null&&ze!==void 0?ze:!0,source:(Ae=xt.source)!==null&&Ae!==void 0?Ae:0})}const rt=_.sanitizeAndMerge(this._regions,Ge,st);this.updatePost(_.fromFoldRanges(rt))}_getLinesChecksum(Ve,ze){return(0,E.vp)(this._textModel.getLineContent(Ve)+this._textModel.getLineContent(ze))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(Ve,ze){const Ae=[];if(this._regions){let Ge=this._regions.findRange(Ve),st=1;for(;Ge>=0;){const rt=this._regions.toRegion(Ge);(!ze||ze(rt,st))&&Ae.push(rt),st++,Ge=rt.parentIndex}}return Ae}getRegionAtLine(Ve){if(this._regions){const ze=this._regions.findRange(Ve);if(ze>=0)return this._regions.toRegion(ze)}return null}getRegionsInside(Ve,ze){const Ae=[],Ge=Ve?Ve.regionIndex+1:0,st=Ve?Ve.endLineNumber:Number.MAX_VALUE;if(ze&&ze.length===2){const rt=[];for(let xt=Ge,Vt=this._regions.length;xt<Vt;xt++){const Gt=this._regions.toRegion(xt);if(this._regions.getStartLineNumber(xt)<st){for(;rt.length>0&&!Gt.containedBy(rt[rt.length-1]);)rt.pop();rt.push(Gt),ze(Gt,rt.length)&&Ae.push(Gt)}else break}}else for(let rt=Ge,xt=this._regions.length;rt<xt;rt++){const Vt=this._regions.toRegion(rt);if(this._regions.getStartLineNumber(rt)<st)(!ze||ze(Vt))&&Ae.push(Vt);else break}return Ae}}function w(at,Ve,ze){const Ae=[];for(const Ge of ze){const st=at.getRegionAtLine(Ge);if(st){const rt=!st.isCollapsed;if(Ae.push(st),Ve>1){const xt=at.getRegionsInside(st,(Vt,Gt)=>Vt.isCollapsed!==rt&&Gt<Ve);Ae.push(...xt)}}}at.toggleCollapseState(Ae)}function I(at,Ve,ze=Number.MAX_VALUE,Ae){const Ge=[];if(Ae&&Ae.length>0)for(const st of Ae){const rt=at.getRegionAtLine(st);if(rt&&(rt.isCollapsed!==Ve&&Ge.push(rt),ze>1)){const xt=at.getRegionsInside(rt,(Vt,Gt)=>Vt.isCollapsed!==Ve&&Gt<ze);Ge.push(...xt)}}else{const st=at.getRegionsInside(null,(rt,xt)=>rt.isCollapsed!==Ve&&xt<ze);Ge.push(...st)}at.toggleCollapseState(Ge)}function M(at,Ve,ze,Ae){const Ge=[];for(const st of Ae){const rt=at.getAllRegionsAtLine(st,(xt,Vt)=>xt.isCollapsed!==Ve&&Vt<=ze);Ge.push(...rt)}at.toggleCollapseState(Ge)}function K(at,Ve,ze){const Ae=[];for(const Ge of ze){const st=at.getAllRegionsAtLine(Ge,rt=>rt.isCollapsed!==Ve);st.length>0&&Ae.push(st[0])}at.toggleCollapseState(Ae)}function z(at,Ve,ze,Ae){const Ge=(rt,xt)=>xt===Ve&&rt.isCollapsed!==ze&&!Ae.some(Vt=>rt.containsLine(Vt)),st=at.getRegionsInside(null,Ge);at.toggleCollapseState(st)}function Q(at,Ve,ze){const Ae=[];for(const rt of ze){const xt=at.getAllRegionsAtLine(rt,void 0);xt.length>0&&Ae.push(xt[0])}const Ge=rt=>Ae.every(xt=>!xt.containedBy(rt)&&!rt.containedBy(xt))&&rt.isCollapsed!==Ve,st=at.getRegionsInside(null,Ge);at.toggleCollapseState(st)}function Y(at,Ve,ze){const Ae=at.textModel,Ge=at.regions,st=[];for(let rt=Ge.length-1;rt>=0;rt--)if(ze!==Ge.isCollapsed(rt)){const xt=Ge.getStartLineNumber(rt);Ve.test(Ae.getLineContent(xt))&&st.push(Ge.toRegion(rt))}at.toggleCollapseState(st)}function H(at,Ve,ze){const Ae=at.regions,Ge=[];for(let st=Ae.length-1;st>=0;st--)ze!==Ae.isCollapsed(st)&&Ve===Ae.getType(st)&&Ge.push(Ae.toRegion(st));at.toggleCollapseState(Ge)}function P(at,Ve){let ze=null;const Ae=Ve.getRegionAtLine(at);if(Ae!==null&&(ze=Ae.startLineNumber,at===ze)){const Ge=Ae.parentIndex;Ge!==-1?ze=Ve.regions.getStartLineNumber(Ge):ze=null}return ze}function X(at,Ve){let ze=Ve.getRegionAtLine(at);if(ze!==null&&ze.startLineNumber===at){if(at!==ze.startLineNumber)return ze.startLineNumber;{const Ae=ze.parentIndex;let Ge=0;for(Ae!==-1&&(Ge=Ve.regions.getStartLineNumber(ze.parentIndex));ze!==null;)if(ze.regionIndex>0){if(ze=Ve.regions.toRegion(ze.regionIndex-1),ze.startLineNumber<=Ge)return null;if(ze.parentIndex===Ae)return ze.startLineNumber}else return null}}else if(Ve.regions.length>0)for(ze=Ve.regions.toRegion(Ve.regions.length-1);ze!==null;){if(ze.startLineNumber<at)return ze.startLineNumber;ze.regionIndex>0?ze=Ve.regions.toRegion(ze.regionIndex-1):ze=null}return null}function q(at,Ve){let ze=Ve.getRegionAtLine(at);if(ze!==null&&ze.startLineNumber===at){const Ae=ze.parentIndex;let Ge=0;if(Ae!==-1)Ge=Ve.regions.getEndLineNumber(ze.parentIndex);else{if(Ve.regions.length===0)return null;Ge=Ve.regions.getEndLineNumber(Ve.regions.length-1)}for(;ze!==null;)if(ze.regionIndex<Ve.regions.length){if(ze=Ve.regions.toRegion(ze.regionIndex+1),ze.startLineNumber>=Ge)return null;if(ze.parentIndex===Ae)return ze.startLineNumber}else return null}else if(Ve.regions.length>0)for(ze=Ve.regions.toRegion(0);ze!==null;){if(ze.startLineNumber>at)return ze.startLineNumber;ze.regionIndex<Ve.regions.length?ze=Ve.regions.toRegion(ze.regionIndex+1):ze=null}return null}var U=i(16842),L=i(22445),B=i(93976);class j{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(Ve){this._updateEventEmitter=new f.Q5,this._hasLineChanges=!1,this._foldingModel=Ve,this._foldingModelListener=Ve.onDidChange(ze=>this.updateHiddenRanges()),this._hiddenRanges=[],Ve.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(Ve){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=Ve.changes.some(ze=>ze.range.endLineNumber!==ze.range.startLineNumber||(0,B.Q)(ze.text)[0]!==0))}updateHiddenRanges(){let Ve=!1;const ze=[];let Ae=0,Ge=0,st=Number.MAX_VALUE,rt=-1;const xt=this._foldingModel.regions;for(;Ae<xt.length;Ae++){if(!xt.isCollapsed(Ae))continue;const Vt=xt.getStartLineNumber(Ae)+1,Gt=xt.getEndLineNumber(Ae);st<=Vt&&Gt<=rt||(!Ve&&Ge<this._hiddenRanges.length&&this._hiddenRanges[Ge].startLineNumber===Vt&&this._hiddenRanges[Ge].endLineNumber===Gt?(ze.push(this._hiddenRanges[Ge]),Ge++):(Ve=!0,ze.push(new L.e(Vt,1,Gt,1))),st=Vt,rt=Gt)}(this._hasLineChanges||Ve||Ge<this._hiddenRanges.length)&&this.applyHiddenRanges(ze)}applyHiddenRanges(Ve){this._hiddenRanges=Ve,this._hasLineChanges=!1,this._updateEventEmitter.fire(Ve)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Ve){return y(this._hiddenRanges,Ve)!==null}adjustSelections(Ve){let ze=!1;const Ae=this._foldingModel.textModel;let Ge=null;const st=rt=>((!Ge||!G(rt,Ge))&&(Ge=y(this._hiddenRanges,rt)),Ge?Ge.startLineNumber-1:null);for(let rt=0,xt=Ve.length;rt<xt;rt++){let Vt=Ve[rt];const Gt=st(Vt.startLineNumber);Gt&&(Vt=Vt.setStartPosition(Gt,Ae.getLineMaxColumn(Gt)),ze=!0);const ai=st(Vt.endLineNumber);ai&&(Vt=Vt.setEndPosition(ai,Ae.getLineMaxColumn(ai)),ze=!0),Ve[rt]=Vt}return ze}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function G(at,Ve){return at>=Ve.startLineNumber&&at<=Ve.endLineNumber}function y(at,Ve){const ze=(0,U.lG)(at,Ae=>Ve<Ae.startLineNumber)-1;return ze>=0&&at[ze].endLineNumber>=Ve?at[ze]:null}var pe=i(7903);const ye=5e3,me="indent";class Se{constructor(Ve,ze,Ae){this.editorModel=Ve,this.languageConfigurationService=ze,this.foldingRangesLimit=Ae,this.id=me}dispose(){}compute(Ve){const ze=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,Ae=ze&&!!ze.offSide,Ge=ze&&ze.markers;return Promise.resolve(le(this.editorModel,Ae,Ge,this.foldingRangesLimit))}}class _e{constructor(Ve){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Ve}insertFirst(Ve,ze,Ae){if(Ve>m||ze>m)return;const Ge=this._length;this._startIndexes[Ge]=Ve,this._endIndexes[Ge]=ze,this._length++,Ae<1e3&&(this._indentOccurrences[Ae]=(this._indentOccurrences[Ae]||0)+1)}toIndentRanges(Ve){const ze=this._foldingRangesLimit.limit;if(this._length<=ze){this._foldingRangesLimit.update(this._length,!1);const Ae=new Uint32Array(this._length),Ge=new Uint32Array(this._length);for(let st=this._length-1,rt=0;st>=0;st--,rt++)Ae[rt]=this._startIndexes[st],Ge[rt]=this._endIndexes[st];return new _(Ae,Ge)}else{this._foldingRangesLimit.update(this._length,ze);let Ae=0,Ge=this._indentOccurrences.length;for(let Vt=0;Vt<this._indentOccurrences.length;Vt++){const Gt=this._indentOccurrences[Vt];if(Gt){if(Gt+Ae>ze){Ge=Vt;break}Ae+=Gt}}const st=Ve.getOptions().tabSize,rt=new Uint32Array(ze),xt=new Uint32Array(ze);for(let Vt=this._length-1,Gt=0;Vt>=0;Vt--){const ai=this._startIndexes[Vt],Si=Ve.getLineContent(ai),hi=(0,pe.q)(Si,st);(hi<Ge||hi===Ge&&Ae++<ze)&&(rt[Gt]=ai,xt[Gt]=this._endIndexes[Vt],Gt++)}return new _(rt,xt)}}}const he={limit:ye,update:()=>{}};function le(at,Ve,ze,Ae=he){const Ge=at.getOptions().tabSize,st=new _e(Ae);let rt;ze&&(rt=new RegExp(`(${ze.start.source})|(?:${ze.end.source})`));const xt=[],Vt=at.getLineCount()+1;xt.push({indent:-1,endAbove:Vt,line:Vt});for(let Gt=at.getLineCount();Gt>0;Gt--){const ai=at.getLineContent(Gt),Si=(0,pe.q)(ai,Ge);let hi=xt[xt.length-1];if(Si===-1){Ve&&(hi.endAbove=Gt);continue}let Di;if(rt&&(Di=ai.match(rt)))if(Di[1]){let Ni=xt.length-1;for(;Ni>0&&xt[Ni].indent!==-2;)Ni--;if(Ni>0){xt.length=Ni+1,hi=xt[Ni],st.insertFirst(Gt,hi.line,Si),hi.line=Gt,hi.indent=Si,hi.endAbove=Gt;continue}}else{xt.push({indent:-2,endAbove:Gt,line:Gt});continue}if(hi.indent>Si){do xt.pop(),hi=xt[xt.length-1];while(hi.indent>Si);const Ni=hi.endAbove-1;Ni-Gt>=1&&st.insertFirst(Gt,Ni,Si)}hi.indent===Si?hi.endAbove=Gt:xt.push({indent:Si,endAbove:Gt,line:Gt})}return st.toIndentRanges(at)}var se=i(15779),Re=i(23286),$e=i(54195),je=i(48117),Ce=i(73740),J=i(78382),ne=i(88159),ae=i(901),xe=i(81189);const Ke=(0,J.P6G)("editor.foldBackground",{light:(0,J.ZnX)(J.hEj,.3),dark:(0,J.ZnX)(J.hEj,.3),hcDark:null,hcLight:null},(0,se.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,J.P6G)("editorGutter.foldingControlForeground",{dark:J.XZx,light:J.XZx,hcDark:J.XZx,hcLight:J.XZx},(0,se.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const ct=(0,ne.q5)("folding-expanded",$e.l.chevronDown,(0,se.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),ot=(0,ne.q5)("folding-collapsed",$e.l.chevronRight,(0,se.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),dt=(0,ne.q5)("folding-manual-collapsed",ot,(0,se.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),et=(0,ne.q5)("folding-manual-expanded",ct,(0,se.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Fe={color:(0,ae.EN)(Ke),position:je.F5.Inline};class Le{constructor(Ve){this.editor=Ve,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(Ve,ze,Ae){return ze?Le.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?Ve?this.showFoldingHighlights?Le.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:Le.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:Le.NO_CONTROLS_EXPANDED_RANGE_DECORATION:Ve?Ae?this.showFoldingHighlights?Le.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Le.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Le.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Le.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?Ae?Le.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Le.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ae?Le.MANUALLY_EXPANDED_VISUAL_DECORATION:Le.EXPANDED_VISUAL_DECORATION}changeDecorations(Ve){return this.editor.changeDecorations(Ve)}removeDecorations(Ve){this.editor.removeDecorations(Ve)}}Le.COLLAPSED_VISUAL_DECORATION=Ce.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(ot)}),Le.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ce.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Fe,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(ot)}),Le.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ce.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(dt)}),Le.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ce.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Fe,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(dt)}),Le.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=Ce.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),Le.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=Ce.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Fe,isWholeLine:!0}),Le.EXPANDED_VISUAL_DECORATION=Ce.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xe.k.asClassName(ct)}),Le.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ce.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(ct)}),Le.MANUALLY_EXPANDED_VISUAL_DECORATION=Ce.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xe.k.asClassName(et)}),Le.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ce.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(et)}),Le.NO_CONTROLS_EXPANDED_RANGE_DECORATION=Ce.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),Le.HIDDEN_RANGE_DECORATION=Ce.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const Te={},ge="syntax";class ve{constructor(Ve,ze,Ae,Ge,st){this.editorModel=Ve,this.providers=ze,this.handleFoldingRangesChange=Ae,this.foldingRangesLimit=Ge,this.fallbackRangeProvider=st,this.id=ge,this.disposables=new S.SL,st&&this.disposables.add(st);for(const rt of ze)typeof rt.onDidChange=="function"&&this.disposables.add(rt.onDidChange(Ae))}compute(Ve){return we(this.providers,this.editorModel,Ve).then(ze=>{var Ae,Ge;return ze?He(ze,this.foldingRangesLimit):(Ge=(Ae=this.fallbackRangeProvider)===null||Ae===void 0?void 0:Ae.compute(Ve))!==null&&Ge!==void 0?Ge:null})}dispose(){this.disposables.dispose()}}function we(at,Ve,ze){let Ae=null;const Ge=at.map((st,rt)=>Promise.resolve(st.provideFoldingRanges(Ve,Te,ze)).then(xt=>{if(!ze.isCancellationRequested&&Array.isArray(xt)){Array.isArray(Ae)||(Ae=[]);const Vt=Ve.getLineCount();for(const Gt of xt)Gt.start>0&&Gt.end>Gt.start&&Gt.end<=Vt&&Ae.push({start:Gt.start,end:Gt.end,rank:rt,kind:Gt.kind})}},g.Cp));return Promise.all(Ge).then(st=>Ae)}class Oe{constructor(Ve){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Ve}add(Ve,ze,Ae,Ge){if(Ve>m||ze>m)return;const st=this._length;this._startIndexes[st]=Ve,this._endIndexes[st]=ze,this._nestingLevels[st]=Ge,this._types[st]=Ae,this._length++,Ge<30&&(this._nestingLevelCounts[Ge]=(this._nestingLevelCounts[Ge]||0)+1)}toIndentRanges(){const Ve=this._foldingRangesLimit.limit;if(this._length<=Ve){this._foldingRangesLimit.update(this._length,!1);const ze=new Uint32Array(this._length),Ae=new Uint32Array(this._length);for(let Ge=0;Ge<this._length;Ge++)ze[Ge]=this._startIndexes[Ge],Ae[Ge]=this._endIndexes[Ge];return new _(ze,Ae,this._types)}else{this._foldingRangesLimit.update(this._length,Ve);let ze=0,Ae=this._nestingLevelCounts.length;for(let xt=0;xt<this._nestingLevelCounts.length;xt++){const Vt=this._nestingLevelCounts[xt];if(Vt){if(Vt+ze>Ve){Ae=xt;break}ze+=Vt}}const Ge=new Uint32Array(Ve),st=new Uint32Array(Ve),rt=[];for(let xt=0,Vt=0;xt<this._length;xt++){const Gt=this._nestingLevels[xt];(Gt<Ae||Gt===Ae&&ze++<Ve)&&(Ge[Vt]=this._startIndexes[xt],st[Vt]=this._endIndexes[xt],rt[Vt]=this._types[xt],Vt++)}return new _(Ge,st,rt)}}}function He(at,Ve){const ze=at.sort((rt,xt)=>{let Vt=rt.start-xt.start;return Vt===0&&(Vt=rt.rank-xt.rank),Vt}),Ae=new Oe(Ve);let Ge;const st=[];for(const rt of ze)if(!Ge)Ge=rt,Ae.add(rt.start,rt.end,rt.kind&&rt.kind.value,st.length);else if(rt.start>Ge.start)if(rt.end<=Ge.end)st.push(Ge),Ge=rt,Ae.add(rt.start,rt.end,rt.kind&&rt.kind.value,st.length);else{if(rt.start>Ge.end){do Ge=st.pop();while(Ge&&rt.start>Ge.end);Ge&&st.push(Ge),Ge=rt}Ae.add(rt.start,rt.end,rt.kind&&rt.kind.value,st.length)}return Ae.toIndentRanges()}var mt=i(28382),bt=i(16978),kt=i(39589),Ut=i(26340),ut=i(21760),Dt=i(39508),ft=i(6033),Ft=i(64464),Et=function(at,Ve,ze,Ae){var Ge=arguments.length,st=Ge<3?Ve:Ae===null?Ae=Object.getOwnPropertyDescriptor(Ve,ze):Ae,rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(at,Ve,ze,Ae);else for(var xt=at.length-1;xt>=0;xt--)(rt=at[xt])&&(st=(Ge<3?rt(st):Ge>3?rt(Ve,ze,st):rt(Ve,ze))||st);return Ge>3&&st&&Object.defineProperty(Ve,ze,st),st},Ze=function(at,Ve){return function(ze,Ae){Ve(ze,Ae,at)}},St=function(at,Ve,ze,Ae){function Ge(st){return st instanceof ze?st:new ze(function(rt){rt(st)})}return new(ze||(ze=Promise))(function(st,rt){function xt(ai){try{Gt(Ae.next(ai))}catch(Si){rt(Si)}}function Vt(ai){try{Gt(Ae.throw(ai))}catch(Si){rt(Si)}}function Gt(ai){ai.done?st(ai.value):Ge(ai.value).then(xt,Vt)}Gt((Ae=Ae.apply(at,Ve||[])).next())})};const jt=new Re.uy("foldingEnabled",!1);let Ct=class fa extends S.JT{static get(Ve){return Ve.getContribution(fa.ID)}static getFoldingRangeProviders(Ve,ze){var Ae,Ge;const st=Ve.foldingRangeProvider.ordered(ze);return(Ge=(Ae=fa._foldingRangeSelector)===null||Ae===void 0?void 0:Ae.call(fa,st,ze))!==null&&Ge!==void 0?Ge:st}constructor(Ve,ze,Ae,Ge,st,rt){super(),this.contextKeyService=ze,this.languageConfigurationService=Ae,this.languageFeaturesService=rt,this.localToDispose=this._register(new S.SL),this.editor=Ve,this._foldingLimitReporter=new _t(Ve);const xt=this.editor.getOptions();this._isEnabled=xt.get(40),this._useFoldingProviders=xt.get(41)!=="indentation",this._unfoldOnClickAfterEndOfLine=xt.get(45),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=xt.get(43),this.updateDebounceInfo=st.for(rt.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Le(Ve),this.foldingDecorationProvider.showFoldingControls=xt.get(104),this.foldingDecorationProvider.showFoldingHighlights=xt.get(42),this.foldingEnabled=jt.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Vt=>{if(Vt.hasChanged(40)&&(this._isEnabled=this.editor.getOptions().get(40),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Vt.hasChanged(44)&&this.onModelChanged(),Vt.hasChanged(104)||Vt.hasChanged(42)){const Gt=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Gt.get(104),this.foldingDecorationProvider.showFoldingHighlights=Gt.get(42),this.triggerFoldingModelChanged()}Vt.hasChanged(41)&&(this._useFoldingProviders=this.editor.getOptions().get(41)!=="indentation",this.onFoldingStrategyChanged()),Vt.hasChanged(45)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(45)),Vt.hasChanged(43)&&(this._foldingImportsByDefault=this.editor.getOptions().get(43))})),this.onModelChanged()}saveViewState(){const Ve=this.editor.getModel();if(!Ve||!this._isEnabled||Ve.isTooLargeForTokenization())return{};if(this.foldingModel){const ze=this.foldingModel.getMemento(),Ae=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ze,lineCount:Ve.getLineCount(),provider:Ae,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Ve){const ze=this.editor.getModel();if(!(!ze||!this._isEnabled||ze.isTooLargeForTokenization()||!this.hiddenRangeModel)&&Ve&&(this._currentModelHasFoldedImports=!!Ve.foldedImports,Ve.collapsedRegions&&Ve.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(Ve.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const Ve=this.editor.getModel();!this._isEnabled||!Ve||Ve.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new D(Ve,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new j(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ze=>this.onHiddenRangesChanges(ze))),this.updateScheduler=new c.vp(this.updateDebounceInfo.get(Ve)),this.cursorChangedScheduler=new c.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ze=>this.onDidChangeModelContent(ze))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ze=>this.onEditorMouseDown(ze))),this.localToDispose.add(this.editor.onMouseUp(ze=>this.onEditorMouseUp(ze))),this.localToDispose.add({dispose:()=>{var ze,Ae;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(ze=this.updateScheduler)===null||ze===void 0||ze.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(Ae=this.rangeProvider)===null||Ae===void 0||Ae.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var Ve;(Ve=this.rangeProvider)===null||Ve===void 0||Ve.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Ve){if(this.rangeProvider)return this.rangeProvider;const ze=new Se(Ve,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=ze,this._useFoldingProviders&&this.foldingModel){const Ae=fa.getFoldingRangeProviders(this.languageFeaturesService,Ve);Ae.length>0&&(this.rangeProvider=new ve(Ve,Ae,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,ze))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Ve){var ze;(ze=this.hiddenRangeModel)===null||ze===void 0||ze.notifyChangeModelContent(Ve),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Ve=this.foldingModel;if(!Ve)return null;const ze=new kt.G(!0),Ae=this.getRangeProvider(Ve.textModel),Ge=this.foldingRegionPromise=(0,c.PG)(st=>Ae.compute(st));return Ge.then(st=>{if(st&&Ge===this.foldingRegionPromise){let rt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ai=st.setCollapsedAllOfType(a.AD.Imports.value,!0);ai&&(rt=x.Z.capture(this.editor),this._currentModelHasFoldedImports=ai)}const xt=this.editor.getSelections(),Vt=xt?xt.map(ai=>ai.startLineNumber):[];Ve.update(st,Vt),rt==null||rt.restore(this.editor);const Gt=this.updateDebounceInfo.update(Ve.textModel,ze.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Gt)}return Ve})}).then(void 0,Ve=>((0,g.dL)(Ve),null)))}onHiddenRangesChanges(Ve){if(this.hiddenRangeModel&&Ve.length&&!this._restoringViewState){const ze=this.editor.getSelections();ze&&this.hiddenRangeModel.adjustSelections(ze)&&this.editor.setSelections(ze)}this.editor.setHiddenAreas(Ve,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Ve=this.getFoldingModel();Ve&&Ve.then(ze=>{if(ze){const Ae=this.editor.getSelections();if(Ae&&Ae.length>0){const Ge=[];for(const st of Ae){const rt=st.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(rt)&&Ge.push(...ze.getAllRegionsAtLine(rt,xt=>xt.isCollapsed&&rt>xt.startLineNumber))}Ge.length&&(ze.toggleCollapseState(Ge),this.reveal(Ae[0].getPosition()))}}}).then(void 0,g.dL)}onEditorMouseDown(Ve){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Ve.target||!Ve.target.range||!Ve.event.leftButton&&!Ve.event.middleButton)return;const ze=Ve.target.range;let Ae=!1;switch(Ve.target.type){case 4:{const Ge=Ve.target.detail,st=Ve.target.element.offsetLeft;if(Ge.offsetX-st<5)return;Ae=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Ve.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const Ge=this.editor.getModel();if(Ge&&ze.startColumn===Ge.getLineMaxColumn(ze.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ze.startLineNumber,iconClicked:Ae}}onEditorMouseUp(Ve){const ze=this.foldingModel;if(!ze||!this.mouseDownInfo||!Ve.target)return;const Ae=this.mouseDownInfo.lineNumber,Ge=this.mouseDownInfo.iconClicked,st=Ve.target.range;if(!st||st.startLineNumber!==Ae)return;if(Ge){if(Ve.target.type!==4)return}else{const xt=this.editor.getModel();if(!xt||st.startColumn!==xt.getLineMaxColumn(Ae))return}const rt=ze.getRegionAtLine(Ae);if(rt&&rt.startLineNumber===Ae){const xt=rt.isCollapsed;if(Ge||xt){const Vt=Ve.event.altKey;let Gt=[];if(Vt){const ai=hi=>!hi.containedBy(rt)&&!rt.containedBy(hi),Si=ze.getRegionsInside(null,ai);for(const hi of Si)hi.isCollapsed&&Gt.push(hi);Gt.length===0&&(Gt=Si)}else{const ai=Ve.event.middleButton||Ve.event.shiftKey;if(ai)for(const Si of ze.getRegionsInside(rt))Si.isCollapsed===xt&&Gt.push(Si);(xt||!ai||Gt.length===0)&&Gt.push(rt)}ze.toggleCollapseState(Gt),this.reveal({lineNumber:Ae,column:1})}}}reveal(Ve){this.editor.revealPositionInCenterIfOutsideViewport(Ve,0)}};Ct.ID="editor.contrib.folding",Ct=Et([Ze(1,Re.i6),Ze(2,d.c_),Ze(3,mt.lT),Ze(4,bt.A),Ze(5,Ut.p)],Ct);class _t{constructor(Ve){this.editor=Ve,this._onDidChange=new f.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(44)}update(Ve,ze){(Ve!==this._computed||ze!==this._limited)&&(this._computed=Ve,this._limited=ze,this._onDidChange.fire())}}class Kt extends O.R6{runEditorCommand(Ve,ze,Ae){const Ge=Ve.get(d.c_),st=Ct.get(ze);if(!st)return;const rt=st.getFoldingModel();if(rt)return this.reportTelemetry(Ve,ze),rt.then(xt=>{if(xt){this.invoke(st,xt,ze,Ae,Ge);const Vt=ze.getSelection();Vt&&st.reveal(Vt.getStartPosition())}})}getSelectedLines(Ve){const ze=Ve.getSelections();return ze?ze.map(Ae=>Ae.startLineNumber):[]}getLineNumbers(Ve,ze){return Ve&&Ve.selectionLines?Ve.selectionLines.map(Ae=>Ae+1):this.getSelectedLines(ze)}run(Ve,ze){}}function Zt(at){if(!N.o8(at)){if(!N.Kn(at))return!1;const Ve=at;if(!N.o8(Ve.levels)&&!N.hj(Ve.levels)||!N.o8(Ve.direction)&&!N.HD(Ve.direction)||!N.o8(Ve.selectionLines)&&(!Array.isArray(Ve.selectionLines)||!Ve.selectionLines.every(N.hj)))return!1}return!0}class li extends Kt{constructor(){super({id:"editor.unfold",label:se.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Zt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ve,ze,Ae,Ge){const st=Ge&&Ge.levels||1,rt=this.getLineNumbers(Ge,Ae);Ge&&Ge.direction==="up"?M(ze,!1,st,rt):I(ze,!1,st,rt)}}class ri extends Kt{constructor(){super({id:"editor.unfoldRecursively",label:se.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2137),weight:100}})}invoke(Ve,ze,Ae,Ge){I(ze,!1,Number.MAX_VALUE,this.getSelectedLines(Ae))}}class Ui extends Kt{constructor(){super({id:"editor.fold",label:se.NC("foldAction.label","Fold"),alias:"Fold",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:Zt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ve,ze,Ae,Ge){const st=this.getLineNumbers(Ge,Ae),rt=Ge&&Ge.levels,xt=Ge&&Ge.direction;typeof rt!="number"&&typeof xt!="string"?K(ze,!0,st):xt==="up"?M(ze,!0,rt||1,st):I(ze,!0,rt||1,st)}}class on extends Kt{constructor(){super({id:"editor.toggleFold",label:se.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2090),weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);w(ze,1,Ge)}}class Qi extends Kt{constructor(){super({id:"editor.foldRecursively",label:se.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2135),weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);I(ze,!0,Number.MAX_VALUE,Ge)}}class un extends Kt{constructor(){super({id:"editor.foldAllBlockComments",label:se.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2133),weight:100}})}invoke(Ve,ze,Ae,Ge,st){if(ze.regions.hasTypes())H(ze,a.AD.Comment.value,!0);else{const rt=Ae.getModel();if(!rt)return;const xt=st.getLanguageConfiguration(rt.getLanguageId()).comments;if(xt&&xt.blockCommentStartToken){const Vt=new RegExp("^\\s*"+(0,$.ec)(xt.blockCommentStartToken));Y(ze,Vt,!0)}}}}class Sn extends Kt{constructor(){super({id:"editor.foldAllMarkerRegions",label:se.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2077),weight:100}})}invoke(Ve,ze,Ae,Ge,st){if(ze.regions.hasTypes())H(ze,a.AD.Region.value,!0);else{const rt=Ae.getModel();if(!rt)return;const xt=st.getLanguageConfiguration(rt.getLanguageId()).foldingRules;if(xt&&xt.markers&&xt.markers.start){const Vt=new RegExp(xt.markers.start);Y(ze,Vt,!0)}}}}class bn extends Kt{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:se.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2078),weight:100}})}invoke(Ve,ze,Ae,Ge,st){if(ze.regions.hasTypes())H(ze,a.AD.Region.value,!1);else{const rt=Ae.getModel();if(!rt)return;const xt=st.getLanguageConfiguration(rt.getLanguageId()).foldingRules;if(xt&&xt.markers&&xt.markers.start){const Vt=new RegExp(xt.markers.start);Y(ze,Vt,!1)}}}}class Cn extends Kt{constructor(){super({id:"editor.foldAllExcept",label:se.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2131),weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);Q(ze,!0,Ge)}}class Fi extends Kt{constructor(){super({id:"editor.unfoldAllExcept",label:se.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2129),weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);Q(ze,!1,Ge)}}class On extends Kt{constructor(){super({id:"editor.foldAll",label:se.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2069),weight:100}})}invoke(Ve,ze,Ae){I(ze,!0)}}class rn extends Kt{constructor(){super({id:"editor.unfoldAll",label:se.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2088),weight:100}})}invoke(Ve,ze,Ae){I(ze,!1)}}class pn extends Kt{getFoldingLevel(){return parseInt(this.id.substr(pn.ID_PREFIX.length))}invoke(Ve,ze,Ae){z(ze,this.getFoldingLevel(),!0,this.getSelectedLines(Ae))}}pn.ID_PREFIX="editor.foldLevel",pn.ID=at=>pn.ID_PREFIX+at;class ui extends Kt{constructor(){super({id:"editor.gotoParentFold",label:se.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);if(Ge.length>0){const st=P(Ge[0],ze);st!==null&&Ae.setSelection({startLineNumber:st,startColumn:1,endLineNumber:st,endColumn:1})}}}class Mt extends Kt{constructor(){super({id:"editor.gotoPreviousFold",label:se.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);if(Ge.length>0){const st=X(Ge[0],ze);st!==null&&Ae.setSelection({startLineNumber:st,startColumn:1,endLineNumber:st,endColumn:1})}}}class At extends Kt{constructor(){super({id:"editor.gotoNextFold",label:se.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(Ve,ze,Ae){const Ge=this.getSelectedLines(Ae);if(Ge.length>0){const st=q(Ge[0],ze);st!==null&&Ae.setSelection({startLineNumber:st,startColumn:1,endLineNumber:st,endColumn:1})}}}class Wt extends Kt{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:se.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2130),weight:100}})}invoke(Ve,ze,Ae){var Ge;const st=[],rt=Ae.getSelections();if(rt){for(const xt of rt){let Vt=xt.endLineNumber;xt.endColumn===1&&--Vt,Vt>xt.startLineNumber&&(st.push({startLineNumber:xt.startLineNumber,endLineNumber:Vt,type:void 0,isCollapsed:!0,source:1}),Ae.setSelection({startLineNumber:xt.startLineNumber,startColumn:1,endLineNumber:xt.startLineNumber,endColumn:1}))}if(st.length>0){st.sort((Vt,Gt)=>Vt.startLineNumber-Gt.startLineNumber);const xt=_.sanitizeAndMerge(ze.regions,st,(Ge=Ae.getModel())===null||Ge===void 0?void 0:Ge.getLineCount());ze.updatePost(_.fromFoldRanges(xt))}}}}class qt extends Kt{constructor(){super({id:"editor.removeManualFoldingRanges",label:se.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2132),weight:100}})}invoke(Ve,ze,Ae){const Ge=Ae.getSelections();if(Ge){const st=[];for(const rt of Ge){const{startLineNumber:xt,endLineNumber:Vt}=rt;st.push(Vt>=xt?{startLineNumber:xt,endLineNumber:Vt}:{endLineNumber:Vt,startLineNumber:xt})}ze.removeManualRanges(st),Ve.triggerFoldingModelChanged()}}}(0,O._K)(Ct.ID,Ct,0),(0,O.Qr)(li),(0,O.Qr)(ri),(0,O.Qr)(Ui),(0,O.Qr)(Qi),(0,O.Qr)(On),(0,O.Qr)(rn),(0,O.Qr)(un),(0,O.Qr)(Sn),(0,O.Qr)(bn),(0,O.Qr)(Cn),(0,O.Qr)(Fi),(0,O.Qr)(on),(0,O.Qr)(ui),(0,O.Qr)(Mt),(0,O.Qr)(At),(0,O.Qr)(Wt),(0,O.Qr)(qt);for(let at=1;at<=7;at++)(0,O.QG)(new pn({id:pn.ID(at),label:se.NC("foldLevelAction.label","Fold Level {0}",at),alias:`Fold Level ${at}`,precondition:jt,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2048|21+at),weight:100}}));ut.P.registerCommand("_executeFoldingRangeProvider",function(at,...Ve){return St(this,void 0,void 0,function*(){const[ze]=Ve;if(!(ze instanceof Dt.o))throw(0,g.b1)();const Ae=at.get(Ut.p),Ge=at.get(ft.q).getModel(ze);if(!Ge)throw(0,g.b1)();const st=at.get(Ft.Ui);if(!st.getValue("editor.folding",{resource:ze}))return[];const rt=at.get(d.c_),xt=st.getValue("editor.foldingStrategy",{resource:ze}),Vt={get limit(){return st.getValue("editor.foldingMaximumRegions",{resource:ze})},update:(Di,Ni)=>{}},Gt=new Se(Ge,rt,Vt);let ai=Gt;if(xt!=="indentation"){const Di=Ct.getFoldingRangeProviders(Ae,Ge);Di.length&&(ai=new ve(Ge,Di,()=>{},Vt,Gt))}const Si=yield ai.compute(F.T.None),hi=[];try{if(Si)for(let Di=0;Di<Si.length;Di++){const Ni=Si.getType(Di);hi.push({start:Si.getStartLineNumber(Di),end:Si.getEndLineNumber(Di),kind:Ni?a.AD.fromValue(Ni):void 0})}return hi}finally{ai.dispose()}})})},78375:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(79426),g=i(15779);class A extends c.R6{constructor(){super({id:"editor.action.fontZoomIn",label:g.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(x,O){F.C.setZoomLevel(F.C.getZoomLevel()+1)}}class S extends c.R6{constructor(){super({id:"editor.action.fontZoomOut",label:g.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(x,O){F.C.setZoomLevel(F.C.getZoomLevel()-1)}}class $ extends c.R6{constructor(){super({id:"editor.action.fontZoomReset",label:g.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(x,O){F.C.setZoomLevel(0)}}(0,c.Qr)(A),(0,c.Qr)(S),(0,c.Qr)($)},97113:function(vt,be,i){"use strict";i.d(be,{xC:function(){return K},Zg:function(){return I},x$:function(){return z},Qq:function(){return Y},Qs:function(){return q}});var c=i(26017),F=i(16842),g=i(19713),A=i(50505),S=i(62841),$=i(23345),N=i(67770),x=i(39508),O=i(46978),p=i(60920),a=i(43976),d=i(22445),f=i(15489),s=i(6375),r=i(58295),m=i(67250),C=i(15779),u=i(21760);class _{constructor(L){this.value=L,this._lower=L.toLowerCase()}static toKey(L){return typeof L=="string"?L.toLowerCase():L._lower}}var b=i(64700),E=i(26340),D=i(18166),w=function(U,L,B,j){function G(y){return y instanceof B?y:new B(function(pe){pe(y)})}return new(B||(B=Promise))(function(y,pe){function ye(_e){try{Se(j.next(_e))}catch(he){pe(he)}}function me(_e){try{Se(j.throw(_e))}catch(he){pe(he)}}function Se(_e){_e.done?y(_e.value):G(_e.value).then(ye,me)}Se((j=j.apply(U,L||[])).next())})};function I(U){if(U=U.filter(G=>G.range),!U.length)return;let{range:L}=U[0];for(let G=1;G<U.length;G++)L=d.e.plusRange(L,U[G].range);const{startLineNumber:B,endLineNumber:j}=L;B===j?U.length===1?(0,c.Z9)(C.NC("hint11","Made 1 formatting edit on line {0}",B)):(0,c.Z9)(C.NC("hintn1","Made {0} formatting edits on line {1}",U.length,B)):U.length===1?(0,c.Z9)(C.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",B,j)):(0,c.Z9)(C.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",U.length,B,j))}function M(U,L,B){const j=[],G=new Set,y=U.ordered(B);for(const ye of y)j.push(ye),ye.extensionId&&G.add(_.toKey(ye.extensionId));const pe=L.ordered(B);for(const ye of pe){if(ye.extensionId){if(G.has(_.toKey(ye.extensionId)))continue;G.add(_.toKey(ye.extensionId))}j.push({displayName:ye.displayName,extensionId:ye.extensionId,provideDocumentFormattingEdits(me,Se,_e){return ye.provideDocumentRangeFormattingEdits(me,me.getFullModelRange(),Se,_e)}})}return j}class K{static setFormatterSelector(L){return{dispose:K._selectors.unshift(L)}}static select(L,B,j){return w(this,void 0,void 0,function*(){if(L.length===0)return;const G=S.$.first(K._selectors);if(G)return yield G(L,B,j)})}}K._selectors=new $.S;function z(U,L,B,j,G,y){return w(this,void 0,void 0,function*(){const pe=U.get(b.TG),{documentRangeFormattingEditProvider:ye}=U.get(E.p),me=(0,p.CL)(L)?L.getModel():L,Se=ye.ordered(me),_e=yield K.select(Se,me,j);_e&&(G.report(_e),yield pe.invokeFunction(Q,_e,L,B,y))})}function Q(U,L,B,j,G){return w(this,void 0,void 0,function*(){const y=U.get(s.p),pe=U.get(D.VZ);let ye,me;(0,p.CL)(B)?(ye=B.getModel(),me=new O.Dl(B,5,void 0,G)):(ye=B,me=new O.YQ(B,G));const Se=[];let _e=0;for(const $e of(0,F._2)(j).sort(d.e.compareRangesUsingStarts))_e>0&&d.e.areIntersectingOrTouching(Se[_e-1],$e)?Se[_e-1]=d.e.fromPositions(Se[_e-1].getStartPosition(),$e.getEndPosition()):_e=Se.push($e);const he=$e=>w(this,void 0,void 0,function*(){var je,Ce;pe.trace("[format][provideDocumentRangeFormattingEdits] (request)",(je=L.extensionId)===null||je===void 0?void 0:je.value,$e);const J=(yield L.provideDocumentRangeFormattingEdits(ye,$e,ye.getFormattingOptions(),me.token))||[];return pe.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Ce=L.extensionId)===null||Ce===void 0?void 0:Ce.value,J),J}),le=($e,je)=>{if(!$e.length||!je.length)return!1;const Ce=$e.reduce((J,ne)=>d.e.plusRange(J,ne.range),$e[0].range);if(!je.some(J=>d.e.intersectRanges(Ce,J.range)))return!1;for(const J of $e)for(const ne of je)if(d.e.intersectRanges(J.range,ne.range))return!0;return!1},se=[],Re=[];try{for(const $e of Se){if(me.token.isCancellationRequested)return!0;Re.push(yield he($e))}for(let $e=0;$e<Se.length;++$e)for(let je=$e+1;je<Se.length;++je){if(me.token.isCancellationRequested)return!0;if(le(Re[$e],Re[je])){const Ce=d.e.plusRange(Se[$e],Se[je]),J=yield he(Ce);Se.splice(je,1),Se.splice($e,1),Se.push(Ce),Re.splice(je,1),Re.splice($e,1),Re.push(J),$e=0,je=0}}for(const $e of Re){if(me.token.isCancellationRequested)return!0;const je=yield y.computeMoreMinimalEdits(ye.uri,$e);je&&se.push(...je)}}finally{me.dispose()}if(se.length===0)return!1;if((0,p.CL)(B))m.V.execute(B,se,!0),I(se),B.revealPositionInCenterIfOutsideViewport(B.getPosition(),1);else{const[{range:$e}]=se,je=new f.Y($e.startLineNumber,$e.startColumn,$e.endLineNumber,$e.endColumn);ye.pushEditOperations([je],se.map(Ce=>({text:Ce.text,range:d.e.lift(Ce.range),forceMoveMarkers:!0})),Ce=>{for(const{range:J}of Ce)if(d.e.areIntersectingOrTouching(J,je))return[new f.Y(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)];return null})}return!0})}function Y(U,L,B,j,G){return w(this,void 0,void 0,function*(){const y=U.get(b.TG),pe=U.get(E.p),ye=(0,p.CL)(L)?L.getModel():L,me=M(pe.documentFormattingEditProvider,pe.documentRangeFormattingEditProvider,ye),Se=yield K.select(me,ye,B);Se&&(j.report(Se),yield y.invokeFunction(H,Se,L,B,G))})}function H(U,L,B,j,G){return w(this,void 0,void 0,function*(){const y=U.get(s.p);let pe,ye;(0,p.CL)(B)?(pe=B.getModel(),ye=new O.Dl(B,5,void 0,G)):(pe=B,ye=new O.YQ(B,G));let me;try{const Se=yield L.provideDocumentFormattingEdits(pe,pe.getFormattingOptions(),ye.token);if(me=yield y.computeMoreMinimalEdits(pe.uri,Se),ye.token.isCancellationRequested)return!0}finally{ye.dispose()}if(!me||me.length===0)return!1;if((0,p.CL)(B))m.V.execute(B,me,j!==2),j!==2&&(I(me),B.revealPositionInCenterIfOutsideViewport(B.getPosition(),1));else{const[{range:Se}]=me,_e=new f.Y(Se.startLineNumber,Se.startColumn,Se.endLineNumber,Se.endColumn);pe.pushEditOperations([_e],me.map(he=>({text:he.text,range:d.e.lift(he.range),forceMoveMarkers:!0})),he=>{for(const{range:le}of he)if(d.e.areIntersectingOrTouching(le,_e))return[new f.Y(le.startLineNumber,le.startColumn,le.endLineNumber,le.endColumn)];return null})}return!0})}function P(U,L,B,j,G,y){return w(this,void 0,void 0,function*(){const pe=L.documentRangeFormattingEditProvider.ordered(B);for(const ye of pe){const me=yield Promise.resolve(ye.provideDocumentRangeFormattingEdits(B,j,G,y)).catch(A.Cp);if((0,F.Of)(me))return yield U.computeMoreMinimalEdits(B.uri,me)}})}function X(U,L,B,j,G){return w(this,void 0,void 0,function*(){const y=M(L.documentFormattingEditProvider,L.documentRangeFormattingEditProvider,B);for(const pe of y){const ye=yield Promise.resolve(pe.provideDocumentFormattingEdits(B,j,G)).catch(A.Cp);if((0,F.Of)(ye))return yield U.computeMoreMinimalEdits(B.uri,ye)}})}function q(U,L,B,j,G,y,pe){const ye=L.onTypeFormattingEditProvider.ordered(B);return ye.length===0||ye[0].autoFormatTriggerCharacters.indexOf(G)<0?Promise.resolve(void 0):Promise.resolve(ye[0].provideOnTypeFormattingEdits(B,j,G,y,pe)).catch(A.Cp).then(me=>U.computeMoreMinimalEdits(B.uri,me))}u.P.registerCommand("_executeFormatRangeProvider",function(U,...L){return w(this,void 0,void 0,function*(){const[B,j,G]=L;(0,N.p_)(x.o.isUri(B)),(0,N.p_)(d.e.isIRange(j));const y=U.get(r.S),pe=U.get(s.p),ye=U.get(E.p),me=yield y.createModelReference(B);try{return P(pe,ye,me.object.textEditorModel,d.e.lift(j),G,g.T.None)}finally{me.dispose()}})}),u.P.registerCommand("_executeFormatDocumentProvider",function(U,...L){return w(this,void 0,void 0,function*(){const[B,j]=L;(0,N.p_)(x.o.isUri(B));const G=U.get(r.S),y=U.get(s.p),pe=U.get(E.p),ye=yield G.createModelReference(B);try{return X(y,pe,ye.object.textEditorModel,j,g.T.None)}finally{ye.dispose()}})}),u.P.registerCommand("_executeFormatOnTypeProvider",function(U,...L){return w(this,void 0,void 0,function*(){const[B,j,G,y]=L;(0,N.p_)(x.o.isUri(B)),(0,N.p_)(a.L.isIPosition(j)),(0,N.p_)(typeof G=="string");const pe=U.get(r.S),ye=U.get(s.p),me=U.get(E.p),Se=yield pe.createModelReference(B);try{return q(ye,me,Se.object.textEditorModel,a.L.lift(j),G,y,g.T.None)}finally{Se.dispose()}})})},96880:function(vt,be,i){"use strict";i.r(be);var c=i(16842),F=i(19713),g=i(50505),A=i(42528),S=i(52357),$=i(98981),N=i(76356),x=i(79563),O=i(22445),p=i(73805),a=i(6375),d=i(26340),f=i(97113),s=i(67250),r=i(15779),m=i(21760),C=i(23286),u=i(64700),_=i(26348),b=function(z,Q,Y,H){var P=arguments.length,X=P<3?Q:H===null?H=Object.getOwnPropertyDescriptor(Q,Y):H,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(z,Q,Y,H);else for(var U=z.length-1;U>=0;U--)(q=z[U])&&(X=(P<3?q(X):P>3?q(Q,Y,X):q(Q,Y))||X);return P>3&&X&&Object.defineProperty(Q,Y,X),X},E=function(z,Q){return function(Y,H){Q(Y,H,z)}},D=function(z,Q,Y,H){function P(X){return X instanceof Y?X:new Y(function(q){q(X)})}return new(Y||(Y=Promise))(function(X,q){function U(j){try{B(H.next(j))}catch(G){q(G)}}function L(j){try{B(H.throw(j))}catch(G){q(G)}}function B(j){j.done?X(j.value):P(j.value).then(U,L)}B((H=H.apply(z,Q||[])).next())})};let w=class{constructor(Q,Y,H){this._editor=Q,this._languageFeaturesService=Y,this._workerService=H,this._disposables=new S.SL,this._sessionDisposables=new S.SL,this._disposables.add(Y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(Q.onDidChangeModel(()=>this._update())),this._disposables.add(Q.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Q.onDidChangeConfiguration(P=>{P.hasChanged(53)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(53)||!this._editor.hasModel())return;const Q=this._editor.getModel(),[Y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(Q);if(!Y||!Y.autoFormatTriggerCharacters)return;const H=new x.q;for(const P of Y.autoFormatTriggerCharacters)H.add(P.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(P=>{const X=P.charCodeAt(P.length-1);H.has(X)&&this._trigger(String.fromCharCode(X))}))}_trigger(Q){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const Y=this._editor.getModel(),H=this._editor.getPosition(),P=new F.A,X=this._editor.onDidChangeModelContent(q=>{if(q.isFlush){P.cancel(),X.dispose();return}for(let U=0,L=q.changes.length;U<L;U++)if(q.changes[U].range.endLineNumber<=H.lineNumber){P.cancel(),X.dispose();return}});(0,f.Qs)(this._workerService,this._languageFeaturesService,Y,H,Q,Y.getFormattingOptions(),P.token).then(q=>{P.token.isCancellationRequested||(0,c.Of)(q)&&(s.V.execute(this._editor,q,!0),(0,f.Zg)(q))}).finally(()=>{X.dispose()})}};w.ID="editor.contrib.autoFormat",w=b([E(1,d.p),E(2,a.p)],w);let I=class{constructor(Q,Y,H){this.editor=Q,this._languageFeaturesService=Y,this._instantiationService=H,this._callOnDispose=new S.SL,this._callOnModel=new S.SL,this._callOnDispose.add(Q.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(Q.onDidChangeModel(()=>this._update())),this._callOnDispose.add(Q.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(52)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:Q})=>this._trigger(Q)))}_trigger(Q){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(f.x$,this.editor,Q,2,_.Ex.None,F.T.None).catch(g.dL))}};I.ID="editor.contrib.formatOnPaste",I=b([E(1,d.p),E(2,u.TG)],I);class M extends $.R6{constructor(){super({id:"editor.action.formatDocument",label:r.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:C.Ao.and(p.u.notInCompositeEditor,p.u.writable,p.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(Q,Y){return D(this,void 0,void 0,function*(){if(Y.hasModel()){const H=Q.get(u.TG);yield Q.get(_.ek).showWhile(H.invokeFunction(f.Qq,Y,1,_.Ex.None,F.T.None),250)}})}}class K extends $.R6{constructor(){super({id:"editor.action.formatSelection",label:r.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:C.Ao.and(p.u.writable,p.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,A.gx)(2089,2084),weight:100},contextMenuOpts:{when:p.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(Q,Y){return D(this,void 0,void 0,function*(){if(!Y.hasModel())return;const H=Q.get(u.TG),P=Y.getModel(),X=Y.getSelections().map(U=>U.isEmpty()?new O.e(U.startLineNumber,1,U.startLineNumber,P.getLineMaxColumn(U.startLineNumber)):U);yield Q.get(_.ek).showWhile(H.invokeFunction(f.x$,Y,X,1,_.Ex.None,F.T.None),250)})}}(0,$._K)(w.ID,w,2),(0,$._K)(I.ID,I,2),(0,$.Qr)(M),(0,$.Qr)(K),m.P.registerCommand("editor.action.format",z=>D(void 0,void 0,void 0,function*(){const Q=z.get(N.$).getFocusedCodeEditor();if(!Q||!Q.hasModel())return;const Y=z.get(m.H);Q.getSelection().isEmpty()?yield Y.executeCommand("editor.action.formatDocument"):yield Y.executeCommand("editor.action.formatSelection")}))},67250:function(vt,be,i){"use strict";i.d(be,{V:function(){return A}});var c=i(24222),F=i(22445),g=i(43167);class A{static _handleEolEdits($,N){let x;const O=[];for(const p of N)typeof p.eol=="number"&&(x=p.eol),p.range&&typeof p.text=="string"&&O.push(p);return typeof x=="number"&&$.hasModel()&&$.getModel().pushEOL(x),O}static _isFullModelReplaceEdit($,N){if(!$.hasModel())return!1;const x=$.getModel(),O=x.validateRange(N.range);return x.getFullModelRange().equalsRange(O)}static execute($,N,x){x&&$.pushUndoStop();const O=g.Z.capture($),p=A._handleEolEdits($,N);p.length===1&&A._isFullModelReplaceEdit($,p[0])?$.executeEdits("formatEditsCommand",p.map(a=>c.h.replace(F.e.lift(a.range),a.text))):$.executeEdits("formatEditsCommand",p.map(a=>c.h.replaceMove(F.e.lift(a.range),a.text))),x&&$.pushUndoStop(),O.restoreRelativeVerticalPositionOfCursor($)}}},34561:function(vt,be,i){"use strict";i.r(be),i.d(be,{MarkerController:function(){return ct},NextMarkerAction:function(){return dt}});var c=i(54195),F=i(52357),g=i(98981),A=i(76356),S=i(43976),$=i(22445),N=i(73805),x=i(16842),O=i(94162),p=i(23345),a=i(30613),d=i(39508),f=i(70751),s=i(64700),r=i(85901),m=i(64464),C=function(ve,we,Oe,He){var mt=arguments.length,bt=mt<3?we:He===null?He=Object.getOwnPropertyDescriptor(we,Oe):He,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ve,we,Oe,He);else for(var Ut=ve.length-1;Ut>=0;Ut--)(kt=ve[Ut])&&(bt=(mt<3?kt(bt):mt>3?kt(we,Oe,bt):kt(we,Oe))||bt);return mt>3&&bt&&Object.defineProperty(we,Oe,bt),bt},u=function(ve,we){return function(Oe,He){we(Oe,He,ve)}};class _{constructor(we,Oe,He){this.marker=we,this.index=Oe,this.total=He}}let b=class{constructor(we,Oe,He){this._markerService=Oe,this._configService=He,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new F.SL,this._markers=[],this._nextIdx=-1,d.o.isUri(we)?this._resourceFilter=Ut=>Ut.toString()===we.toString():we&&(this._resourceFilter=we);const mt=this._configService.getValue("problems.sortOrder"),bt=(Ut,ut)=>{let Dt=(0,a.qu)(Ut.resource.toString(),ut.resource.toString());return Dt===0&&(mt==="position"?Dt=$.e.compareRangesUsingStarts(Ut,ut)||r.ZL.compare(Ut.severity,ut.severity):Dt=r.ZL.compare(Ut.severity,ut.severity)||$.e.compareRangesUsingStarts(Ut,ut)),Dt},kt=()=>{this._markers=this._markerService.read({resource:d.o.isUri(we)?we:void 0,severities:r.ZL.Error|r.ZL.Warning|r.ZL.Info}),typeof we=="function"&&(this._markers=this._markers.filter(Ut=>this._resourceFilter(Ut.resource))),this._markers.sort(bt)};kt(),this._dispoables.add(Oe.onMarkerChanged(Ut=>{(!this._resourceFilter||Ut.some(ut=>this._resourceFilter(ut)))&&(kt(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(we){return!this._resourceFilter&&!we?!0:!this._resourceFilter||!we?!1:this._resourceFilter(we)}get selected(){const we=this._markers[this._nextIdx];return we&&new _(we,this._nextIdx+1,this._markers.length)}_initIdx(we,Oe,He){let mt=!1,bt=this._markers.findIndex(kt=>kt.resource.toString()===we.uri.toString());bt<0&&(bt=(0,x.ry)(this._markers,{resource:we.uri},(kt,Ut)=>(0,a.qu)(kt.resource.toString(),Ut.resource.toString())),bt<0&&(bt=~bt));for(let kt=bt;kt<this._markers.length;kt++){let Ut=$.e.lift(this._markers[kt]);if(Ut.isEmpty()){const ut=we.getWordAtPosition(Ut.getStartPosition());ut&&(Ut=new $.e(Ut.startLineNumber,ut.startColumn,Ut.startLineNumber,ut.endColumn))}if(Oe&&(Ut.containsPosition(Oe)||Oe.isBeforeOrEqual(Ut.getStartPosition()))){this._nextIdx=kt,mt=!0;break}if(this._markers[kt].resource.toString()!==we.uri.toString())break}mt||(this._nextIdx=He?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(we,Oe,He){if(this._markers.length===0)return!1;const mt=this._nextIdx;return this._nextIdx===-1?this._initIdx(Oe,He,we):we?this._nextIdx=(this._nextIdx+1)%this._markers.length:we||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),mt!==this._nextIdx}find(we,Oe){let He=this._markers.findIndex(mt=>mt.resource.toString()===we.toString());if(!(He<0)){for(;He<this._markers.length;He++)if($.e.containsPosition(this._markers[He],Oe))return new _(this._markers[He],He+1,this._markers.length)}}};b=C([u(1,r.lT),u(2,m.Ui)],b);const E=(0,s.yh)("IMarkerNavigationService");let D=class{constructor(we,Oe){this._markerService=we,this._configService=Oe,this._provider=new p.S}getMarkerList(we){for(const Oe of this._provider){const He=Oe.getMarkerList(we);if(He)return He}return new b(we,this._markerService,this._configService)}};D=C([u(0,r.lT),u(1,m.Ui)],D),(0,f.z)(E,D,1);var w=i(15779),I=i(49597),M=i(23286),K=i(88159),z=i(16563),Q=i(66690),Y=i(87799),H=i(17349),P=i(36481),X=i(925),q=i(4408),U=i(20009),L=i(81189),B=i(82787),j;(function(ve){function we(Oe){switch(Oe){case B.Z.Ignore:return"severity-ignore "+L.k.asClassName(c.l.info);case B.Z.Info:return L.k.asClassName(c.l.info);case B.Z.Warning:return L.k.asClassName(c.l.warning);case B.Z.Error:return L.k.asClassName(c.l.error);default:return""}}ve.className=we})(j||(j={}));var G=i(78382),y=i(901),pe=function(ve,we,Oe,He){var mt=arguments.length,bt=mt<3?we:He===null?He=Object.getOwnPropertyDescriptor(we,Oe):He,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ve,we,Oe,He);else for(var Ut=ve.length-1;Ut>=0;Ut--)(kt=ve[Ut])&&(bt=(mt<3?kt(bt):mt>3?kt(we,Oe,bt):kt(we,Oe))||bt);return mt>3&&bt&&Object.defineProperty(we,Oe,bt),bt},ye=function(ve,we){return function(Oe,He){we(Oe,He,ve)}};class me{constructor(we,Oe,He,mt,bt){this._openerService=mt,this._labelService=bt,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new F.SL,this._editor=Oe;const kt=document.createElement("div");kt.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),kt.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),kt.appendChild(this._relatedBlock),this._disposables.add(z.mu(this._relatedBlock,"click",Ut=>{Ut.preventDefault();const ut=this._relatedDiagnostics.get(Ut.target);ut&&He(ut)})),this._scrollable=new Q.NB(kt,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),we.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Ut=>{kt.style.left=`-${Ut.scrollLeft}px`,kt.style.top=`-${Ut.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,F.B9)(this._disposables)}update(we){const{source:Oe,message:He,relatedInformation:mt,code:bt}=we;let kt=((Oe==null?void 0:Oe.length)||0)+2;bt&&(typeof bt=="string"?kt+=bt.length:kt+=bt.value.length);const Ut=(0,a.uq)(He);this._lines=Ut.length,this._longestLineLength=0;for(const Et of Ut)this._longestLineLength=Math.max(Et.length+kt,this._longestLineLength);z.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(we)),this._editor.applyFontInfo(this._messageBlock);let ut=this._messageBlock;for(const Et of Ut)ut=document.createElement("div"),ut.innerText=Et,Et===""&&(ut.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ut);if(Oe||bt){const Et=document.createElement("span");if(Et.classList.add("details"),ut.appendChild(Et),Oe){const Ze=document.createElement("span");Ze.innerText=Oe,Ze.classList.add("source"),Et.appendChild(Ze)}if(bt)if(typeof bt=="string"){const Ze=document.createElement("span");Ze.innerText=`(${bt})`,Ze.classList.add("code"),Et.appendChild(Ze)}else{this._codeLink=z.$("a.code-link"),this._codeLink.setAttribute("href",`${bt.target.toString()}`),this._codeLink.onclick=St=>{this._openerService.open(bt.target,{allowCommands:!0}),St.preventDefault(),St.stopPropagation()};const Ze=z.R3(this._codeLink,z.$("span"));Ze.innerText=bt.value,Et.appendChild(this._codeLink)}}if(z.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,x.Of)(mt)){const Et=this._relatedBlock.appendChild(document.createElement("div"));Et.style.paddingTop=`${Math.floor(this._editor.getOption(63)*.66)}px`,this._lines+=1;for(const Ze of mt){const St=document.createElement("div"),jt=document.createElement("a");jt.classList.add("filename"),jt.innerText=`${this._labelService.getUriBasenameLabel(Ze.resource)}(${Ze.startLineNumber}, ${Ze.startColumn}): `,jt.title=this._labelService.getUriLabel(Ze.resource),this._relatedDiagnostics.set(jt,Ze);const Ct=document.createElement("span");Ct.innerText=Ze.message,St.appendChild(jt),St.appendChild(Ct),this._lines+=1,Et.appendChild(St)}}const Dt=this._editor.getOption(47),ft=Math.ceil(Dt.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Ft=Dt.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:ft,scrollHeight:Ft})}layout(we,Oe){this._scrollable.getDomNode().style.height=`${we}px`,this._scrollable.getDomNode().style.width=`${Oe}px`,this._scrollable.setScrollDimensions({width:Oe,height:we})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(we){let Oe="";switch(we.severity){case r.ZL.Error:Oe=w.NC("Error","Error");break;case r.ZL.Warning:Oe=w.NC("Warning","Warning");break;case r.ZL.Info:Oe=w.NC("Info","Info");break;case r.ZL.Hint:Oe=w.NC("Hint","Hint");break}let He=w.NC("marker aria","{0} at {1}. ",Oe,we.startLineNumber+":"+we.startColumn);const mt=this._editor.getModel();return mt&&we.startLineNumber<=mt.getLineCount()&&we.startLineNumber>=1&&(He=`${mt.getLineContent(we.startLineNumber)}, ${He}`),He}}let Se=class kc extends P.vk{constructor(we,Oe,He,mt,bt,kt,Ut){super(we,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},bt),this._themeService=Oe,this._openerService=He,this._menuService=mt,this._contextKeyService=kt,this._labelService=Ut,this._callOnDispose=new F.SL,this._onDidSelectRelatedInformation=new O.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.ZL.Warning,this._backgroundColor=Y.Il.white,this._applyTheme(Oe.getColorTheme()),this._callOnDispose.add(Oe.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(we){this._backgroundColor=we.getColor(ne);let Oe=se,He=Re;this._severity===r.ZL.Warning?(Oe=$e,He=je):this._severity===r.ZL.Info&&(Oe=Ce,He=J);const mt=we.getColor(Oe),bt=we.getColor(He);this.style({arrowColor:mt,frameColor:mt,headerBackgroundColor:bt,primaryHeadingColor:we.getColor(P.IH),secondaryHeadingColor:we.getColor(P.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(we){super._fillHead(we),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(mt=>this.editor.focus()));const Oe=[],He=this._menuService.createMenu(kc.TitleMenu,this._contextKeyService);(0,X.vr)(He,void 0,Oe),this._actionbarWidget.push(Oe,{label:!1,icon:!0,index:0}),He.dispose()}_fillTitleIcon(we){this._icon=z.R3(we,z.$(""))}_fillBody(we){this._parentContainer=we,we.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),we.appendChild(this._container),this._message=new me(this._container,this.editor,Oe=>this._onDidSelectRelatedInformation.fire(Oe),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(we,Oe,He){this._container.classList.remove("stale"),this._message.update(we),this._severity=we.severity,this._applyTheme(this._themeService.getColorTheme());const mt=$.e.lift(we),bt=this.editor.getPosition(),kt=bt&&mt.containsPosition(bt)?bt:mt.getStartPosition();super.show(kt,this.computeRequiredHeight());const Ut=this.editor.getModel();if(Ut){const ut=He>1?w.NC("problems","{0} of {1} problems",Oe,He):w.NC("change","{0} of {1} problem",Oe,He);this.setTitle((0,H.EZ)(Ut.uri),ut)}this._icon.className=`codicon ${j.className(r.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(kt,0),this.editor.focus()}updateMarker(we){this._container.classList.remove("stale"),this._message.update(we)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(we,Oe){super._doLayoutBody(we,Oe),this._heightInPixel=we,this._message.layout(we,Oe),this._container.style.height=`${we}px`}_onWidth(we){this._message.layout(this._heightInPixel,we)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Se.TitleMenu=new I.eH("gotoErrorTitleMenu"),Se=pe([ye(1,y.XE),ye(2,U.v4),ye(3,I.co),ye(4,s.TG),ye(5,M.i6),ye(6,q.e)],Se);const _e=(0,G.kwl)(G.lXJ,G.b6y),he=(0,G.kwl)(G.uoC,G.pW3),le=(0,G.kwl)(G.c63,G.T83),se=(0,G.P6G)("editorMarkerNavigationError.background",{dark:_e,light:_e,hcDark:G.lRK,hcLight:G.lRK},w.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Re=(0,G.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,G.ZnX)(se,.1),light:(0,G.ZnX)(se,.1),hcDark:null,hcLight:null},w.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),$e=(0,G.P6G)("editorMarkerNavigationWarning.background",{dark:he,light:he,hcDark:G.lRK,hcLight:G.lRK},w.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),je=(0,G.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,G.ZnX)($e,.1),light:(0,G.ZnX)($e,.1),hcDark:"#0C141F",hcLight:(0,G.ZnX)($e,.2)},w.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Ce=(0,G.P6G)("editorMarkerNavigationInfo.background",{dark:le,light:le,hcDark:G.lRK,hcLight:G.lRK},w.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),J=(0,G.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,G.ZnX)(Ce,.1),light:(0,G.ZnX)(Ce,.1),hcDark:null,hcLight:null},w.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),ne=(0,G.P6G)("editorMarkerNavigation.background",{dark:G.cvW,light:G.cvW,hcDark:G.cvW,hcLight:G.cvW},w.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var ae=function(ve,we,Oe,He){var mt=arguments.length,bt=mt<3?we:He===null?He=Object.getOwnPropertyDescriptor(we,Oe):He,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ve,we,Oe,He);else for(var Ut=ve.length-1;Ut>=0;Ut--)(kt=ve[Ut])&&(bt=(mt<3?kt(bt):mt>3?kt(we,Oe,bt):kt(we,Oe))||bt);return mt>3&&bt&&Object.defineProperty(we,Oe,bt),bt},xe=function(ve,we){return function(Oe,He){we(Oe,He,ve)}},Ke=function(ve,we,Oe,He){function mt(bt){return bt instanceof Oe?bt:new Oe(function(kt){kt(bt)})}return new(Oe||(Oe=Promise))(function(bt,kt){function Ut(ft){try{Dt(He.next(ft))}catch(Ft){kt(Ft)}}function ut(ft){try{Dt(He.throw(ft))}catch(Ft){kt(Ft)}}function Dt(ft){ft.done?bt(ft.value):mt(ft.value).then(Ut,ut)}Dt((He=He.apply(ve,we||[])).next())})};let ct=class qa{static get(we){return we.getContribution(qa.ID)}constructor(we,Oe,He,mt,bt){this._markerNavigationService=Oe,this._contextKeyService=He,this._editorService=mt,this._instantiationService=bt,this._sessionDispoables=new F.SL,this._editor=we,this._widgetVisible=Te.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(we){if(this._model&&this._model.matches(we))return this._model;let Oe=!1;return this._model&&(Oe=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(we),Oe&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Se,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(He=>{var mt,bt,kt;(!(!((mt=this._model)===null||mt===void 0)&&mt.selected)||!$.e.containsPosition((bt=this._model)===null||bt===void 0?void 0:bt.selected.marker,He.position))&&((kt=this._model)===null||kt===void 0||kt.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const He=this._model.find(this._editor.getModel().uri,this._widget.position);He?this._widget.updateMarker(He.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(He=>{this._editorService.openCodeEditor({resource:He.resource,options:{pinned:!0,revealIfOpened:!0,selection:$.e.lift(He).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(we=!0){this._cleanUp(),we&&this._editor.focus()}showAtMarker(we){if(this._editor.hasModel()){const Oe=this._getOrCreateModel(this._editor.getModel().uri);Oe.resetIndex(),Oe.move(!0,this._editor.getModel(),new S.L(we.startLineNumber,we.startColumn)),Oe.selected&&this._widget.showAtMarker(Oe.selected.marker,Oe.selected.index,Oe.selected.total)}}nagivate(we,Oe){var He,mt;return Ke(this,void 0,void 0,function*(){if(this._editor.hasModel()){const bt=this._getOrCreateModel(Oe?void 0:this._editor.getModel().uri);if(bt.move(we,this._editor.getModel(),this._editor.getPosition()),!bt.selected)return;if(bt.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const kt=yield this._editorService.openCodeEditor({resource:bt.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:bt.selected.marker}},this._editor);kt&&((He=qa.get(kt))===null||He===void 0||He.close(),(mt=qa.get(kt))===null||mt===void 0||mt.nagivate(we,Oe))}else this._widget.showAtMarker(bt.selected.marker,bt.selected.index,bt.selected.total)}})}};ct.ID="editor.contrib.markerController",ct=ae([xe(1,E),xe(2,M.i6),xe(3,A.$),xe(4,s.TG)],ct);class ot extends g.R6{constructor(we,Oe,He){super(He),this._next=we,this._multiFile=Oe}run(we,Oe){var He;return Ke(this,void 0,void 0,function*(){Oe.hasModel()&&((He=ct.get(Oe))===null||He===void 0||He.nagivate(this._next,this._multiFile))})}}class dt extends ot{constructor(){super(!0,!1,{id:dt.ID,label:dt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:578,weight:100},menuOpts:{menuId:Se.TitleMenu,title:dt.LABEL,icon:(0,K.q5)("marker-navigation-next",c.l.arrowDown,w.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}dt.ID="editor.action.marker.next",dt.LABEL=w.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class et extends ot{constructor(){super(!1,!1,{id:et.ID,label:et.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:1602,weight:100},menuOpts:{menuId:Se.TitleMenu,title:et.LABEL,icon:(0,K.q5)("marker-navigation-previous",c.l.arrowUp,w.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}et.ID="editor.action.marker.prev",et.LABEL=w.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Fe extends ot{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:w.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:66,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:w.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Le extends ot{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:w.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:1090,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:w.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,g._K)(ct.ID,ct,4),(0,g.Qr)(dt),(0,g.Qr)(et),(0,g.Qr)(Fe),(0,g.Qr)(Le);const Te=new M.uy("markersNavigationVisible",!1),ge=g._l.bindToContribution(ct.get);(0,g.fK)(new ge({id:"closeMarkersNavigation",precondition:Te,handler:ve=>ve.close(),kbOpts:{weight:100+50,kbExpr:N.u.focus,primary:9,secondary:[1033]}}))},14185:function(vt,be,i){"use strict";i.r(be),i.d(be,{DefinitionAction:function(){return ae},SymbolNavigationAction:function(){return ne},SymbolNavigationAnchor:function(){return J}});var c=i(26766),F=i(26017),g=i(39460),A=i(42528),S=i(41420),$=i(67770),N=i(39508),x=i(46978),O=i(60920),p=i(98981),a=i(76356),d=i(49206),f=i(43976),s=i(22445),r=i(73805),m=i(33686),C=i(7815),u=i(23387),_=i(94162),b=i(52357),E=i(17349),D=i(15779),w=i(23286),I=i(70751),M=i(64700),K=i(22437),z=i(59477),Q=i(28382),Y=function(Fe,Le,Te,ge){var ve=arguments.length,we=ve<3?Le:ge===null?ge=Object.getOwnPropertyDescriptor(Le,Te):ge,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Fe,Le,Te,ge);else for(var He=Fe.length-1;He>=0;He--)(Oe=Fe[He])&&(we=(ve<3?Oe(we):ve>3?Oe(Le,Te,we):Oe(Le,Te))||we);return ve>3&&we&&Object.defineProperty(Le,Te,we),we},H=function(Fe,Le){return function(Te,ge){Le(Te,ge,Fe)}};const P=new w.uy("hasSymbols",!1,(0,D.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),X=(0,M.yh)("ISymbolNavigationService");let q=class{constructor(Le,Te,ge,ve){this._editorService=Te,this._notificationService=ge,this._keybindingService=ve,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=P.bindTo(Le)}reset(){var Le,Te;this._ctxHasSymbols.reset(),(Le=this._currentState)===null||Le===void 0||Le.dispose(),(Te=this._currentMessage)===null||Te===void 0||Te.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Le){const Te=Le.parent.parent;if(Te.references.length<=1){this.reset();return}this._currentModel=Te,this._currentIdx=Te.references.indexOf(Le),this._ctxHasSymbols.set(!0),this._showMessage();const ge=new U(this._editorService),ve=ge.onDidChange(we=>{if(this._ignoreEditorChange)return;const Oe=this._editorService.getActiveCodeEditor();if(!Oe)return;const He=Oe.getModel(),mt=Oe.getPosition();if(!He||!mt)return;let bt=!1,kt=!1;for(const Ut of Te.references)if((0,E.Xy)(Ut.uri,He.uri))bt=!0,kt=kt||s.e.containsPosition(Ut.range,mt);else if(bt)break;(!bt||!kt)&&this.reset()});this._currentState=(0,b.F8)(ge,ve)}revealNext(Le){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Te=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Te.uri,options:{selection:s.e.collapseToStart(Te.range),selectionRevealType:3}},Le).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Le;(Le=this._currentMessage)===null||Le===void 0||Le.dispose();const Te=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),ge=Te?(0,D.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Te.getLabel()):(0,D.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(ge)}};q=Y([H(0,w.i6),H(1,a.$),H(2,Q.lT),H(3,K.d)],q),(0,I.z)(X,q,1),(0,p.fK)(new class extends p._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:P,kbOpts:{weight:100,primary:70}})}runEditorCommand(Fe,Le){return Fe.get(X).revealNext(Le)}}),z.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:P,primary:9,handler(Fe){Fe.get(X).reset()}});let U=class{constructor(Le){this._listener=new Map,this._disposables=new b.SL,this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Le.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Le.onCodeEditorAdd(this._onDidAddEditor,this)),Le.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,b.B9)(this._listener.values())}_onDidAddEditor(Le){this._listener.set(Le,(0,b.F8)(Le.onDidChangeCursorPosition(Te=>this._onDidChange.fire({editor:Le})),Le.onDidChangeModelContent(Te=>this._onDidChange.fire({editor:Le}))))}_onDidRemoveEditor(Le){var Te;(Te=this._listener.get(Le))===null||Te===void 0||Te.dispose(),this._listener.delete(Le)}};U=Y([H(0,a.$)],U);var L=i(41967),B=i(36481),j=i(49597),G=i(21760),y=i(26348),pe=i(22339),ye=i(26340),me=i(62841),Se=function(Fe,Le,Te,ge){function ve(we){return we instanceof Te?we:new Te(function(Oe){Oe(we)})}return new(Te||(Te=Promise))(function(we,Oe){function He(kt){try{bt(ge.next(kt))}catch(Ut){Oe(Ut)}}function mt(kt){try{bt(ge.throw(kt))}catch(Ut){Oe(Ut)}}function bt(kt){kt.done?we(kt.value):ve(kt.value).then(He,mt)}bt((ge=ge.apply(Fe,Le||[])).next())})},_e,he,le,se,Re,$e,je,Ce;j.BH.appendMenuItem(j.eH.EditorContext,{submenu:j.eH.EditorContextPeek,title:D.NC("peek.submenu","Peek"),group:"navigation",order:100});class J{static is(Le){return!Le||typeof Le!="object"?!1:!!(Le instanceof J||f.L.isIPosition(Le.position)&&Le.model)}constructor(Le,Te){this.model=Le,this.position=Te}}class ne extends p.x1{static all(){return ne._allSymbolNavigationCommands.values()}static _patchConfig(Le){const Te=Object.assign(Object.assign({},Le),{f1:!0});if(Te.menu)for(const ge of me.$.wrap(Te.menu))(ge.id===j.eH.EditorContext||ge.id===j.eH.EditorContextPeek)&&(ge.when=w.Ao.and(Le.precondition,ge.when));return Te}constructor(Le,Te){super(ne._patchConfig(Te)),this.configuration=Le,ne._allSymbolNavigationCommands.set(Te.id,this)}runEditorCommand(Le,Te,ge,ve){if(!Te.hasModel())return Promise.resolve(void 0);const we=Le.get(Q.lT),Oe=Le.get(a.$),He=Le.get(y.ek),mt=Le.get(X),bt=Le.get(ye.p),kt=Le.get(M.TG),Ut=Te.getModel(),ut=Te.getPosition(),Dt=J.is(ge)?ge:new J(Ut,ut),ft=new x.Dl(Te,5),Ft=(0,g.eP)(this._getLocationModel(bt,Dt.model,Dt.position,ft.token),ft.token).then(Et=>Se(this,void 0,void 0,function*(){var Ze;if(!Et||ft.token.isCancellationRequested)return;(0,F.Z9)(Et.ariaMessage);let St;if(Et.referenceAt(Ut.uri,ut)){const Ct=this._getAlternativeCommand(Te);!ne._activeAlternativeCommands.has(Ct)&&ne._allSymbolNavigationCommands.has(Ct)&&(St=ne._allSymbolNavigationCommands.get(Ct))}const jt=Et.references.length;if(jt===0){if(!this.configuration.muteMessage){const Ct=Ut.getWordAtPosition(ut);(Ze=L.O.get(Te))===null||Ze===void 0||Ze.showMessage(this._getNoResultFoundMessage(Ct),ut)}}else if(jt===1&&St)ne._activeAlternativeCommands.add(this.desc.id),kt.invokeFunction(Ct=>St.runEditorCommand(Ct,Te,ge,ve).finally(()=>{ne._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(Oe,mt,Te,Et,ve)}),Et=>{we.error(Et)}).finally(()=>{ft.dispose()});return He.showWhile(Ft,250),Ft}_onResult(Le,Te,ge,ve,we){return Se(this,void 0,void 0,function*(){const Oe=this._getGoToPreference(ge);if(!(ge instanceof d.H)&&(this.configuration.openInPeek||Oe==="peek"&&ve.references.length>1))this._openInPeek(ge,ve,we);else{const He=ve.firstReference(),mt=ve.references.length>1&&Oe==="gotoAndPeek",bt=yield this._openReference(ge,Le,He,this.configuration.openToSide,!mt);mt&&bt?this._openInPeek(bt,ve,we):ve.dispose(),Oe==="goto"&&Te.put(He)}})}_openReference(Le,Te,ge,ve,we){return Se(this,void 0,void 0,function*(){let Oe;if((0,m.vx)(ge)&&(Oe=ge.targetSelectionRange),Oe||(Oe=ge.range),!Oe)return;const He=yield Te.openCodeEditor({resource:ge.uri,options:{selection:s.e.collapseToStart(Oe),selectionRevealType:3,selectionSource:"code.jump"}},Le,ve);if(He){if(we){const mt=He.getModel(),bt=He.createDecorationsCollection([{range:Oe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{He.getModel()===mt&&bt.clear()},350)}return He}})}_openInPeek(Le,Te,ge){const ve=C.J.get(Le);ve&&Le.hasModel()?ve.toggleWidget(ge!=null?ge:Le.getSelection(),(0,g.PG)(we=>Promise.resolve(Te)),this.configuration.openInPeek):Te.dispose()}}ne._allSymbolNavigationCommands=new Map,ne._activeAlternativeCommands=new Set;class ae extends ne{_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.nD)(Le.definitionProvider,Te,ge,ve),D.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?D.NC("noResultWord","No definition found for '{0}'",Le.word):D.NC("generic.noResults","No definition found")}_getAlternativeCommand(Le){return Le.getOption(55).alternativeDefinitionCommand}_getGoToPreference(Le){return Le.getOption(55).multipleDefinitions}}const xe=S.$L&&!(0,c.isStandalone)()?2118:70;(0,j.r1)((_e=class bd extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:bd.id,title:{value:D.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:D.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:w.Ao.and(r.u.hasDefinitionProvider,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:xe,weight:100},menu:[{id:j.eH.EditorContext,group:"navigation",order:1.1},{id:j.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),G.P.registerCommandAlias("editor.action.goToDeclaration",bd.id)}},_e.id="editor.action.revealDefinition",_e)),(0,j.r1)((he=class Sd extends ae{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Sd.id,title:{value:D.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:w.Ao.and(r.u.hasDefinitionProvider,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:(0,A.gx)(2089,xe),weight:100}}),G.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Sd.id)}},he.id="editor.action.revealDefinitionAside",he)),(0,j.r1)((le=class yd extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:yd.id,title:{value:D.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:w.Ao.and(r.u.hasDefinitionProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:j.eH.EditorContextPeek,group:"peek",order:2}}),G.P.registerCommandAlias("editor.action.previewDeclaration",yd.id)}},le.id="editor.action.peekDefinition",le));class Ke extends ne{_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.zq)(Le.declarationProvider,Te,ge,ve),D.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?D.NC("decl.noResultWord","No declaration found for '{0}'",Le.word):D.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Le){return Le.getOption(55).alternativeDeclarationCommand}_getGoToPreference(Le){return Le.getOption(55).multipleDeclarations}}(0,j.r1)((se=class Fc extends Ke{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Fc.id,title:{value:D.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:D.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:w.Ao.and(r.u.hasDeclarationProvider,r.u.isInWalkThroughSnippet.toNegated()),menu:[{id:j.eH.EditorContext,group:"navigation",order:1.3},{id:j.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Le){return Le&&Le.word?D.NC("decl.noResultWord","No declaration found for '{0}'",Le.word):D.NC("decl.generic.noResults","No declaration found")}},se.id="editor.action.revealDeclaration",se)),(0,j.r1)(class extends Ke{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:D.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:w.Ao.and(r.u.hasDeclarationProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),menu:{id:j.eH.EditorContextPeek,group:"peek",order:3}})}});class ct extends ne{_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.L3)(Le.typeDefinitionProvider,Te,ge,ve),D.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?D.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Le.word):D.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Le){return Le.getOption(55).alternativeTypeDefinitionCommand}_getGoToPreference(Le){return Le.getOption(55).multipleTypeDefinitions}}(0,j.r1)((Re=class Bc extends ct{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Bc.ID,title:{value:D.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:D.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:w.Ao.and(r.u.hasTypeDefinitionProvider,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:0,weight:100},menu:[{id:j.eH.EditorContext,group:"navigation",order:1.4},{id:j.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},Re.ID="editor.action.goToTypeDefinition",Re)),(0,j.r1)(($e=class Wc extends ct{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Wc.ID,title:{value:D.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:w.Ao.and(r.u.hasTypeDefinitionProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),menu:{id:j.eH.EditorContextPeek,group:"peek",order:4}})}},$e.ID="editor.action.peekTypeDefinition",$e));class ot extends ne{_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.f4)(Le.implementationProvider,Te,ge,ve),D.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?D.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Le.word):D.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Le){return Le.getOption(55).alternativeImplementationCommand}_getGoToPreference(Le){return Le.getOption(55).multipleImplementations}}(0,j.r1)((je=class Vc extends ot{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Vc.ID,title:{value:D.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:D.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:w.Ao.and(r.u.hasImplementationProvider,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:2118,weight:100},menu:[{id:j.eH.EditorContext,group:"navigation",order:1.45},{id:j.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},je.ID="editor.action.goToImplementation",je)),(0,j.r1)((Ce=class Hc extends ot{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Hc.ID,title:{value:D.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:w.Ao.and(r.u.hasImplementationProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:3142,weight:100},menu:{id:j.eH.EditorContextPeek,group:"peek",order:5}})}},Ce.ID="editor.action.peekImplementation",Ce));class dt extends ne{_getNoResultFoundMessage(Le){return Le?D.NC("references.no","No references found for '{0}'",Le.word):D.NC("references.noGeneric","No references found")}_getAlternativeCommand(Le){return Le.getOption(55).alternativeReferenceCommand}_getGoToPreference(Le){return Le.getOption(55).multipleReferences}}(0,j.r1)(class extends dt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:D.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:D.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:w.Ao.and(r.u.hasReferenceProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:1094,weight:100},menu:[{id:j.eH.EditorContext,group:"navigation",order:1.45},{id:j.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.aA)(Le.referenceProvider,Te,ge,!0,ve),D.NC("ref.title","References"))})}}),(0,j.r1)(class extends dt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:D.NC("references.action.label","Peek References"),original:"Peek References"},precondition:w.Ao.and(r.u.hasReferenceProvider,B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated()),menu:{id:j.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(yield(0,pe.aA)(Le.referenceProvider,Te,ge,!1,ve),D.NC("ref.title","References"))})}});class et extends ne{constructor(Le,Te,ge){super(Le,{id:"editor.action.goToLocation",title:{value:D.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:w.Ao.and(B.Jy.notInPeekEditor,r.u.isInWalkThroughSnippet.toNegated())}),this._references=Te,this._gotoMultipleBehaviour=ge}_getLocationModel(Le,Te,ge,ve){return Se(this,void 0,void 0,function*(){return new u.oQ(this._references,D.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Le){return Le&&D.NC("generic.noResult","No results for '{0}'",Le.word)||""}_getGoToPreference(Le){var Te;return(Te=this._gotoMultipleBehaviour)!==null&&Te!==void 0?Te:Le.getOption(55).multipleReferences}_getAlternativeCommand(){return""}}G.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:N.o},{name:"position",description:"The position at which to start",constraint:f.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Fe,Le,Te,ge,ve,we,Oe)=>Se(void 0,void 0,void 0,function*(){(0,$.p_)(N.o.isUri(Le)),(0,$.p_)(f.L.isIPosition(Te)),(0,$.p_)(Array.isArray(ge)),(0,$.p_)(typeof ve=="undefined"||typeof ve=="string"),(0,$.p_)(typeof Oe=="undefined"||typeof Oe=="boolean");const He=Fe.get(a.$),mt=yield He.openCodeEditor({resource:Le},He.getFocusedCodeEditor());if((0,O.CL)(mt))return mt.setPosition(Te),mt.revealPositionInCenterIfOutsideViewport(Te,0),mt.invokeWithinContext(bt=>{const kt=new class extends et{_getNoResultFoundMessage(Ut){return we||super._getNoResultFoundMessage(Ut)}}({muteMessage:!Boolean(we),openInPeek:Boolean(Oe),openToSide:!1},ge,ve);bt.get(M.TG).invokeFunction(kt.run.bind(kt),mt)})})}),G.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:N.o},{name:"position",description:"The position at which to start",constraint:f.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Fe,Le,Te,ge,ve)=>Se(void 0,void 0,void 0,function*(){Fe.get(G.H).executeCommand("editor.action.goToLocations",Le,Te,ge,ve,void 0,!0)})}),G.P.registerCommand({id:"editor.action.findReferences",handler:(Fe,Le,Te)=>{(0,$.p_)(N.o.isUri(Le)),(0,$.p_)(f.L.isIPosition(Te));const ge=Fe.get(ye.p),ve=Fe.get(a.$);return ve.openCodeEditor({resource:Le},ve.getFocusedCodeEditor()).then(we=>{if(!(0,O.CL)(we)||!we.hasModel())return;const Oe=C.J.get(we);if(!Oe)return;const He=(0,g.PG)(bt=>(0,pe.aA)(ge.referenceProvider,we.getModel(),f.L.lift(Te),!1,bt).then(kt=>new u.oQ(kt,D.NC("ref.title","References")))),mt=new s.e(Te.lineNumber,Te.column,Te.lineNumber,Te.column);return Promise.resolve(Oe.toggleWidget(mt,He,!1))})}}),G.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},22339:function(vt,be,i){"use strict";i.d(be,{L3:function(){return d},aA:function(){return f},f4:function(){return a},nD:function(){return O},zq:function(){return p}});var c=i(16842),F=i(19713),g=i(50505),A=i(98981),S=i(26340),$=i(23387),N=function(r,m,C,u){function _(b){return b instanceof C?b:new C(function(E){E(b)})}return new(C||(C=Promise))(function(b,E){function D(M){try{I(u.next(M))}catch(K){E(K)}}function w(M){try{I(u.throw(M))}catch(K){E(K)}}function I(M){M.done?b(M.value):_(M.value).then(D,w)}I((u=u.apply(r,m||[])).next())})};function x(r,m,C,u){return N(this,void 0,void 0,function*(){const b=C.ordered(r).map(D=>Promise.resolve(u(D,r,m)).then(void 0,w=>{(0,g.Cp)(w)})),E=yield Promise.all(b);return(0,c.kX)(E.flat())})}function O(r,m,C,u){return x(m,C,r,(_,b,E)=>_.provideDefinition(b,E,u))}function p(r,m,C,u){return x(m,C,r,(_,b,E)=>_.provideDeclaration(b,E,u))}function a(r,m,C,u){return x(m,C,r,(_,b,E)=>_.provideImplementation(b,E,u))}function d(r,m,C,u){return x(m,C,r,(_,b,E)=>_.provideTypeDefinition(b,E,u))}function f(r,m,C,u,_){return x(m,C,r,(b,E,D)=>N(this,void 0,void 0,function*(){const w=yield b.provideReferences(E,D,{includeDeclaration:!0},_);if(!u||!w||w.length!==2)return w;const I=yield b.provideReferences(E,D,{includeDeclaration:!1},_);return I&&I.length===1?I:w}))}function s(r){return N(this,void 0,void 0,function*(){const m=yield r(),C=new $.oQ(m,""),u=C.references.map(_=>_.link);return C.dispose(),u})}(0,A.sb)("_executeDefinitionProvider",(r,m,C)=>{const u=r.get(S.p),_=O(u.definitionProvider,m,C,F.T.None);return s(()=>_)}),(0,A.sb)("_executeTypeDefinitionProvider",(r,m,C)=>{const u=r.get(S.p),_=d(u.typeDefinitionProvider,m,C,F.T.None);return s(()=>_)}),(0,A.sb)("_executeDeclarationProvider",(r,m,C)=>{const u=r.get(S.p),_=p(u.declarationProvider,m,C,F.T.None);return s(()=>_)}),(0,A.sb)("_executeReferenceProvider",(r,m,C)=>{const u=r.get(S.p),_=f(u.referenceProvider,m,C,!1,F.T.None);return s(()=>_)}),(0,A.sb)("_executeImplementationProvider",(r,m,C)=>{const u=r.get(S.p),_=a(u.implementationProvider,m,C,F.T.None);return s(()=>_)})},3038:function(vt,be,i){"use strict";i.d(be,{yN:function(){return O}});var c=i(94162),F=i(52357),g=i(41420);function A(p,a){return!!p[a]}class S{constructor(a,d){this.target=a.target,this.isLeftClick=a.event.leftButton,this.isMiddleClick=a.event.middleButton,this.isRightClick=a.event.rightButton,this.hasTriggerModifier=A(a.event,d.triggerModifier),this.hasSideBySideModifier=A(a.event,d.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}class ${constructor(a,d){this.keyCodeIsTriggerKey=a.keyCode===d.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===d.triggerSideBySideKey,this.hasTriggerModifier=A(a,d.triggerModifier)}}class N{constructor(a,d,f,s){this.triggerKey=a,this.triggerModifier=d,this.triggerSideBySideKey=f,this.triggerSideBySideModifier=s}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}function x(p){return p==="altKey"?g.dz?new N(57,"metaKey",6,"altKey"):new N(5,"ctrlKey",6,"altKey"):g.dz?new N(6,"altKey",57,"metaKey"):new N(6,"altKey",5,"ctrlKey")}class O extends F.JT{constructor(a,d){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new c.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new c.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new c.Q5),this.onCancel=this._onCancel.event,this._editor=a,this._alwaysFireExecuteOnMouseUp=d,this._opts=x(this._editor.getOption(74)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(f=>{if(f.hasChanged(74)){const s=x(this._editor.getOption(74));if(this._opts.equals(s))return;this._opts=s,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(f=>this._onEditorMouseMove(new S(f,this._opts)))),this._register(this._editor.onMouseDown(f=>this._onEditorMouseDown(new S(f,this._opts)))),this._register(this._editor.onMouseUp(f=>this._onEditorMouseUp(new S(f,this._opts)))),this._register(this._editor.onKeyDown(f=>this._onEditorKeyDown(new $(f,this._opts)))),this._register(this._editor.onKeyUp(f=>this._onEditorKeyUp(new $(f,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(f=>this._onDidChangeCursorSelection(f))),this._register(this._editor.onDidChangeModel(f=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(f=>{(f.scrollTopChanged||f.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const d=a.target.position?a.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===d||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},82976:function(vt,be,i){"use strict";i.r(be),i.d(be,{GotoDefinitionAtPositionEditorContribution:function(){return D}});var c=i(39460),F=i(50505),g=i(69549),A=i(52357),S=i(67770),$=i(46978),N=i(98981),x=i(22445),O=i(18426),p=i(58295),a=i(3038),d=i(36481),f=i(15779),s=i(23286),r=i(14185),m=i(22339),C=i(26340),u=i(73740),_=function(w,I,M,K){var z=arguments.length,Q=z<3?I:K===null?K=Object.getOwnPropertyDescriptor(I,M):K,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(w,I,M,K);else for(var H=w.length-1;H>=0;H--)(Y=w[H])&&(Q=(z<3?Y(Q):z>3?Y(I,M,Q):Y(I,M))||Q);return z>3&&Q&&Object.defineProperty(I,M,Q),Q},b=function(w,I){return function(M,K){I(M,K,w)}},E=function(w,I,M,K){function z(Q){return Q instanceof M?Q:new M(function(Y){Y(Q)})}return new(M||(M=Promise))(function(Q,Y){function H(q){try{X(K.next(q))}catch(U){Y(U)}}function P(q){try{X(K.throw(q))}catch(U){Y(U)}}function X(q){q.done?Q(q.value):z(q.value).then(H,P)}X((K=K.apply(w,I||[])).next())})};let D=class el{constructor(I,M,K,z){this.textModelResolverService=M,this.languageService=K,this.languageFeaturesService=z,this.toUnhook=new A.SL,this.toUnhookForKeyboard=new A.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=I,this.linkDecorations=this.editor.createDecorationsCollection();const Q=new a.yN(I);this.toUnhook.add(Q),this.toUnhook.add(Q.onMouseMoveOrRelevantKeyDown(([Y,H])=>{this.startFindDefinitionFromMouse(Y,(0,S.f6)(H))})),this.toUnhook.add(Q.onExecute(Y=>{this.isEnabled(Y)&&this.gotoDefinition(Y.target.position,Y.hasSideBySideModifier).catch(H=>{(0,F.dL)(H)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(Q.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(I){return I.getContribution(el.ID)}startFindDefinitionFromCursor(I){return E(this,void 0,void 0,function*(){yield this.startFindDefinition(I),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(M=>{M&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(I,M){if(I.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(I,M)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const K=I.target.position;this.startFindDefinition(K)}startFindDefinition(I){var M;return E(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const K=I?(M=this.editor.getModel())===null||M===void 0?void 0:M.getWordAtPosition(I):null;if(!K){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===K.startColumn&&this.currentWordAtPosition.endColumn===K.endColumn&&this.currentWordAtPosition.word===K.word)return;this.currentWordAtPosition=K;const z=new $.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,c.PG)(H=>this.findDefinition(I,H));let Q;try{Q=yield this.previousPromise}catch(H){(0,F.dL)(H);return}if(!Q||!Q.length||!z.validate(this.editor)){this.removeLinkDecorations();return}const Y=Q[0].originSelectionRange?x.e.lift(Q[0].originSelectionRange):new x.e(I.lineNumber,K.startColumn,I.lineNumber,K.endColumn);if(Q.length>1){let H=Y;for(const{originSelectionRange:P}of Q)P&&(H=x.e.plusRange(H,P));this.addDecoration(H,new g.W5().appendText(f.NC("multipleResults","Click to show {0} definitions.",Q.length)))}else{const H=Q[0];if(!H.uri)return;this.textModelResolverService.createModelReference(H.uri).then(P=>{if(!P.object||!P.object.textEditorModel){P.dispose();return}const{object:{textEditorModel:X}}=P,{startLineNumber:q}=H.range;if(q<1||q>X.getLineCount()){P.dispose();return}const U=this.getPreviewValue(X,q,H),L=this.languageService.guessLanguageIdByFilepathOrFirstLine(X.uri);this.addDecoration(Y,U?new g.W5().appendCodeblock(L||"",U):void 0),P.dispose()})}})}getPreviewValue(I,M,K){let z=K.range;return z.endLineNumber-z.startLineNumber>=el.MAX_SOURCE_PREVIEW_LINES&&(z=this.getPreviewRangeBasedOnIndentation(I,M)),this.stripIndentationFromPreviewRange(I,M,z)}stripIndentationFromPreviewRange(I,M,K){let Q=I.getLineFirstNonWhitespaceColumn(M);for(let H=M+1;H<K.endLineNumber;H++){const P=I.getLineFirstNonWhitespaceColumn(H);Q=Math.min(Q,P)}return I.getValueInRange(K).replace(new RegExp(`^\\s{${Q-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(I,M){const K=I.getLineFirstNonWhitespaceColumn(M),z=Math.min(I.getLineCount(),M+el.MAX_SOURCE_PREVIEW_LINES);let Q=M+1;for(;Q<z;Q++){const Y=I.getLineFirstNonWhitespaceColumn(Q);if(K===Y)break}return new x.e(M,1,Q+1,1)}addDecoration(I,M){const K={range:I,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:M}};this.linkDecorations.set([K])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(I,M){var K;return this.editor.hasModel()&&I.isLeftClick&&I.isNoneOrSingleMouseDown&&I.target.type===6&&!(((K=I.target.detail.injectedText)===null||K===void 0?void 0:K.options)instanceof u.HS)&&(I.hasTriggerModifier||(M?M.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(I,M){const K=this.editor.getModel();return K?(0,m.nD)(this.languageFeaturesService.definitionProvider,K,I,M):Promise.resolve(null)}gotoDefinition(I,M){return this.editor.setPosition(I),this.editor.invokeWithinContext(K=>{const z=!M&&this.editor.getOption(83)&&!this.isInPeekEditor(K);return new r.DefinitionAction({openToSide:M,openInPeek:z,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(K)})}isInPeekEditor(I){const M=I.get(s.i6);return d.Jy.inPeekEditor.getValue(M)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};D.ID="editor.contrib.gotodefinitionatposition",D.MAX_SOURCE_PREVIEW_LINES=8,D=_([b(1,p.S),b(2,O.O),b(3,C.p)],D),(0,N._K)(D.ID,D,2)},7815:function(vt,be,i){"use strict";i.d(be,{J:function(){return Le}});var c=i(39460),F=i(50505),g=i(42528),A=i(52357),S=i(76356),$=i(43976),N=i(22445),x=i(36481),O=i(15779),p=i(21760),a=i(64464),d=i(23286),f=i(64700),s=i(59477),r=i(14023),m=i(28382),C=i(47955),u=i(23387),_=i(16563),b=i(99035),E=i(87799),D=i(94162),w=i(571),I=i(17349),M=i(49206),K=i(73740),z=i(28170),Q=i(9821),Y=i(18426),H=i(58295),P=i(556),X=i(98290),q=i(1918),U=i(61842),L=i(22437),B=i(4408),j=i(74964),G=function(ge,ve,we,Oe){var He=arguments.length,mt=He<3?ve:Oe===null?Oe=Object.getOwnPropertyDescriptor(ve,we):Oe,bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(ge,ve,we,Oe);else for(var kt=ge.length-1;kt>=0;kt--)(bt=ge[kt])&&(mt=(He<3?bt(mt):He>3?bt(ve,we,mt):bt(ve,we))||mt);return He>3&&mt&&Object.defineProperty(ve,we,mt),mt},y=function(ge,ve){return function(we,Oe){ve(we,Oe,ge)}};let pe=class{constructor(ve){this._resolverService=ve}hasChildren(ve){return ve instanceof u.oQ||ve instanceof u.F2}getChildren(ve){if(ve instanceof u.oQ)return ve.groups;if(ve instanceof u.F2)return ve.resolve(this._resolverService).then(we=>we.children);throw new Error("bad tree")}};pe=G([y(0,H.S)],pe);class ye{getHeight(){return 23}getTemplateId(ve){return ve instanceof u.F2?he.id:se.id}}let me=class{constructor(ve){this._keybindingService=ve}getKeyboardNavigationLabel(ve){var we;if(ve instanceof u.WX){const Oe=(we=ve.parent.getPreview(ve))===null||we===void 0?void 0:we.preview(ve.range);if(Oe)return Oe.value}return(0,I.EZ)(ve.uri)}};me=G([y(0,L.d)],me);class Se{getId(ve){return ve instanceof u.WX?ve.id:ve.uri}}let _e=class extends A.JT{constructor(ve,we){super(),this._labelService=we;const Oe=document.createElement("div");Oe.classList.add("reference-file"),this.file=this._register(new q.g(Oe,{supportHighlights:!0})),this.badge=new P.Z(_.R3(Oe,_.$(".count")),{},j.ku),ve.appendChild(Oe)}set(ve,we){const Oe=(0,I.XX)(ve.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(ve.uri),this._labelService.getUriLabel(Oe,{relative:!0}),{title:this._labelService.getUriLabel(ve.uri),matches:we});const He=ve.children.length;this.badge.setCount(He),He>1?this.badge.setTitleFormat((0,O.NC)("referencesCount","{0} references",He)):this.badge.setTitleFormat((0,O.NC)("referenceCount","{0} reference",He))}};_e=G([y(1,B.e)],_e);let he=class Uc{constructor(ve){this._instantiationService=ve,this.templateId=Uc.id}renderTemplate(ve){return this._instantiationService.createInstance(_e,ve)}renderElement(ve,we,Oe){Oe.set(ve.element,(0,U.mB)(ve.filterData))}disposeTemplate(ve){ve.dispose()}};he.id="FileReferencesRenderer",he=G([y(0,f.TG)],he);class le{constructor(ve){this.label=new X.q(ve)}set(ve,we){var Oe;const He=(Oe=ve.parent.getPreview(ve))===null||Oe===void 0?void 0:Oe.preview(ve.range);if(!He||!He.value)this.label.set(`${(0,I.EZ)(ve.uri)}:${ve.range.startLineNumber+1}:${ve.range.startColumn+1}`);else{const{value:mt,highlight:bt}=He;we&&!U.CL.isDefault(we)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(mt,(0,U.mB)(we))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(mt,[bt]))}}}class se{constructor(){this.templateId=se.id}renderTemplate(ve){return new le(ve)}renderElement(ve,we,Oe){Oe.set(ve.element,ve.filterData)}disposeTemplate(){}}se.id="OneReferenceRenderer";class Re{getWidgetAriaLabel(){return(0,O.NC)("treeAriaLabel","References")}getAriaLabel(ve){return ve.ariaMessage}}var $e=i(901),je=i(15151),Ce=function(ge,ve,we,Oe){var He=arguments.length,mt=He<3?ve:Oe===null?Oe=Object.getOwnPropertyDescriptor(ve,we):Oe,bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(ge,ve,we,Oe);else for(var kt=ge.length-1;kt>=0;kt--)(bt=ge[kt])&&(mt=(He<3?bt(mt):He>3?bt(ve,we,mt):bt(ve,we))||mt);return He>3&&mt&&Object.defineProperty(ve,we,mt),mt},J=function(ge,ve){return function(we,Oe){ve(we,Oe,ge)}},ne=function(ge,ve,we,Oe){function He(mt){return mt instanceof we?mt:new we(function(bt){bt(mt)})}return new(we||(we=Promise))(function(mt,bt){function kt(Dt){try{ut(Oe.next(Dt))}catch(ft){bt(ft)}}function Ut(Dt){try{ut(Oe.throw(Dt))}catch(ft){bt(ft)}}function ut(Dt){Dt.done?mt(Dt.value):He(Dt.value).then(kt,Ut)}ut((Oe=Oe.apply(ge,ve||[])).next())})};class ae{constructor(ve,we){this._editor=ve,this._model=we,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new A.SL,this._callOnModelChange=new A.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const ve=this._editor.getModel();if(ve){for(const we of this._model.references)if(we.uri.toString()===ve.uri.toString()){this._addDecorations(we.parent);return}}}_addDecorations(ve){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const we=[],Oe=[];for(let He=0,mt=ve.children.length;He<mt;He++){const bt=ve.children[He];this._decorationIgnoreSet.has(bt.id)||bt.uri.toString()===this._editor.getModel().uri.toString()&&(we.push({range:bt.range,options:ae.DecorationOptions}),Oe.push(He))}this._editor.changeDecorations(He=>{const mt=He.deltaDecorations([],we);for(let bt=0;bt<mt.length;bt++)this._decorations.set(mt[bt],ve.children[Oe[bt]])})}_onDecorationChanged(){const ve=[],we=this._editor.getModel();if(we){for(const[Oe,He]of this._decorations){const mt=we.getDecorationRange(Oe);if(!mt)continue;let bt=!1;if(!N.e.equalsRange(mt,He.range)){if(N.e.spansMultipleLines(mt))bt=!0;else{const kt=He.range.endColumn-He.range.startColumn,Ut=mt.endColumn-mt.startColumn;kt!==Ut&&(bt=!0)}bt?(this._decorationIgnoreSet.add(He.id),ve.push(Oe)):He.range=mt}}for(let Oe=0,He=ve.length;Oe<He;Oe++)this._decorations.delete(ve[Oe]);this._editor.removeDecorations(ve)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ae.DecorationOptions=K.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class xe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(ve){let we,Oe;try{const He=JSON.parse(ve);we=He.ratio,Oe=He.heightInLines}catch(He){}return{ratio:we||.7,heightInLines:Oe||18}}}class Ke extends r.ls{}let ct=class extends x.vk{constructor(ve,we,Oe,He,mt,bt,kt,Ut,ut,Dt,ft,Ft){super(ve,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},bt),this._defaultTreeKeyboardSupport=we,this.layoutData=Oe,this._textModelResolverService=mt,this._instantiationService=bt,this._peekViewService=kt,this._uriLabel=Ut,this._undoRedoService=ut,this._keybindingService=Dt,this._languageService=ft,this._languageConfigurationService=Ft,this._disposeOnNewModel=new A.SL,this._callOnDispose=new A.SL,this._onDidSelectReference=new D.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new _.Ro(0,0),this._applyTheme(He.getColorTheme()),this._callOnDispose.add(He.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(ve,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,A.B9)(this._preview),(0,A.B9)(this._previewNotAvailableMessage),(0,A.B9)(this._tree),(0,A.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(ve){const we=ve.getColor(x.SC)||E.Il.transparent;this.style({arrowColor:we,frameColor:we,headerBackgroundColor:ve.getColor(x.KY)||E.Il.transparent,primaryHeadingColor:ve.getColor(x.IH),secondaryHeadingColor:ve.getColor(x.R7)})}show(ve){super.show(ve,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(ve){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:ve.ctrlKey||ve.metaKey||ve.altKey?"side":"open",source:"title"})}_fillBody(ve){this.setCssClass("reference-zone-widget"),this._messageContainer=_.R3(ve,_.$("div.messages")),_.Cp(this._messageContainer),this._splitView=new b.z(ve,{orientation:1}),this._previewContainer=_.R3(ve,_.$("div.preview.inline"));const we={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(M.H,this._previewContainer,we,this.editor),_.Cp(this._previewContainer),this._previewNotAvailableMessage=new K.yO(O.NC("missingPreviewMessage","no preview available"),Q.bd,K.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=_.R3(ve,_.$("div.ref-tree.inline"));const Oe={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Re,keyboardNavigationLabelProvider:this._instantiationService.createInstance(me),identityProvider:new Se,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:x.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(_.mu(this._treeContainer,"keydown",mt=>{mt.equals(9)&&(this._keybindingService.dispatchEvent(mt,mt.target),mt.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Ke,"ReferencesWidget",this._treeContainer,new ye,[this._instantiationService.createInstance(he),this._instantiationService.createInstance(se)],this._instantiationService.createInstance(pe),Oe),this._splitView.addView({onDidChange:D.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:mt=>{this._preview.layout({height:this._dim.height,width:mt})}},b.M.Distribute),this._splitView.addView({onDidChange:D.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:mt=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${mt}px`,this._tree.layout(this._dim.height,mt)}},b.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const He=(mt,bt)=>{mt instanceof u.WX&&(bt==="show"&&this._revealReference(mt,!1),this._onDidSelectReference.fire({element:mt,kind:bt,source:"tree"}))};this._tree.onDidOpen(mt=>{mt.sideBySide?He(mt.element,"side"):mt.editorOptions.pinned?He(mt.element,"goto"):He(mt.element,"show")}),_.Cp(this._treeContainer)}_onWidth(ve){this._dim&&this._doLayoutBody(this._dim.height,ve)}_doLayoutBody(ve,we){super._doLayoutBody(ve,we),this._dim=new _.Ro(we,ve),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(we),this._splitView.resizeView(0,we*this.layoutData.ratio)}setSelection(ve){return this._revealReference(ve,!0).then(()=>{this._model&&(this._tree.setSelection([ve]),this._tree.setFocus([ve]))})}setModel(ve){return this._disposeOnNewModel.clear(),this._model=ve,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=O.NC("noResults","No results"),_.$Z(this._messageContainer),Promise.resolve(void 0)):(_.Cp(this._messageContainer),this._decorationsManager=new ae(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(ve=>this._tree.rerender(ve))),this._disposeOnNewModel.add(this._preview.onMouseDown(ve=>{const{event:we,target:Oe}=ve;if(we.detail!==2)return;const He=this._getFocusedReference();He&&this._onDidSelectReference.fire({element:{uri:He.uri,range:Oe.range},kind:we.ctrlKey||we.metaKey||we.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),_.$Z(this._treeContainer),_.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[ve]=this._tree.getFocus();if(ve instanceof u.WX)return ve;if(ve instanceof u.F2&&ve.children.length>0)return ve.children[0]}revealReference(ve){return ne(this,void 0,void 0,function*(){yield this._revealReference(ve,!1),this._onDidSelectReference.fire({element:ve,kind:"goto",source:"tree"})})}_revealReference(ve,we){return ne(this,void 0,void 0,function*(){if(this._revealedReference===ve)return;this._revealedReference=ve,ve.uri.scheme!==w.lg.inMemory?this.setTitle((0,I.Hx)(ve.uri),this._uriLabel.getUriLabel((0,I.XX)(ve.uri))):this.setTitle(O.NC("peekView.alternateTitle","References"));const Oe=this._textModelResolverService.createModelReference(ve.uri);this._tree.getInput()===ve.parent?this._tree.reveal(ve):(we&&this._tree.reveal(ve.parent),yield this._tree.expand(ve.parent),this._tree.reveal(ve));const He=yield Oe;if(!this._model){He.dispose();return}(0,A.B9)(this._previewModelReference);const mt=He.object;if(mt){const bt=this._preview.getModel()===mt.textEditorModel?0:1,kt=N.e.lift(ve.range).collapseToStart();this._previewModelReference=He,this._preview.setModel(mt.textEditorModel),this._preview.setSelection(kt),this._preview.revealRangeInCenter(kt,bt)}else this._preview.setModel(this._previewNotAvailableMessage),He.dispose()})}};ct=Ce([J(3,$e.XE),J(4,H.S),J(5,f.TG),J(6,x.Fw),J(7,B.e),J(8,je.tJ),J(9,L.d),J(10,Y.O),J(11,z.c_)],ct);var ot=function(ge,ve,we,Oe){var He=arguments.length,mt=He<3?ve:Oe===null?Oe=Object.getOwnPropertyDescriptor(ve,we):Oe,bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(ge,ve,we,Oe);else for(var kt=ge.length-1;kt>=0;kt--)(bt=ge[kt])&&(mt=(He<3?bt(mt):He>3?bt(ve,we,mt):bt(ve,we))||mt);return He>3&&mt&&Object.defineProperty(ve,we,mt),mt},dt=function(ge,ve){return function(we,Oe){ve(we,Oe,ge)}},et=function(ge,ve,we,Oe){function He(mt){return mt instanceof we?mt:new we(function(bt){bt(mt)})}return new(we||(we=Promise))(function(mt,bt){function kt(Dt){try{ut(Oe.next(Dt))}catch(ft){bt(ft)}}function Ut(Dt){try{ut(Oe.throw(Dt))}catch(ft){bt(ft)}}function ut(Dt){Dt.done?mt(Dt.value):He(Dt.value).then(kt,Ut)}ut((Oe=Oe.apply(ge,ve||[])).next())})};const Fe=new d.uy("referenceSearchVisible",!1,O.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Le=class wd{static get(ve){return ve.getContribution(wd.ID)}constructor(ve,we,Oe,He,mt,bt,kt,Ut){this._defaultTreeKeyboardSupport=ve,this._editor=we,this._editorService=He,this._notificationService=mt,this._instantiationService=bt,this._storageService=kt,this._configurationService=Ut,this._disposables=new A.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Fe.bindTo(Oe)}dispose(){var ve,we;this._referenceSearchVisible.reset(),this._disposables.dispose(),(ve=this._widget)===null||ve===void 0||ve.dispose(),(we=this._model)===null||we===void 0||we.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(ve,we,Oe){let He;if(this._widget&&(He=this._widget.position),this.closeWidget(),He&&ve.containsPosition(He))return;this._peekMode=Oe,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const mt="peekViewLayout",bt=xe.fromJSON(this._storageService.get(mt,0,"{}"));this._widget=this._instantiationService.createInstance(ct,this._editor,this._defaultTreeKeyboardSupport,bt),this._widget.setTitle(O.NC("labelLoading","Loading...")),this._widget.show(ve),this._disposables.add(this._widget.onDidClose(()=>{we.cancel(),this._widget&&(this._storageService.store(mt,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Ut=>{const{element:ut,kind:Dt}=Ut;if(ut)switch(Dt){case"open":(Ut.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(ut,!1,!1);break;case"side":this.openReference(ut,!0,!1);break;case"goto":Oe?this._gotoReference(ut,!0):this.openReference(ut,!1,!0);break}}));const kt=++this._requestIdPool;we.then(Ut=>{var ut;if(kt!==this._requestIdPool||!this._widget){Ut.dispose();return}return(ut=this._model)===null||ut===void 0||ut.dispose(),this._model=Ut,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(O.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const Dt=this._editor.getModel().uri,ft=new $.L(ve.startLineNumber,ve.startColumn),Ft=this._model.nearestReference(Dt,ft);if(Ft)return this._widget.setSelection(Ft).then(()=>{this._widget&&this._editor.getOption(82)==="editor"&&this._widget.focusOnPreviewEditor()})}})},Ut=>{this._notificationService.error(Ut)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(ve){return et(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const we=this._widget.position;if(!we)return;const Oe=this._model.nearestReference(this._editor.getModel().uri,we);if(!Oe)return;const He=this._model.nextOrPreviousReference(Oe,ve),mt=this._editor.hasTextFocus(),bt=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(He),yield this._gotoReference(He,!1),mt?this._editor.focus():this._widget&&bt&&this._widget.focusOnPreviewEditor()})}revealReference(ve){return et(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(ve))})}closeWidget(ve=!0){var we,Oe;(we=this._widget)===null||we===void 0||we.dispose(),(Oe=this._model)===null||Oe===void 0||Oe.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,ve&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ve,we){var Oe;(Oe=this._widget)===null||Oe===void 0||Oe.hide(),this._ignoreModelChangeEvent=!0;const He=N.e.lift(ve.range).collapseToStart();return this._editorService.openCodeEditor({resource:ve.uri,options:{selection:He,selectionSource:"code.jump",pinned:we}},this._editor).then(mt=>{var bt;if(this._ignoreModelChangeEvent=!1,!mt||!this._widget){this.closeWidget();return}if(this._editor===mt)this._widget.show(He),this._widget.focusOnReferenceTree();else{const kt=wd.get(mt),Ut=this._model.clone();this.closeWidget(),mt.focus(),kt==null||kt.toggleWidget(He,(0,c.PG)(ut=>Promise.resolve(Ut)),(bt=this._peekMode)!==null&&bt!==void 0?bt:!1)}},mt=>{this._ignoreModelChangeEvent=!1,(0,F.dL)(mt)})}openReference(ve,we,Oe){we||this.closeWidget();const{uri:He,range:mt}=ve;this._editorService.openCodeEditor({resource:He,options:{selection:mt,selectionSource:"code.jump",pinned:Oe}},this._editor,we)}};Le.ID="editor.contrib.referencesController",Le=ot([dt(2,d.i6),dt(3,S.$),dt(4,m.lT),dt(5,f.TG),dt(6,C.Uy),dt(7,a.Ui)],Le);function Te(ge,ve){const we=(0,x.rc)(ge);if(!we)return;const Oe=Le.get(we);Oe&&ve(Oe)}s.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,g.gx)(2089,60),when:d.Ao.or(Fe,x.Jy.inPeekEditor),handler(ge){Te(ge,ve=>{ve.changeFocusBetweenPreviewAndReferences()})}}),s.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:d.Ao.or(Fe,x.Jy.inPeekEditor),handler(ge){Te(ge,ve=>{ve.goToNextOrPreviousReference(!0)})}}),s.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:d.Ao.or(Fe,x.Jy.inPeekEditor),handler(ge){Te(ge,ve=>{ve.goToNextOrPreviousReference(!1)})}}),p.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),p.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),p.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),p.P.registerCommand("closeReferenceSearch",ge=>Te(ge,ve=>ve.closeWidget())),s.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:d.Ao.and(x.Jy.inPeekEditor,d.Ao.not("config.editor.stablePeek"))}),s.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:d.Ao.and(Fe,d.Ao.not("config.editor.stablePeek"))}),s.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:d.Ao.and(Fe,r.CQ,r.PS.negate(),r.uJ.negate()),handler(ge){var ve;const Oe=(ve=ge.get(r.Lw).lastFocusedList)===null||ve===void 0?void 0:ve.getFocus();Array.isArray(Oe)&&Oe[0]instanceof u.WX&&Te(ge,He=>He.revealReference(Oe[0]))}}),s.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:d.Ao.and(Fe,r.CQ,r.PS.negate(),r.uJ.negate()),handler(ge){var ve;const Oe=(ve=ge.get(r.Lw).lastFocusedList)===null||ve===void 0?void 0:ve.getFocus();Array.isArray(Oe)&&Oe[0]instanceof u.WX&&Te(ge,He=>He.openReference(Oe[0],!0,!0))}}),p.P.registerCommand("openReference",ge=>{var ve;const Oe=(ve=ge.get(r.Lw).lastFocusedList)===null||ve===void 0?void 0:ve.getFocus();Array.isArray(Oe)&&Oe[0]instanceof u.WX&&Te(ge,He=>He.openReference(Oe[0],!1,!0))})},23387:function(vt,be,i){"use strict";i.d(be,{F2:function(){return f},WX:function(){return a},oQ:function(){return s}});var c=i(50505),F=i(94162),g=i(59089),A=i(52357),S=i(15463),$=i(17349),N=i(30613),x=i(22445),O=i(15779),p=function(r,m,C,u){function _(b){return b instanceof C?b:new C(function(E){E(b)})}return new(C||(C=Promise))(function(b,E){function D(M){try{I(u.next(M))}catch(K){E(K)}}function w(M){try{I(u.throw(M))}catch(K){E(K)}}function I(M){M.done?b(M.value):_(M.value).then(D,w)}I((u=u.apply(r,m||[])).next())})};class a{constructor(m,C,u,_){this.isProviderFirst=m,this.parent=C,this.link=u,this._rangeCallback=_,this.id=g.a.nextId()}get uri(){return this.link.uri}get range(){var m,C;return(C=(m=this._range)!==null&&m!==void 0?m:this.link.targetSelectionRange)!==null&&C!==void 0?C:this.link.range}set range(m){this._range=m,this._rangeCallback(this)}get ariaMessage(){var m;const C=(m=this.parent.getPreview(this))===null||m===void 0?void 0:m.preview(this.range);return C?(0,O.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,$.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,C.value):(0,O.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,$.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class d{constructor(m){this._modelReference=m}dispose(){this._modelReference.dispose()}preview(m,C=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:_,startColumn:b,endLineNumber:E,endColumn:D}=m,w=u.getWordUntilPosition({lineNumber:_,column:b-C}),I=new x.e(_,w.startColumn,_,b),M=new x.e(E,D,E,1073741824),K=u.getValueInRange(I).replace(/^\s+/,""),z=u.getValueInRange(m),Q=u.getValueInRange(M).replace(/\s+$/,"");return{value:K+z+Q,highlight:{start:K.length,end:K.length+z.length}}}}class f{constructor(m,C){this.parent=m,this.uri=C,this.children=[],this._previews=new S.Y9}dispose(){(0,A.B9)(this._previews.values()),this._previews.clear()}getPreview(m){return this._previews.get(m.uri)}get ariaMessage(){const m=this.children.length;return m===1?(0,O.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,$.EZ)(this.uri),this.uri.fsPath):(0,O.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",m,(0,$.EZ)(this.uri),this.uri.fsPath)}resolve(m){return p(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const C of this.children)if(!this._previews.has(C.uri))try{const u=yield m.createModelReference(C.uri);this._previews.set(C.uri,new d(u))}catch(u){(0,c.dL)(u)}return this})}}class s{constructor(m,C){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new F.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=m,this._title=C;const[u]=m;m.sort(s._compareReferences);let _;for(const b of m)if((!_||!$.SF.isEqual(_.uri,b.uri,!0))&&(_=new f(this,b.uri),this.groups.push(_)),_.children.length===0||s._compareReferences(b,_.children[_.children.length-1])!==0){const E=new a(u===b,_,b,D=>this._onDidChangeReferenceRange.fire(D));this.references.push(E),_.children.push(E)}}dispose(){(0,A.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new s(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,O.NC)("aria.result.0","No results found"):this.references.length===1?(0,O.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,O.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,O.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(m,C){const{parent:u}=m;let _=u.children.indexOf(m);const b=u.children.length,E=u.parent.groups.length;return E===1||C&&_+1<b||!C&&_>0?(C?_=(_+1)%b:_=(_+b-1)%b,u.children[_]):(_=u.parent.groups.indexOf(u),C?(_=(_+1)%E,u.parent.groups[_].children[0]):(_=(_+E-1)%E,u.parent.groups[_].children[u.parent.groups[_].children.length-1]))}nearestReference(m,C){const u=this.references.map((_,b)=>({idx:b,prefixLen:N.Mh(_.uri.toString(),m.toString()),offsetDist:Math.abs(_.range.startLineNumber-C.lineNumber)*100+Math.abs(_.range.startColumn-C.column)})).sort((_,b)=>_.prefixLen>b.prefixLen?-1:_.prefixLen<b.prefixLen?1:_.offsetDist<b.offsetDist?-1:_.offsetDist>b.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(m,C){for(const u of this.references)if(u.uri.toString()===m.toString()&&x.e.containsPosition(u.range,C))return u}firstReference(){for(const m of this.references)if(m.isProviderFirst)return m;return this.references[0]}static _compareReferences(m,C){return $.SF.compare(m.uri,C.uri)||x.e.compareRangesUsingStarts(m.range,C.range)}}},74643:function(vt,be,i){"use strict";i.d(be,{R8:function(){return O}});var c=i(39460),F=i(19713),g=i(50505),A=i(98981),S=i(26340),$=function(d,f,s,r){function m(C){return C instanceof s?C:new s(function(u){u(C)})}return new(s||(s=Promise))(function(C,u){function _(D){try{E(r.next(D))}catch(w){u(w)}}function b(D){try{E(r.throw(D))}catch(w){u(w)}}function E(D){D.done?C(D.value):m(D.value).then(_,b)}E((r=r.apply(d,f||[])).next())})};class N{constructor(f,s,r){this.provider=f,this.hover=s,this.ordinal=r}}function x(d,f,s,r,m){return $(this,void 0,void 0,function*(){try{const C=yield Promise.resolve(d.provideHover(s,r,m));if(C&&a(C))return new N(d,C,f)}catch(C){(0,g.Cp)(C)}})}function O(d,f,s,r){const C=d.ordered(f).map((u,_)=>x(u,_,f,s,r));return c.Aq.fromPromises(C).coalesce()}function p(d,f,s,r){return O(d,f,s,r).map(m=>m.hover).toPromise()}(0,A.sb)("_executeHoverProvider",(d,f,s)=>{const r=d.get(S.p);return p(r.hoverProvider,f,s,F.T.None)});function a(d){const f=typeof d.range!="undefined",s=typeof d.contents!="undefined"&&d.contents&&d.contents.length>0;return f&&s}},5214:function(vt,be,i){"use strict";i.r(be),i.d(be,{ModesHoverController:function(){return mt}});var c=i(42528),F=i(52357),g=i(98981),A=i(22445),S=i(73805),$=i(18426),N=i(82976),x=i(16563),O=i(87415),p=i(66690);const a=x.$;class d extends F.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new p.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class f extends F.JT{static render(ut,Dt,ft){return new f(ut,Dt,ft)}constructor(ut,Dt,ft){super(),this.actionContainer=x.R3(ut,a("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=x.R3(this.actionContainer,a("a.action")),this.action.setAttribute("role","button"),Dt.iconClass&&x.R3(this.action,a(`span.icon.${Dt.iconClass}`));const Ft=x.R3(this.action,a("span"));Ft.textContent=ft?`${Dt.label} (${ft})`:Dt.label,this._register(x.nm(this.actionContainer,x.tw.CLICK,Et=>{Et.stopPropagation(),Et.preventDefault(),Dt.run(this.actionContainer)})),this._register(x.nm(this.actionContainer,x.tw.KEY_DOWN,Et=>{const Ze=new O.y(Et);(Ze.equals(3)||Ze.equals(10))&&(Et.stopPropagation(),Et.preventDefault(),Dt.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(ut){ut?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var s=i(16842),r=i(43976),m=i(73740),C=i(33686),u=i(39460),_=i(50505),b=i(94162),E=function(Ut,ut,Dt,ft){function Ft(Et){return Et instanceof Dt?Et:new Dt(function(Ze){Ze(Et)})}return new(Dt||(Dt=Promise))(function(Et,Ze){function St(_t){try{Ct(ft.next(_t))}catch(Kt){Ze(Kt)}}function jt(_t){try{Ct(ft.throw(_t))}catch(Kt){Ze(Kt)}}function Ct(_t){_t.done?Et(_t.value):Ft(_t.value).then(St,jt)}Ct((ft=ft.apply(Ut,ut||[])).next())})},D=function(Ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut=Ut[Symbol.asyncIterator],Dt;return ut?ut.call(Ut):(Ut=typeof __values=="function"?__values(Ut):Ut[Symbol.iterator](),Dt={},ft("next"),ft("throw"),ft("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt);function ft(Et){Dt[Et]=Ut[Et]&&function(Ze){return new Promise(function(St,jt){Ze=Ut[Et](Ze),Ft(St,jt,Ze.done,Ze.value)})}}function Ft(Et,Ze,St,jt){Promise.resolve(jt).then(function(Ct){Et({value:Ct,done:St})},Ze)}};class w{constructor(ut,Dt,ft){this.value=ut,this.isComplete=Dt,this.hasLoadingMessage=ft}}class I extends F.JT{constructor(ut,Dt){super(),this._editor=ut,this._computer=Dt,this._onResult=this._register(new b.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new u.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new u.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new u.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(57).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(ut,Dt=!0){this._state=ut,Dt&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,u.zS)(ut=>this._computer.computeAsync(ut)),E(this,void 0,void 0,function*(){var ut,Dt,ft,Ft;try{try{for(var Et=!0,Ze=D(this._asyncIterable),St;St=yield Ze.next(),ut=St.done,!ut;){Ft=St.value,Et=!1;try{const jt=Ft;jt&&(this._result.push(jt),this._fireResult())}finally{Et=!0}}}catch(jt){Dt={error:jt}}finally{try{!Et&&!ut&&(ft=Ze.return)&&(yield ft.call(Ze))}finally{if(Dt)throw Dt.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(jt){(0,_.dL)(jt)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const ut=this._state===0,Dt=this._state===4;this._onResult.fire(new w(this._result.slice(0),ut,Dt))}start(ut){if(ut===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var M=i(45820),K=i(23286),z=i(64700),Q=i(22437),Y=i(88399),H=function(Ut,ut,Dt,ft){var Ft=arguments.length,Et=Ft<3?ut:ft===null?ft=Object.getOwnPropertyDescriptor(ut,Dt):ft,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Et=Reflect.decorate(Ut,ut,Dt,ft);else for(var St=Ut.length-1;St>=0;St--)(Ze=Ut[St])&&(Et=(Ft<3?Ze(Et):Ft>3?Ze(ut,Dt,Et):Ze(ut,Dt))||Et);return Ft>3&&Et&&Object.defineProperty(ut,Dt,Et),Et},P=function(Ut,ut){return function(Dt,ft){ut(Dt,ft,Ut)}};const X=x.$;let q=class Ld extends F.JT{constructor(ut,Dt,ft){super(),this._editor=ut,this._instantiationService=Dt,this._keybindingService=ft,this._widget=this._register(this._instantiationService.createInstance(j,this._editor)),this._currentResult=null,this._participants=[];for(const Ft of M.Ae.getAll())this._participants.push(this._instantiationService.createInstance(Ft,this._editor));this._participants.sort((Ft,Et)=>Ft.hoverOrdinal-Et.hoverOrdinal),this._computer=new y(this._editor,this._participants),this._hoverOperation=this._register(new I(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Ft=>{if(!this._computer.anchor)return;const Et=Ft.hasLoadingMessage?this._addLoadingMessage(Ft.value):Ft.value;this._withResult(new U(this._computer.anchor,Et,Ft.isComplete))})),this._register(x.mu(this._widget.getDomNode(),"keydown",Ft=>{Ft.equals(9)&&this.hide()})),this._register(C.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&(this._widget.clear(),this._setCurrentResult(this._currentResult))}))}maybeShowAt(ut){const Dt=[];for(const Ft of this._participants)if(Ft.suggestHoverAnchor){const Et=Ft.suggestHoverAnchor(ut);Et&&Dt.push(Et)}const ft=ut.target;if(ft.type===6&&Dt.push(new M.Qj(0,ft.range,ut.event.posx,ut.event.posy)),ft.type===7){const Ft=this._editor.getOption(47).typicalHalfwidthCharacterWidth/2;!ft.detail.isAfterLines&&typeof ft.detail.horizontalDistanceToText=="number"&&ft.detail.horizontalDistanceToText<Ft&&Dt.push(new M.Qj(0,ft.range,ut.event.posx,ut.event.posy))}return Dt.length===0?this._startShowingOrUpdateHover(null,0,0,!1,ut):(Dt.sort((Ft,Et)=>Et.priority-Ft.priority),this._startShowingOrUpdateHover(Dt[0],0,0,!1,ut))}startShowingAtRange(ut,Dt,ft,Ft){this._startShowingOrUpdateHover(new M.Qj(0,ut,void 0,void 0),Dt,ft,Ft,null)}_startShowingOrUpdateHover(ut,Dt,ft,Ft,Et){return!this._widget.position||!this._currentResult?ut?(this._startHoverOperationIfNecessary(ut,Dt,ft,Ft,!1),!0):!1:this._editor.getOption(57).sticky&&Et&&this._widget.isMouseGettingCloser(Et.event.posx,Et.event.posy)?(ut&&this._startHoverOperationIfNecessary(ut,Dt,ft,Ft,!0),!0):ut?ut&&this._currentResult.anchor.equals(ut)?!0:ut.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(ut)),this._startHoverOperationIfNecessary(ut,Dt,ft,Ft,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(ut,Dt,ft,Ft,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(ut,Dt,ft,Ft,Et){this._computer.anchor&&this._computer.anchor.equals(ut)||(this._hoverOperation.cancel(),this._computer.anchor=ut,this._computer.shouldFocus=Ft,this._computer.source=ft,this._computer.insistOnKeepingHoverVisible=Et,this._hoverOperation.start(Dt))}_setCurrentResult(ut){this._currentResult!==ut&&(ut&&ut.messages.length===0&&(ut=null),this._currentResult=ut,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}containsNode(ut){return this._widget.getDomNode().contains(ut)}_addLoadingMessage(ut){if(this._computer.anchor){for(const Dt of this._participants)if(Dt.createLoadingMessage){const ft=Dt.createLoadingMessage(this._computer.anchor);if(ft)return ut.slice(0).concat([ft])}}return ut}_withResult(ut){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!ut.isComplete||this._computer.insistOnKeepingHoverVisible&&ut.messages.length===0)||this._setCurrentResult(ut)}_renderMessages(ut,Dt){const{showAtPosition:ft,showAtSecondaryPosition:Ft,highlightRange:Et}=Ld.computeHoverRanges(this._editor,ut.range,Dt),Ze=new F.SL,St=Ze.add(new G(this._keybindingService)),jt=document.createDocumentFragment();let Ct=null;const _t={fragment:jt,statusBar:St,setColorPicker:Zt=>Ct=Zt,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const Zt of this._participants){const li=Dt.filter(ri=>ri.owner===Zt);li.length>0&&Ze.add(Zt.renderHoverParts(_t,li))}const Kt=Dt.some(Zt=>Zt.isBeforeContent);if(St.hasContent&&jt.appendChild(St.hoverElement),jt.hasChildNodes()){if(Et){const Zt=this._editor.createDecorationsCollection();Zt.set([{range:Et,options:Ld._DECORATION_OPTIONS}]),Ze.add((0,F.OF)(()=>{Zt.clear()}))}this._widget.showAt(jt,new B(Ct,ft,Ft,this._editor.getOption(57).above,this._computer.shouldFocus,this._computer.source,Kt,ut.initialMousePosX,ut.initialMousePosY,Ze))}else Ze.dispose()}static computeHoverRanges(ut,Dt,ft){let Ft=1;if(ut.hasModel()){const Ct=ut._getViewModel(),_t=Ct.coordinatesConverter,Kt=_t.convertModelRangeToViewRange(Dt),Zt=new r.L(Kt.startLineNumber,Ct.getLineMinColumn(Kt.startLineNumber));Ft=_t.convertViewPositionToModelPosition(Zt).column}const Et=Dt.startLineNumber;let Ze=Dt.startColumn,St=ft[0].range,jt=null;for(const Ct of ft)St=A.e.plusRange(St,Ct.range),Ct.range.startLineNumber===Et&&Ct.range.endLineNumber===Et&&(Ze=Math.max(Math.min(Ze,Ct.range.startColumn),Ft)),Ct.forceShowAtRange&&(jt=Ct.range);return{showAtPosition:jt?jt.getStartPosition():new r.L(Et,Dt.startColumn),showAtSecondaryPosition:jt?jt.getStartPosition():new r.L(Et,Ze),highlightRange:St}}};q._DECORATION_OPTIONS=m.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),q=H([P(1,z.TG),P(2,Q.d)],q);class U{constructor(ut,Dt,ft){this.anchor=ut,this.messages=Dt,this.isComplete=ft}filter(ut){const Dt=this.messages.filter(ft=>ft.isValidForHoverAnchor(ut));return Dt.length===this.messages.length?this:new L(this,this.anchor,Dt,this.isComplete)}}class L extends U{constructor(ut,Dt,ft,Ft){super(Dt,ft,Ft),this.original=ut}filter(ut){return this.original.filter(ut)}}class B{constructor(ut,Dt,ft,Ft,Et,Ze,St,jt,Ct,_t){this.colorPicker=ut,this.showAtPosition=Dt,this.showAtSecondaryPosition=ft,this.preferAbove=Ft,this.stoleFocus=Et,this.source=Ze,this.isBeforeContent=St,this.initialMousePosX=jt,this.initialMousePosY=Ct,this.disposables=_t,this.closestMouseDistance=void 0}}let j=class zc extends F.JT{get position(){var ut,Dt;return(Dt=(ut=this._visibleData)===null||ut===void 0?void 0:ut.showAtPosition)!==null&&Dt!==void 0?Dt:null}get isColorPickerVisible(){var ut;return Boolean((ut=this._visibleData)===null||ut===void 0?void 0:ut.colorPicker)}get isVisibleFromKeyboard(){var ut;return((ut=this._visibleData)===null||ut===void 0?void 0:ut.source)===1}constructor(ut,Dt){super(),this._editor=ut,this._contextKeyService=Dt,this.allowEditorOverflow=!0,this._hoverVisibleKey=S.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new d),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(ft=>{ft.hasChanged(47)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return zc.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let ut=this._visibleData.preferAbove;!ut&&this._contextKeyService.getContextKeyValue(Y._y.Visible.key)&&(ut=!0);const Dt=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:ut?[1,2]:[2,1],positionAffinity:Dt}}isMouseGettingCloser(ut,Dt){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=ut,this._visibleData.initialMousePosY=Dt,!1;const ft=x.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=pe(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,ft.left,ft.top,ft.width,ft.height));const Ft=pe(ut,Dt,ft.left,ft.top,ft.width,ft.height);return Ft>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,Ft),!0)}_setVisibleData(ut){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=ut,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const ut=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:Dt,lineHeight:ft}=this._editor.getOption(47);this._hover.contentsDomNode.style.fontSize=`${Dt}px`,this._hover.contentsDomNode.style.lineHeight=`${ft/Dt}`,this._hover.contentsDomNode.style.maxHeight=`${ut}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Dt=>this._editor.applyFontInfo(Dt))}showAt(ut,Dt){var ft;this._setVisibleData(Dt),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ut),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),Dt.stoleFocus&&this._hover.containerDomNode.focus(),(ft=Dt.colorPicker)===null||ft===void 0||ft.layout()}hide(){if(this._visibleData){const ut=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),ut&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const ut=this._hover.scrollbar.getScrollDimensions();if(ut.scrollWidth>ut.width){const ft=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==ft&&(this._hover.contentsDomNode.style.paddingBottom=ft,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};j.ID="editor.contrib.contentHoverWidget",j=H([P(1,K.i6)],j);let G=class extends F.JT{get hasContent(){return this._hasContent}constructor(ut){super(),this._keybindingService=ut,this._hasContent=!1,this.hoverElement=X("div.hover-row.status-bar"),this.actionsElement=x.R3(this.hoverElement,X("div.actions"))}addAction(ut){const Dt=this._keybindingService.lookupKeybinding(ut.commandId),ft=Dt?Dt.getLabel():null;return this._hasContent=!0,this._register(f.render(this.actionsElement,ut,ft))}append(ut){const Dt=x.R3(this.actionsElement,ut);return this._hasContent=!0,Dt}};G=H([P(0,Q.d)],G);class y{get anchor(){return this._anchor}set anchor(ut){this._anchor=ut}get shouldFocus(){return this._shouldFocus}set shouldFocus(ut){this._shouldFocus=ut}get source(){return this._source}set source(ut){this._source=ut}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(ut){this._insistOnKeepingHoverVisible=ut}constructor(ut,Dt){this._editor=ut,this._participants=Dt,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(ut,Dt){if(Dt.type!==1&&!Dt.supportsMarkerHover)return[];const ft=ut.getModel(),Ft=Dt.range.startLineNumber;if(Ft>ft.getLineCount())return[];const Et=ft.getLineMaxColumn(Ft);return ut.getLineDecorations(Ft).filter(Ze=>{if(Ze.options.isWholeLine)return!0;const St=Ze.range.startLineNumber===Ft?Ze.range.startColumn:1,jt=Ze.range.endLineNumber===Ft?Ze.range.endColumn:Et;if(Ze.options.showIfCollapsed){if(St>Dt.range.startColumn+1||Dt.range.endColumn-1>jt)return!1}else if(St>Dt.range.startColumn||Dt.range.endColumn>jt)return!1;return!0})}computeAsync(ut){const Dt=this._anchor;if(!this._editor.hasModel()||!Dt)return u.Aq.EMPTY;const ft=y._getLineDecorations(this._editor,Dt);return u.Aq.merge(this._participants.map(Ft=>Ft.computeAsync?Ft.computeAsync(Dt,ft,ut):u.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const ut=y._getLineDecorations(this._editor,this._anchor);let Dt=[];for(const ft of this._participants)Dt=Dt.concat(ft.computeSync(this._anchor,ut));return(0,s.kX)(Dt)}}function pe(Ut,ut,Dt,ft,Ft,Et){const Ze=Dt+Ft/2,St=ft+Et/2,jt=Math.max(Math.abs(Ut-Ze)-Ft/2,0),Ct=Math.max(Math.abs(ut-St)-Et/2,0);return Math.sqrt(jt*jt+Ct*Ct)}var ye=i(69549),me=i(32684);const Se=x.$;class _e extends F.JT{constructor(ut,Dt,ft){super(),this._renderDisposeables=this._register(new F.SL),this._editor=ut,this._isVisible=!1,this._messages=[],this._hover=this._register(new d),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new me.$({editor:this._editor},Dt,ft)),this._computer=new he(this._editor),this._hoverOperation=this._register(new I(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Ft=>{this._withResult(Ft.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(Ft=>{Ft.hasChanged(47)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return _e.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Dt=>this._editor.applyFontInfo(Dt))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(ut){this._computer.lineNumber!==ut&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=ut,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(ut){this._messages=ut,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(ut,Dt){this._renderDisposeables.clear();const ft=document.createDocumentFragment();for(const Ft of Dt){const Et=Se("div.hover-row.markdown-hover"),Ze=x.R3(Et,Se("div.hover-contents")),St=this._renderDisposeables.add(this._markdownRenderer.render(Ft.value));Ze.appendChild(St.element),ft.appendChild(Et)}this._updateContents(ft),this._showAt(ut)}_updateContents(ut){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ut),this._updateFont()}_showAt(ut){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const Dt=this._editor.getLayoutInfo(),ft=this._editor.getTopForLineNumber(ut),Ft=this._editor.getScrollTop(),Et=this._editor.getOption(63),Ze=this._hover.containerDomNode.clientHeight,St=ft-Ft-(Ze-Et)/2;this._hover.containerDomNode.style.left=`${Dt.glyphMarginLeft+Dt.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(St),0)}px`}}_e.ID="editor.contrib.modesGlyphHoverWidget";class he{get lineNumber(){return this._lineNumber}set lineNumber(ut){this._lineNumber=ut}constructor(ut){this._editor=ut,this._lineNumber=-1}computeSync(){const ut=Ft=>({value:Ft}),Dt=this._editor.getLineDecorations(this._lineNumber),ft=[];if(!Dt)return ft;for(const Ft of Dt){if(!Ft.options.glyphMarginClassName)continue;const Et=Ft.options.glyphMarginHoverMessage;!Et||(0,ye.CP)(Et)||ft.push(...(0,s._2)(Et).map(ut))}return ft}}var le=i(15779),se=i(20009),Re=i(78382),$e=i(901),je=i(26924),Ce=i(17349),J=i(91680),ne=i(90255),ae=i(90609),xe=i(87545),Ke=i(34561),ct=i(85901),ot=i(26348),dt=i(26340),et=function(Ut,ut,Dt,ft){var Ft=arguments.length,Et=Ft<3?ut:ft===null?ft=Object.getOwnPropertyDescriptor(ut,Dt):ft,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Et=Reflect.decorate(Ut,ut,Dt,ft);else for(var St=Ut.length-1;St>=0;St--)(Ze=Ut[St])&&(Et=(Ft<3?Ze(Et):Ft>3?Ze(ut,Dt,Et):Ze(ut,Dt))||Et);return Ft>3&&Et&&Object.defineProperty(ut,Dt,Et),Et},Fe=function(Ut,ut){return function(Dt,ft){ut(Dt,ft,Ut)}};const Le=x.$;class Te{constructor(ut,Dt,ft){this.owner=ut,this.range=Dt,this.marker=ft}isValidForHoverAnchor(ut){return ut.type===1&&this.range.startColumn<=ut.range.startColumn&&this.range.endColumn>=ut.range.endColumn}}const ge={type:1,filter:{include:xe.yN.QuickFix},triggerAction:xe.aQ.QuickFixHover};let ve=class{constructor(ut,Dt,ft,Ft){this._editor=ut,this._markerDecorationsService=Dt,this._openerService=ft,this._languageFeaturesService=Ft,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(ut,Dt){if(!this._editor.hasModel()||ut.type!==1&&!ut.supportsMarkerHover)return[];const ft=this._editor.getModel(),Ft=ut.range.startLineNumber,Et=ft.getLineMaxColumn(Ft),Ze=[];for(const St of Dt){const jt=St.range.startLineNumber===Ft?St.range.startColumn:1,Ct=St.range.endLineNumber===Ft?St.range.endColumn:Et,_t=this._markerDecorationsService.getMarker(ft.uri,St);if(!_t)continue;const Kt=new A.e(ut.range.startLineNumber,jt,ut.range.startLineNumber,Ct);Ze.push(new Te(this,Kt,_t))}return Ze}renderHoverParts(ut,Dt){if(!Dt.length)return F.JT.None;const ft=new F.SL;Dt.forEach(Et=>ut.fragment.appendChild(this.renderMarkerHover(Et,ft)));const Ft=Dt.length===1?Dt[0]:Dt.sort((Et,Ze)=>ct.ZL.compare(Et.marker.severity,Ze.marker.severity))[0];return this.renderMarkerStatusbar(ut,Ft,ft),ft}renderMarkerHover(ut,Dt){const ft=Le("div.hover-row"),Ft=x.R3(ft,Le("div.marker.hover-contents")),{source:Et,message:Ze,code:St,relatedInformation:jt}=ut.marker;this._editor.applyFontInfo(Ft);const Ct=x.R3(Ft,Le("span"));if(Ct.style.whiteSpace="pre-wrap",Ct.innerText=Ze,Et||St)if(St&&typeof St!="string"){const _t=Le("span");if(Et){const ri=x.R3(_t,Le("span"));ri.innerText=Et}const Kt=x.R3(_t,Le("a.code-link"));Kt.setAttribute("href",St.target.toString()),Dt.add(x.nm(Kt,"click",ri=>{this._openerService.open(St.target,{allowCommands:!0}),ri.preventDefault(),ri.stopPropagation()}));const Zt=x.R3(Kt,Le("span"));Zt.innerText=St.value;const li=x.R3(Ft,_t);li.style.opacity="0.6",li.style.paddingLeft="6px"}else{const _t=x.R3(Ft,Le("span"));_t.style.opacity="0.6",_t.style.paddingLeft="6px",_t.innerText=Et&&St?`${Et}(${St})`:Et||`(${St})`}if((0,s.Of)(jt))for(const{message:_t,resource:Kt,startLineNumber:Zt,startColumn:li}of jt){const ri=x.R3(Ft,Le("div"));ri.style.marginTop="8px";const Ui=x.R3(ri,Le("a"));Ui.innerText=`${(0,Ce.EZ)(Kt)}(${Zt}, ${li}): `,Ui.style.cursor="pointer",Dt.add(x.nm(Ui,"click",Qi=>{Qi.stopPropagation(),Qi.preventDefault(),this._openerService&&this._openerService.open(Kt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Zt,startColumn:li}}}).catch(_.dL)}));const on=x.R3(ri,Le("span"));on.innerText=_t,this._editor.applyFontInfo(on)}return ft}renderMarkerStatusbar(ut,Dt,ft){if((Dt.marker.severity===ct.ZL.Error||Dt.marker.severity===ct.ZL.Warning||Dt.marker.severity===ct.ZL.Info)&&ut.statusBar.addAction({label:le.NC("view problem","View Problem"),commandId:Ke.NextMarkerAction.ID,run:()=>{var Ft;ut.hide(),(Ft=Ke.MarkerController.get(this._editor))===null||Ft===void 0||Ft.showAtMarker(Dt.marker),this._editor.focus()}}),!this._editor.getOption(86)){const Ft=ut.statusBar.append(Le("div"));this.recentMarkerCodeActionsInfo&&(ct.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ct.H0.makeKey(Dt.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Ft.textContent=le.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const Et=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?F.JT.None:ft.add((0,u.Vg)(()=>Ft.textContent=le.NC("checkingForQuickFixes","Checking for quick fixes..."),200));Ft.textContent||(Ft.textContent=String.fromCharCode(160));const Ze=this.getCodeActions(Dt.marker);ft.add((0,F.OF)(()=>Ze.cancel())),Ze.then(St=>{if(Et.dispose(),this.recentMarkerCodeActionsInfo={marker:Dt.marker,hasCodeActions:St.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){St.dispose(),Ft.textContent=le.NC("noQuickFixes","No quick fixes available");return}Ft.style.display="none";let jt=!1;ft.add((0,F.OF)(()=>{jt||St.dispose()})),ut.statusBar.addAction({label:le.NC("quick fixes","Quick Fix..."),commandId:ae.E7.Id,run:Ct=>{jt=!0;const _t=ae.G6.get(this._editor),Kt=x.i(Ct);ut.hide(),_t==null||_t.showCodeActions(ge,St,{x:Kt.left+6,y:Kt.top+Kt.height+6,width:Kt.width,height:Kt.height})}})},_.dL)}}getCodeActions(ut){return(0,u.PG)(Dt=>(0,ne.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new A.e(ut.startLineNumber,ut.startColumn,ut.endLineNumber,ut.endColumn),ge,ot.Ex.None,Dt))}};ve=et([Fe(1,J.i),Fe(2,se.v4),Fe(3,dt.p)],ve);var we=i(97476),Oe=function(Ut,ut,Dt,ft){var Ft=arguments.length,Et=Ft<3?ut:ft===null?ft=Object.getOwnPropertyDescriptor(ut,Dt):ft,Ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Et=Reflect.decorate(Ut,ut,Dt,ft);else for(var St=Ut.length-1;St>=0;St--)(Ze=Ut[St])&&(Et=(Ft<3?Ze(Et):Ft>3?Ze(ut,Dt,Et):Ze(ut,Dt))||Et);return Ft>3&&Et&&Object.defineProperty(ut,Dt,Et),Et},He=function(Ut,ut){return function(Dt,ft){ut(Dt,ft,Ut)}};let mt=class jc{static get(ut){return ut.getContribution(jc.ID)}constructor(ut,Dt,ft,Ft,Et){this._editor=ut,this._instantiationService=Dt,this._openerService=ft,this._languageService=Ft,this._toUnhook=new F.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Ze=>{Ze.hasChanged(57)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const ut=()=>this._hideWidgets(),Dt=this._editor.getOption(57);this._isHoverEnabled=Dt.enabled,this._isHoverSticky=Dt.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(ft=>this._onEditorMouseDown(ft))),this._toUnhook.add(this._editor.onMouseUp(ft=>this._onEditorMouseUp(ft))),this._toUnhook.add(this._editor.onMouseMove(ft=>this._onEditorMouseMove(ft))),this._toUnhook.add(this._editor.onKeyDown(ft=>this._onKeyDown(ft)))):(this._toUnhook.add(this._editor.onMouseMove(ft=>this._onEditorMouseMove(ft))),this._toUnhook.add(this._editor.onKeyDown(ft=>this._onKeyDown(ft)))),this._toUnhook.add(this._editor.onMouseLeave(ft=>this._onEditorMouseLeave(ft))),this._toUnhook.add(this._editor.onDidChangeModel(ut)),this._toUnhook.add(this._editor.onDidScrollChange(ft=>this._onEditorScrollChanged(ft)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(ut){(ut.scrollTopChanged||ut.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(ut){this._isMouseDown=!0;const Dt=ut.target;if(Dt.type===9&&Dt.detail===j.ID){this._hoverClicked=!0;return}Dt.type===12&&Dt.detail===_e.ID||(Dt.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(ut){this._isMouseDown=!1}_onEditorMouseLeave(ut){var Dt;const ft=ut.event.browserEvent.relatedTarget;!((Dt=this._contentWidget)===null||Dt===void 0)&&Dt.containsNode(ft)||this._hideWidgets()}_onEditorMouseMove(ut){var Dt,ft,Ft,Et,Ze,St;const jt=ut.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&jt.type===9&&jt.detail===j.ID||this._isHoverSticky&&!(!((ft=(Dt=ut.event.browserEvent.view)===null||Dt===void 0?void 0:Dt.getSelection())===null||ft===void 0)&&ft.isCollapsed)||!this._isHoverSticky&&jt.type===9&&jt.detail===j.ID&&(!((Ft=this._contentWidget)===null||Ft===void 0)&&Ft.isColorPickerVisible())||this._isHoverSticky&&jt.type===12&&jt.detail===_e.ID||this._isHoverSticky&&(!((Et=this._contentWidget)===null||Et===void 0)&&Et.isVisibleFromKeyboard()))return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(ut)){(Ze=this._glyphWidget)===null||Ze===void 0||Ze.hide();return}if(jt.type===2&&jt.position){(St=this._contentWidget)===null||St===void 0||St.hide(),this._glyphWidget||(this._glyphWidget=new _e(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(jt.position.lineNumber);return}this._hideWidgets()}_onKeyDown(ut){ut.keyCode!==5&&ut.keyCode!==6&&ut.keyCode!==57&&ut.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var ut,Dt,ft;this._isMouseDown&&this._hoverClicked&&(!((ut=this._contentWidget)===null||ut===void 0)&&ut.isColorPickerVisible())||we.Q.dropDownVisible||(this._hoverClicked=!1,(Dt=this._glyphWidget)===null||Dt===void 0||Dt.hide(),(ft=this._contentWidget)===null||ft===void 0||ft.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(q,this._editor)),this._contentWidget}isColorPickerVisible(){var ut;return((ut=this._contentWidget)===null||ut===void 0?void 0:ut.isColorPickerVisible())||!1}showContentHover(ut,Dt,ft,Ft){this._getOrCreateContentWidget().startShowingAtRange(ut,Dt,ft,Ft)}dispose(){var ut,Dt;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(ut=this._glyphWidget)===null||ut===void 0||ut.dispose(),(Dt=this._contentWidget)===null||Dt===void 0||Dt.dispose()}};mt.ID="editor.contrib.hover",mt=Oe([He(1,z.TG),He(2,se.v4),He(3,$.O),He(4,K.i6)],mt);class bt extends g.R6{constructor(){super({id:"editor.action.showHover",label:le.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,c.gx)(2089,2087),weight:100}})}run(ut,Dt){if(!Dt.hasModel())return;const ft=mt.get(Dt);if(!ft)return;const Ft=Dt.getPosition(),Et=new A.e(Ft.lineNumber,Ft.column,Ft.lineNumber,Ft.column),Ze=Dt.getOption(2)===2;ft.showContentHover(Et,1,1,Ze)}}class kt extends g.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:le.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(ut,Dt){const ft=mt.get(Dt);if(!ft)return;const Ft=Dt.getPosition();if(!Ft)return;const Et=new A.e(Ft.lineNumber,Ft.column,Ft.lineNumber,Ft.column),Ze=N.GotoDefinitionAtPositionEditorContribution.get(Dt);if(!Ze)return;Ze.startFindDefinitionFromCursor(Ft).then(()=>{ft.showContentHover(Et,1,1,!0)})}}(0,g._K)(mt.ID,mt,2),(0,g.Qr)(bt),(0,g.Qr)(kt),M.Ae.register(je.D5),M.Ae.register(ve),(0,$e.Ic)((Ut,ut)=>{const Dt=Ut.getColor(Re.CNo);Dt&&(ut.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Dt.transparent(.5)}; }`),ut.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${Dt.transparent(.5)}; }`),ut.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${Dt.transparent(.5)}; }`))})},45820:function(vt,be,i){"use strict";i.d(be,{Ae:function(){return g},Qj:function(){return c},YM:function(){return F}});class c{constructor(S,$,N,x){this.priority=S,this.range=$,this.initialMousePosX=N,this.initialMousePosY=x,this.type=1}equals(S){return S.type===1&&this.range.equalsRange(S.range)}canAdoptVisibleHover(S,$){return S.type===1&&$.lineNumber===this.range.startLineNumber}}class F{constructor(S,$,N,x,O,p){this.priority=S,this.owner=$,this.range=N,this.initialMousePosX=x,this.initialMousePosY=O,this.supportsMarkerHover=p,this.type=2}equals(S){return S.type===2&&this.owner===S.owner}canAdoptVisibleHover(S,$){return S.type===2&&this.owner===S.owner}}const g=new class{constructor(){this._participants=[]}register(S){this._participants.push(S)}getAll(){return this._participants}}},26924:function(vt,be,i){"use strict";i.d(be,{D5:function(){return _},c:function(){return b},hU:function(){return u}});var c=i(16563),F=i(16842),g=i(39460),A=i(69549),S=i(52357),$=i(32684),N=i(43976),x=i(22445),O=i(18426),p=i(74643),a=i(15779),d=i(64464),f=i(20009),s=i(26340),r=function(E,D,w,I){var M=arguments.length,K=M<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,w):I,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(E,D,w,I);else for(var Q=E.length-1;Q>=0;Q--)(z=E[Q])&&(K=(M<3?z(K):M>3?z(D,w,K):z(D,w))||K);return M>3&&K&&Object.defineProperty(D,w,K),K},m=function(E,D){return function(w,I){D(w,I,E)}};const C=c.$;class u{constructor(D,w,I,M,K){this.owner=D,this.range=w,this.contents=I,this.isBeforeContent=M,this.ordinal=K}isValidForHoverAnchor(D){return D.type===1&&this.range.startColumn<=D.range.startColumn&&this.range.endColumn>=D.range.endColumn}}let _=class{constructor(D,w,I,M,K){this._editor=D,this._languageService=w,this._openerService=I,this._configurationService=M,this._languageFeaturesService=K,this.hoverOrdinal=2}createLoadingMessage(D){return new u(this,D.range,[new A.W5().appendText(a.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(D,w){if(!this._editor.hasModel()||D.type!==1)return[];const I=this._editor.getModel(),M=D.range.startLineNumber,K=I.getLineMaxColumn(M),z=[];let Q=1e3;const Y=I.getLineLength(M),H=I.getLanguageIdAtPosition(D.range.startLineNumber,D.range.startColumn),P=this._editor.getOption(111),X=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:H});let q=!1;P>=0&&Y>P&&D.range.startColumn>=P&&(q=!0,z.push(new u(this,D.range,[{value:a.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,Q++))),!q&&typeof X=="number"&&Y>=X&&z.push(new u(this,D.range,[{value:a.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,Q++));let U=!1;for(const L of w){const B=L.range.startLineNumber===M?L.range.startColumn:1,j=L.range.endLineNumber===M?L.range.endColumn:K,G=L.options.hoverMessage;if(!G||(0,A.CP)(G))continue;L.options.beforeContentClassName&&(U=!0);const y=new x.e(D.range.startLineNumber,B,D.range.startLineNumber,j);z.push(new u(this,y,(0,F._2)(G),U,Q++))}return z}computeAsync(D,w,I){if(!this._editor.hasModel()||D.type!==1)return g.Aq.EMPTY;const M=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(M))return g.Aq.EMPTY;const K=new N.L(D.range.startLineNumber,D.range.startColumn);return(0,p.R8)(this._languageFeaturesService.hoverProvider,M,K,I).filter(z=>!(0,A.CP)(z.hover.contents)).map(z=>{const Q=z.hover.range?x.e.lift(z.hover.range):D.range;return new u(this,Q,z.hover.contents,!1,z.ordinal)})}renderHoverParts(D,w){return b(D,w,this._editor,this._languageService,this._openerService)}};_=r([m(1,O.O),m(2,f.v4),m(3,d.Ui),m(4,s.p)],_);function b(E,D,w,I,M){D.sort((z,Q)=>z.ordinal-Q.ordinal);const K=new S.SL;for(const z of D)for(const Q of z.contents){if((0,A.CP)(Q))continue;const Y=C("div.hover-row.markdown-hover"),H=c.R3(Y,C("div.hover-contents")),P=K.add(new $.$({editor:w},I,M));K.add(P.onDidRenderAsync(()=>{H.className="hover-contents code-hover-contents",E.onContentsChanged()}));const X=K.add(P.render(Q));H.appendChild(X.element),E.fragment.appendChild(Y)}return K}},12893:function(vt,be,i){"use strict";i.r(be);var c=i(39460),F=i(50505),g=i(46978),A=i(98981),S=i(22445),$=i(15489),N=i(73805),x=i(73740),O=i(6375),p=i(15779);class a{constructor(u,_,b){this._editRange=u,this._originalSelection=_,this._text=b}getEditOperations(u,_){_.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(u,_){const E=_.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new $.Y(E.endLineNumber,Math.min(this._originalSelection.positionColumn,E.endColumn),E.endLineNumber,Math.min(this._originalSelection.positionColumn,E.endColumn)):new $.Y(E.endLineNumber,E.endColumn-this._text.length,E.endLineNumber,E.endColumn)}}var d=function(C,u,_,b){var E=arguments.length,D=E<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,u,_,b);else for(var I=C.length-1;I>=0;I--)(w=C[I])&&(D=(E<3?w(D):E>3?w(u,_,D):w(u,_))||D);return E>3&&D&&Object.defineProperty(u,_,D),D},f=function(C,u){return function(_,b){u(_,b,C)}};let s=class Dd{static get(u){return u.getContribution(Dd.ID)}constructor(u,_){this.editor=u,this.editorWorkerService=_,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(u,_){var b;(b=this.currentRequest)===null||b===void 0||b.cancel();const E=this.editor.getSelection(),D=this.editor.getModel();if(!D||!E)return;let w=E;if(w.startLineNumber!==w.endLineNumber)return;const I=new g.yy(this.editor,5),M=D.uri;return this.editorWorkerService.canNavigateValueSet(M)?(this.currentRequest=(0,c.PG)(K=>this.editorWorkerService.navigateValueSet(M,w,_)),this.currentRequest.then(K=>{var z;if(!K||!K.range||!K.value||!I.validate(this.editor))return;const Q=S.e.lift(K.range);let Y=K.range;const H=K.value.length-(w.endColumn-w.startColumn);Y={startLineNumber:Y.startLineNumber,startColumn:Y.startColumn,endLineNumber:Y.endLineNumber,endColumn:Y.startColumn+K.value.length},H>1&&(w=new $.Y(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn+H-1));const P=new a(Q,w,K.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,P),this.editor.pushUndoStop(),this.decorations.set([{range:Y,options:Dd.DECORATION}]),(z=this.decorationRemover)===null||z===void 0||z.cancel(),this.decorationRemover=(0,c.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(F.dL)}).catch(F.dL)):Promise.resolve(void 0)}};s.ID="editor.contrib.inPlaceReplaceController",s.DECORATION=x.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),s=d([f(1,O.p)],s);class r extends A.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:N.u.writable,kbOpts:{kbExpr:N.u.editorTextFocus,primary:3154,weight:100}})}run(u,_){const b=s.get(_);return b?b.run(this.id,!0):Promise.resolve(void 0)}}class m extends A.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:N.u.writable,kbOpts:{kbExpr:N.u.editorTextFocus,primary:3156,weight:100}})}run(u,_){const b=s.get(_);return b?b.run(this.id,!1):Promise.resolve(void 0)}}(0,A._K)(s.ID,s,4),(0,A.Qr)(r),(0,A.Qr)(m)},72023:function(vt,be,i){"use strict";i.d(be,{J:function(){return F},Y:function(){return c}});function c(g,A){let S=0;for(let $=0;$<g.length;$++)g.charAt($)==="	"?S+=A:S++;return S}function F(g,A,S){g=g<0?0:g;let $="";if(!S){const N=Math.floor(g/A);g=g%A;for(let x=0;x<N;x++)$+="	"}for(let N=0;N<g;N++)$+=" ";return $}},47638:function(vt,be,i){"use strict";i.r(be),i.d(be,{AutoIndentOnPaste:function(){return Y},AutoIndentOnPasteCommand:function(){return Q},ChangeIndentationSizeAction:function(){return E},ChangeTabDisplaySize:function(){return I},DetectIndentation:function(){return M},IndentUsingSpaces:function(){return w},IndentUsingTabs:function(){return D},IndentationToSpacesAction:function(){return _},IndentationToSpacesCommand:function(){return P},IndentationToTabsAction:function(){return b},IndentationToTabsCommand:function(){return X},ReindentLinesAction:function(){return K},ReindentSelectedLinesAction:function(){return z},getReindentEditOperations:function(){return u}});var c=i(52357),F=i(30613),g=i(98981),A=i(70428),S=i(24222),$=i(22445),N=i(15489),x=i(73805),O=i(28170),p=i(6033),a=i(72023),d=i(15779),f=i(93611),s=i(39919),r=i(63019),m=function(q,U,L,B){var j=arguments.length,G=j<3?U:B===null?B=Object.getOwnPropertyDescriptor(U,L):B,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(q,U,L,B);else for(var pe=q.length-1;pe>=0;pe--)(y=q[pe])&&(G=(j<3?y(G):j>3?y(U,L,G):y(U,L))||G);return j>3&&G&&Object.defineProperty(U,L,G),G},C=function(q,U){return function(L,B){U(L,B,q)}};function u(q,U,L,B,j){if(q.getLineCount()===1&&q.getLineMaxColumn(1)===1)return[];const G=U.getLanguageConfiguration(q.getLanguageId()).indentationRules;if(!G)return[];for(B=Math.min(B,q.getLineCount());L<=B&&G.unIndentedLinePattern;){const $e=q.getLineContent(L);if(!G.unIndentedLinePattern.test($e))break;L++}if(L>B-1)return[];const{tabSize:y,indentSize:pe,insertSpaces:ye}=q.getOptions(),me=($e,je)=>(je=je||1,A.U.shiftIndent($e,$e.length+je,y,pe,ye)),Se=($e,je)=>(je=je||1,A.U.unshiftIndent($e,$e.length+je,y,pe,ye)),_e=[];let he;const le=q.getLineContent(L);let se=le;if(j!=null){he=j;const $e=F.V8(le);se=he+le.substring($e.length),G.decreaseIndentPattern&&G.decreaseIndentPattern.test(se)&&(he=Se(he),se=he+le.substring($e.length)),le!==se&&_e.push(S.h.replaceMove(new N.Y(L,1,L,$e.length+1),(0,s.x)(he,pe,ye)))}else he=F.V8(le);let Re=he;G.increaseIndentPattern&&G.increaseIndentPattern.test(se)?(Re=me(Re),he=me(he)):G.indentNextLinePattern&&G.indentNextLinePattern.test(se)&&(Re=me(Re)),L++;for(let $e=L;$e<=B;$e++){const je=q.getLineContent($e),Ce=F.V8(je),J=Re+je.substring(Ce.length);G.decreaseIndentPattern&&G.decreaseIndentPattern.test(J)&&(Re=Se(Re),he=Se(he)),Ce!==Re&&_e.push(S.h.replaceMove(new N.Y($e,1,$e,Ce.length+1),(0,s.x)(Re,pe,ye))),!(G.unIndentedLinePattern&&G.unIndentedLinePattern.test(je))&&(G.increaseIndentPattern&&G.increaseIndentPattern.test(J)?(he=me(he),Re=he):G.indentNextLinePattern&&G.indentNextLinePattern.test(J)?Re=me(Re):Re=he)}return _e}class _ extends g.R6{constructor(){super({id:_.ID,label:d.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:x.u.writable})}run(U,L){const B=L.getModel();if(!B)return;const j=B.getOptions(),G=L.getSelection();if(!G)return;const y=new P(G,j.tabSize);L.pushUndoStop(),L.executeCommands(this.id,[y]),L.pushUndoStop(),B.updateOptions({insertSpaces:!0})}}_.ID="editor.action.indentationToSpaces";class b extends g.R6{constructor(){super({id:b.ID,label:d.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:x.u.writable})}run(U,L){const B=L.getModel();if(!B)return;const j=B.getOptions(),G=L.getSelection();if(!G)return;const y=new X(G,j.tabSize);L.pushUndoStop(),L.executeCommands(this.id,[y]),L.pushUndoStop(),B.updateOptions({insertSpaces:!1})}}b.ID="editor.action.indentationToTabs";class E extends g.R6{constructor(U,L,B){super(B),this.insertSpaces=U,this.displaySizeOnly=L}run(U,L){const B=U.get(f.eJ),j=U.get(p.q),G=L.getModel();if(!G)return;const y=j.getCreationOptions(G.getLanguageId(),G.uri,G.isForSimpleWidget),pe=G.getOptions(),ye=[1,2,3,4,5,6,7,8].map(Se=>({id:Se.toString(),label:Se.toString(),description:Se===y.tabSize&&Se===pe.tabSize?d.NC("configuredTabSize","Configured Tab Size"):Se===y.tabSize?d.NC("defaultTabSize","Default Tab Size"):Se===pe.tabSize?d.NC("currentTabSize","Current Tab Size"):void 0})),me=Math.min(G.getOptions().tabSize-1,7);setTimeout(()=>{B.pick(ye,{placeHolder:d.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:ye[me]}).then(Se=>{if(Se&&G&&!G.isDisposed()){const _e=parseInt(Se.label,10);this.displaySizeOnly?G.updateOptions({tabSize:_e}):G.updateOptions({tabSize:_e,indentSize:_e,insertSpaces:this.insertSpaces})}})},50)}}class D extends E{constructor(){super(!1,!1,{id:D.ID,label:d.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}D.ID="editor.action.indentUsingTabs";class w extends E{constructor(){super(!0,!1,{id:w.ID,label:d.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}w.ID="editor.action.indentUsingSpaces";class I extends E{constructor(){super(!0,!0,{id:I.ID,label:d.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}I.ID="editor.action.changeTabDisplaySize";class M extends g.R6{constructor(){super({id:M.ID,label:d.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(U,L){const B=U.get(p.q),j=L.getModel();if(!j)return;const G=B.getCreationOptions(j.getLanguageId(),j.uri,j.isForSimpleWidget);j.detectIndentation(G.insertSpaces,G.tabSize)}}M.ID="editor.action.detectIndentation";class K extends g.R6{constructor(){super({id:"editor.action.reindentlines",label:d.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:x.u.writable})}run(U,L){const B=U.get(O.c_),j=L.getModel();if(!j)return;const G=u(j,B,1,j.getLineCount());G.length>0&&(L.pushUndoStop(),L.executeEdits(this.id,G),L.pushUndoStop())}}class z extends g.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:d.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:x.u.writable})}run(U,L){const B=U.get(O.c_),j=L.getModel();if(!j)return;const G=L.getSelections();if(G===null)return;const y=[];for(const pe of G){let ye=pe.startLineNumber,me=pe.endLineNumber;if(ye!==me&&pe.endColumn===1&&me--,ye===1){if(ye===me)continue}else ye--;const Se=u(j,B,ye,me);y.push(...Se)}y.length>0&&(L.pushUndoStop(),L.executeEdits(this.id,y),L.pushUndoStop())}}class Q{constructor(U,L){this._initialSelection=L,this._edits=[],this._selectionId=null;for(const B of U)B.range&&typeof B.text=="string"&&this._edits.push(B)}getEditOperations(U,L){for(const j of this._edits)L.addEditOperation($.e.lift(j.range),j.text);let B=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(B=!0,this._selectionId=L.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(B=!0,this._selectionId=L.trackSelection(this._initialSelection,!1))),B||(this._selectionId=L.trackSelection(this._initialSelection))}computeCursorState(U,L){return L.getTrackedSelection(this._selectionId)}}let Y=class{constructor(U,L){this.editor=U,this._languageConfigurationService=L,this.callOnDispose=new c.SL,this.callOnModel=new c.SL,this.callOnDispose.add(U.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(U.onDidChangeModel(()=>this.update())),this.callOnDispose.add(U.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(52))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:U})=>{this.trigger(U)}))}trigger(U){const L=this.editor.getSelections();if(L===null||L.length>1)return;const B=this.editor.getModel();if(!B||!B.tokenization.isCheapToTokenize(U.getStartPosition().lineNumber))return;const j=this.editor.getOption(9),{tabSize:G,indentSize:y,insertSpaces:pe}=B.getOptions(),ye=[],me={shiftIndent:le=>A.U.shiftIndent(le,le.length+1,G,y,pe),unshiftIndent:le=>A.U.unshiftIndent(le,le.length+1,G,y,pe)};let Se=U.startLineNumber;for(;Se<=U.endLineNumber;){if(this.shouldIgnoreLine(B,Se)){Se++;continue}break}if(Se>U.endLineNumber)return;let _e=B.getLineContent(Se);if(!/\S/.test(_e.substring(0,U.startColumn-1))){const le=(0,r.n8)(j,B,B.getLanguageId(),Se,me,this._languageConfigurationService);if(le!==null){const se=F.V8(_e),Re=a.Y(le,G),$e=a.Y(se,G);if(Re!==$e){const je=a.J(Re,G,pe);ye.push({range:new $.e(Se,1,Se,se.length+1),text:je}),_e=je+_e.substr(se.length)}else{const je=(0,r.tI)(B,Se,this._languageConfigurationService);if(je===0||je===8)return}}}const he=Se;for(;Se<U.endLineNumber;){if(!/\S/.test(B.getLineContent(Se+1))){Se++;continue}break}if(Se!==U.endLineNumber){const le={tokenization:{getLineTokens:Re=>B.tokenization.getLineTokens(Re),getLanguageId:()=>B.getLanguageId(),getLanguageIdAtPosition:(Re,$e)=>B.getLanguageIdAtPosition(Re,$e)},getLineContent:Re=>Re===he?_e:B.getLineContent(Re)},se=(0,r.n8)(j,le,B.getLanguageId(),Se+1,me,this._languageConfigurationService);if(se!==null){const Re=a.Y(se,G),$e=a.Y(F.V8(B.getLineContent(Se+1)),G);if(Re!==$e){const je=Re-$e;for(let Ce=Se+1;Ce<=U.endLineNumber;Ce++){const J=B.getLineContent(Ce),ne=F.V8(J),xe=a.Y(ne,G)+je,Ke=a.J(xe,G,pe);Ke!==ne&&ye.push({range:new $.e(Ce,1,Ce,ne.length+1),text:Ke})}}}}if(ye.length>0){this.editor.pushUndoStop();const le=new Q(ye,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",le),this.editor.pushUndoStop()}}shouldIgnoreLine(U,L){U.tokenization.forceTokenization(L);const B=U.getLineFirstNonWhitespaceColumn(L);if(B===0)return!0;const j=U.tokenization.getLineTokens(L);if(j.getCount()>0){const G=j.findTokenIndexAtOffset(B);if(G>=0&&j.getStandardTokenType(G)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};Y.ID="editor.contrib.autoIndentOnPaste",Y=m([C(1,O.c_)],Y);function H(q,U,L,B){if(q.getLineCount()===1&&q.getLineMaxColumn(1)===1)return;let j="";for(let y=0;y<L;y++)j+=" ";const G=new RegExp(j,"gi");for(let y=1,pe=q.getLineCount();y<=pe;y++){let ye=q.getLineFirstNonWhitespaceColumn(y);if(ye===0&&(ye=q.getLineMaxColumn(y)),ye===1)continue;const me=new $.e(y,1,y,ye),Se=q.getValueInRange(me),_e=B?Se.replace(/\t/ig,j):Se.replace(G,"	");U.addEditOperation(me,_e)}}class P{constructor(U,L){this.selection=U,this.tabSize=L,this.selectionId=null}getEditOperations(U,L){this.selectionId=L.trackSelection(this.selection),H(U,L,this.tabSize,!0)}computeCursorState(U,L){return L.getTrackedSelection(this.selectionId)}}class X{constructor(U,L){this.selection=U,this.tabSize=L,this.selectionId=null}getEditOperations(U,L){this.selectionId=L.trackSelection(this.selection),H(U,L,this.tabSize,!1)}computeCursorState(U,L){return L.getTrackedSelection(this.selectionId)}}(0,g._K)(Y.ID,Y,2),(0,g.Qr)(_),(0,g.Qr)(b),(0,g.Qr)(D),(0,g.Qr)(w),(0,g.Qr)(I),(0,g.Qr)(M),(0,g.Qr)(K),(0,g.Qr)(z)},99230:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(45820),g=i(16563),A=i(16842),S=i(39460),$=i(19713),N=i(50505),x=i(52357),O=i(15463),p=i(67770),a=i(39508),d=i(25149),f=i(43167),s=i(32052),r=i(24222),m=i(22445),C=i(33686),u=i(48117),_=i(73740),b=i(16978),E=i(26340),D=i(58295),w=i(3038),I=i(43976),M=i(571),K=function(Fe,Le,Te,ge){function ve(we){return we instanceof Te?we:new Te(function(Oe){Oe(we)})}return new(Te||(Te=Promise))(function(we,Oe){function He(kt){try{bt(ge.next(kt))}catch(Ut){Oe(Ut)}}function mt(kt){try{bt(ge.throw(kt))}catch(Ut){Oe(Ut)}}function bt(kt){kt.done?we(kt.value):ve(kt.value).then(He,mt)}bt((ge=ge.apply(Fe,Le||[])).next())})};class z{constructor(Le,Te){this.range=Le,this.direction=Te}}class Q{constructor(Le,Te,ge){this.hint=Le,this.anchor=Te,this.provider=ge,this._isResolved=!1}with(Le){const Te=new Q(this.hint,Le.anchor,this.provider);return Te._isResolved=this._isResolved,Te._currentResolve=this._currentResolve,Te}resolve(Le){return K(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,Le.isCancellationRequested?void 0:this.resolve(Le);this._isResolved||(this._currentResolve=this._doResolve(Le).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Le){var Te,ge;return K(this,void 0,void 0,function*(){try{const ve=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Le));this.hint.tooltip=(Te=ve==null?void 0:ve.tooltip)!==null&&Te!==void 0?Te:this.hint.tooltip,this.hint.label=(ge=ve==null?void 0:ve.label)!==null&&ge!==void 0?ge:this.hint.label,this._isResolved=!0}catch(ve){(0,N.Cp)(ve),this._isResolved=!1}})}}class Y{static create(Le,Te,ge,ve){return K(this,void 0,void 0,function*(){const we=[],Oe=Le.ordered(Te).reverse().map(He=>ge.map(mt=>K(this,void 0,void 0,function*(){try{const bt=yield He.provideInlayHints(Te,mt,ve);bt!=null&&bt.hints.length&&we.push([bt,He])}catch(bt){(0,N.Cp)(bt)}})));if(yield Promise.all(Oe.flat()),ve.isCancellationRequested||Te.isDisposed())throw new N.FU;return new Y(ge,we,Te)})}constructor(Le,Te,ge){this._disposables=new x.SL,this.ranges=Le,this.provider=new Set;const ve=[];for(const[we,Oe]of Te){this._disposables.add(we),this.provider.add(Oe);for(const He of we.hints){const mt=ge.validatePosition(He.position);let bt="before";const kt=Y._getRangeAtPosition(ge,mt);let Ut;kt.getStartPosition().isBefore(mt)?(Ut=m.e.fromPositions(kt.getStartPosition(),mt),bt="after"):(Ut=m.e.fromPositions(mt,kt.getEndPosition()),bt="before"),ve.push(new Q(He,new z(Ut,bt),Oe))}}this.items=ve.sort((we,Oe)=>I.L.compare(we.hint.position,Oe.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Le,Te){const ge=Te.lineNumber,ve=Le.getWordAtPosition(Te);if(ve)return new m.e(ge,ve.startColumn,ge,ve.endColumn);Le.tokenization.tokenizeIfCheap(ge);const we=Le.tokenization.getLineTokens(ge),Oe=Te.column-1,He=we.findTokenIndexAtOffset(Oe);let mt=we.getStartOffset(He),bt=we.getEndOffset(He);return bt-mt===1&&(mt===Oe&&He>1?(mt=we.getStartOffset(He-1),bt=we.getEndOffset(He-1)):bt===Oe&&He<we.getCount()-1&&(mt=we.getStartOffset(He+1),bt=we.getEndOffset(He+1))),new m.e(ge,mt+1,ge,bt+1)}}function H(Fe){return a.o.from({scheme:M.lg.command,path:Fe.id,query:Fe.arguments&&encodeURIComponent(JSON.stringify(Fe.arguments))}).toString()}var P=i(1802),X=i(21760),q=i(70751),U=i(64700),L=i(28382),B=i(78382),j=i(901),G=function(Fe,Le,Te,ge){var ve=arguments.length,we=ve<3?Le:ge===null?ge=Object.getOwnPropertyDescriptor(Le,Te):ge,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Fe,Le,Te,ge);else for(var He=Fe.length-1;He>=0;He--)(Oe=Fe[He])&&(we=(ve<3?Oe(we):ve>3?Oe(Le,Te,we):Oe(Le,Te))||we);return ve>3&&we&&Object.defineProperty(Le,Te,we),we},y=function(Fe,Le){return function(Te,ge){Le(Te,ge,Fe)}},pe=function(Fe,Le,Te,ge){function ve(we){return we instanceof Te?we:new Te(function(Oe){Oe(we)})}return new(Te||(Te=Promise))(function(we,Oe){function He(kt){try{bt(ge.next(kt))}catch(Ut){Oe(Ut)}}function mt(kt){try{bt(ge.throw(kt))}catch(Ut){Oe(Ut)}}function bt(kt){kt.done?we(kt.value):ve(kt.value).then(He,mt)}bt((ge=ge.apply(Fe,Le||[])).next())})};class ye{constructor(){this._entries=new O.z6(50)}get(Le){const Te=ye._key(Le);return this._entries.get(Te)}set(Le,Te){const ge=ye._key(Le);this._entries.set(ge,Te)}static _key(Le){return`${Le.uri.toString()}/${Le.getVersionId()}`}}const me=(0,U.yh)("IInlayHintsCache");(0,q.z)(me,ye,1);class Se{constructor(Le,Te){this.item=Le,this.index=Te}get part(){const Le=this.item.hint.label;return typeof Le=="string"?{label:Le}:Le[this.index]}}class _e{constructor(Le,Te){this.part=Le,this.hasTriggerModifier=Te}}let he=class Ed{static get(Le){var Te;return(Te=Le.getContribution(Ed.ID))!==null&&Te!==void 0?Te:void 0}constructor(Le,Te,ge,ve,we,Oe,He){this._editor=Le,this._languageFeaturesService=Te,this._inlayHintsCache=ve,this._commandService=we,this._notificationService=Oe,this._instaService=He,this._disposables=new x.SL,this._sessionDisposables=new x.SL,this._decorationsMetadata=new Map,this._ruleFactory=new d.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=ge.for(Te.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Te.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Le.onDidChangeModel(()=>this._update())),this._disposables.add(Le.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Le.onDidChangeConfiguration(mt=>{mt.hasChanged(134)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Le=this._editor.getOption(134);if(Le.enabled==="off")return;const Te=this._editor.getModel();if(!Te||!this._languageFeaturesService.inlayHintsProvider.has(Te))return;const ge=this._inlayHintsCache.get(Te);ge&&this._updateHintsDecorators([Te.getFullModelRange()],ge),this._sessionDisposables.add((0,x.OF)(()=>{Te.isDisposed()||this._cacheHintsForFastRestore(Te)}));let ve;const we=new Set,Oe=new S.pY(()=>pe(this,void 0,void 0,function*(){const He=Date.now();ve==null||ve.dispose(!0),ve=new $.A;const mt=Te.onWillDispose(()=>ve==null?void 0:ve.cancel());try{const bt=ve.token,kt=yield Y.create(this._languageFeaturesService.inlayHintsProvider,Te,this._getHintsRanges(),bt);if(Oe.delay=this._debounceInfo.update(Te,Date.now()-He),bt.isCancellationRequested){kt.dispose();return}for(const Ut of kt.provider)typeof Ut.onDidChangeInlayHints=="function"&&!we.has(Ut)&&(we.add(Ut),this._sessionDisposables.add(Ut.onDidChangeInlayHints(()=>{Oe.isScheduled()||Oe.schedule()})));this._sessionDisposables.add(kt),this._updateHintsDecorators(kt.ranges,kt.items),this._cacheHintsForFastRestore(Te)}catch(bt){(0,N.dL)(bt)}finally{ve.dispose(),mt.dispose()}}),this._debounceInfo.get(Te));if(this._sessionDisposables.add(Oe),this._sessionDisposables.add((0,x.OF)(()=>ve==null?void 0:ve.dispose(!0))),Oe.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(He=>{(He.scrollTopChanged||!Oe.isScheduled())&&Oe.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(He=>{const mt=Math.max(Oe.delay,1250);Oe.schedule(mt)})),Le.enabled==="on")this._activeRenderMode=0;else{let He,mt;Le.enabled==="onUnlessPressed"?(He=0,mt=1):(He=1,mt=0),this._activeRenderMode=He,this._sessionDisposables.add(g._q.getInstance().event(bt=>{if(!this._editor.hasModel())return;const kt=bt.altKey&&bt.ctrlKey&&!(bt.shiftKey||bt.metaKey)?mt:He;if(kt!==this._activeRenderMode){this._activeRenderMode=kt;const Ut=this._editor.getModel(),ut=this._copyInlayHintsWithCurrentAnchor(Ut);this._updateHintsDecorators([Ut.getFullModelRange()],ut),Oe.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Oe.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Le=new x.SL,Te=Le.add(new w.yN(this._editor)),ge=new x.SL;return Le.add(ge),Le.add(Te.onMouseMoveOrRelevantKeyDown(ve=>{const[we]=ve,Oe=this._getInlayHintLabelPart(we),He=this._editor.getModel();if(!Oe||!He){ge.clear();return}const mt=new $.A;ge.add((0,x.OF)(()=>mt.dispose(!0))),Oe.item.resolve(mt.token),this._activeInlayHintPart=Oe.part.command||Oe.part.location?new _e(Oe,we.hasTriggerModifier):void 0;const bt=He.validatePosition(Oe.item.hint.position).lineNumber,kt=new m.e(bt,1,bt,He.getLineMaxColumn(bt)),Ut=this._getInlineHintsForRange(kt);this._updateHintsDecorators([kt],Ut),ge.add((0,x.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([kt],Ut)}))})),Le.add(Te.onCancel(()=>ge.clear())),Le.add(Te.onExecute(ve=>pe(this,void 0,void 0,function*(){const we=this._getInlayHintLabelPart(ve);if(we){const Oe=we.part;Oe.location?this._instaService.invokeFunction(P.K,ve,this._editor,Oe.location):C.mY.is(Oe.command)&&(yield this._invokeCommand(Oe.command,we.item))}}))),Le}_getInlineHintsForRange(Le){const Te=new Set;for(const ge of this._decorationsMetadata.values())Le.containsRange(ge.item.anchor.range)&&Te.add(ge.item);return Array.from(Te)}_installDblClickGesture(Le){return this._editor.onMouseUp(Te=>pe(this,void 0,void 0,function*(){if(Te.event.detail!==2)return;const ge=this._getInlayHintLabelPart(Te);if(ge&&(Te.event.preventDefault(),yield ge.item.resolve($.T.None),(0,A.Of)(ge.item.hint.textEdits))){const ve=ge.item.hint.textEdits.map(we=>r.h.replace(m.e.lift(we.range),we.text));this._editor.executeEdits("inlayHint.default",ve),Le()}}))}_installContextMenu(){return this._editor.onContextMenu(Le=>pe(this,void 0,void 0,function*(){if(!(Le.event.target instanceof HTMLElement))return;const Te=this._getInlayHintLabelPart(Le);Te&&(yield this._instaService.invokeFunction(P.u,this._editor,Le.event.target,Te))}))}_getInlayHintLabelPart(Le){var Te;if(Le.target.type!==6)return;const ge=(Te=Le.target.detail.injectedText)===null||Te===void 0?void 0:Te.options;if(ge instanceof _.HS&&(ge==null?void 0:ge.attachedData)instanceof Se)return ge.attachedData}_invokeCommand(Le,Te){var ge;return pe(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Le.id,...(ge=Le.arguments)!==null&&ge!==void 0?ge:[])}catch(ve){this._notificationService.notify({severity:L.zb.Error,source:Te.provider.displayName,message:ve})}})}_cacheHintsForFastRestore(Le){const Te=this._copyInlayHintsWithCurrentAnchor(Le);this._inlayHintsCache.set(Le,Te)}_copyInlayHintsWithCurrentAnchor(Le){const Te=new Map;for(const[ge,ve]of this._decorationsMetadata){if(Te.has(ve.item))continue;const we=Le.getDecorationRange(ge);if(we){const Oe=new z(we,ve.item.anchor.direction),He=ve.item.with({anchor:Oe});Te.set(ve.item,He)}}return Array.from(Te.values())}_getHintsRanges(){const Te=this._editor.getModel(),ge=this._editor.getVisibleRangesPlusViewportAboveBelow(),ve=[];for(const we of ge.sort(m.e.compareRangesUsingStarts)){const Oe=Te.validateRange(new m.e(we.startLineNumber-30,we.startColumn,we.endLineNumber+30,we.endColumn));ve.length===0||!m.e.areIntersectingOrTouching(ve[ve.length-1],Oe)?ve.push(Oe):ve[ve.length-1]=m.e.plusRange(ve[ve.length-1],Oe)}return ve}_updateHintsDecorators(Le,Te){var ge,ve;const we=[],Oe=(Ft,Et,Ze,St,jt)=>{const Ct={content:Ze,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Et.className,cursorStops:St,attachedData:jt};we.push({item:Ft,classNameRef:Et,decoration:{range:Ft.anchor.range,options:{description:"InlayHint",showIfCollapsed:Ft.anchor.range.isEmpty(),collapseOnReplaceEdit:!Ft.anchor.range.isEmpty(),stickiness:0,[Ft.anchor.direction]:this._activeRenderMode===0?Ct:void 0}}})},He=(Ft,Et)=>{const Ze=this._ruleFactory.createClassNameRef({width:`${mt/3|0}px`,display:"inline-block"});Oe(Ft,Ze,"\u200A",Et?u.RM.Right:u.RM.None)},{fontSize:mt,fontFamily:bt,padding:kt,isUniform:Ut}=this._getLayoutInfo(),ut="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ut,bt);for(const Ft of Te){Ft.hint.paddingLeft&&He(Ft,!1);const Et=typeof Ft.hint.label=="string"?[{label:Ft.hint.label}]:Ft.hint.label;for(let Ze=0;Ze<Et.length;Ze++){const St=Et[Ze],jt=Ze===0,Ct=Ze===Et.length-1,_t={fontSize:`${mt}px`,fontFamily:`var(${ut}), ${s.hL.fontFamily}`,verticalAlign:Ut?"baseline":"middle"};(0,A.Of)(Ft.hint.textEdits)&&(_t.cursor="default"),this._fillInColors(_t,Ft.hint),(St.command||St.location)&&((ge=this._activeInlayHintPart)===null||ge===void 0?void 0:ge.part.item)===Ft&&this._activeInlayHintPart.part.index===Ze&&(_t.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(_t.color=(0,j.EN)(B._Yy),_t.cursor="pointer")),kt&&(jt&&Ct?(_t.padding=`1px ${Math.max(1,mt/4)|0}px`,_t.borderRadius=`${mt/4|0}px`):jt?(_t.padding=`1px 0 1px ${Math.max(1,mt/4)|0}px`,_t.borderRadius=`${mt/4|0}px 0 0 ${mt/4|0}px`):Ct?(_t.padding=`1px ${Math.max(1,mt/4)|0}px 1px 0`,_t.borderRadius=`0 ${mt/4|0}px ${mt/4|0}px 0`):_t.padding="1px 0 1px 0"),Oe(Ft,this._ruleFactory.createClassNameRef(_t),le(St.label),Ct&&!Ft.hint.paddingRight?u.RM.Right:u.RM.None,new Se(Ft,Ze))}if(Ft.hint.paddingRight&&He(Ft,!0),we.length>Ed._MAX_DECORATORS)break}const Dt=[];for(const Ft of Le)for(const{id:Et}of(ve=this._editor.getDecorationsInRange(Ft))!==null&&ve!==void 0?ve:[]){const Ze=this._decorationsMetadata.get(Et);Ze&&(Dt.push(Et),Ze.classNameRef.dispose(),this._decorationsMetadata.delete(Et))}const ft=f.Z.capture(this._editor);this._editor.changeDecorations(Ft=>{const Et=Ft.deltaDecorations(Dt,we.map(Ze=>Ze.decoration));for(let Ze=0;Ze<Et.length;Ze++){const St=we[Ze];this._decorationsMetadata.set(Et[Ze],St)}}),ft.restore(this._editor)}_fillInColors(Le,Te){Te.kind===C.gl.Parameter?(Le.backgroundColor=(0,j.EN)(B.phM),Le.color=(0,j.EN)(B.HCL)):Te.kind===C.gl.Type?(Le.backgroundColor=(0,j.EN)(B.bKB),Le.color=(0,j.EN)(B.hX8)):(Le.backgroundColor=(0,j.EN)(B.PpC),Le.color=(0,j.EN)(B.VVv))}_getLayoutInfo(){const Le=this._editor.getOption(134),Te=Le.padding,ge=this._editor.getOption(49),ve=this._editor.getOption(46);let we=Le.fontSize;(!we||we<5||we>ge)&&(we=ge);const Oe=Le.fontFamily||ve;return{fontSize:we,fontFamily:Oe,padding:Te,isUniform:!Te&&Oe===ve&&we===ge}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Le of this._decorationsMetadata.values())Le.classNameRef.dispose();this._decorationsMetadata.clear()}};he.ID="editor.contrib.InlayHints",he._MAX_DECORATORS=1500,he=G([y(1,E.p),y(2,b.A),y(3,me),y(4,X.H),y(5,L.lT),y(6,U.TG)],he);function le(Fe){const Le="\xA0";return Fe.replace(/[ \t]/g,Le)}X.P.registerCommand("_executeInlayHintProvider",(Fe,...Le)=>pe(void 0,void 0,void 0,function*(){const[Te,ge]=Le;(0,p.p_)(a.o.isUri(Te)),(0,p.p_)(m.e.isIRange(ge));const{inlayHintsProvider:ve}=Fe.get(E.p),we=yield Fe.get(D.S).createModelReference(Te);try{const Oe=yield Y.create(ve,we.object.textEditorModel,[m.e.lift(ge)],$.T.None),He=Oe.items.map(mt=>mt.hint);return setTimeout(()=>Oe.dispose(),0),He}finally{we.dispose()}}));var se=i(69549),Re=i(18426),$e=i(74643),je=i(26924),Ce=i(64464),J=i(20009),ne=i(15779),ae=i(41420),xe=function(Fe,Le,Te,ge){var ve=arguments.length,we=ve<3?Le:ge===null?ge=Object.getOwnPropertyDescriptor(Le,Te):ge,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Fe,Le,Te,ge);else for(var He=Fe.length-1;He>=0;He--)(Oe=Fe[He])&&(we=(ve<3?Oe(we):ve>3?Oe(Le,Te,we):Oe(Le,Te))||we);return ve>3&&we&&Object.defineProperty(Le,Te,we),we},Ke=function(Fe,Le){return function(Te,ge){Le(Te,ge,Fe)}},ct=function(Fe,Le,Te,ge){function ve(we){return we instanceof Te?we:new Te(function(Oe){Oe(we)})}return new(Te||(Te=Promise))(function(we,Oe){function He(kt){try{bt(ge.next(kt))}catch(Ut){Oe(Ut)}}function mt(kt){try{bt(ge.throw(kt))}catch(Ut){Oe(Ut)}}function bt(kt){kt.done?we(kt.value):ve(kt.value).then(He,mt)}bt((ge=ge.apply(Fe,Le||[])).next())})},ot=function(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le=Fe[Symbol.asyncIterator],Te;return Le?Le.call(Fe):(Fe=typeof __values=="function"?__values(Fe):Fe[Symbol.iterator](),Te={},ge("next"),ge("throw"),ge("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function ge(we){Te[we]=Fe[we]&&function(Oe){return new Promise(function(He,mt){Oe=Fe[we](Oe),ve(He,mt,Oe.done,Oe.value)})}}function ve(we,Oe,He,mt){Promise.resolve(mt).then(function(bt){we({value:bt,done:He})},Oe)}};class dt extends F.YM{constructor(Le,Te,ge,ve){super(10,Te,Le.item.anchor.range,ge,ve,!0),this.part=Le}}let et=class extends je.D5{constructor(Le,Te,ge,ve,we,Oe){super(Le,Te,ge,ve,Oe),this._resolverService=we,this.hoverOrdinal=6}suggestHoverAnchor(Le){var Te;if(!he.get(this._editor)||Le.target.type!==6)return null;const ve=(Te=Le.target.detail.injectedText)===null||Te===void 0?void 0:Te.options;return ve instanceof _.HS&&ve.attachedData instanceof Se?new dt(ve.attachedData,this,Le.event.posx,Le.event.posy):null}computeSync(){return[]}computeAsync(Le,Te,ge){return Le instanceof dt?new S.Aq(ve=>ct(this,void 0,void 0,function*(){var we,Oe,He,mt;const{part:bt}=Le;if(yield bt.item.resolve(ge),ge.isCancellationRequested)return;let kt;typeof bt.item.hint.tooltip=="string"?kt=new se.W5().appendText(bt.item.hint.tooltip):bt.item.hint.tooltip&&(kt=bt.item.hint.tooltip),kt&&ve.emitOne(new je.hU(this,Le.range,[kt],!1,0)),(0,A.Of)(bt.item.hint.textEdits)&&ve.emitOne(new je.hU(this,Le.range,[new se.W5().appendText((0,ne.NC)("hint.dbl","Double-click to insert"))],!1,10001));let Ut;if(typeof bt.part.tooltip=="string"?Ut=new se.W5().appendText(bt.part.tooltip):bt.part.tooltip&&(Ut=bt.part.tooltip),Ut&&ve.emitOne(new je.hU(this,Le.range,[Ut],!1,1)),bt.part.location||bt.part.command){let Et;const St=this._editor.getOption(74)==="altKey"?ae.dz?(0,ne.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,ne.NC)("links.navigate.kb.meta","ctrl + click"):ae.dz?(0,ne.NC)("links.navigate.kb.alt.mac","option + click"):(0,ne.NC)("links.navigate.kb.alt","alt + click");bt.part.location&&bt.part.command?Et=new se.W5().appendText((0,ne.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",St)):bt.part.location?Et=new se.W5().appendText((0,ne.NC)("hint.def","Go to Definition ({0})",St)):bt.part.command&&(Et=new se.W5(`[${(0,ne.NC)("hint.cmd","Execute Command")}](${H(bt.part.command)} "${bt.part.command.title}") (${St})`,{isTrusted:!0})),Et&&ve.emitOne(new je.hU(this,Le.range,[Et],!1,1e4))}const ut=yield this._resolveInlayHintLabelPartHover(bt,ge);try{for(var Dt=!0,ft=ot(ut),Ft;Ft=yield ft.next(),we=Ft.done,!we;){mt=Ft.value,Dt=!1;try{const Et=mt;ve.emitOne(Et)}finally{Dt=!0}}}catch(Et){Oe={error:Et}}finally{try{!Dt&&!we&&(He=ft.return)&&(yield He.call(ft))}finally{if(Oe)throw Oe.error}}})):S.Aq.EMPTY}_resolveInlayHintLabelPartHover(Le,Te){return ct(this,void 0,void 0,function*(){if(!Le.part.location)return S.Aq.EMPTY;const{uri:ge,range:ve}=Le.part.location,we=yield this._resolverService.createModelReference(ge);try{const Oe=we.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(Oe)?(0,$e.R8)(this._languageFeaturesService.hoverProvider,Oe,new I.L(ve.startLineNumber,ve.startColumn),Te).filter(He=>!(0,se.CP)(He.hover.contents)).map(He=>new je.hU(this,Le.item.anchor.range,He.hover.contents,!1,2+He.ordinal)):S.Aq.EMPTY}finally{we.dispose()}})}};et=xe([Ke(1,Re.O),Ke(2,J.v4),Ke(3,Ce.Ui),Ke(4,D.S),Ke(5,E.p)],et),(0,c._K)(he.ID,he,1),F.Ae.register(et)},1802:function(vt,be,i){"use strict";i.d(be,{K:function(){return m},u:function(){return r}});var c=i(16563),F=i(50453),g=i(19713),A=i(22445),S=i(58295),$=i(14185),N=i(36481),x=i(49597),O=i(21760),p=i(23286),a=i(81477),d=i(64700),f=i(28382),s=function(C,u,_,b){function E(D){return D instanceof _?D:new _(function(w){w(D)})}return new(_||(_=Promise))(function(D,w){function I(z){try{K(b.next(z))}catch(Q){w(Q)}}function M(z){try{K(b.throw(z))}catch(Q){w(Q)}}function K(z){z.done?D(z.value):E(z.value).then(I,M)}K((b=b.apply(C,u||[])).next())})};function r(C,u,_,b){var E;return s(this,void 0,void 0,function*(){const D=C.get(S.S),w=C.get(a.i),I=C.get(O.H),M=C.get(d.TG),K=C.get(f.lT);if(yield b.item.resolve(g.T.None),!b.part.location)return;const z=b.part.location,Q=[],Y=new Set(x.BH.getMenuItems(x.eH.EditorContext).map(P=>(0,x.vr)(P)?P.command.id:""));for(const P of $.SymbolNavigationAction.all())Y.has(P.desc.id)&&Q.push(new F.aU(P.desc.id,x.U8.label(P.desc,{renderShortTitle:!0}),void 0,!0,()=>s(this,void 0,void 0,function*(){const X=yield D.createModelReference(z.uri);try{yield M.invokeFunction(P.run.bind(P),u,new $.SymbolNavigationAnchor(X.object.textEditorModel,A.e.getStartPosition(z.range)))}finally{X.dispose()}})));if(b.part.command){const{command:P}=b.part;Q.push(new F.Z0),Q.push(new F.aU(P.id,P.title,void 0,!0,()=>s(this,void 0,void 0,function*(){var X;try{yield I.executeCommand(P.id,...(X=P.arguments)!==null&&X!==void 0?X:[])}catch(q){K.notify({severity:f.zb.Error,source:b.item.provider.displayName,message:q})}})))}const H=u.getOption(121);w.showContextMenu({domForShadowRoot:H&&(E=u.getDomNode())!==null&&E!==void 0?E:void 0,getAnchor:()=>{const P=c.i(_);return{x:P.left,y:P.top+P.height+8}},getActions:()=>Q,onHide:()=>{u.focus()},autoSelectFirstItem:!0})})}function m(C,u,_,b){return s(this,void 0,void 0,function*(){const D=yield C.get(S.S).createModelReference(b.uri);yield _.invokeWithinContext(w=>s(this,void 0,void 0,function*(){const I=u.hasSideBySideModifier,M=w.get(p.i6),K=N.Jy.inPeekEditor.getValue(M),z=!I&&_.getOption(83)&&!K;return new $.DefinitionAction({openToSide:I,openInPeek:z,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(w,new $.SymbolNavigationAnchor(D.object.textEditorModel,A.e.getStartPosition(b.range)),A.e.lift(b.range))})),D.dispose()})}},67378:function(vt,be,i){"use strict";i.d(be,{Np:function(){return F},OW:function(){return g},Ou:function(){return c}});const c="editor.action.inlineSuggest.commit",F="editor.action.inlineSuggest.showPrevious",g="editor.action.inlineSuggest.showNext"},8346:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(45820),g=i(94162),A=i(52357),S=i(30613),$=i(90863),N=i(73805),x=i(67378),O=i(43976),p=i(33686),a=i(44516),d=i(39460),f=i(19713),s=i(50505),r=i(61842),m=i(66631),C=i(24222),u=i(22445),_=i(28170),b=i(2806),E=i(34575),D=i(5092),w=i(31891),I=i(36453);function M(De,ie){const Ie=new w.FE,We=new b.Z(Ie,Qt=>ie.getLanguageConfiguration(Qt)),nt=new I.xH(new K([De]),We),lt=(0,D.w)(nt,[],void 0,!0);let Pt="";const $t=De.getLineContent();function ti(Qt,Jt){if(Qt.kind===2)if(ti(Qt.openingBracket,Jt),Jt=(0,E.Ii)(Jt,Qt.openingBracket.length),Qt.child&&(ti(Qt.child,Jt),Jt=(0,E.Ii)(Jt,Qt.child.length)),Qt.closingBracket)ti(Qt.closingBracket,Jt),Jt=(0,E.Ii)(Jt,Qt.closingBracket.length);else{const Ci=We.getSingleLanguageBracketTokens(Qt.openingBracket.languageId).findClosingTokenText(Qt.openingBracket.bracketIds);Pt+=Ci}else if(Qt.kind!==3){if(Qt.kind===0||Qt.kind===1)Pt+=$t.substring((0,E.F_)(Jt),(0,E.F_)((0,E.Ii)(Jt,Qt.length)));else if(Qt.kind===4)for(const di of Qt.children)ti(di,Jt),Jt=(0,E.Ii)(Jt,di.length)}}return ti(lt,E.xl),Pt}class K{constructor(ie){this.lines=ie,this.tokenization={getLineTokens:Ie=>this.lines[Ie-1]}}getLineCount(){return this.lines.length}getLineLength(ie){return this.lines[ie-1].getLineContent().length}}var z=i(16978),Q=i(26340);function Y(De,ie){return{object:De,dispose:()=>ie==null?void 0:ie.dispose()}}function H(De,ie){const Ie=new P(De),We=ie.map(nt=>{const lt=u.e.lift(nt.range);return{startOffset:Ie.getOffset(lt.getStartPosition()),endOffset:Ie.getOffset(lt.getEndPosition()),text:nt.text}});We.sort((nt,lt)=>lt.startOffset-nt.startOffset);for(const nt of We)De=De.substring(0,nt.startOffset)+nt.text+De.substring(nt.endOffset);return De}class P{constructor(ie){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let Ie=0;Ie<ie.length;Ie++)ie.charAt(Ie)===`
`&&this.lineStartOffsetByLineIdx.push(Ie+1)}getOffset(ie){return this.lineStartOffsetByLineIdx[ie.lineNumber-1]+ie.column-1}}const X=[];function q(){return X}class U{constructor(ie,Ie,We=0){this.lineNumber=ie,this.parts=Ie,this.additionalReservedLineCount=We}renderForScreenReader(ie){if(this.parts.length===0)return"";const Ie=this.parts[this.parts.length-1],We=ie.substr(0,Ie.column-1);return H(We,this.parts.map(lt=>({range:{startLineNumber:1,endLineNumber:1,startColumn:lt.column,endColumn:lt.column},text:lt.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(ie=>ie.lines.length===0)}}class L{constructor(ie,Ie,We){this.column=ie,this.lines=Ie,this.preview=We}}class B{constructor(ie,Ie,We,nt,lt=0){this.lineNumber=ie,this.columnStart=Ie,this.length=We,this.newLines=nt,this.additionalReservedLineCount=lt,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(ie){return this.newLines.join(`
`)}}class j extends A.JT{constructor(ie){super(),this.editor=ie,this._expanded=void 0,this.onDidChangeEmitter=new g.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ie.onDidChangeConfiguration(Ie=>{Ie.hasChanged(112)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(ie){this._expanded=!0,this.onDidChangeEmitter.fire()}}var G=i(87721);function y(De,ie){if(!ie)return ie;const Ie=De.getValueInRange(ie.range),We=S.Mh(Ie,ie.insertText),nt=De.getOffsetAt(ie.range.getStartPosition())+We,lt=De.getPositionAt(nt),Pt=Ie.substr(We),$t=S.P1(Pt,ie.insertText),ti=De.getPositionAt(Math.max(nt,De.getOffsetAt(ie.range.getEndPosition())-$t));return{range:u.e.fromPositions(lt,ti),insertText:ie.insertText.substr(We,ie.insertText.length-We-$t),snippetInfo:ie.snippetInfo,filterText:ie.filterText,additionalTextEdits:ie.additionalTextEdits}}function pe(De,ie){return De===ie?!0:!De||!ie?!1:De.range.equalsRange(ie.range)&&De.insertText===ie.insertText&&De.command===ie.command}function ye(De,ie,Ie,We,nt=0){if(De.range.startLineNumber!==De.range.endLineNumber)return;const lt=ie.getLineContent(De.range.startLineNumber),Pt=S.V8(lt).length;if(De.range.startColumn-1<=Pt){const gi=S.V8(De.insertText).length,Ei=lt.substring(De.range.startColumn-1,Pt),Pi=u.e.fromPositions(De.range.getStartPosition().delta(0,Ei.length),De.range.getEndPosition()),tn=De.insertText.startsWith(Ei)?De.insertText.substring(Ei.length):De.insertText.substring(gi);De={range:Pi,insertText:tn,command:De.command,snippetInfo:void 0,filterText:De.filterText,additionalTextEdits:De.additionalTextEdits}}const ti=ie.getValueInRange(De.range),Qt=Se(ti,De.insertText);if(!Qt)return;const Jt=De.range.startLineNumber,di=new Array;if(Ie==="prefix"){const gi=Qt.filter(Ei=>Ei.originalLength===0);if(gi.length>1||gi.length===1&&gi[0].originalStart!==ti.length)return}const Ci=De.insertText.length-nt;for(const gi of Qt){const Ei=De.range.startColumn+gi.originalStart+gi.originalLength;if(Ie==="subwordSmart"&&We&&We.lineNumber===De.range.startLineNumber&&Ei<We.column||gi.originalLength>0)return;if(gi.modifiedLength===0)continue;const Pi=gi.modifiedStart+gi.modifiedLength,tn=Math.max(gi.modifiedStart,Math.min(Pi,Ci)),an=De.insertText.substring(gi.modifiedStart,tn),nn=De.insertText.substring(tn,Math.max(gi.modifiedStart,Pi));if(an.length>0){const cn=S.uq(an);di.push(new L(Ei,cn,!1))}if(nn.length>0){const cn=S.uq(nn);di.push(new L(Ei,cn,!0))}}return new U(Jt,di,0)}let me;function Se(De,ie){if((me==null?void 0:me.originalValue)===De&&(me==null?void 0:me.newValue)===ie)return me==null?void 0:me.changes;{let Ie=he(De,ie,!0);if(Ie){const We=_e(Ie);if(We>0){const nt=he(De,ie,!1);nt&&_e(nt)<We&&(Ie=nt)}}return me={originalValue:De,newValue:ie,changes:Ie},Ie}}function _e(De){let ie=0;for(const Ie of De)ie+=Ie.originalLength;return ie}function he(De,ie,Ie){if(De.length>5e3||ie.length>5e3)return;function We(Qt){let Jt=0;for(let di=0,Ci=Qt.length;di<Ci;di++){const gi=Qt.charCodeAt(di);gi>Jt&&(Jt=gi)}return Jt}const nt=Math.max(We(De),We(ie));function lt(Qt){if(Qt<0)throw new Error("unexpected");return nt+Qt+1}function Pt(Qt){let Jt=0,di=0;const Ci=new Int32Array(Qt.length);for(let gi=0,Ei=Qt.length;gi<Ei;gi++)if(Ie&&Qt[gi]==="("){const Pi=di*100+Jt;Ci[gi]=lt(2*Pi),Jt++}else if(Ie&&Qt[gi]===")"){Jt=Math.max(Jt-1,0);const Pi=di*100+Jt;Ci[gi]=lt(2*Pi+1),Jt===0&&di++}else Ci[gi]=Qt.charCodeAt(gi);return Ci}const $t=Pt(De),ti=Pt(ie);return new G.Hs({getElements:()=>$t},{getElements:()=>ti}).ComputeDiff(!1).changes}var le=i(97476),se=i(68572),Re=i(90248),$e=i(21760),je=i(64464),Ce=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},J=function(De,ie){return function(Ie,We){ie(Ie,We,De)}},ne=function(De,ie,Ie,We){function nt(lt){return lt instanceof Ie?lt:new Ie(function(Pt){Pt(lt)})}return new(Ie||(Ie=Promise))(function(lt,Pt){function $t(Jt){try{Qt(We.next(Jt))}catch(di){Pt(di)}}function ti(Jt){try{Qt(We.throw(Jt))}catch(di){Pt(di)}}function Qt(Jt){Jt.done?lt(Jt.value):nt(Jt.value).then($t,ti)}Qt((We=We.apply(De,ie||[])).next())})};let ae=class extends A.JT{constructor(ie,Ie,We,nt,lt,Pt,$t){super(),this.editor=ie,this.cache=Ie,this.commandService=We,this.languageConfigurationService=nt,this.languageFeaturesService=lt,this.debounceService=Pt,this.onDidChangeEmitter=new g.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new A.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(We.onDidExecuteCommand(ti=>{new Set([m.CoreEditingCommands.Tab.id,m.CoreEditingCommands.DeleteLeft.id,m.CoreEditingCommands.DeleteRight.id,x.Ou,"acceptSelectedSuggestion"]).has(ti.commandId)&&ie.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(ti=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(ti=>{(ti.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,A.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{$t.getValue("editor.inlineSuggest.hideOnBlur")||le.Q.dropDownVisible||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var ie;return(ie=this.session)===null||ie===void 0?void 0:ie.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(ie){var Ie;(Ie=this.session)===null||Ie===void 0||Ie.setExpanded(ie)}setActive(ie){var Ie;this.active=ie,ie&&((Ie=this.session)===null||Ie===void 0||Ie.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(59).enabled&&(this.session&&this.session.isValid||this.trigger(p.bw.Automatic))}trigger(ie){if(this.completionSession.value){ie===p.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new xe(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,ie,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var ie;(ie=this.session)===null||ie===void 0||ie.commitCurrentCompletion()}commitCurrentSuggestionPartially(){var ie;(ie=this.session)===null||ie===void 0||ie.commitCurrentCompletionNextWord()}showNext(){var ie;(ie=this.session)===null||ie===void 0||ie.showNextInlineCompletion()}showPrevious(){var ie;(ie=this.session)===null||ie===void 0||ie.showPreviousInlineCompletion()}};ae=Ce([J(2,$e.H),J(3,_.c_),J(4,Q.p),J(5,z.A),J(6,je.Ui)],ae);class xe extends j{constructor(ie,Ie,We,nt,lt,Pt,$t,ti,Qt){super(ie),this.triggerPosition=Ie,this.shouldUpdate=We,this.commandService=nt,this.cache=lt,this.initialTriggerKind=Pt,this.languageConfigurationService=$t,this.registry=ti,this.debounce=Qt,this.minReservedLineCount=0,this.updateOperation=this._register(new A.XK),this.updateSoon=this._register(new d.pY(()=>{const di=this.initialTriggerKind;return this.initialTriggerKind=p.bw.Automatic,this.update(di)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let Jt;this._register(this.onDidChange(()=>{var di;const Ci=this.currentCompletion;if(Ci&&Ci.sourceInlineCompletion!==Jt){Jt=Ci.sourceInlineCompletion;const gi=Ci.sourceProvider;(di=gi.handleItemDidShow)===null||di===void 0||di.call(gi,Ci.sourceInlineCompletions,Jt)}})),this._register((0,A.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(di=>{var Ci;di.reason!==3&&((Ci=this.cache.value)===null||Ci===void 0||Ci.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(di=>{var Ci;(Ci=this.cache.value)===null||Ci===void 0||Ci.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const ie=this.editor.getModel(),Ie=ie.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(We=>{const nt=ie.getValueInRange(We.synchronizedRange).toLowerCase(),lt=We.inlineCompletion.filterText.toLowerCase(),Pt=ie.getLineIndentColumn(We.synchronizedRange.startLineNumber),$t=Math.max(0,Ie.column-We.synchronizedRange.startColumn);let ti=lt.substring(0,$t),Qt=lt.substring($t),Jt=nt.substring(0,$t),di=nt.substring($t);return We.synchronizedRange.startColumn<=Pt&&(Jt=Jt.trimStart(),Jt.length===0&&(di=di.trimStart()),ti=ti.trimStart(),ti.length===0&&(Qt=Qt.trimStart())),ti.startsWith(Jt)&&(0,r.Sy)(di,Qt)})}get currentlySelectedIndex(){return this.fixAndGetIndexOfCurrentSelection()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const ie=this.filteredCompletions.findIndex(Ie=>Ie.semanticId===this.currentlySelectedCompletionId);return ie===-1?(this.currentlySelectedCompletionId=void 0,0):ie}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return ne(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ie=this.filteredCompletions||[];if(ie.length>0){const Ie=(this.fixAndGetIndexOfCurrentSelection()+1)%ie.length;this.currentlySelectedCompletionId=ie[Ie].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return ne(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ie=this.filteredCompletions||[];if(ie.length>0){const Ie=(this.fixAndGetIndexOfCurrentSelection()+ie.length-1)%ie.length;this.currentlySelectedCompletionId=ie[Ie].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}get hasBeenTriggeredExplicitly(){var ie;return((ie=this.cache.value)===null||ie===void 0?void 0:ie.triggerKind)===p.bw.Explicit}ensureUpdateWithExplicitContext(){var ie;return ne(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===p.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(p.bw.Explicit):((ie=this.cache.value)===null||ie===void 0?void 0:ie.triggerKind)!==p.bw.Explicit&&(yield this.update(p.bw.Explicit))})}getInlineCompletionsCountSync(){return this.filteredCompletions.length||0}get ghostText(){const ie=this.currentCompletion;if(!ie)return;const Ie=this.editor.getPosition();if(ie.range.getEndPosition().isBefore(Ie))return;const We=this.editor.getOptions().get(59).mode,nt=ye(ie,this.editor.getModel(),We,Ie);return nt?nt.isEmpty()?void 0:nt:new B(ie.range.startLineNumber,ie.range.startColumn,ie.range.endColumn-ie.range.startColumn,ie.insertText.split(`
`),0)}get currentCompletion(){const ie=this.currentCachedCompletion;if(ie)return ie.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(ie){return ne(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const Ie=this.editor.getPosition(),We=new Date,nt=(0,d.PG)(Pt=>ne(this,void 0,void 0,function*(){let $t;try{$t=yield dt(this.registry,Ie,this.editor.getModel(),{triggerKind:ie,selectedSuggestionInfo:void 0},Pt,this.languageConfigurationService);const ti=new Date;this.debounce.update(this.editor.getModel(),ti.getTime()-We.getTime())}catch(ti){(0,s.dL)(ti);return}Pt.isCancellationRequested||(this.cache.setValue(this.editor,$t,ie),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),lt=new Ke(nt,ie);this.updateOperation.value=lt,yield nt,this.updateOperation.value===lt&&this.updateOperation.clear()})}takeOwnership(ie){this._register(ie)}commitCurrentCompletionNextWord(){const ie=this.ghostText;if(!ie)return;const Ie=this.currentCompletion;if(!Ie)return;if(Ie.snippetInfo||Ie.filterText!==Ie.insertText){this.commit(Ie);return}if(ie.parts.length===0)return;const We=ie.parts[0],nt=new O.L(ie.lineNumber,We.column),lt=We.lines[0],Pt=this.editor.getModel().getLanguageIdAtPosition(ie.lineNumber,1),$t=this.languageConfigurationService.getLanguageConfiguration(Pt),ti=new RegExp($t.wordDefinition.source,$t.wordDefinition.flags.replace("g","")),Qt=lt.match(ti);let Jt=0;Qt&&Qt.index!==void 0?Qt.index===0?Jt=Qt[0].length:Jt=Qt.index:Jt=lt.length;const di=/\s/g;let Ci=di.exec(lt);Ci&&Ci.index===0&&(Ci=di.exec(lt)),Ci&&Ci.index!==void 0&&Ci.index<Jt&&(Jt=Ci.index);const gi=lt.substring(0,Jt);if(this.editor.pushUndoStop(),this.editor.executeEdits("inlineSuggestion.accept",[C.h.replace(u.e.fromPositions(nt),gi)]),this.editor.setPosition(nt.delta(0,gi.length)),Ie.sourceProvider.handlePartialAccept){const Ei=u.e.fromPositions(Ie.range.getStartPosition(),nt.delta(0,Jt)),Pi=this.editor.getModel().getValueInRange(Ei);Ie.sourceProvider.handlePartialAccept(Ie.sourceInlineCompletions,Ie.sourceInlineCompletion,Pi.length)}}commitCurrentCompletion(){if(!this.ghostText)return;const Ie=this.currentCompletion;Ie&&this.commit(Ie)}commit(ie){var Ie;const We=this.cache.clearAndLeak();this.editor.pushUndoStop(),ie.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[C.h.replaceMove(ie.range,""),...ie.additionalTextEdits]),this.editor.setPosition(ie.snippetInfo.range.getStartPosition()),(Ie=se.SnippetController2.get(this.editor))===null||Ie===void 0||Ie.insert(ie.snippetInfo.snippet,{undoStopBefore:!1})):this.editor.executeEdits("inlineSuggestion.accept",[C.h.replaceMove(ie.range,ie.insertText),...ie.additionalTextEdits]),ie.command?this.commandService.executeCommand(ie.command.id,...ie.command.arguments||[]).finally(()=>{We==null||We.dispose()}).then(void 0,s.Cp):We==null||We.dispose(),this.onDidChangeEmitter.fire()}get commands(){var ie;return[...new Set(((ie=this.cache.value)===null||ie===void 0?void 0:ie.completions.map(We=>We.inlineCompletion.sourceInlineCompletions))||[])].flatMap(We=>We.commands||[])}}class Ke{constructor(ie,Ie){this.promise=ie,this.triggerKind=Ie}dispose(){this.promise.cancel()}}class ct extends A.JT{constructor(ie,Ie,We,nt){super(),this.editor=Ie,this.onChange=We,this.triggerKind=nt,this.isDisposing=!1;const lt=Ie.changeDecorations(Pt=>Pt.deltaDecorations([],ie.items.map($t=>({range:$t.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,A.OF)(()=>{this.isDisposing=!0,Ie.removeDecorations(lt)})),this.completions=ie.items.map((Pt,$t)=>new ot(Pt,lt[$t])),this._register(Ie.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(ie)}updateRanges(){if(this.isDisposing)return;let ie=!1;const Ie=this.editor.getModel();for(const We of this.completions){const nt=Ie.getDecorationRange(We.decorationId);if(!nt){(0,s.dL)(new Error("Decoration has no range"));continue}We.synchronizedRange.equalsRange(nt)||(ie=!0,We.synchronizedRange=nt)}ie&&this.onChange()}}class ot{constructor(ie,Ie){this.inlineCompletion=ie,this.decorationId=Ie,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=ie.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function dt(De,ie,Ie,We,nt=f.T.None,lt){return ne(this,void 0,void 0,function*(){const Pt=et(ie,Ie),$t=De.all(Ie),ti=yield Promise.all($t.map(Jt=>ne(this,void 0,void 0,function*(){const di=yield Promise.resolve(Jt.provideInlineCompletions(Ie,ie,We,nt)).catch(s.Cp);return{completions:di,provider:Jt,dispose:()=>{di&&Jt.freeInlineCompletions(di)}}}))),Qt=new Map;for(const Jt of ti){const di=Jt.completions;if(di)for(const Ci of di.items){let gi=Ci.range?u.e.lift(Ci.range):Pt;if(gi.startLineNumber!==gi.endLineNumber)continue;let Ei,Pi;if(typeof Ci.insertText=="string"){if(Ei=Ci.insertText,lt&&Ci.completeBracketPairs){Ei=Fe(Ei,gi.getStartPosition(),Ie,lt);const an=Ei.length-Ci.insertText.length;an!==0&&(gi=new u.e(gi.startLineNumber,gi.startColumn,gi.endLineNumber,gi.endColumn+an))}Pi=void 0}else if("snippet"in Ci.insertText){const an=Ci.insertText.snippet.length;if(lt&&Ci.completeBracketPairs){Ci.insertText.snippet=Fe(Ci.insertText.snippet,gi.getStartPosition(),Ie,lt);const cn=Ci.insertText.snippet.length-an;cn!==0&&(gi=new u.e(gi.startLineNumber,gi.startColumn,gi.endLineNumber,gi.endColumn+cn))}const nn=new Re.Yj().parse(Ci.insertText.snippet);nn.children.length===1&&nn.children[0]instanceof Re.xv?(Ei=nn.children[0].value,Pi=void 0):(Ei=nn.toString(),Pi={snippet:Ci.insertText.snippet,range:gi})}else(0,a.vE)(Ci.insertText);const tn={insertText:Ei,snippetInfo:Pi,range:gi,command:Ci.command,sourceProvider:Jt.provider,sourceInlineCompletions:di,sourceInlineCompletion:Ci,filterText:Ci.filterText||Ei,additionalTextEdits:Ci.additionalTextEdits||q()};Qt.set(JSON.stringify({insertText:Ei,range:Ci.range}),tn)}}return{items:[...Qt.values()],dispose:()=>{for(const Jt of ti)Jt.dispose()}}})}function et(De,ie){const Ie=ie.getWordAtPosition(De),We=ie.getLineMaxColumn(De.lineNumber);return Ie?new u.e(De.lineNumber,Ie.startColumn,De.lineNumber,We):u.e.fromPositions(De,De.with(void 0,We))}function Fe(De,ie,Ie,We){const lt=Ie.getLineContent(ie.lineNumber).substring(0,ie.column-1)+De,Pt=Ie.tokenization.tokenizeLineWithEdit(ie,lt.length-(ie.column-1),De),$t=Pt==null?void 0:Pt.sliceAndInflate(ie.column-1,lt.length,0);return $t?M($t,We):De}var Le=i(16842),Te=i(82769),ge=i(50301);class ve extends A.JT{get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}constructor(ie,Ie){super(),this.editor=ie,this.suggestControllerPreselector=Ie,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new g.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ie.onKeyDown(nt=>{nt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(ie.onKeyUp(nt=>{nt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const We=ge.SuggestController.get(this.editor);if(We){this._register(We.registerSelector({priority:100,select:(Pt,$t,ti)=>{const Qt=this.editor.getModel(),Jt=y(Qt,this.suggestControllerPreselector());if(!Jt)return-1;const di=O.L.lift($t),Ci=ti.map((Ei,Pi)=>{const tn=He(We,di,Ei,this.isShiftKeyPressed),an=y(Qt,tn==null?void 0:tn.normalizedInlineCompletion);if(!an)return;const nn=we(Jt.range,an.range)&&Jt.insertText.startsWith(an.insertText);return{index:Pi,valid:nn,prefixLength:an.insertText.length,suggestItem:Ei}}).filter(Ei=>Ei&&Ei.valid),gi=(0,Le.Dc)(Ci,(0,Le.tT)(Ei=>Ei.prefixLength,Le.fv));return gi?gi.index:-1}}));let nt=!1;const lt=()=>{nt||(nt=!0,this._register(We.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(We.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(We.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(g.ju.once(We.model.onDidTrigger)(Pt=>{lt()}))}this.update(this._isActive)}update(ie){const Ie=this.getSuggestItemInfo();let We=!1;Oe(this._currentSuggestItemInfo,Ie)||(this._currentSuggestItemInfo=Ie,We=!0),this._isActive!==ie&&(this._isActive=ie,We=!0),We&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const ie=ge.SuggestController.get(this.editor);if(!ie||!this.isSuggestWidgetVisible)return;const Ie=ie.widget.value.getFocusedItem();if(Ie)return He(ie,this.editor.getPosition(),Ie.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const ie=ge.SuggestController.get(this.editor);ie==null||ie.stopForceRenderingAbove()}forceRenderingAbove(){const ie=ge.SuggestController.get(this.editor);ie==null||ie.forceRenderingAbove()}}function we(De,ie){return ie.startLineNumber===De.startLineNumber&&ie.startColumn===De.startColumn&&(ie.endLineNumber<De.endLineNumber||ie.endLineNumber===De.endLineNumber&&ie.endColumn<=De.endColumn)}function Oe(De,ie){return De===ie?!0:!De||!ie?!1:De.completionItemKind===ie.completionItemKind&&De.isSnippetText===ie.isSnippetText&&pe(De.normalizedInlineCompletion,ie.normalizedInlineCompletion)}function He(De,ie,Ie,We){if(Array.isArray(Ie.completion.additionalTextEdits)&&Ie.completion.additionalTextEdits.length>0)return{completionItemKind:Ie.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:u.e.fromPositions(ie,ie),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:nt}=Ie.completion,lt=!1;if(Ie.completion.insertTextRules&4){const $t=new Re.Yj().parse(nt),ti=De.editor.getModel();if($t.children.length>100)return;Te.l.adjustWhitespace(ti,ie,!0,$t),nt=$t.toString(),lt=!0}const Pt=De.getOverwriteInfo(Ie,We);return{isSnippetText:lt,completionItemKind:Ie.completion.kind,normalizedInlineCompletion:{insertText:nt,filterText:nt,range:u.e.fromPositions(ie.delta(0,-Pt.overwriteBefore),ie.delta(0,Math.max(Pt.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var mt=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},bt=function(De,ie){return function(Ie,We){ie(Ie,We,De)}},kt=function(De,ie,Ie,We){function nt(lt){return lt instanceof Ie?lt:new Ie(function(Pt){Pt(lt)})}return new(Ie||(Ie=Promise))(function(lt,Pt){function $t(Jt){try{Qt(We.next(Jt))}catch(di){Pt(di)}}function ti(Jt){try{Qt(We.throw(Jt))}catch(di){Pt(di)}}function Qt(Jt){Jt.done?lt(Jt.value):nt(Jt.value).then($t,ti)}Qt((We=We.apply(De,ie||[])).next())})};let Ut=class extends j{get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}constructor(ie,Ie,We){super(ie),this.cache=Ie,this.languageFeaturesService=We,this.suggestionInlineCompletionSource=this._register(new ve(this.editor,()=>{var nt,lt,Pt;return(nt=this.cache.value)===null||nt===void 0||nt.updateRanges(),(Pt=(lt=this.cache.value)===null||lt===void 0?void 0:lt.completions[0])===null||Pt===void 0?void 0:Pt.toLiveInlineCompletion()})),this.updateOperation=this._register(new A.XK),this.updateCacheSoon=this._register(new d.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const lt=this.ghostText;lt&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,ut(lt.parts.map(Pt=>Pt.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(nt=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,A.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}isSuggestionPreviewEnabled(){return this.editor.getOption(112).preview}updateCache(){return kt(this,void 0,void 0,function*(){const ie=this.suggestionInlineCompletionSource.state;if(!ie||!ie.selectedItem)return;const Ie={text:ie.selectedItem.normalizedInlineCompletion.insertText,range:ie.selectedItem.normalizedInlineCompletion.range,isSnippetText:ie.selectedItem.isSnippetText,completionKind:ie.selectedItem.completionItemKind},We=this.editor.getPosition();if(ie.selectedItem.isSnippetText||ie.selectedItem.completionItemKind===27||ie.selectedItem.completionItemKind===20||ie.selectedItem.completionItemKind===23){this.cache.clear();return}const nt=(0,d.PG)(Pt=>kt(this,void 0,void 0,function*(){let $t;try{$t=yield dt(this.languageFeaturesService.inlineCompletionsProvider,We,this.editor.getModel(),{triggerKind:p.bw.Automatic,selectedSuggestionInfo:Ie},Pt)}catch(ti){(0,s.dL)(ti);return}if(Pt.isCancellationRequested){$t.dispose();return}this.cache.setValue(this.editor,$t,p.bw.Automatic),this.onDidChangeEmitter.fire()})),lt=new Ke(nt,p.bw.Automatic);this.updateOperation.value=lt,yield nt,this.updateOperation.value===lt&&this.updateOperation.clear()})}get ghostText(){var ie,Ie,We;const nt=this.isSuggestionPreviewEnabled(),lt=this.editor.getModel(),Pt=y(lt,(Ie=(ie=this.cache.value)===null||ie===void 0?void 0:ie.completions[0])===null||Ie===void 0?void 0:Ie.toLiveInlineCompletion()),$t=this.suggestionInlineCompletionSource.state,ti=y(lt,(We=$t==null?void 0:$t.selectedItem)===null||We===void 0?void 0:We.normalizedInlineCompletion),Qt=Pt&&ti&&Pt.insertText.startsWith(ti.insertText)&&Dt(Pt.range,ti.range);if(!nt&&!Qt)return;const Jt=Qt?Pt:ti||Pt,di=Qt?Jt.insertText.length-ti.insertText.length:0;return this.toGhostText(Jt,di)}toGhostText(ie,Ie){const We=this.editor.getOptions().get(112).previewMode;return ie?ye(ie,this.editor.getModel(),We,this.editor.getPosition(),Ie)||new U(ie.range.endLineNumber,[],this.minReservedLineCount):void 0}};Ut=mt([bt(2,Q.p)],Ut);function ut(De){return De.reduce((ie,Ie)=>ie+Ie,0)}function Dt(De,ie){return De.startLineNumber===ie.startLineNumber&&De.startColumn===ie.startColumn&&(De.endLineNumber===ie.endLineNumber&&De.endColumn>=ie.endColumn||De.endLineNumber>ie.endLineNumber)}var ft=i(64700),Ft=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},Et=function(De,ie){return function(Ie,We){ie(Ie,We,De)}};class Ze extends A.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new g.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new A.XK)}get targetModel(){var ie;return(ie=this.currentModelRef.value)===null||ie===void 0?void 0:ie.object}setTargetModel(ie){var Ie;((Ie=this.currentModelRef.value)===null||Ie===void 0?void 0:Ie.object)!==ie&&(this.currentModelRef.clear(),this.currentModelRef.value=ie?Y(ie,ie.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var ie,Ie;return this.hasCachedGhostText||(this.cachedGhostText=(Ie=(ie=this.currentModelRef.value)===null||ie===void 0?void 0:ie.object)===null||Ie===void 0?void 0:Ie.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(ie){var Ie;(Ie=this.targetModel)===null||Ie===void 0||Ie.setExpanded(ie)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let St=class extends Ze{get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}constructor(ie,Ie){super(),this.editor=ie,this.instantiationService=Ie,this.sharedCache=this._register(new jt),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(Ut,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ae,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(ie){var Ie;const We=(Ie=this.activeInlineCompletionsModel)===null||Ie===void 0?void 0:Ie.ghostText;return We?We.parts.some(nt=>ie.containsPosition(new O.L(We.lineNumber,nt.column))):!1}triggerInlineCompletion(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.trigger(p.bw.Explicit)}commitInlineCompletion(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.commitCurrentSuggestion()}commitInlineCompletionPartially(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.commitCurrentSuggestionPartially()}hideInlineCompletion(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.hide()}showNextInlineCompletion(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.showNext()}showPreviousInlineCompletion(){var ie;(ie=this.activeInlineCompletionsModel)===null||ie===void 0||ie.showPrevious()}};St=Ft([Et(1,ft.TG)],St);class jt extends A.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new g.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new A.XK)}get value(){return this.cache.value}setValue(ie,Ie,We){this.cache.value=new ct(Ie,ie,()=>this.onDidChangeEmitter.fire(),We)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Ct=i(16563),_t=i(99144),Kt=i(32052),Zt=i(28273),li=i(82336),ri=i(48117),Ui=i(18426),on=i(47004),Qi=i(8101),un=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},Sn=function(De,ie){return function(Ie,We){ie(Ie,We,De)}},bn;const Cn=(bn=window.trustedTypes)===null||bn===void 0?void 0:bn.createPolicy("editorGhostText",{createHTML:De=>De});let Fi=class extends A.JT{constructor(ie,Ie,We,nt){super(),this.editor=ie,this.model=Ie,this.instantiationService=We,this.languageService=nt,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(rn,this.editor)),this.additionalLinesWidget=this._register(new pn(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new On(this.editor)),this._register(this.editor.onDidChangeConfiguration(lt=>{(lt.hasChanged(30)||lt.hasChanged(111)||lt.hasChanged(93)||lt.hasChanged(88)||lt.hasChanged(48)||lt.hasChanged(47)||lt.hasChanged(63))&&this.update()})),this._register((0,A.OF)(()=>{var lt;this.disposed=!0,this.update(),(lt=this.viewMoreContentWidget)===null||lt===void 0||lt.dispose(),this.viewMoreContentWidget=void 0})),this._register(Ie.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(ie){return this.additionalLinesWidget.viewZoneId===ie}update(){var ie;const Ie=this.model.ghostText;if(!this.editor.hasModel()||!Ie||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const We=new Array,nt=new Array;function lt(Qt,Jt){if(nt.length>0){const di=nt[nt.length-1];Jt&&di.decorations.push(new on.Kp(di.content.length+1,di.content.length+1+Qt[0].length,Jt,0)),di.content+=Qt[0],Qt=Qt.slice(1)}for(const di of Qt)nt.push({content:di,decorations:Jt?[new on.Kp(1,di.length+1,Jt,0)]:[]})}Ie instanceof B?this.replacementDecoration.setDecorations([{range:new u.e(Ie.lineNumber,Ie.columnStart,Ie.lineNumber,Ie.columnStart+Ie.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const Pt=this.editor.getModel().getLineContent(Ie.lineNumber);let $t,ti=0;for(const Qt of Ie.parts){let Jt=Qt.lines;$t===void 0?(We.push({column:Qt.column,text:Jt[0],preview:Qt.preview}),Jt=Jt.slice(1)):lt([Pt.substring(ti,Qt.column-1)],void 0),Jt.length>0&&(lt(Jt,"ghost-text"),$t===void 0&&Qt.column<=Pt.length&&($t=Qt.column)),ti=Qt.column-1}$t!==void 0&&lt([Pt.substring(ti)],void 0),this.partsWidget.setParts(Ie.lineNumber,We,$t!==void 0?{column:$t,length:Pt.length+1-$t}:void 0),this.additionalLinesWidget.updateLines(Ie.lineNumber,nt,Ie.additionalReservedLineCount),(ie=this.viewMoreContentWidget)===null||ie===void 0||ie.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(ie,Ie,We){const nt=this.editor.getOption(47),lt=document.createElement("div");lt.className="suggest-preview-additional-widget",(0,_t.N)(lt,nt);const Pt=document.createElement("span");Pt.className="content-spacer",Pt.append(Ie),lt.append(Pt);const $t=document.createElement("span");$t.className="content-newline suggest-preview-text",$t.append("\u23CE  "),lt.append($t);const ti=new A.SL,Qt=document.createElement("div");return Qt.className="button suggest-preview-text",Qt.append(`+${We} lines\u2026`),ti.add(Ct.mu(Qt,"mousedown",Jt=>{var di;(di=this.model)===null||di===void 0||di.setExpanded(!0),Jt.preventDefault(),this.editor.focus()})),lt.append(Qt),new Mt(this.editor,ie,lt,ti)}};Fi=un([Sn(2,ft.TG),Sn(3,Ui.O)],Fi);class On{constructor(ie){this.editor=ie,this.decorationIds=[]}setDecorations(ie){this.editor.changeDecorations(Ie=>{this.decorationIds=Ie.deltaDecorations(this.decorationIds,ie)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class rn{constructor(ie){this.editor=ie,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(ie=>{this.decorationIds=ie.deltaDecorations(this.decorationIds,[])})}setParts(ie,Ie,We){if(!this.editor.getModel())return;const lt=new Array;We&&lt.push({range:u.e.fromPositions(new O.L(ie,We.column),new O.L(ie,We.column+We.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(Pt=>{this.decorationIds=Pt.deltaDecorations(this.decorationIds,Ie.map($t=>({range:u.e.fromPositions(new O.L(ie,$t.column)),options:{description:"ghost-text",after:{content:$t.text,inlineClassName:$t.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:ri.RM.Left},showIfCollapsed:!0}})).concat(lt))})}}class pn{get viewZoneId(){return this._viewZoneId}constructor(ie,Ie){this.editor=ie,this.languageIdCodec=Ie,this._viewZoneId=void 0}dispose(){this.clear()}clear(){this.editor.changeViewZones(ie=>{this._viewZoneId&&(ie.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(ie,Ie,We){const nt=this.editor.getModel();if(!nt)return;const{tabSize:lt}=nt.getOptions();this.editor.changeViewZones(Pt=>{this._viewZoneId&&(Pt.removeZone(this._viewZoneId),this._viewZoneId=void 0);const $t=Math.max(Ie.length,We);if($t>0){const ti=document.createElement("div");ui(ti,lt,Ie,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Pt.addZone({afterLineNumber:ie,heightInLines:$t,domNode:ti,afterColumnAffinity:1})}})}}function ui(De,ie,Ie,We,nt){const lt=We.get(30),Pt=We.get(111),$t="none",ti=We.get(88),Qt=We.get(48),Jt=We.get(47),di=We.get(63),Ci=new li.HT(1e4);Ci.appendString('<div class="suggest-preview-text">');for(let Pi=0,tn=Ie.length;Pi<tn;Pi++){const an=Ie[Pi],nn=an.content;Ci.appendString('<div class="view-line'),Ci.appendString('" style="top:'),Ci.appendString(String(Pi*di)),Ci.appendString('px;width:1000000px;">');const cn=S.$i(nn),En=S.Ut(nn),Rn=Zt.A.createEmpty(nn,nt);(0,Qi.d1)(new Qi.IJ(Jt.isMonospace&&!lt,Jt.canUseHalfwidthRightwardsArrow,nn,!1,cn,En,0,Rn,an.decorations,ie,0,Jt.spaceWidth,Jt.middotWidth,Jt.wsmiddotWidth,Pt,$t,ti,Qt!==Kt.n0.OFF,null),Ci),Ci.appendString("</div>")}Ci.appendString("</div>"),(0,_t.N)(De,Jt);const gi=Ci.build(),Ei=Cn?Cn.createHTML(gi):gi;De.innerHTML=Ei}class Mt extends A.JT{constructor(ie,Ie,We,nt){super(),this.editor=ie,this.position=Ie,this.domNode=We,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(nt),this._register((0,A.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}var At=i(15779),Wt=i(49597),qt=i(23286),at=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},Ve=function(De,ie){return function(Ie,We){ie(Ie,We,De)}},ze=function(De,ie,Ie,We){function nt(lt){return lt instanceof Ie?lt:new Ie(function(Pt){Pt(lt)})}return new(Ie||(Ie=Promise))(function(lt,Pt){function $t(Jt){try{Qt(We.next(Jt))}catch(di){Pt(di)}}function ti(Jt){try{Qt(We.throw(Jt))}catch(di){Pt(di)}}function Qt(Jt){Jt.done?lt(Jt.value):nt(Jt.value).then($t,ti)}Qt((We=We.apply(De,ie||[])).next())})};let Ae=class xd extends A.JT{static get(ie){return ie.getContribution(xd.ID)}get activeModel(){var ie;return(ie=this.activeController.value)===null||ie===void 0?void 0:ie.model}constructor(ie,Ie,We){super(),this.editor=ie,this.instantiationService=Ie,this.contextKeyService=We,this.triggeredExplicitly=!1,this.activeController=this._register(new A.XK),this.activeModelDidChangeEmitter=this._register(new g.Q5),this.firstUndoableVersionId=void 0,this.alwaysShowInlineSuggestionToolbar=xd.alwaysShowInlineSuggestionToolbar.bindTo(this.contextKeyService),this._register(this.editor.onDidChangeModelContent(nt=>{var lt;(!nt.isUndoing||this.firstUndoableVersionId&&this.editor.getModel().getAlternativeVersionId()<this.firstUndoableVersionId)&&((lt=this.activeController.value)===null||lt===void 0||lt.contextKeys.canUndoInlineSuggestion.reset(),this.firstUndoableVersionId=void 0)})),this._register(this.editor.onDidChangeCursorPosition(nt=>{var lt;nt.reason===3&&((lt=this.activeController.value)===null||lt===void 0||lt.contextKeys.canUndoInlineSuggestion.reset(),this.firstUndoableVersionId=void 0)})),this._register(this.editor.onDidChangeModel(()=>{this.update()})),this._register(this.editor.onDidChangeConfiguration(nt=>{(nt.hasChanged(112)||nt.hasChanged(59))&&this.update()})),this.update()}update(){const ie=this.editor.getOption(112),Ie=this.editor.getOption(59);this.alwaysShowInlineSuggestionToolbar.set(Ie.showToolbar==="always");const We=this.editor.hasModel()&&(ie.preview||Ie.enabled||this.triggeredExplicitly);We!==!!this.activeController.value&&(this.activeController.value=void 0,this.activeController.value=We?this.instantiationService.createInstance(st,this.editor):void 0,this.activeModelDidChangeEmitter.fire())}shouldShowHoverAt(ie){var Ie;return((Ie=this.activeModel)===null||Ie===void 0?void 0:Ie.shouldShowHoverAt(ie))||!1}shouldShowHoverAtViewZone(ie){var Ie,We;return((We=(Ie=this.activeController.value)===null||Ie===void 0?void 0:Ie.widget)===null||We===void 0?void 0:We.shouldShowHoverAtViewZone(ie))||!1}trigger(){var ie;this.triggeredExplicitly=!0,this.activeController.value||this.update(),(ie=this.activeModel)===null||ie===void 0||ie.triggerInlineCompletion()}commitPartially(){var ie,Ie,We;const nt=this.firstUndoableVersionId;(ie=this.activeModel)===null||ie===void 0||ie.commitInlineCompletionPartially(),(We=(Ie=this.activeController)===null||Ie===void 0?void 0:Ie.value)===null||We===void 0||We.contextKeys.canUndoInlineSuggestion.set(!0),this.firstUndoableVersionId=nt!=null?nt:this.editor.getModel().getAlternativeVersionId()}commit(){var ie;(ie=this.activeModel)===null||ie===void 0||ie.commitInlineCompletion()}hide(){var ie;(ie=this.activeModel)===null||ie===void 0||ie.hideInlineCompletion()}showNextInlineCompletion(){var ie;(ie=this.activeModel)===null||ie===void 0||ie.showNextInlineCompletion()}showPreviousInlineCompletion(){var ie;(ie=this.activeModel)===null||ie===void 0||ie.showPreviousInlineCompletion()}};Ae.inlineSuggestionVisible=new qt.uy("inlineSuggestionVisible",!1,At.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Ae.inlineSuggestionHasIndentation=new qt.uy("inlineSuggestionHasIndentation",!1,At.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Ae.inlineSuggestionHasIndentationLessThanTabSize=new qt.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,At.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Ae.canUndoInlineSuggestion=new qt.uy("canUndoInlineSuggestion",!1,At.NC("canUndoInlineSuggestion","Whether undo would undo an inline suggestion")),Ae.alwaysShowInlineSuggestionToolbar=new qt.uy("alwaysShowInlineSuggestionToolbar",!1,At.NC("alwaysShowInlineSuggestionToolbar","Whether the inline suggestion toolbar should always be visible")),Ae.ID="editor.contrib.ghostTextController",Ae=at([Ve(1,ft.TG),Ve(2,qt.i6)],Ae);class Ge{constructor(ie){this.contextKeyService=ie,this.inlineCompletionVisible=Ae.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Ae.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Ae.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.canUndoInlineSuggestion=Ae.canUndoInlineSuggestion.bindTo(this.contextKeyService)}}let st=class extends A.JT{constructor(ie,Ie,We){super(),this.editor=ie,this.instantiationService=Ie,this.contextKeyService=We,this.contextKeys=new Ge(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(St,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Fi,this.editor,this.model)),this._register((0,A.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var ie;this.contextKeys.inlineCompletionVisible.set(((ie=this.model.activeInlineCompletionsModel)===null||ie===void 0?void 0:ie.ghostText)!==void 0);let Ie=!1,We=!0;const nt=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&nt&&nt.parts.length>0){const{column:lt,lines:Pt}=nt.parts[0],$t=Pt[0],ti=this.editor.getModel().getLineIndentColumn(nt.lineNumber);if(lt<=ti){let Jt=(0,S.LC)($t);Jt===-1&&(Jt=$t.length-1),Ie=Jt>0;const di=this.editor.getModel().getOptions().tabSize;We=$.i.visibleColumnFromColumn($t,Jt+1,di)<di}}this.contextKeys.inlineCompletionSuggestsIndentation.set(Ie),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(We)}};st=at([Ve(1,ft.TG),Ve(2,qt.i6)],st);class rt extends c.R6{constructor(){super({id:rt.ID,label:At.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:qt.Ao.and(N.u.writable,Ae.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We&&(We.showNextInlineCompletion(),Ie.focus())})}}rt.ID=x.OW;class xt extends c.R6{constructor(){super({id:xt.ID,label:At.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:qt.Ao.and(N.u.writable,Ae.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We&&(We.showPreviousInlineCompletion(),Ie.focus())})}}xt.ID=x.Np;class Vt extends c.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:At.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:N.u.writable})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We==null||We.trigger()})}}class Gt extends c.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:At.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:qt.Ao.and(N.u.writable,Ae.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065},menuOpts:[{menuId:Wt.eH.InlineSuggestionToolbar,title:At.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We&&We.commitPartially()})}}class ai extends c.R6{constructor(){super({id:x.Ou,label:At.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:Ae.inlineSuggestionVisible,menuOpts:[{menuId:Wt.eH.InlineSuggestionToolbar,title:At.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:qt.Ao.and(Ae.inlineSuggestionVisible,N.u.tabMovesFocus.toNegated(),Ae.inlineSuggestionHasIndentationLessThanTabSize)}})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We&&(We.commit(),We.editor.focus())})}}class Si extends c.R6{constructor(){super({id:Si.ID,label:At.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:Ae.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=Ae.get(Ie);We&&We.hide()})}}Si.ID="editor.action.inlineSuggest.hide";class hi extends Wt.Ke{constructor(){super({id:hi.ID,title:At.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:Wt.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Ae.alwaysShowInlineSuggestionToolbar})}run(ie,Ie){return ze(this,void 0,void 0,function*(){const We=ie.get(je.Ui),lt=We.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";We.updateValue("editor.inlineSuggest.showToolbar",lt)})}}hi.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";class Di extends c.R6{constructor(){super({id:"editor.action.inlineSuggest.undo",label:At.NC("action.inlineSuggest.undo","Undo Accept Word"),alias:"Undo Accept Word",precondition:qt.Ao.and(N.u.writable,Ae.canUndoInlineSuggestion),kbOpts:{weight:100+1,primary:2063,kbExpr:qt.Ao.and(N.u.writable,Ae.canUndoInlineSuggestion)},menuOpts:[{menuId:Wt.eH.InlineSuggestionToolbar,title:At.NC("undoAcceptWord","Undo Accept Word"),group:"secondary",order:3}]})}run(ie,Ie){var We;return ze(this,void 0,void 0,function*(){(We=Ie.getModel())===null||We===void 0||We.undo()})}}var Ni=i(69549),yi=i(32684),Zi=i(75845),Ri=i(20009),Dn=i(43257),Bi=function(De,ie,Ie,We){var nt=arguments.length,lt=nt<3?ie:We===null?We=Object.getOwnPropertyDescriptor(ie,Ie):We,Pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(De,ie,Ie,We);else for(var $t=De.length-1;$t>=0;$t--)(Pt=De[$t])&&(lt=(nt<3?Pt(lt):nt>3?Pt(ie,Ie,lt):Pt(ie,Ie))||lt);return nt>3&&lt&&Object.defineProperty(ie,Ie,lt),lt},ln=function(De,ie){return function(Ie,We){ie(Ie,We,De)}};class Ht{constructor(ie,Ie,We){this.owner=ie,this.range=Ie,this.controller=We}isValidForHoverAnchor(ie){return ie.type===1&&this.range.startColumn<=ie.range.startColumn&&this.range.endColumn>=ie.range.endColumn}requestExplicitContext(){var ie,Ie,We;(We=(Ie=(ie=this.controller.activeModel)===null||ie===void 0?void 0:ie.activeInlineCompletionsModel)===null||Ie===void 0?void 0:Ie.completionSession.value)===null||We===void 0||We.ensureUpdateWithExplicitContext()}getInlineCompletionsCount(){var ie,Ie;const We=(Ie=(ie=this.controller.activeModel)===null||ie===void 0?void 0:ie.activeInlineCompletionsModel)===null||Ie===void 0?void 0:Ie.completionSession.value;if(We!=null&&We.hasBeenTriggeredExplicitly)return We==null?void 0:We.getInlineCompletionsCountSync()}getInlineCompletionIndex(){var ie,Ie,We;return(We=(Ie=(ie=this.controller.activeModel)===null||ie===void 0?void 0:ie.activeInlineCompletionsModel)===null||Ie===void 0?void 0:Ie.completionSession.value)===null||We===void 0?void 0:We.currentlySelectedIndex}onDidChange(ie){var Ie,We;return((We=(Ie=this.controller.activeModel)===null||Ie===void 0?void 0:Ie.activeInlineCompletionsModel)===null||We===void 0?void 0:We.onDidChange(ie))||A.JT.None}get commands(){var ie,Ie,We;return((We=(Ie=(ie=this.controller.activeModel)===null||ie===void 0?void 0:ie.activeInlineCompletionsModel)===null||Ie===void 0?void 0:Ie.completionSession.value)===null||We===void 0?void 0:We.commands)||[]}}let fe=class{constructor(ie,Ie,We,nt,lt,Pt){this._editor=ie,this._languageService=Ie,this._openerService=We,this.accessibilityService=nt,this._instantiationService=lt,this._telemetryService=Pt,this.hoverOrdinal=3}suggestHoverAnchor(ie){const Ie=Ae.get(this._editor);if(!Ie)return null;const We=ie.target;if(We.type===8){const nt=We.detail;if(Ie.shouldShowHoverAtViewZone(nt.viewZoneId))return new F.YM(1e3,this,u.e.fromPositions(this._editor.getModel().validatePosition(nt.positionBefore||nt.position)),ie.event.posx,ie.event.posy,!1)}return We.type===7&&Ie.shouldShowHoverAt(We.range)?new F.YM(1e3,this,We.range,ie.event.posx,ie.event.posy,!1):We.type===6&&We.detail.mightBeForeignElement&&Ie.shouldShowHoverAt(We.range)?new F.YM(1e3,this,We.range,ie.event.posx,ie.event.posy,!1):null}computeSync(ie,Ie){if(this._editor.getOption(59).showToolbar==="always")return[];const We=Ae.get(this._editor);return We&&We.shouldShowHoverAt(ie.range)?[new Ht(this,ie.range,We)]:[]}renderHoverParts(ie,Ie){const We=new A.SL,nt=Ie[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ie,nt,We);const lt=this._instantiationService.createInstance(le.Q,this._editor,!1);return ie.fragment.appendChild(lt.getDomNode()),lt.update(null,nt.getInlineCompletionIndex()||0,nt.getInlineCompletionsCount(),nt.commands),nt.requestExplicitContext(),We.add(nt.onDidChange(()=>{lt.update(null,nt.getInlineCompletionIndex()||0,nt.getInlineCompletionsCount(),nt.commands)})),We}renderScreenReaderText(ie,Ie,We){var nt,lt;const Pt=Ct.$,$t=Pt("div.hover-row.markdown-hover"),ti=Ct.R3($t,Pt("div.hover-contents")),Qt=We.add(new yi.$({editor:this._editor},this._languageService,this._openerService)),Jt=Ci=>{We.add(Qt.onDidRenderAsync(()=>{ti.className="hover-contents code-hover-contents",ie.onContentsChanged()}));const gi=At.NC("inlineSuggestionFollows","Suggestion:"),Ei=We.add(Qt.render(new Ni.W5().appendText(gi).appendCodeblock("text",Ci)));ti.replaceChildren(Ei.element)},di=(lt=(nt=Ie.controller.activeModel)===null||nt===void 0?void 0:nt.inlineCompletionsModel)===null||lt===void 0?void 0:lt.ghostText;if(di){const Ci=this._editor.getModel().getLineContent(di.lineNumber);Jt(di.renderForScreenReader(Ci))}ie.fragment.appendChild($t)}};fe=Bi([ln(1,Ui.O),ln(2,Ri.v4),ln(3,Zi.F),ln(4,ft.TG),ln(5,Dn.b)],fe),(0,c._K)(Ae.ID,Ae,3),(0,c.Qr)(Vt),(0,c.Qr)(rt),(0,c.Qr)(xt),(0,c.Qr)(Gt),(0,c.Qr)(ai),(0,c.Qr)(Si),(0,c.Qr)(Di),(0,Wt.r1)(hi),F.Ae.register(fe)},97476:function(vt,be,i){"use strict";i.d(be,{Q:function(){return L}});var c=i(16563),F=i(38224),g=i(47258),A=i(50453),S=i(39460),$=i(54195),N=i(52357),x=i(41420),O=i(81189),p=i(67378),a=i(15779),d=i(925),f=i(13396),s=i(94162),r=i(67770),m=function(G,y,pe,ye){function me(Se){return Se instanceof pe?Se:new pe(function(_e){_e(Se)})}return new(pe||(pe=Promise))(function(Se,_e){function he(Re){try{se(ye.next(Re))}catch($e){_e($e)}}function le(Re){try{se(ye.throw(Re))}catch($e){_e($e)}}function se(Re){Re.done?Se(Re.value):me(Re.value).then(he,le)}se((ye=ye.apply(G,y||[])).next())})};class C extends N.JT{constructor(y,pe,ye={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new s.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new N.SL,this.options=ye,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new u(()=>{var me;return(me=this.toggleMenuActionViewItem)===null||me===void 0?void 0:me.show()},ye.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",y.appendChild(this.element),this.actionBar=this._register(new F.o(this.element,{orientation:ye.orientation,ariaLabel:ye.ariaLabel,actionRunner:ye.actionRunner,allowContextMenu:ye.allowContextMenu,actionViewItemProvider:(me,Se)=>{var _e;if(me.id===u.ID)return this.toggleMenuActionViewItem=new f.C(me,me.menuActions,pe,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:O.k.asClassNameArray((_e=ye.moreIcon)!==null&&_e!==void 0?_e:$.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(ye.actionViewItemProvider){const he=ye.actionViewItemProvider(me,Se);if(he)return he}if(me instanceof A.wY){const he=new f.C(me,me.actions,pe,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:me.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement});return he.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(he),this.disposables.add(this._onDidChangeDropdownVisibility.add(he.onDidChangeVisibility)),he}}}))}set actionRunner(y){this.actionBar.actionRunner=y}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(y){return this.actionBar.getAction(y)}setActions(y,pe){this.clear();const ye=y?y.slice(0):[];this.hasSecondaryActions=!!(pe&&pe.length>0),this.hasSecondaryActions&&pe&&(this.toggleMenuAction.menuActions=pe.slice(0),ye.push(this.toggleMenuAction)),ye.forEach(me=>{this.actionBar.push(me,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(me)})})}getKeybindingLabel(y){var pe,ye;const me=this.lookupKeybindings?(ye=(pe=this.options).getKeyBinding)===null||ye===void 0?void 0:ye.call(pe,y):void 0;return(0,r.f6)(me==null?void 0:me.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}class u extends A.aU{constructor(y,pe){pe=pe||a.NC("moreActions","More Actions..."),super(u.ID,pe,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=y}run(){return m(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(y){this._menuActions=y}}u.ID="toolbar.toggle.more";var _=i(16842),b=i(49597),E=i(23286),D=i(81477),w=i(22437),I=i(43257),M=function(G,y,pe,ye){var me=arguments.length,Se=me<3?y:ye===null?ye=Object.getOwnPropertyDescriptor(y,pe):ye,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(G,y,pe,ye);else for(var he=G.length-1;he>=0;he--)(_e=G[he])&&(Se=(me<3?_e(Se):me>3?_e(y,pe,Se):_e(y,pe))||Se);return me>3&&Se&&Object.defineProperty(y,pe,Se),Se},K=function(G,y){return function(pe,ye){y(pe,ye,G)}};let z=class extends C{constructor(y,pe,ye,me,Se,_e,he){super(y,Se,Object.assign(Object.assign({getKeyBinding:le=>{var se;return(se=_e.lookupKeybinding(le.id))!==null&&se!==void 0?se:void 0}},pe),{allowContextMenu:!0})),this._options=pe,this._menuService=ye,this._contextKeyService=me,this._contextMenuService=Se,this._sessionDisposables=this._store.add(new N.SL),pe!=null&&pe.telemetrySource&&this._store.add(this.actionBar.onDidRun(le=>he.publicLog2("workbenchActionExecuted",{id:le.action.id,from:pe.telemetrySource})))}setActions(y,pe=[],ye){var me,Se,_e;this._sessionDisposables.clear();const he=y.slice(),le=pe.slice(),se=[];let Re=0;const $e=[];let je=!1;if(((me=this._options)===null||me===void 0?void 0:me.hiddenItemStrategy)!==-1)for(let Ce=0;Ce<he.length;Ce++){const J=he[Ce];!(J instanceof b.U8)&&!(J instanceof b.NZ)||J.hideActions&&(se.push(J.hideActions.toggle),J.hideActions.toggle.checked&&Re++,J.hideActions.isHidden&&(je=!0,he[Ce]=void 0,((Se=this._options)===null||Se===void 0?void 0:Se.hiddenItemStrategy)!==0&&($e[Ce]=J)))}if(((_e=this._options)===null||_e===void 0?void 0:_e.maxNumberOfItems)!==void 0){let Ce=0;for(let J=0;J<he.length;J++){const ne=he[J];ne&&++Ce>=this._options.maxNumberOfItems&&(he[J]=void 0,$e[J]=ne)}}(0,_.Rs)(he),(0,_.Rs)($e),super.setActions(he,A.Z0.join($e,le)),se.length>0&&this._sessionDisposables.add((0,c.nm)(this.getElement(),"contextmenu",Ce=>{var J,ne,ae,xe;const Ke=this.getItemAction(Ce.target);if(!Ke)return;Ce.preventDefault(),Ce.stopPropagation();let ct=!1;if(Re===1&&((J=this._options)===null||J===void 0?void 0:J.hiddenItemStrategy)===0){ct=!0;for(let et=0;et<se.length;et++)if(se[et].checked){se[et]=(0,A.xw)({id:Ke.id,label:Ke.label,checked:!0,enabled:!1,run(){}});break}}let ot;if(!ct&&(Ke instanceof b.U8||Ke instanceof b.NZ)){if(!Ke.hideActions)return;ot=Ke.hideActions.hide}else ot=(0,A.xw)({id:"label",label:(0,a.NC)("hide","Hide"),enabled:!1,run(){}});const dt=A.Z0.join([ot],se);!((ne=this._options)===null||ne===void 0)&&ne.resetMenu&&!ye&&(ye=[this._options.resetMenu]),je&&ye&&(dt.push(new A.Z0),dt.push((0,A.xw)({id:"resetThisMenu",label:(0,a.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(ye)}))),this._contextMenuService.showContextMenu({getAnchor:()=>Ce,getActions:()=>dt,menuId:(ae=this._options)===null||ae===void 0?void 0:ae.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(xe=this._options)===null||xe===void 0?void 0:xe.menuOptions),contextKeyService:this._contextKeyService})}))}};z=M([K(2,b.co),K(3,E.i6),K(4,D.i),K(5,w.d),K(6,I.b)],z);var Q=i(21760),Y=i(64700),H=i(88159),P=function(G,y,pe,ye){var me=arguments.length,Se=me<3?y:ye===null?ye=Object.getOwnPropertyDescriptor(y,pe):ye,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(G,y,pe,ye);else for(var he=G.length-1;he>=0;he--)(_e=G[he])&&(Se=(me<3?_e(Se):me>3?_e(y,pe,Se):_e(y,pe))||Se);return me>3&&Se&&Object.defineProperty(y,pe,Se),Se},X=function(G,y){return function(pe,ye){y(pe,ye,G)}};const q=(0,H.q5)("inline-suggestion-hints-next",$.l.chevronRight,(0,a.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),U=(0,H.q5)("inline-suggestion-hints-previous",$.l.chevronLeft,(0,a.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let L=class Id extends N.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(y,pe,ye){const me=new A.aU(y,pe,ye,!0,()=>this._commandService.executeCommand(y)),Se=this.keybindingService.lookupKeybinding(y,this._contextKeyService);let _e=pe;return Se&&(_e=(0,a.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",pe,Se.getLabel())),me.tooltip=_e,me}constructor(y,pe,ye,me,Se,_e,he){super(),this.editor=y,this.withBorder=pe,this._commandService=ye,this.keybindingService=Se,this._contextKeyService=_e,this._menuService=he,this.id=`InlineSuggestionHintsContentWidget${Id.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,c.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,c.h)("div",{style:{display:"flex"}},[(0,c.h)("div@actionBar",{className:"custom-actions"}),(0,c.h)("div@toolBar")])]),this.position=null,this.previousAction=this.createCommandAction(p.Np,(0,a.NC)("previous","Previous"),O.k.asClassName(U)),this.availableSuggestionCountAction=new A.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(p.OW,(0,a.NC)("next","Next"),O.k.asClassName(q)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(b.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new S.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new S.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100));const le=this._register(new F.o(this.nodes.actionBar));le.push(this.previousAction,{icon:!0,label:!1}),le.push(this.availableSuggestionCountAction),le.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(me.createInstance(j,this.nodes.toolBar,b.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:se=>se.startsWith("primary")},actionViewItemProvider:(se,Re)=>se instanceof b.U8?me.createInstance(B,se,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(se=>{Id._dropDownVisible=se}))}update(y,pe,ye,me){this.position=y,ye!==void 0&&ye>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule(),ye!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${pe+1}/${ye}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),this.editor.layoutContentWidget(this);const Se=me.map(_e=>({class:void 0,id:_e.id,enabled:!0,tooltip:_e.tooltip||"",label:_e.title,run:he=>this._commandService.executeCommand(_e.id)}));for(const[_e,he]of this.inlineCompletionsActionsMenus.getActions())for(const le of he)le instanceof b.U8&&Se.push(le);Se.length>0&&Se.unshift(new A.Z0),this.toolBar.setAdditionalSecondaryActions(Se)}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this.position,preference:[1,2],positionAffinity:3}}};L._dropDownVisible=!1,L.id=0,L=P([X(2,Q.H),X(3,Y.TG),X(4,w.d),X(5,E.i6),X(6,b.co)],L);class B extends d.Mm{updateLabel(){const y=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!y)return super.updateLabel();if(this.label){const pe=(0,c.h)("div.keybinding").root;new g.e(pe,x.OS,Object.assign({disableTitle:!0},g.F)).set(y),this.label.textContent=this._action.label,this.label.appendChild(pe),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let j=class extends z{constructor(y,pe,ye,me,Se,_e,he,le){super(y,Object.assign({resetMenu:pe},ye),me,Se,_e,he,le),this.menuId=pe,this.options2=ye,this.menuService=me,this.contextKeyService=Se,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var y,pe,ye,me,Se,_e,he;const le=[],se=[];(0,d.vr)(this.menu,(y=this.options2)===null||y===void 0?void 0:y.menuOptions,{primary:le,secondary:se},(ye=(pe=this.options2)===null||pe===void 0?void 0:pe.toolbarOptions)===null||ye===void 0?void 0:ye.primaryGroup,(Se=(me=this.options2)===null||me===void 0?void 0:me.toolbarOptions)===null||Se===void 0?void 0:Se.shouldInlineSubmenu,(he=(_e=this.options2)===null||_e===void 0?void 0:_e.toolbarOptions)===null||he===void 0?void 0:he.useSeparatorsInPrimaryActions),se.push(...this.additionalActions),this.setActions(le,se)}setAdditionalSecondaryActions(y){this.additionalActions=y,this.updateToolbar()}};j=P([X(3,b.co),X(4,E.i6),X(5,D.i),X(6,w.d),X(7,I.b)],j)},13796:function(vt,be,i){"use strict";i.r(be),i.d(be,{ExpandLineSelectionAction:function(){return S}});var c=i(98981),F=i(28238),g=i(73805),A=i(15779);class S extends c.R6{constructor(){super({id:"expandLineSelection",label:A.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:g.u.textInputFocus,primary:2090}})}run(N,x,O){if(O=O||{},!x.hasModel())return;const p=x._getViewModel();p.model.pushStackElement(),p.setCursorStates(O.source,3,F.P.expandLineSelection(p,p.getCursorStates())),p.revealPrimaryCursor(O.source,!0)}}(0,c.Qr)(S)},57181:function(vt,be,i){"use strict";i.r(be),i.d(be,{AbstractCaseAction:function(){return Ce},AbstractDeleteAllToBoundaryAction:function(){return le},AbstractSortLinesAction:function(){return B},CamelCaseAction:function(){return ct},DeleteAllLeftAction:function(){return se},DeleteAllRightAction:function(){return Re},DeleteDuplicateLinesAction:function(){return y},DeleteLinesAction:function(){return ye},DuplicateSelectionAction:function(){return X},IndentLinesAction:function(){return me},InsertLineAfterAction:function(){return he},InsertLineBeforeAction:function(){return _e},JoinLinesAction:function(){return $e},KebabCaseAction:function(){return ot},LowerCaseAction:function(){return ne},SnakeCaseAction:function(){return Ke},SortLinesAscendingAction:function(){return j},SortLinesDescendingAction:function(){return G},TitleCaseAction:function(){return xe},TransposeAction:function(){return je},TrimTrailingWhitespaceAction:function(){return pe},UpperCaseAction:function(){return J}});var c=i(42528),F=i(66631),g=i(98981),A=i(71802),S=i(30613),$=i(24222),N=i(22445);class x{constructor(et,Fe){this._selection=et,this._cursors=Fe,this._selectionId=null}getEditOperations(et,Fe){const Le=O(et,this._cursors);for(let Te=0,ge=Le.length;Te<ge;Te++){const ve=Le[Te];Fe.addEditOperation(ve.range,ve.text)}this._selectionId=Fe.trackSelection(this._selection)}computeCursorState(et,Fe){return Fe.getTrackedSelection(this._selectionId)}}function O(dt,et){et.sort((ve,we)=>ve.lineNumber===we.lineNumber?ve.column-we.column:ve.lineNumber-we.lineNumber);for(let ve=et.length-2;ve>=0;ve--)et[ve].lineNumber===et[ve+1].lineNumber&&et.splice(ve,1);const Fe=[];let Le=0,Te=0;const ge=et.length;for(let ve=1,we=dt.getLineCount();ve<=we;ve++){const Oe=dt.getLineContent(ve),He=Oe.length+1;let mt=0;if(Te<ge&&et[Te].lineNumber===ve&&(mt=et[Te].column,Te++,mt===He)||Oe.length===0)continue;const bt=S.ow(Oe);let kt=0;if(bt===-1)kt=1;else if(bt!==Oe.length-1)kt=bt+2;else continue;kt=Math.max(mt,kt),Fe[Le++]=$.h.delete(new N.e(ve,kt,ve,He))}return Fe}var p=i(33033),a=i(43976),d=i(15489),f=i(73805);class s{constructor(et,Fe,Le){this._selection=et,this._isCopyingDown=Fe,this._noop=Le||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(et,Fe){let Le=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Le.startLineNumber<Le.endLineNumber&&Le.endColumn===1&&(this._endLineNumberDelta=1,Le=Le.setEndPosition(Le.endLineNumber-1,et.getLineMaxColumn(Le.endLineNumber-1)));const Te=[];for(let ve=Le.startLineNumber;ve<=Le.endLineNumber;ve++)Te.push(et.getLineContent(ve));const ge=Te.join(`
`);ge===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?Fe.addEditOperation(new N.e(Le.endLineNumber,et.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber+1,1),Le.endLineNumber===et.getLineCount()?"":`
`):this._isCopyingDown?Fe.addEditOperation(new N.e(Le.startLineNumber,1,Le.startLineNumber,1),ge+`
`):Fe.addEditOperation(new N.e(Le.endLineNumber,et.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber,et.getLineMaxColumn(Le.endLineNumber)),`
`+ge),this._selectionId=Fe.trackSelection(Le),this._selectionDirection=this._selection.getDirection()}computeCursorState(et,Fe){let Le=Fe.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let Te=Le.startLineNumber,ge=Le.startColumn,ve=Le.endLineNumber,we=Le.endColumn;this._startLineNumberDelta!==0&&(Te=Te+this._startLineNumberDelta,ge=1),this._endLineNumberDelta!==0&&(ve=ve+this._endLineNumberDelta,we=1),Le=d.Y.createWithDirection(Te,ge,ve,we,this._selectionDirection)}return Le}}var r=i(70428),m=i(13160),C=i(28170),u=i(72023),_=i(63019),b=i(76326),E=function(dt,et,Fe,Le){var Te=arguments.length,ge=Te<3?et:Le===null?Le=Object.getOwnPropertyDescriptor(et,Fe):Le,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(dt,et,Fe,Le);else for(var we=dt.length-1;we>=0;we--)(ve=dt[we])&&(ge=(Te<3?ve(ge):Te>3?ve(et,Fe,ge):ve(et,Fe))||ge);return Te>3&&ge&&Object.defineProperty(et,Fe,ge),ge},D=function(dt,et){return function(Fe,Le){et(Fe,Le,dt)}};let w=class{constructor(et,Fe,Le,Te){this._languageConfigurationService=Te,this._selection=et,this._isMovingDown=Fe,this._autoIndent=Le,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(et,Fe){const Le=et.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===Le){this._selectionId=Fe.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=Fe.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let Te=this._selection;Te.startLineNumber<Te.endLineNumber&&Te.endColumn===1&&(this._moveEndPositionDown=!0,Te=Te.setEndPosition(Te.endLineNumber-1,et.getLineMaxColumn(Te.endLineNumber-1)));const{tabSize:ge,indentSize:ve,insertSpaces:we}=et.getOptions(),Oe=this.buildIndentConverter(ge,ve,we),He={tokenization:{getLineTokens:mt=>et.tokenization.getLineTokens(mt),getLanguageId:()=>et.getLanguageId(),getLanguageIdAtPosition:(mt,bt)=>et.getLanguageIdAtPosition(mt,bt)},getLineContent:null};if(Te.startLineNumber===Te.endLineNumber&&et.getLineMaxColumn(Te.startLineNumber)===1){const mt=Te.startLineNumber,bt=this._isMovingDown?mt+1:mt-1;et.getLineMaxColumn(bt)===1?Fe.addEditOperation(new N.e(1,1,1,1),null):(Fe.addEditOperation(new N.e(mt,1,mt,1),et.getLineContent(bt)),Fe.addEditOperation(new N.e(bt,1,bt,et.getLineMaxColumn(bt)),null)),Te=new d.Y(bt,1,bt,1)}else{let mt,bt;if(this._isMovingDown){mt=Te.endLineNumber+1,bt=et.getLineContent(mt),Fe.addEditOperation(new N.e(mt-1,et.getLineMaxColumn(mt-1),mt,et.getLineMaxColumn(mt)),null);let kt=bt;if(this.shouldAutoIndent(et,Te)){const Ut=this.matchEnterRule(et,Oe,ge,mt,Te.startLineNumber-1);if(Ut!==null){const Dt=S.V8(et.getLineContent(mt)),ft=Ut+u.Y(Dt,ge);kt=u.J(ft,ge,we)+this.trimLeft(bt)}else{He.getLineContent=ft=>ft===Te.startLineNumber?et.getLineContent(mt):et.getLineContent(ft);const Dt=(0,_.n8)(this._autoIndent,He,et.getLanguageIdAtPosition(mt,1),Te.startLineNumber,Oe,this._languageConfigurationService);if(Dt!==null){const ft=S.V8(et.getLineContent(mt)),Ft=u.Y(Dt,ge),Et=u.Y(ft,ge);Ft!==Et&&(kt=u.J(Ft,ge,we)+this.trimLeft(bt))}}Fe.addEditOperation(new N.e(Te.startLineNumber,1,Te.startLineNumber,1),kt+`
`);const ut=this.matchEnterRuleMovingDown(et,Oe,ge,Te.startLineNumber,mt,kt);if(ut!==null)ut!==0&&this.getIndentEditsOfMovingBlock(et,Fe,Te,ge,we,ut);else{He.getLineContent=ft=>ft===Te.startLineNumber?kt:ft>=Te.startLineNumber+1&&ft<=Te.endLineNumber+1?et.getLineContent(ft-1):et.getLineContent(ft);const Dt=(0,_.n8)(this._autoIndent,He,et.getLanguageIdAtPosition(mt,1),Te.startLineNumber+1,Oe,this._languageConfigurationService);if(Dt!==null){const ft=S.V8(et.getLineContent(Te.startLineNumber)),Ft=u.Y(Dt,ge),Et=u.Y(ft,ge);if(Ft!==Et){const Ze=Ft-Et;this.getIndentEditsOfMovingBlock(et,Fe,Te,ge,we,Ze)}}}}else Fe.addEditOperation(new N.e(Te.startLineNumber,1,Te.startLineNumber,1),kt+`
`)}else if(mt=Te.startLineNumber-1,bt=et.getLineContent(mt),Fe.addEditOperation(new N.e(mt,1,mt+1,1),null),Fe.addEditOperation(new N.e(Te.endLineNumber,et.getLineMaxColumn(Te.endLineNumber),Te.endLineNumber,et.getLineMaxColumn(Te.endLineNumber)),`
`+bt),this.shouldAutoIndent(et,Te)){He.getLineContent=Ut=>Ut===mt?et.getLineContent(Te.startLineNumber):et.getLineContent(Ut);const kt=this.matchEnterRule(et,Oe,ge,Te.startLineNumber,Te.startLineNumber-2);if(kt!==null)kt!==0&&this.getIndentEditsOfMovingBlock(et,Fe,Te,ge,we,kt);else{const Ut=(0,_.n8)(this._autoIndent,He,et.getLanguageIdAtPosition(Te.startLineNumber,1),mt,Oe,this._languageConfigurationService);if(Ut!==null){const ut=S.V8(et.getLineContent(Te.startLineNumber)),Dt=u.Y(Ut,ge),ft=u.Y(ut,ge);if(Dt!==ft){const Ft=Dt-ft;this.getIndentEditsOfMovingBlock(et,Fe,Te,ge,we,Ft)}}}}}this._selectionId=Fe.trackSelection(Te)}buildIndentConverter(et,Fe,Le){return{shiftIndent:Te=>r.U.shiftIndent(Te,Te.length+1,et,Fe,Le),unshiftIndent:Te=>r.U.unshiftIndent(Te,Te.length+1,et,Fe,Le)}}parseEnterResult(et,Fe,Le,Te,ge){if(ge){let ve=ge.indentation;ge.indentAction===m.wU.None||ge.indentAction===m.wU.Indent?ve=ge.indentation+ge.appendText:ge.indentAction===m.wU.IndentOutdent?ve=ge.indentation:ge.indentAction===m.wU.Outdent&&(ve=Fe.unshiftIndent(ge.indentation)+ge.appendText);const we=et.getLineContent(Te);if(this.trimLeft(we).indexOf(this.trimLeft(ve))>=0){const Oe=S.V8(et.getLineContent(Te));let He=S.V8(ve);const mt=(0,_.tI)(et,Te,this._languageConfigurationService);mt!==null&&mt&2&&(He=Fe.unshiftIndent(He));const bt=u.Y(He,Le),kt=u.Y(Oe,Le);return bt-kt}}return null}matchEnterRuleMovingDown(et,Fe,Le,Te,ge,ve){if(S.ow(ve)>=0){const we=et.getLineMaxColumn(ge),Oe=(0,b.A)(this._autoIndent,et,new N.e(ge,we,ge,we),this._languageConfigurationService);return this.parseEnterResult(et,Fe,Le,Te,Oe)}else{let we=Te-1;for(;we>=1;){const mt=et.getLineContent(we);if(S.ow(mt)>=0)break;we--}if(we<1||Te>et.getLineCount())return null;const Oe=et.getLineMaxColumn(we),He=(0,b.A)(this._autoIndent,et,new N.e(we,Oe,we,Oe),this._languageConfigurationService);return this.parseEnterResult(et,Fe,Le,Te,He)}}matchEnterRule(et,Fe,Le,Te,ge,ve){let we=ge;for(;we>=1;){let mt;if(we===ge&&ve!==void 0?mt=ve:mt=et.getLineContent(we),S.ow(mt)>=0)break;we--}if(we<1||Te>et.getLineCount())return null;const Oe=et.getLineMaxColumn(we),He=(0,b.A)(this._autoIndent,et,new N.e(we,Oe,we,Oe),this._languageConfigurationService);return this.parseEnterResult(et,Fe,Le,Te,He)}trimLeft(et){return et.replace(/^\s+/,"")}shouldAutoIndent(et,Fe){if(this._autoIndent<4||!et.tokenization.isCheapToTokenize(Fe.startLineNumber))return!1;const Le=et.getLanguageIdAtPosition(Fe.startLineNumber,1),Te=et.getLanguageIdAtPosition(Fe.endLineNumber,1);return!(Le!==Te||this._languageConfigurationService.getLanguageConfiguration(Le).indentRulesSupport===null)}getIndentEditsOfMovingBlock(et,Fe,Le,Te,ge,ve){for(let we=Le.startLineNumber;we<=Le.endLineNumber;we++){const Oe=et.getLineContent(we),He=S.V8(Oe),bt=u.Y(He,Te)+ve,kt=u.J(bt,Te,ge);kt!==He&&(Fe.addEditOperation(new N.e(we,1,we,He.length+1),kt),we===Le.endLineNumber&&Le.endColumn<=He.length+1&&kt===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(et,Fe){let Le=Fe.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Le=Le.setEndPosition(Le.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Le.startLineNumber<Le.endLineNumber&&(Le=Le.setEndPosition(Le.endLineNumber,2)),Le}};w=E([D(3,C.c_)],w);class I{static getCollator(){return I._COLLATOR||(I._COLLATOR=new Intl.Collator),I._COLLATOR}constructor(et,Fe){this.selection=et,this.descending=Fe,this.selectionId=null}getEditOperations(et,Fe){const Le=K(et,this.selection,this.descending);Le&&Fe.addEditOperation(Le.range,Le.text),this.selectionId=Fe.trackSelection(this.selection)}computeCursorState(et,Fe){return Fe.getTrackedSelection(this.selectionId)}static canRun(et,Fe,Le){if(et===null)return!1;const Te=M(et,Fe,Le);if(!Te)return!1;for(let ge=0,ve=Te.before.length;ge<ve;ge++)if(Te.before[ge]!==Te.after[ge])return!0;return!1}}I._COLLATOR=null;function M(dt,et,Fe){const Le=et.startLineNumber;let Te=et.endLineNumber;if(et.endColumn===1&&Te--,Le>=Te)return null;const ge=[];for(let we=Le;we<=Te;we++)ge.push(dt.getLineContent(we));let ve=ge.slice(0);return ve.sort(I.getCollator().compare),Fe===!0&&(ve=ve.reverse()),{startLineNumber:Le,endLineNumber:Te,before:ge,after:ve}}function K(dt,et,Fe){const Le=M(dt,et,Fe);return Le?$.h.replace(new N.e(Le.startLineNumber,1,Le.endLineNumber,dt.getLineMaxColumn(Le.endLineNumber)),Le.after.join(`
`)):null}var z=i(15779),Q=i(49597);class Y extends g.R6{constructor(et,Fe){super(Fe),this.down=et}run(et,Fe){if(!Fe.hasModel())return;const Le=Fe.getSelections().map((ve,we)=>({selection:ve,index:we,ignore:!1}));Le.sort((ve,we)=>N.e.compareRangesUsingStarts(ve.selection,we.selection));let Te=Le[0];for(let ve=1;ve<Le.length;ve++){const we=Le[ve];Te.selection.endLineNumber===we.selection.startLineNumber&&(Te.index<we.index?we.ignore=!0:(Te.ignore=!0,Te=we))}const ge=[];for(const ve of Le)ge.push(new s(ve.selection,this.down,ve.ignore));Fe.pushUndoStop(),Fe.executeCommands(this.id,ge),Fe.pushUndoStop()}}class H extends Y{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:z.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Q.eH.MenubarSelectionMenu,group:"2_line",title:z.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class P extends Y{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:z.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Q.eH.MenubarSelectionMenu,group:"2_line",title:z.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class X extends g.R6{constructor(){super({id:"editor.action.duplicateSelection",label:z.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:f.u.writable,menuOpts:{menuId:Q.eH.MenubarSelectionMenu,group:"2_line",title:z.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(et,Fe,Le){if(!Fe.hasModel())return;const Te=[],ge=Fe.getSelections(),ve=Fe.getModel();for(const we of ge)if(we.isEmpty())Te.push(new s(we,!0));else{const Oe=new d.Y(we.endLineNumber,we.endColumn,we.endLineNumber,we.endColumn);Te.push(new A.OY(Oe,ve.getValueInRange(we)))}Fe.pushUndoStop(),Fe.executeCommands(this.id,Te),Fe.pushUndoStop()}}class q extends g.R6{constructor(et,Fe){super(Fe),this.down=et}run(et,Fe){const Le=et.get(C.c_),Te=[],ge=Fe.getSelections()||[],ve=Fe.getOption(9);for(const we of ge)Te.push(new w(we,this.down,ve,Le));Fe.pushUndoStop(),Fe.executeCommands(this.id,Te),Fe.pushUndoStop()}}class U extends q{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:z.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Q.eH.MenubarSelectionMenu,group:"2_line",title:z.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class L extends q{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:z.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Q.eH.MenubarSelectionMenu,group:"2_line",title:z.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class B extends g.R6{constructor(et,Fe){super(Fe),this.descending=et}run(et,Fe){const Le=Fe.getSelections()||[];for(const ge of Le)if(!I.canRun(Fe.getModel(),ge,this.descending))return;const Te=[];for(let ge=0,ve=Le.length;ge<ve;ge++)Te[ge]=new I(Le[ge],this.descending);Fe.pushUndoStop(),Fe.executeCommands(this.id,Te),Fe.pushUndoStop()}}class j extends B{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:z.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:f.u.writable})}}class G extends B{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:z.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:f.u.writable})}}class y extends g.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:z.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:f.u.writable})}run(et,Fe){if(!Fe.hasModel())return;const Le=Fe.getModel();if(Le.getLineCount()===1&&Le.getLineMaxColumn(1)===1)return;const Te=[],ge=[];let ve=0;for(const we of Fe.getSelections()){const Oe=new Set,He=[];for(let Ut=we.startLineNumber;Ut<=we.endLineNumber;Ut++){const ut=Le.getLineContent(Ut);Oe.has(ut)||(He.push(ut),Oe.add(ut))}const mt=new d.Y(we.startLineNumber,1,we.endLineNumber,Le.getLineMaxColumn(we.endLineNumber)),bt=we.startLineNumber-ve,kt=new d.Y(bt,1,bt+He.length-1,He[He.length-1].length);Te.push($.h.replace(mt,He.join(`
`))),ge.push(kt),ve+=we.endLineNumber-we.startLineNumber+1-He.length}Fe.pushUndoStop(),Fe.executeEdits(this.id,Te,ge),Fe.pushUndoStop()}}class pe extends g.R6{constructor(){super({id:pe.ID,label:z.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,c.gx)(2089,2102),weight:100}})}run(et,Fe,Le){let Te=[];Le.reason==="auto-save"&&(Te=(Fe.getSelections()||[]).map(we=>new a.L(we.positionLineNumber,we.positionColumn)));const ge=Fe.getSelection();if(ge===null)return;const ve=new x(ge,Te);Fe.pushUndoStop(),Fe.executeCommands(this.id,[ve]),Fe.pushUndoStop()}}pe.ID="editor.action.trimTrailingWhitespace";class ye extends g.R6{constructor(){super({id:"editor.action.deleteLines",label:z.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:f.u.writable,kbOpts:{kbExpr:f.u.textInputFocus,primary:3113,weight:100}})}run(et,Fe){if(!Fe.hasModel())return;const Le=this._getLinesToRemove(Fe),Te=Fe.getModel();if(Te.getLineCount()===1&&Te.getLineMaxColumn(1)===1)return;let ge=0;const ve=[],we=[];for(let Oe=0,He=Le.length;Oe<He;Oe++){const mt=Le[Oe];let bt=mt.startLineNumber,kt=mt.endLineNumber,Ut=1,ut=Te.getLineMaxColumn(kt);kt<Te.getLineCount()?(kt+=1,ut=1):bt>1&&(bt-=1,Ut=Te.getLineMaxColumn(bt)),ve.push($.h.replace(new d.Y(bt,Ut,kt,ut),"")),we.push(new d.Y(bt-ge,mt.positionColumn,bt-ge,mt.positionColumn)),ge+=mt.endLineNumber-mt.startLineNumber+1}Fe.pushUndoStop(),Fe.executeEdits(this.id,ve,we),Fe.pushUndoStop()}_getLinesToRemove(et){const Fe=et.getSelections().map(ge=>{let ve=ge.endLineNumber;return ge.startLineNumber<ge.endLineNumber&&ge.endColumn===1&&(ve-=1),{startLineNumber:ge.startLineNumber,selectionStartColumn:ge.selectionStartColumn,endLineNumber:ve,positionColumn:ge.positionColumn}});Fe.sort((ge,ve)=>ge.startLineNumber===ve.startLineNumber?ge.endLineNumber-ve.endLineNumber:ge.startLineNumber-ve.startLineNumber);const Le=[];let Te=Fe[0];for(let ge=1;ge<Fe.length;ge++)Te.endLineNumber+1>=Fe[ge].startLineNumber?Te.endLineNumber=Fe[ge].endLineNumber:(Le.push(Te),Te=Fe[ge]);return Le.push(Te),Le}}class me extends g.R6{constructor(){super({id:"editor.action.indentLines",label:z.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:2137,weight:100}})}run(et,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,p.u6.indent(Le.cursorConfig,Fe.getModel(),Fe.getSelections())),Fe.pushUndoStop())}}class Se extends g.R6{constructor(){super({id:"editor.action.outdentLines",label:z.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:2135,weight:100}})}run(et,Fe){F.CoreEditingCommands.Outdent.runEditorCommand(et,Fe,null)}}class _e extends g.R6{constructor(){super({id:"editor.action.insertLineBefore",label:z.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:3075,weight:100}})}run(et,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,p.u6.lineInsertBefore(Le.cursorConfig,Fe.getModel(),Fe.getSelections())))}}class he extends g.R6{constructor(){super({id:"editor.action.insertLineAfter",label:z.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:2051,weight:100}})}run(et,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,p.u6.lineInsertAfter(Le.cursorConfig,Fe.getModel(),Fe.getSelections())))}}class le extends g.R6{run(et,Fe){if(!Fe.hasModel())return;const Le=Fe.getSelection(),Te=this._getRangesToDelete(Fe),ge=[];for(let Oe=0,He=Te.length-1;Oe<He;Oe++){const mt=Te[Oe],bt=Te[Oe+1];N.e.intersectRanges(mt,bt)===null?ge.push(mt):Te[Oe+1]=N.e.plusRange(mt,bt)}ge.push(Te[Te.length-1]);const ve=this._getEndCursorState(Le,ge),we=ge.map(Oe=>$.h.replace(Oe,""));Fe.pushUndoStop(),Fe.executeEdits(this.id,we,ve),Fe.pushUndoStop()}}class se extends le{constructor(){super({id:"deleteAllLeft",label:z.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:f.u.writable,kbOpts:{kbExpr:f.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(et,Fe){let Le=null;const Te=[];let ge=0;return Fe.forEach(ve=>{let we;if(ve.endColumn===1&&ge>0){const Oe=ve.startLineNumber-ge;we=new d.Y(Oe,ve.startColumn,Oe,ve.startColumn)}else we=new d.Y(ve.startLineNumber,ve.startColumn,ve.startLineNumber,ve.startColumn);ge+=ve.endLineNumber-ve.startLineNumber,ve.intersectRanges(et)?Le=we:Te.push(we)}),Le&&Te.unshift(Le),Te}_getRangesToDelete(et){const Fe=et.getSelections();if(Fe===null)return[];let Le=Fe;const Te=et.getModel();return Te===null?[]:(Le.sort(N.e.compareRangesUsingStarts),Le=Le.map(ge=>{if(ge.isEmpty())if(ge.startColumn===1){const ve=Math.max(1,ge.startLineNumber-1),we=ge.startLineNumber===1?1:Te.getLineContent(ve).length+1;return new N.e(ve,we,ge.startLineNumber,1)}else return new N.e(ge.startLineNumber,1,ge.startLineNumber,ge.startColumn);else return new N.e(ge.startLineNumber,1,ge.endLineNumber,ge.endColumn)}),Le)}}class Re extends le{constructor(){super({id:"deleteAllRight",label:z.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:f.u.writable,kbOpts:{kbExpr:f.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(et,Fe){let Le=null;const Te=[];for(let ge=0,ve=Fe.length,we=0;ge<ve;ge++){const Oe=Fe[ge],He=new d.Y(Oe.startLineNumber-we,Oe.startColumn,Oe.startLineNumber-we,Oe.startColumn);Oe.intersectRanges(et)?Le=He:Te.push(He)}return Le&&Te.unshift(Le),Te}_getRangesToDelete(et){const Fe=et.getModel();if(Fe===null)return[];const Le=et.getSelections();if(Le===null)return[];const Te=Le.map(ge=>{if(ge.isEmpty()){const ve=Fe.getLineMaxColumn(ge.startLineNumber);return ge.startColumn===ve?new N.e(ge.startLineNumber,ge.startColumn,ge.startLineNumber+1,1):new N.e(ge.startLineNumber,ge.startColumn,ge.startLineNumber,ve)}return ge});return Te.sort(N.e.compareRangesUsingStarts),Te}}class $e extends g.R6{constructor(){super({id:"editor.action.joinLines",label:z.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:f.u.writable,kbOpts:{kbExpr:f.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(et,Fe){const Le=Fe.getSelections();if(Le===null)return;let Te=Fe.getSelection();if(Te===null)return;Le.sort(N.e.compareRangesUsingStarts);const ge=[],ve=Le.reduce((kt,Ut)=>kt.isEmpty()?kt.endLineNumber===Ut.startLineNumber?(Te.equalsSelection(kt)&&(Te=Ut),Ut):Ut.startLineNumber>kt.endLineNumber+1?(ge.push(kt),Ut):new d.Y(kt.startLineNumber,kt.startColumn,Ut.endLineNumber,Ut.endColumn):Ut.startLineNumber>kt.endLineNumber?(ge.push(kt),Ut):new d.Y(kt.startLineNumber,kt.startColumn,Ut.endLineNumber,Ut.endColumn));ge.push(ve);const we=Fe.getModel();if(we===null)return;const Oe=[],He=[];let mt=Te,bt=0;for(let kt=0,Ut=ge.length;kt<Ut;kt++){const ut=ge[kt],Dt=ut.startLineNumber,ft=1;let Ft=0,Et,Ze;const St=we.getLineContent(ut.endLineNumber).length-ut.endColumn;if(ut.isEmpty()||ut.startLineNumber===ut.endLineNumber){const _t=ut.getStartPosition();_t.lineNumber<we.getLineCount()?(Et=Dt+1,Ze=we.getLineMaxColumn(Et)):(Et=_t.lineNumber,Ze=we.getLineMaxColumn(_t.lineNumber))}else Et=ut.endLineNumber,Ze=we.getLineMaxColumn(Et);let jt=we.getLineContent(Dt);for(let _t=Dt+1;_t<=Et;_t++){const Kt=we.getLineContent(_t),Zt=we.getLineFirstNonWhitespaceColumn(_t);if(Zt>=1){let li=!0;jt===""&&(li=!1),li&&(jt.charAt(jt.length-1)===" "||jt.charAt(jt.length-1)==="	")&&(li=!1,jt=jt.replace(/[\s\uFEFF\xA0]+$/g," "));const ri=Kt.substr(Zt-1);jt+=(li?" ":"")+ri,li?Ft=ri.length+1:Ft=ri.length}else Ft=0}const Ct=new N.e(Dt,ft,Et,Ze);if(!Ct.isEmpty()){let _t;ut.isEmpty()?(Oe.push($.h.replace(Ct,jt)),_t=new d.Y(Ct.startLineNumber-bt,jt.length-Ft+1,Dt-bt,jt.length-Ft+1)):ut.startLineNumber===ut.endLineNumber?(Oe.push($.h.replace(Ct,jt)),_t=new d.Y(ut.startLineNumber-bt,ut.startColumn,ut.endLineNumber-bt,ut.endColumn)):(Oe.push($.h.replace(Ct,jt)),_t=new d.Y(ut.startLineNumber-bt,ut.startColumn,ut.startLineNumber-bt,jt.length-St)),N.e.intersectRanges(Ct,Te)!==null?mt=_t:He.push(_t)}bt+=Ct.endLineNumber-Ct.startLineNumber}He.unshift(mt),Fe.pushUndoStop(),Fe.executeEdits(this.id,Oe,He),Fe.pushUndoStop()}}class je extends g.R6{constructor(){super({id:"editor.action.transpose",label:z.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:f.u.writable})}run(et,Fe){const Le=Fe.getSelections();if(Le===null)return;const Te=Fe.getModel();if(Te===null)return;const ge=[];for(let ve=0,we=Le.length;ve<we;ve++){const Oe=Le[ve];if(!Oe.isEmpty())continue;const He=Oe.getStartPosition(),mt=Te.getLineMaxColumn(He.lineNumber);if(He.column>=mt){if(He.lineNumber===Te.getLineCount())continue;const bt=new N.e(He.lineNumber,Math.max(1,He.column-1),He.lineNumber+1,1),kt=Te.getValueInRange(bt).split("").reverse().join("");ge.push(new A.T4(new d.Y(He.lineNumber,Math.max(1,He.column-1),He.lineNumber+1,1),kt))}else{const bt=new N.e(He.lineNumber,Math.max(1,He.column-1),He.lineNumber,He.column+1),kt=Te.getValueInRange(bt).split("").reverse().join("");ge.push(new A.hP(bt,kt,new d.Y(He.lineNumber,He.column+1,He.lineNumber,He.column+1)))}}Fe.pushUndoStop(),Fe.executeCommands(this.id,ge),Fe.pushUndoStop()}}class Ce extends g.R6{run(et,Fe){const Le=Fe.getSelections();if(Le===null)return;const Te=Fe.getModel();if(Te===null)return;const ge=Fe.getOption(124),ve=[];for(const we of Le)if(we.isEmpty()){const Oe=we.getStartPosition(),He=Fe.getConfiguredWordAtPosition(Oe);if(!He)continue;const mt=new N.e(Oe.lineNumber,He.startColumn,Oe.lineNumber,He.endColumn),bt=Te.getValueInRange(mt);ve.push($.h.replace(mt,this._modifyText(bt,ge)))}else{const Oe=Te.getValueInRange(we);ve.push($.h.replace(we,this._modifyText(Oe,ge)))}Fe.pushUndoStop(),Fe.executeEdits(this.id,ve),Fe.pushUndoStop()}}class J extends Ce{constructor(){super({id:"editor.action.transformToUppercase",label:z.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:f.u.writable})}_modifyText(et,Fe){return et.toLocaleUpperCase()}}class ne extends Ce{constructor(){super({id:"editor.action.transformToLowercase",label:z.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:f.u.writable})}_modifyText(et,Fe){return et.toLocaleLowerCase()}}class ae{constructor(et,Fe){this._pattern=et,this._flags=Fe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(et){}}return this._actual}isSupported(){return this.get()!==null}}class xe extends Ce{constructor(){super({id:"editor.action.transformToTitlecase",label:z.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:f.u.writable})}_modifyText(et,Fe){const Le=xe.titleBoundary.get();return Le?et.toLocaleLowerCase().replace(Le,Te=>Te.toLocaleUpperCase()):et}}xe.titleBoundary=new ae("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Ke extends Ce{constructor(){super({id:"editor.action.transformToSnakecase",label:z.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:f.u.writable})}_modifyText(et,Fe){const Le=Ke.caseBoundary.get(),Te=Ke.singleLetters.get();return!Le||!Te?et:et.replace(Le,"$1_$2").replace(Te,"$1_$2$3").toLocaleLowerCase()}}Ke.caseBoundary=new ae("(\\p{Ll})(\\p{Lu})","gmu"),Ke.singleLetters=new ae("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class ct extends Ce{constructor(){super({id:"editor.action.transformToCamelcase",label:z.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:f.u.writable})}_modifyText(et,Fe){const Le=ct.wordBoundary.get();if(!Le)return et;const Te=et.split(Le);return Te.shift()+Te.map(ve=>ve.substring(0,1).toLocaleUpperCase()+ve.substring(1)).join("")}}ct.wordBoundary=new ae("[_\\s-]","gm");class ot extends Ce{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(Fe=>Fe.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:z.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:f.u.writable})}_modifyText(et,Fe){const Le=ot.caseBoundary.get(),Te=ot.singleLetters.get(),ge=ot.underscoreBoundary.get();return!Le||!Te||!ge?et:et.replace(ge,"$1-$3").replace(Le,"$1-$2").replace(Te,"$1-$2").toLocaleLowerCase()}}ot.caseBoundary=new ae("(\\p{Ll})(\\p{Lu})","gmu"),ot.singleLetters=new ae("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),ot.underscoreBoundary=new ae("(\\S)(_)(\\S)","gm"),(0,g.Qr)(H),(0,g.Qr)(P),(0,g.Qr)(X),(0,g.Qr)(U),(0,g.Qr)(L),(0,g.Qr)(j),(0,g.Qr)(G),(0,g.Qr)(y),(0,g.Qr)(pe),(0,g.Qr)(ye),(0,g.Qr)(me),(0,g.Qr)(Se),(0,g.Qr)(_e),(0,g.Qr)(he),(0,g.Qr)(se),(0,g.Qr)(Re),(0,g.Qr)($e),(0,g.Qr)(je),(0,g.Qr)(J),(0,g.Qr)(ne),Ke.caseBoundary.isSupported()&&Ke.singleLetters.isSupported()&&(0,g.Qr)(Ke),ct.wordBoundary.isSupported()&&(0,g.Qr)(ct),xe.titleBoundary.isSupported()&&(0,g.Qr)(xe),ot.isSupported()&&(0,g.Qr)(ot)},51403:function(vt,be,i){"use strict";i.r(be),i.d(be,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return K},LinkedEditingAction:function(){return Y},LinkedEditingContribution:function(){return Q},editorLinkedEditingBackground:function(){return X}});var c=i(16842),F=i(39460),g=i(19713),A=i(87799),S=i(50505),$=i(94162),N=i(52357),x=i(30613),O=i(39508),p=i(98981),a=i(76356),d=i(43976),f=i(22445),s=i(73805),r=i(73740),m=i(28170),C=i(15779),u=i(23286),_=i(26340),b=i(78382),E=i(16978),D=i(39589),w=function(q,U,L,B){var j=arguments.length,G=j<3?U:B===null?B=Object.getOwnPropertyDescriptor(U,L):B,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(q,U,L,B);else for(var pe=q.length-1;pe>=0;pe--)(y=q[pe])&&(G=(j<3?y(G):j>3?y(U,L,G):y(U,L))||G);return j>3&&G&&Object.defineProperty(U,L,G),G},I=function(q,U){return function(L,B){U(L,B,q)}},M=function(q,U,L,B){function j(G){return G instanceof L?G:new L(function(y){y(G)})}return new(L||(L=Promise))(function(G,y){function pe(Se){try{me(B.next(Se))}catch(_e){y(_e)}}function ye(Se){try{me(B.throw(Se))}catch(_e){y(_e)}}function me(Se){Se.done?G(Se.value):j(Se.value).then(pe,ye)}me((B=B.apply(q,U||[])).next())})};const K=new u.uy("LinkedEditingInputVisible",!1),z="linked-editing-decoration";let Q=class Nd extends N.JT{static get(U){return U.getContribution(Nd.ID)}constructor(U,L,B,j,G){super(),this.languageConfigurationService=j,this._syncRangesToken=0,this._localToDispose=this._register(new N.SL),this._editor=U,this._providers=B.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=K.bindTo(L),this._debounceInformation=G.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new N.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(y=>{(y.hasChanged(66)||y.hasChanged(87))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(U){const L=this._editor.getModel(),B=L!==null&&(this._editor.getOption(66)||this._editor.getOption(87))&&this._providers.has(L);if(B===this._enabled&&!U||(this._enabled=B,this.clearRanges(),this._localToDispose.clear(),!B||L===null))return;this._localToDispose.add($.ju.runAndSubscribe(L.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(L.getLanguageId()).getWordDefinition()}));const j=new F.vp(this._debounceInformation.get(L)),G=()=>{var ye;this._rangeUpdateTriggerPromise=j.trigger(()=>this.updateRanges(),(ye=this._debounceDuration)!==null&&ye!==void 0?ye:this._debounceInformation.get(L))},y=new F.vp(0),pe=ye=>{this._rangeSyncTriggerPromise=y.trigger(()=>this._syncRanges(ye))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{G()})),this._localToDispose.add(this._editor.onDidChangeModelContent(ye=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const me=this._currentDecorations.getRange(0);if(me&&ye.changes.every(Se=>me.intersectRanges(Se.range))){pe(this._syncRangesToken);return}}G()})),this._localToDispose.add({dispose:()=>{j.dispose(),y.dispose()}}),this.updateRanges()}_syncRanges(U){if(!this._editor.hasModel()||U!==this._syncRangesToken||this._currentDecorations.length===0)return;const L=this._editor.getModel(),B=this._currentDecorations.getRange(0);if(!B||B.startLineNumber!==B.endLineNumber)return this.clearRanges();const j=L.getValueInRange(B);if(this._currentWordPattern){const y=j.match(this._currentWordPattern);if((y?y[0].length:0)!==j.length)return this.clearRanges()}const G=[];for(let y=1,pe=this._currentDecorations.length;y<pe;y++){const ye=this._currentDecorations.getRange(y);if(ye)if(ye.startLineNumber!==ye.endLineNumber)G.push({range:ye,text:j});else{let me=L.getValueInRange(ye),Se=j,_e=ye.startColumn,he=ye.endColumn;const le=x.Mh(me,Se);_e+=le,me=me.substr(le),Se=Se.substr(le);const se=x.P1(me,Se);he-=se,me=me.substr(0,me.length-se),Se=Se.substr(0,Se.length-se),(_e!==he||Se.length!==0)&&G.push({range:new f.e(ye.startLineNumber,_e,ye.endLineNumber,he),text:Se})}}if(G.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const y=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",G),this._editor._getViewModel().setPrevEditOperationType(y)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(U=!1){return M(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const L=this._editor.getPosition();if(!this._enabled&&!U||this._editor.getSelections().length>1){this.clearRanges();return}const B=this._editor.getModel(),j=B.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===j){if(L.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const y=this._currentDecorations.getRange(0);if(y&&y.containsPosition(L))return}}this._currentRequestPosition=L,this._currentRequestModelVersion=j;const G=(0,F.PG)(y=>M(this,void 0,void 0,function*(){try{const pe=new D.G(!1),ye=yield P(this._providers,B,L,y);if(this._debounceInformation.update(B,pe.elapsed()),G!==this._currentRequest||(this._currentRequest=null,j!==B.getVersionId()))return;let me=[];ye!=null&&ye.ranges&&(me=ye.ranges),this._currentWordPattern=(ye==null?void 0:ye.wordPattern)||this._languageWordPattern;let Se=!1;for(let he=0,le=me.length;he<le;he++)if(f.e.containsPosition(me[he],L)){if(Se=!0,he!==0){const se=me[he];me.splice(he,1),me.unshift(se)}break}if(!Se){this.clearRanges();return}const _e=me.map(he=>({range:he,options:Nd.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(_e),this._syncRangesToken++}catch(pe){(0,S.n2)(pe)||(0,S.dL)(pe),(this._currentRequest===G||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=G,G})}};Q.ID="editor.contrib.linkedEditing",Q.DECORATION=r.qx.register({description:"linked-editing",stickiness:0,className:z}),Q=w([I(1,u.i6),I(2,_.p),I(3,m.c_),I(4,E.A)],Q);class Y extends p.R6{constructor(){super({id:"editor.action.linkedEditing",label:C.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:u.Ao.and(s.u.writable,s.u.hasRenameProvider),kbOpts:{kbExpr:s.u.editorTextFocus,primary:3132,weight:100}})}runCommand(U,L){const B=U.get(a.$),[j,G]=Array.isArray(L)&&L||[void 0,void 0];return O.o.isUri(j)&&d.L.isIPosition(G)?B.openCodeEditor({resource:j},B.getActiveCodeEditor()).then(y=>{y&&(y.setPosition(G),y.invokeWithinContext(pe=>(this.reportTelemetry(pe,y),this.run(pe,y))))},S.dL):super.runCommand(U,L)}run(U,L){const B=Q.get(L);return B?Promise.resolve(B.updateRanges(!0)):Promise.resolve()}}const H=p._l.bindToContribution(Q.get);(0,p.fK)(new H({id:"cancelLinkedEditingInput",precondition:K,handler:q=>q.clearRanges(),kbOpts:{kbExpr:s.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function P(q,U,L,B){const j=q.ordered(U);return(0,F.Ps)(j.map(G=>()=>M(this,void 0,void 0,function*(){try{return yield G.provideLinkedEditingRanges(U,L,B)}catch(y){(0,S.Cp)(y);return}})),G=>!!G&&c.Of(G==null?void 0:G.ranges))}const X=(0,b.P6G)("editor.linkedEditingBackground",{dark:A.Il.fromHex("#f00").transparent(.3),light:A.Il.fromHex("#f00").transparent(.3),hcDark:A.Il.fromHex("#f00").transparent(.3),hcLight:A.Il.white},C.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,p.sb)("_executeLinkedEditingProvider",(q,U,L)=>{const{linkedEditingRangeProvider:B}=q.get(_.p);return P(B,U,L,g.T.None)}),(0,p._K)(Q.ID,Q,1),(0,p.Qr)(Y)},40281:function(vt,be,i){"use strict";i.r(be),i.d(be,{LinkDetector:function(){return P}});var c=i(39460),F=i(19713),g=i(50505),A=i(69549),S=i(52357),$=i(571),N=i(41420),x=i(17349),O=i(39589),p=i(39508),a=i(98981),d=i(73740),f=i(16978),s=i(26340),r=i(3038),m=i(16842),C=i(67770),u=i(22445),_=i(6033),b=i(21760),E=function(B,j,G,y){function pe(ye){return ye instanceof G?ye:new G(function(me){me(ye)})}return new(G||(G=Promise))(function(ye,me){function Se(le){try{he(y.next(le))}catch(se){me(se)}}function _e(le){try{he(y.throw(le))}catch(se){me(se)}}function he(le){le.done?ye(le.value):pe(le.value).then(Se,_e)}he((y=y.apply(B,j||[])).next())})};class D{constructor(j,G){this._link=j,this._provider=G}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(j){return E(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,j)).then(G=>(this._link=G||this._link,this._link.url?this.resolve(j):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class w{constructor(j){this._disposables=new S.SL;let G=[];for(const[y,pe]of j){const ye=y.links.map(me=>new D(me,pe));G=w._union(G,ye),(0,S.Wf)(y)&&this._disposables.add(y)}this.links=G}dispose(){this._disposables.dispose(),this.links.length=0}static _union(j,G){const y=[];let pe,ye,me,Se;for(pe=0,me=0,ye=j.length,Se=G.length;pe<ye&&me<Se;){const _e=j[pe],he=G[me];if(u.e.areIntersectingOrTouching(_e.range,he.range)){pe++;continue}u.e.compareRangesUsingStarts(_e.range,he.range)<0?(y.push(_e),pe++):(y.push(he),me++)}for(;pe<ye;pe++)y.push(j[pe]);for(;me<Se;me++)y.push(G[me]);return y}}function I(B,j,G){const y=[],pe=B.ordered(j).reverse().map((ye,me)=>Promise.resolve(ye.provideLinks(j,G)).then(Se=>{Se&&(y[me]=[Se,ye])},g.Cp));return Promise.all(pe).then(()=>{const ye=new w((0,m.kX)(y));return G.isCancellationRequested?(ye.dispose(),new w([])):ye})}b.P.registerCommand("_executeLinkProvider",(B,...j)=>E(void 0,void 0,void 0,function*(){let[G,y]=j;(0,C.p_)(G instanceof p.o),typeof y!="number"&&(y=0);const{linkProvider:pe}=B.get(s.p),ye=B.get(_.q).getModel(G);if(!ye)return[];const me=yield I(pe,ye,F.T.None);if(!me)return[];for(let _e=0;_e<Math.min(y,me.links.length);_e++)yield me.links[_e].resolve(F.T.None);const Se=me.links.slice(0);return me.dispose(),Se}));var M=i(15779),K=i(28382),z=i(20009),Q=function(B,j,G,y){var pe=arguments.length,ye=pe<3?j:y===null?y=Object.getOwnPropertyDescriptor(j,G):y,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(B,j,G,y);else for(var Se=B.length-1;Se>=0;Se--)(me=B[Se])&&(ye=(pe<3?me(ye):pe>3?me(j,G,ye):me(j,G))||ye);return pe>3&&ye&&Object.defineProperty(j,G,ye),ye},Y=function(B,j){return function(G,y){j(G,y,B)}},H=function(B,j,G,y){function pe(ye){return ye instanceof G?ye:new G(function(me){me(ye)})}return new(G||(G=Promise))(function(ye,me){function Se(le){try{he(y.next(le))}catch(se){me(se)}}function _e(le){try{he(y.throw(le))}catch(se){me(se)}}function he(le){le.done?ye(le.value):pe(le.value).then(Se,_e)}he((y=y.apply(B,j||[])).next())})};let P=class Kc extends S.JT{static get(j){return j.getContribution(Kc.ID)}constructor(j,G,y,pe,ye){super(),this.editor=j,this.openerService=G,this.notificationService=y,this.languageFeaturesService=pe,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=ye.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new c.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const me=this._register(new r.yN(j));this._register(me.onMouseMoveOrRelevantKeyDown(([Se,_e])=>{this._onEditorMouseMove(Se,_e)})),this._register(me.onExecute(Se=>{this.onEditorMouseUp(Se)})),this._register(me.onCancel(Se=>{this.cleanUpActiveLinkDecoration()})),this._register(j.onDidChangeConfiguration(Se=>{Se.hasChanged(67)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(j.onDidChangeModelContent(Se=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(j.onDidChangeModel(Se=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(j.onDidChangeModelLanguage(Se=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(Se=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return H(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(67))return;const j=this.editor.getModel();if(this.providers.has(j)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,c.PG)(G=>I(this.providers,j,G));try{const G=new O.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(j,G.elapsed()),j.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(G){(0,g.dL)(G)}finally{this.computePromise=null}}})}updateDecorations(j){const G=this.editor.getOption(74)==="altKey",y=[],pe=Object.keys(this.currentOccurrences);for(const me of pe){const Se=this.currentOccurrences[me];y.push(Se.decorationId)}const ye=[];if(j)for(const me of j)ye.push(q.decoration(me,G));this.editor.changeDecorations(me=>{const Se=me.deltaDecorations(y,ye);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let _e=0,he=Se.length;_e<he;_e++){const le=new q(j[_e],Se[_e]);this.currentOccurrences[le.decorationId]=le}})}_onEditorMouseMove(j,G){const y=this.editor.getOption(74)==="altKey";if(this.isEnabled(j,G)){this.cleanUpActiveLinkDecoration();const pe=this.getLinkOccurrence(j.target.position);pe&&this.editor.changeDecorations(ye=>{pe.activate(ye,y),this.activeLinkDecorationId=pe.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const j=this.editor.getOption(74)==="altKey";if(this.activeLinkDecorationId){const G=this.currentOccurrences[this.activeLinkDecorationId];G&&this.editor.changeDecorations(y=>{G.deactivate(y,j)}),this.activeLinkDecorationId=null}}onEditorMouseUp(j){if(!this.isEnabled(j))return;const G=this.getLinkOccurrence(j.target.position);G&&this.openLinkOccurrence(G,j.hasSideBySideModifier,!0)}openLinkOccurrence(j,G,y=!1){if(!this.openerService)return;const{link:pe}=j;pe.resolve(F.T.None).then(ye=>{if(typeof ye=="string"&&this.editor.hasModel()){const me=this.editor.getModel().uri;if(me.scheme===$.lg.file&&ye.startsWith(`${$.lg.file}:`)){const Se=p.o.parse(ye);if(Se.scheme===$.lg.file){const _e=x.z_(Se);let he=null;_e.startsWith("/./")?he=`.${_e.substr(1)}`:_e.startsWith("//./")&&(he=`.${_e.substr(2)}`),he&&(ye=x.Vo(me,he))}}}return this.openerService.open(ye,{openToSide:G,fromUserGesture:y,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},ye=>{const me=ye instanceof Error?ye.message:ye;me==="invalid"?this.notificationService.warn(M.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",pe.url.toString())):me==="missing"?this.notificationService.warn(M.NC("missing.url","Failed to open this link because its target is missing.")):(0,g.dL)(ye)})}getLinkOccurrence(j){if(!this.editor.hasModel()||!j)return null;const G=this.editor.getModel().getDecorationsInRange({startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:j.lineNumber,endColumn:j.column},0,!0);for(const y of G){const pe=this.currentOccurrences[y.id];if(pe)return pe}return null}isEnabled(j,G){return Boolean(j.target.type===6&&(j.hasTriggerModifier||G&&G.keyCodeIsTriggerKey))}stop(){var j;this.computeLinks.cancel(),this.activeLinksList&&((j=this.activeLinksList)===null||j===void 0||j.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};P.ID="editor.linkDetector",P=Q([Y(1,z.v4),Y(2,K.lT),Y(3,s.p),Y(4,f.A)],P);const X={general:d.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:d.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class q{static decoration(j,G){return{range:j.range,options:q._getOptions(j,G,!1)}}static _getOptions(j,G,y){const pe=Object.assign({},y?X.active:X.general);return pe.hoverMessage=U(j,G),pe}constructor(j,G){this.link=j,this.decorationId=G}activate(j,G){j.changeDecorationOptions(this.decorationId,q._getOptions(this.link,G,!0))}deactivate(j,G){j.changeDecorationOptions(this.decorationId,q._getOptions(this.link,G,!1))}}function U(B,j){const G=B.url&&/^command:/i.test(B.url.toString()),y=B.tooltip?B.tooltip:G?M.NC("links.navigate.executeCmd","Execute command"):M.NC("links.navigate.follow","Follow link"),pe=j?N.dz?M.NC("links.navigate.kb.meta.mac","cmd + click"):M.NC("links.navigate.kb.meta","ctrl + click"):N.dz?M.NC("links.navigate.kb.alt.mac","option + click"):M.NC("links.navigate.kb.alt","alt + click");if(B.url){let ye="";if(/^command:/i.test(B.url.toString())){const Se=B.url.toString().match(/^command:([^?#]+)/);if(Se){const _e=Se[1];ye=M.NC("tooltip.explanation","Execute command {0}",_e)}}return new A.W5("",!0).appendLink(B.url.toString(!0).replace(/ /g,"%20"),y,ye).appendMarkdown(` (${pe})`)}else return new A.W5().appendText(`${y} (${pe})`)}class L extends a.R6{constructor(){super({id:"editor.action.openLink",label:M.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(j,G){const y=P.get(G);if(!y||!G.hasModel())return;const pe=G.getSelections();for(const ye of pe){const me=y.getLinkOccurrence(ye.getEndPosition());me&&y.openLinkOccurrence(me,!1)}}}(0,a._K)(P.ID,P,1),(0,a.Qr)(L)},96172:function(vt,be,i){"use strict";i.r(be);var c=i(52357),F=i(98981);class g extends c.JT{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown($=>{const N=this._editor.getOption(111);N>=0&&$.target.type===6&&$.target.position.column>=N&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}g.ID="editor.contrib.longLinesHelper",(0,F._K)(g.ID,g,2)},32684:function(vt,be,i){"use strict";i.d(be,{$:function(){return s}});var c=i(32595),F=i(50505),g=i(94162),A=i(52357),S=i(99144),$=i(18426),N=i(9821),x=i(90574),O=i(20009),p=function(C,u,_,b){var E=arguments.length,D=E<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,_):b,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,u,_,b);else for(var I=C.length-1;I>=0;I--)(w=C[I])&&(D=(E<3?w(D):E>3?w(u,_,D):w(u,_))||D);return E>3&&D&&Object.defineProperty(u,_,D),D},a=function(C,u){return function(_,b){u(_,b,C)}},d=function(C,u,_,b){function E(D){return D instanceof _?D:new _(function(w){w(D)})}return new(_||(_=Promise))(function(D,w){function I(z){try{K(b.next(z))}catch(Q){w(Q)}}function M(z){try{K(b.throw(z))}catch(Q){w(Q)}}function K(z){z.done?D(z.value):E(z.value).then(I,M)}K((b=b.apply(C,u||[])).next())})},f;let s=class $c{constructor(u,_,b){this._options=u,this._languageService=_,this._openerService=b,this._onDidRenderAsync=new g.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(u,_,b){if(!u)return{element:document.createElement("span"),dispose:()=>{}};const E=new A.SL;return{element:E.add((0,c.a)(u,Object.assign(Object.assign({},this._getRenderOptions(u,E)),_),b)).element,dispose:()=>E.dispose()}}_getRenderOptions(u,_){return{codeBlockRenderer:(b,E)=>d(this,void 0,void 0,function*(){var D,w,I;let M;b?M=this._languageService.getLanguageIdByLanguageName(b):this._options.editor&&(M=(D=this._options.editor.getModel())===null||D===void 0?void 0:D.getLanguageId()),M||(M=N.bd);const K=yield(0,x.C2)(this._languageService,E,M),z=document.createElement("span");if(z.innerHTML=(I=(w=$c._ttpTokenizer)===null||w===void 0?void 0:w.createHTML(K))!==null&&I!==void 0?I:K,this._options.editor){const Q=this._options.editor.getOption(47);(0,S.N)(z,Q)}else this._options.codeBlockFontFamily&&(z.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(z.style.fontSize=this._options.codeBlockFontSize),z}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:b=>r(this._openerService,b,u.isTrusted),disposables:_}}}};s._ttpTokenizer=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("tokenizeToString",{createHTML(C){return C}}),s=p([a(1,$.O),a(2,O.v4)],s);function r(C,u,_){return d(this,void 0,void 0,function*(){try{return yield C.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:m(_)})}catch(b){return(0,F.dL)(b),!1}})}function m(C){return C===!0?!0:C&&Array.isArray(C.enabledCommands)?C.enabledCommands:!1}},41967:function(vt,be,i){"use strict";i.d(be,{O:function(){return p}});var c=i(26017),F=i(39460),g=i(52357),A=i(98981),S=i(22445),$=i(15779),N=i(23286),x=function(f,s,r,m){var C=arguments.length,u=C<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,r):m,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(f,s,r,m);else for(var b=f.length-1;b>=0;b--)(_=f[b])&&(u=(C<3?_(u):C>3?_(s,r,u):_(s,r))||u);return C>3&&u&&Object.defineProperty(s,r,u),u},O=function(f,s){return function(r,m){s(r,m,f)}};let p=class Md{static get(s){return s.getContribution(Md.ID)}constructor(s,r){this._messageWidget=new g.XK,this._messageListeners=new g.SL,this._editor=s,this._visible=Md.MESSAGE_VISIBLE.bindTo(r)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(s,r){(0,c.Z9)(s),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new d(this._editor,r,s),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new F._F(()=>this.closeMessage(),3e3));let m;this._messageListeners.add(this._editor.onMouseMove(C=>{C.target.position&&(m?m.containsPosition(C.target.position)||this.closeMessage():m=new S.e(r.lineNumber-3,1,C.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(d.fadeOut(this._messageWidget.value))}};p.ID="editor.contrib.messageController",p.MESSAGE_VISIBLE=new N.uy("messageVisible",!1,$.NC("messageVisible","Whether the editor is currently showing an inline message")),p=x([O(1,N.i6)],p);const a=A._l.bindToContribution(p.get);(0,A.fK)(new a({id:"leaveEditorMessage",precondition:p.MESSAGE_VISIBLE,handler:f=>f.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class d{static fadeOut(s){const r=()=>{s.dispose(),clearTimeout(m),s.getDomNode().removeEventListener("animationend",r)},m=setTimeout(r,110);return s.getDomNode().addEventListener("animationend",r),s.getDomNode().classList.add("fadeOut"),{dispose:r}}constructor(s,{lineNumber:r,column:m},C){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=s,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:m},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const _=document.createElement("div");_.classList.add("message"),_.textContent=C,this._domNode.appendChild(_);const b=document.createElement("div");b.classList.add("anchor","below"),this._domNode.appendChild(b),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(s){this._domNode.classList.toggle("below",s===2)}}(0,A._K)(p.ID,p,4)},31890:function(vt,be,i){"use strict";i.r(be),i.d(be,{AddSelectionToNextFindMatchAction:function(){return Y},AddSelectionToPreviousFindMatchAction:function(){return H},CompatChangeAll:function(){return U},FocusNextCursor:function(){return y},FocusPreviousCursor:function(){return pe},InsertCursorAbove:function(){return b},InsertCursorBelow:function(){return E},MoveSelectionToNextFindMatchAction:function(){return P},MoveSelectionToPreviousFindMatchAction:function(){return X},MultiCursorSelectionController:function(){return z},MultiCursorSelectionControllerAction:function(){return Q},MultiCursorSession:function(){return K},MultiCursorSessionResult:function(){return M},SelectHighlightsAction:function(){return q},SelectionHighlighter:function(){return B}});var c=i(26017),F=i(39460),g=i(42528),A=i(52357),S=i(98981),$=i(28238),N=i(22445),x=i(15489),O=i(73805),p=i(98976),a=i(15779),d=i(49597),f=i(23286),s=i(26340),r=i(55606),m=i(64700),C=function(ye,me,Se,_e){var he=arguments.length,le=he<3?me:_e===null?_e=Object.getOwnPropertyDescriptor(me,Se):_e,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(ye,me,Se,_e);else for(var Re=ye.length-1;Re>=0;Re--)(se=ye[Re])&&(le=(he<3?se(le):he>3?se(me,Se,le):se(me,Se))||le);return he>3&&le&&Object.defineProperty(me,Se,le),le},u=function(ye,me){return function(Se,_e){me(Se,_e,ye)}};function _(ye,me){const Se=me.filter(_e=>!ye.find(he=>he.equals(_e)));if(Se.length>=1){const _e=Se.map(le=>`line ${le.viewState.position.lineNumber} column ${le.viewState.position.column}`).join(", "),he=Se.length===1?a.NC("cursorAdded","Cursor added: {0}",_e):a.NC("cursorsAdded","Cursors added: {0}",_e);(0,c.i7)(he)}}class b extends S.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:a.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:O.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(me,Se,_e){if(!Se.hasModel())return;let he=!0;_e&&_e.logicalLine===!1&&(he=!1);const le=Se._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const se=le.getCursorStates();le.setCursorStates(_e.source,3,$.P.addCursorUp(le,se,he)),le.revealTopMostCursor(_e.source),_(se,le.getCursorStates())}}class E extends S.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:a.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:O.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(me,Se,_e){if(!Se.hasModel())return;let he=!0;_e&&_e.logicalLine===!1&&(he=!1);const le=Se._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const se=le.getCursorStates();le.setCursorStates(_e.source,3,$.P.addCursorDown(le,se,he)),le.revealBottomMostCursor(_e.source),_(se,le.getCursorStates())}}class D extends S.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:a.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:O.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(me,Se,_e){if(!me.isEmpty()){for(let he=me.startLineNumber;he<me.endLineNumber;he++){const le=Se.getLineMaxColumn(he);_e.push(new x.Y(he,le,he,le))}me.endColumn>1&&_e.push(new x.Y(me.endLineNumber,me.endColumn,me.endLineNumber,me.endColumn))}}run(me,Se){if(!Se.hasModel())return;const _e=Se.getModel(),he=Se.getSelections(),le=Se._getViewModel(),se=le.getCursorStates(),Re=[];he.forEach($e=>this.getCursorsForSelection($e,_e,Re)),Re.length>0&&Se.setSelections(Re),_(se,le.getCursorStates())}}class w extends S.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:a.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(me,Se){if(!Se.hasModel())return;const _e=Se.getSelections(),he=Se.getModel().getLineCount(),le=[];for(let $e=_e[0].startLineNumber;$e<=he;$e++)le.push(new x.Y($e,_e[0].startColumn,$e,_e[0].endColumn));const se=Se._getViewModel(),Re=se.getCursorStates();le.length>0&&Se.setSelections(le),_(Re,se.getCursorStates())}}class I extends S.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:a.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(me,Se){if(!Se.hasModel())return;const _e=Se.getSelections(),he=[];for(let Re=_e[0].startLineNumber;Re>=1;Re--)he.push(new x.Y(Re,_e[0].startColumn,Re,_e[0].endColumn));const le=Se._getViewModel(),se=le.getCursorStates();he.length>0&&Se.setSelections(he),_(se,le.getCursorStates())}}class M{constructor(me,Se,_e){this.selections=me,this.revealRange=Se,this.revealScrollType=_e}}class K{static create(me,Se){if(!me.hasModel())return null;const _e=Se.getState();if(!me.hasTextFocus()&&_e.isRevealed&&_e.searchString.length>0)return new K(me,Se,!1,_e.searchString,_e.wholeWord,_e.matchCase,null);let he=!1,le,se;const Re=me.getSelections();Re.length===1&&Re[0].isEmpty()?(he=!0,le=!0,se=!0):(le=_e.wholeWord,se=_e.matchCase);const $e=me.getSelection();let je,Ce=null;if($e.isEmpty()){const J=me.getConfiguredWordAtPosition($e.getStartPosition());if(!J)return null;je=J.word,Ce=new x.Y($e.startLineNumber,J.startColumn,$e.startLineNumber,J.endColumn)}else je=me.getModel().getValueInRange($e).replace(/\r\n/g,`
`);return new K(me,Se,he,je,le,se,Ce)}constructor(me,Se,_e,he,le,se,Re){this._editor=me,this.findController=Se,this.isDisconnectedFromFindController=_e,this.searchText=he,this.wholeWord=le,this.matchCase=se,this.currentMatch=Re}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const me=this._getNextMatch();if(!me)return null;const Se=this._editor.getSelections();return new M(Se.concat(me),me,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const me=this._getNextMatch();if(!me)return null;const Se=this._editor.getSelections();return new M(Se.slice(0,Se.length-1).concat(me),me,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const he=this.currentMatch;return this.currentMatch=null,he}this.findController.highlightFindOptions();const me=this._editor.getSelections(),Se=me[me.length-1],_e=this._editor.getModel().findNextMatch(this.searchText,Se.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(124):null,!1);return _e?new x.Y(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const me=this._getPreviousMatch();if(!me)return null;const Se=this._editor.getSelections();return new M(Se.concat(me),me,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const me=this._getPreviousMatch();if(!me)return null;const Se=this._editor.getSelections();return new M(Se.slice(0,Se.length-1).concat(me),me,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const he=this.currentMatch;return this.currentMatch=null,he}this.findController.highlightFindOptions();const me=this._editor.getSelections(),Se=me[me.length-1],_e=this._editor.getModel().findPreviousMatch(this.searchText,Se.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(124):null,!1);return _e?new x.Y(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn):null}selectAll(me){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const Se=this._editor.getModel();return me?Se.findMatches(this.searchText,me,!1,this.matchCase,this.wholeWord?this._editor.getOption(124):null,!1,1073741824):Se.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(124):null,!1,1073741824)}}class z extends A.JT{static get(me){return me.getContribution(z.ID)}constructor(me){super(),this._sessionDispose=this._register(new A.SL),this._editor=me,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(me){if(!this._session){const Se=K.create(this._editor,me);if(!Se)return;this._session=Se;const _e={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(_e.wholeWordOverride=1,_e.matchCaseOverride=1,_e.isRegexOverride=2),me.getState().change(_e,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(he=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(me.getState().onFindReplaceStateChange(he=>{(he.matchCase||he.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const me={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(me,!1)}this._session=null}_setSelections(me){this._ignoreSelectionChange=!0,this._editor.setSelections(me),this._ignoreSelectionChange=!1}_expandEmptyToWord(me,Se){if(!Se.isEmpty())return Se;const _e=this._editor.getConfiguredWordAtPosition(Se.getStartPosition());return _e?new x.Y(Se.startLineNumber,_e.startColumn,Se.startLineNumber,_e.endColumn):Se}_applySessionResult(me){me&&(this._setSelections(me.selections),me.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(me.revealRange,me.revealScrollType))}getSession(me){return this._session}addSelectionToNextFindMatch(me){if(this._editor.hasModel()){if(!this._session){const Se=this._editor.getSelections();if(Se.length>1){const he=me.getState().matchCase;if(!j(this._editor.getModel(),Se,he)){const se=this._editor.getModel(),Re=[];for(let $e=0,je=Se.length;$e<je;$e++)Re[$e]=this._expandEmptyToWord(se,Se[$e]);this._editor.setSelections(Re);return}}}this._beginSessionIfNeeded(me),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(me){this._beginSessionIfNeeded(me),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(me){this._beginSessionIfNeeded(me),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(me){this._beginSessionIfNeeded(me),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(me){if(!this._editor.hasModel())return;let Se=null;const _e=me.getState();if(_e.isRevealed&&_e.searchString.length>0&&_e.isRegex){const he=this._editor.getModel();_e.searchScope?Se=he.findMatches(_e.searchString,_e.searchScope,_e.isRegex,_e.matchCase,_e.wholeWord?this._editor.getOption(124):null,!1,1073741824):Se=he.findMatches(_e.searchString,!0,_e.isRegex,_e.matchCase,_e.wholeWord?this._editor.getOption(124):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(me),!this._session)return;Se=this._session.selectAll(_e.searchScope)}if(Se.length>0){const he=this._editor.getSelection();for(let le=0,se=Se.length;le<se;le++){const Re=Se[le];if(Re.range.intersectRanges(he)){Se[le]=Se[0],Se[0]=Re;break}}this._setSelections(Se.map(le=>new x.Y(le.range.startLineNumber,le.range.startColumn,le.range.endLineNumber,le.range.endColumn)))}}}z.ID="editor.contrib.multiCursorController";class Q extends S.R6{run(me,Se){const _e=z.get(Se);if(!_e)return;const he=Se._getViewModel();if(he){const le=he.getCursorStates(),se=p.CommonFindController.get(Se);if(se)this._run(_e,se);else{const Re=me.get(m.TG).createInstance(p.CommonFindController,Se);this._run(_e,Re),Re.dispose()}_(le,he.getCursorStates())}}}class Y extends Q{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:a.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:O.u.focus,primary:2082,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(me,Se){me.addSelectionToNextFindMatch(Se)}}class H extends Q{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:a.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(me,Se){me.addSelectionToPreviousFindMatch(Se)}}class P extends Q{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:a.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:O.u.focus,primary:(0,g.gx)(2089,2082),weight:100}})}_run(me,Se){me.moveSelectionToNextFindMatch(Se)}}class X extends Q{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:a.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(me,Se){me.moveSelectionToPreviousFindMatch(Se)}}class q extends Q{constructor(){super({id:"editor.action.selectHighlights",label:a.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:O.u.focus,primary:3114,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(me,Se){me.selectAll(Se)}}class U extends Q{constructor(){super({id:"editor.action.changeAll",label:a.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:f.Ao.and(O.u.writable,O.u.editorTextFocus),kbOpts:{kbExpr:O.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(me,Se){me.selectAll(Se)}}class L{constructor(me,Se,_e,he,le){this._model=me,this._searchText=Se,this._matchCase=_e,this._wordSeparators=he,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,le&&this._model===le._model&&this._searchText===le._searchText&&this._matchCase===le._matchCase&&this._wordSeparators===le._wordSeparators&&this._modelVersionId===le._modelVersionId&&(this._cachedFindMatches=le._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(me=>me.range),this._cachedFindMatches.sort(N.e.compareRangesUsingStarts)),this._cachedFindMatches}}let B=class Gc extends A.JT{constructor(me,Se){super(),this._languageFeaturesService=Se,this.editor=me,this._isEnabled=me.getOption(102),this._decorations=me.createDecorationsCollection(),this.updateSoon=this._register(new F.pY(()=>this._update(),300)),this.state=null,this._register(me.onDidChangeConfiguration(he=>{this._isEnabled=me.getOption(102)})),this._register(me.onDidChangeCursorSelection(he=>{this._isEnabled&&(he.selection.isEmpty()?he.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(me.onDidChangeModel(he=>{this._setState(null)})),this._register(me.onDidChangeModelContent(he=>{this._isEnabled&&this.updateSoon.schedule()}));const _e=p.CommonFindController.get(me);_e&&this._register(_e.getState().onFindReplaceStateChange(he=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(Gc._createState(this.state,this._isEnabled,this.editor))}static _createState(me,Se,_e){if(!Se||!_e.hasModel())return null;const he=_e.getSelection();if(he.startLineNumber!==he.endLineNumber)return null;const le=z.get(_e);if(!le)return null;const se=p.CommonFindController.get(_e);if(!se)return null;let Re=le.getSession(se);if(!Re){const Ce=_e.getSelections();if(Ce.length>1){const ne=se.getState().matchCase;if(!j(_e.getModel(),Ce,ne))return null}Re=K.create(_e,se)}if(!Re||Re.currentMatch||/^[ \t]+$/.test(Re.searchText)||Re.searchText.length>200)return null;const $e=se.getState(),je=$e.matchCase;if($e.isRevealed){let Ce=$e.searchString;je||(Ce=Ce.toLowerCase());let J=Re.searchText;if(je||(J=J.toLowerCase()),Ce===J&&Re.matchCase===$e.matchCase&&Re.wholeWord===$e.wholeWord&&!$e.isRegex)return null}return new L(_e.getModel(),Re.searchText,Re.matchCase,Re.wholeWord?_e.getOption(124):null,me)}_setState(me){if(this.state=me,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const Se=this.editor.getModel();if(Se.isTooLargeForTokenization())return;const _e=this.state.findMatches(),he=this.editor.getSelections();he.sort(N.e.compareRangesUsingStarts);const le=[];for(let $e=0,je=0,Ce=_e.length,J=he.length;$e<Ce;){const ne=_e[$e];if(je>=J)le.push(ne),$e++;else{const ae=N.e.compareRangesUsingStarts(ne,he[je]);ae<0?((he[je].isEmpty()||!N.e.areIntersecting(ne,he[je]))&&le.push(ne),$e++):(ae>0||$e++,je++)}}const se=this._languageFeaturesService.documentHighlightProvider.has(Se)&&this.editor.getOption(77),Re=le.map($e=>({range:$e,options:(0,r.w)(se)}));this._decorations.set(Re)}dispose(){this._setState(null),super.dispose()}};B.ID="editor.contrib.selectionHighlighter",B=C([u(1,s.p)],B);function j(ye,me,Se){const _e=G(ye,me[0],!Se);for(let he=1,le=me.length;he<le;he++){const se=me[he];if(se.isEmpty())return!1;const Re=G(ye,se,!Se);if(_e!==Re)return!1}return!0}function G(ye,me,Se){const _e=ye.getValueInRange(me);return Se?_e.toLowerCase():_e}class y extends S.R6{constructor(){super({id:"editor.action.focusNextCursor",label:a.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:a.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(me,Se,_e){if(!Se.hasModel())return;const he=Se._getViewModel();if(he.cursorConfig.readOnly)return;he.model.pushStackElement();const le=Array.from(he.getCursorStates()),se=le.shift();se&&(le.push(se),he.setCursorStates(_e.source,3,le),he.revealPrimaryCursor(_e.source,!0),_(le,he.getCursorStates()))}}class pe extends S.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:a.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:a.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(me,Se,_e){if(!Se.hasModel())return;const he=Se._getViewModel();if(he.cursorConfig.readOnly)return;he.model.pushStackElement();const le=Array.from(he.getCursorStates()),se=le.pop();se&&(le.unshift(se),he.setCursorStates(_e.source,3,le),he.revealPrimaryCursor(_e.source,!0),_(le,he.getCursorStates()))}}(0,S._K)(z.ID,z,4),(0,S._K)(B.ID,B,1),(0,S.Qr)(b),(0,S.Qr)(E),(0,S.Qr)(D),(0,S.Qr)(Y),(0,S.Qr)(H),(0,S.Qr)(P),(0,S.Qr)(X),(0,S.Qr)(q),(0,S.Qr)(U),(0,S.Qr)(w),(0,S.Qr)(I),(0,S.Qr)(y),(0,S.Qr)(pe)},94642:function(vt,be,i){"use strict";i.r(be),i.d(be,{TriggerParameterHintsAction:function(){return se}});var c=i(48911),F=i(52357),g=i(98981),A=i(73805),S=i(33686),$=i(26340),N=i(39460),x=i(50505),O=i(94162),p=i(79563),a=i(19713),d=i(67770),f=i(39508),s=i(43976),r=i(58295),m=i(21760),C=i(23286),u=function(je,Ce,J,ne){function ae(xe){return xe instanceof J?xe:new J(function(Ke){Ke(xe)})}return new(J||(J=Promise))(function(xe,Ke){function ct(et){try{dt(ne.next(et))}catch(Fe){Ke(Fe)}}function ot(et){try{dt(ne.throw(et))}catch(Fe){Ke(Fe)}}function dt(et){et.done?xe(et.value):ae(et.value).then(ct,ot)}dt((ne=ne.apply(je,Ce||[])).next())})};const _={Visible:new C.uy("parameterHintsVisible",!1),MultipleSignatures:new C.uy("parameterHintsMultipleSignatures",!1)};function b(je,Ce,J,ne,ae){return u(this,void 0,void 0,function*(){const xe=je.ordered(Ce);for(const Ke of xe)try{const ct=yield Ke.provideSignatureHelp(Ce,J,ae,ne);if(ct)return ct}catch(ct){(0,x.Cp)(ct)}})}m.P.registerCommand("_executeSignatureHelpProvider",(je,...Ce)=>u(void 0,void 0,void 0,function*(){const[J,ne,ae]=Ce;(0,d.p_)(f.o.isUri(J)),(0,d.p_)(s.L.isIPosition(ne)),(0,d.p_)(typeof ae=="string"||!ae);const xe=je.get($.p),Ke=yield je.get(r.S).createModelReference(J);try{const ct=yield b(xe.signatureHelpProvider,Ke.object.textEditorModel,s.L.lift(ne),{triggerKind:S.WW.Invoke,isRetrigger:!1,triggerCharacter:ae},a.T.None);return ct?(setTimeout(()=>ct.dispose(),0),ct.value):void 0}finally{Ke.dispose()}}));var E=function(je,Ce,J,ne){function ae(xe){return xe instanceof J?xe:new J(function(Ke){Ke(xe)})}return new(J||(J=Promise))(function(xe,Ke){function ct(et){try{dt(ne.next(et))}catch(Fe){Ke(Fe)}}function ot(et){try{dt(ne.throw(et))}catch(Fe){Ke(Fe)}}function dt(et){et.done?xe(et.value):ae(et.value).then(ct,ot)}dt((ne=ne.apply(je,Ce||[])).next())})},D;(function(je){je.Default={type:0};class Ce{constructor(ae,xe){this.request=ae,this.previouslyActiveHints=xe,this.type=2}}je.Pending=Ce;class J{constructor(ae){this.hints=ae,this.type=1}}je.Active=J})(D||(D={}));class w extends F.JT{constructor(Ce,J,ne=w.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new O.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=D.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new F.XK),this.triggerChars=new p.q,this.retriggerChars=new p.q,this.triggerId=0,this.editor=Ce,this.providers=J,this.throttledDelayer=new N.vp(ne),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(ae=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(ae=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(ae=>this.onCursorChange(ae))),this._register(this.editor.onDidChangeModelContent(ae=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(ae=>this.onDidType(ae))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(Ce){this._state.type===2&&this._state.request.cancel(),this._state=Ce}cancel(Ce=!1){this.state=D.Default,this.throttledDelayer.cancel(),Ce||this._onChangedHints.fire(void 0)}trigger(Ce,J){const ne=this.editor.getModel();if(!ne||!this.providers.has(ne))return;const ae=++this.triggerId;this._pendingTriggers.push(Ce),this.throttledDelayer.trigger(()=>this.doTrigger(ae),J).catch(x.dL)}next(){if(this.state.type!==1)return;const Ce=this.state.hints.signatures.length,J=this.state.hints.activeSignature,ne=J%Ce===Ce-1,ae=this.editor.getOption(81).cycle;if((Ce<2||ne)&&!ae){this.cancel();return}this.updateActiveSignature(ne&&ae?0:J+1)}previous(){if(this.state.type!==1)return;const Ce=this.state.hints.signatures.length,J=this.state.hints.activeSignature,ne=J===0,ae=this.editor.getOption(81).cycle;if((Ce<2||ne)&&!ae){this.cancel();return}this.updateActiveSignature(ne&&ae?Ce-1:J-1)}updateActiveSignature(Ce){this.state.type===1&&(this.state=new D.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:Ce})),this._onChangedHints.fire(this.state.hints))}doTrigger(Ce){return E(this,void 0,void 0,function*(){const J=this.state.type===1||this.state.type===2,ne=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const ae=this._pendingTriggers.reduce(I);this._pendingTriggers=[];const xe={triggerKind:ae.triggerKind,triggerCharacter:ae.triggerCharacter,isRetrigger:J,activeSignatureHelp:ne};if(!this.editor.hasModel())return!1;const Ke=this.editor.getModel(),ct=this.editor.getPosition();this.state=new D.Pending((0,N.PG)(ot=>b(this.providers,Ke,ct,xe,ot)),ne);try{const ot=yield this.state.request;return Ce!==this.triggerId?(ot==null||ot.dispose(),!1):!ot||!ot.value.signatures||ot.value.signatures.length===0?(ot==null||ot.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new D.Active(ot.value),this._lastSignatureHelpResult.value=ot,this._onChangedHints.fire(this.state.hints),!0)}catch(ot){return Ce===this.triggerId&&(this.state=D.Default),(0,x.dL)(ot),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const Ce=this.editor.getModel();if(Ce)for(const J of this.providers.ordered(Ce)){for(const ne of J.signatureHelpTriggerCharacters||[])if(ne.length){const ae=ne.charCodeAt(0);this.triggerChars.add(ae),this.retriggerChars.add(ae)}for(const ne of J.signatureHelpRetriggerCharacters||[])ne.length&&this.retriggerChars.add(ne.charCodeAt(0))}}onDidType(Ce){if(!this.triggerOnType)return;const J=Ce.length-1,ne=Ce.charCodeAt(J);(this.triggerChars.has(ne)||this.isTriggered&&this.retriggerChars.has(ne))&&this.trigger({triggerKind:S.WW.TriggerCharacter,triggerCharacter:Ce.charAt(J)})}onCursorChange(Ce){Ce.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(81).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}w.DEFAULT_DELAY=120;function I(je,Ce){switch(Ce.triggerKind){case S.WW.Invoke:return Ce;case S.WW.ContentChange:return je;case S.WW.TriggerCharacter:default:return Ce}}var M=i(15779),K=i(64700),z=i(16563),Q=i(26017),Y=i(66690),H=i(54195),P=i(30613),X=i(18426),q=i(32684),U=i(20009),L=i(78382),B=i(88159),j=i(81189),G=function(je,Ce,J,ne){var ae=arguments.length,xe=ae<3?Ce:ne===null?ne=Object.getOwnPropertyDescriptor(Ce,J):ne,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(je,Ce,J,ne);else for(var ct=je.length-1;ct>=0;ct--)(Ke=je[ct])&&(xe=(ae<3?Ke(xe):ae>3?Ke(Ce,J,xe):Ke(Ce,J))||xe);return ae>3&&xe&&Object.defineProperty(Ce,J,xe),xe},y=function(je,Ce){return function(J,ne){Ce(J,ne,je)}};const pe=z.$,ye=(0,B.q5)("parameter-hints-next",H.l.chevronDown,M.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),me=(0,B.q5)("parameter-hints-previous",H.l.chevronUp,M.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Se=class Qc extends F.JT{constructor(Ce,J,ne,ae,xe){super(),this.editor=Ce,this.model=J,this.renderDisposeables=this._register(new F.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new q.$({editor:Ce},xe,ae)),this.keyVisible=_.Visible.bindTo(ne),this.keyMultipleSignatures=_.MultipleSignatures.bindTo(ne)}createParameterHintDOMNodes(){const Ce=pe(".editor-widget.parameter-hints-widget"),J=z.R3(Ce,pe(".phwrapper"));J.tabIndex=-1;const ne=z.R3(J,pe(".controls")),ae=z.R3(ne,pe(".button"+j.k.asCSSSelector(me))),xe=z.R3(ne,pe(".overloads")),Ke=z.R3(ne,pe(".button"+j.k.asCSSSelector(ye)));this._register(z.nm(ae,"click",Le=>{z.zB.stop(Le),this.previous()})),this._register(z.nm(Ke,"click",Le=>{z.zB.stop(Le),this.next()}));const ct=pe(".body"),ot=new Y.s$(ct,{alwaysConsumeMouseWheel:!0});this._register(ot),J.appendChild(ot.getDomNode());const dt=z.R3(ct,pe(".signature")),et=z.R3(ct,pe(".docs"));Ce.style.userSelect="text",this.domNodes={element:Ce,signature:dt,overloads:xe,docs:et,scrollbar:ot},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Le=>{this.visible&&this.editor.layoutContentWidget(this)}));const Fe=()=>{if(!this.domNodes)return;const Le=this.editor.getOption(47);this.domNodes.element.style.fontSize=`${Le.fontSize}px`,this.domNodes.element.style.lineHeight=`${Le.lineHeight/Le.fontSize}`};Fe(),this._register(O.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Le=>Le.hasChanged(47)).on(Fe,null)),this._register(this.editor.onDidLayoutChange(Le=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var Ce;(Ce=this.domNodes)===null||Ce===void 0||Ce.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var Ce;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(Ce=this.domNodes)===null||Ce===void 0||Ce.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(Ce){var J;if(this.renderDisposeables.clear(),!this.domNodes)return;const ne=Ce.signatures.length>1;this.domNodes.element.classList.toggle("multiple",ne),this.keyMultipleSignatures.set(ne),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const ae=Ce.signatures[Ce.activeSignature];if(!ae)return;const xe=z.R3(this.domNodes.signature,pe(".code")),Ke=this.editor.getOption(47);xe.style.fontSize=`${Ke.fontSize}px`,xe.style.fontFamily=Ke.fontFamily;const ct=ae.parameters.length>0,ot=(J=ae.activeParameter)!==null&&J!==void 0?J:Ce.activeParameter;if(ct)this.renderParameters(xe,ae,ot);else{const Fe=z.R3(xe,pe("span"));Fe.textContent=ae.label}const dt=ae.parameters[ot];if(dt!=null&&dt.documentation){const Fe=pe("span.documentation");if(typeof dt.documentation=="string")Fe.textContent=dt.documentation;else{const Le=this.renderMarkdownDocs(dt.documentation);Fe.appendChild(Le.element)}z.R3(this.domNodes.docs,pe("p",{},Fe))}if(ae.documentation!==void 0)if(typeof ae.documentation=="string")z.R3(this.domNodes.docs,pe("p",{},ae.documentation));else{const Fe=this.renderMarkdownDocs(ae.documentation);z.R3(this.domNodes.docs,Fe.element)}const et=this.hasDocs(ae,dt);if(this.domNodes.signature.classList.toggle("has-docs",et),this.domNodes.docs.classList.toggle("empty",!et),this.domNodes.overloads.textContent=String(Ce.activeSignature+1).padStart(Ce.signatures.length.toString().length,"0")+"/"+Ce.signatures.length,dt){let Fe="";const Le=ae.parameters[ot];Array.isArray(Le.label)?Fe=ae.label.substring(Le.label[0],Le.label[1]):Fe=Le.label,Le.documentation&&(Fe+=typeof Le.documentation=="string"?`, ${Le.documentation}`:`, ${Le.documentation.value}`),ae.documentation&&(Fe+=typeof ae.documentation=="string"?`, ${ae.documentation}`:`, ${ae.documentation.value}`),this.announcedLabel!==Fe&&(Q.Z9(M.NC("hint","{0}, hint",Fe)),this.announcedLabel=Fe)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(Ce){const J=this.renderDisposeables.add(this.markdownRenderer.render(Ce,{asyncRenderCallback:()=>{var ne;(ne=this.domNodes)===null||ne===void 0||ne.scrollbar.scanDomNode()}}));return J.element.classList.add("markdown-docs"),J}hasDocs(Ce,J){return!!(J&&typeof J.documentation=="string"&&(0,d.cW)(J.documentation).length>0||J&&typeof J.documentation=="object"&&(0,d.cW)(J.documentation).value.length>0||Ce.documentation&&typeof Ce.documentation=="string"&&(0,d.cW)(Ce.documentation).length>0||Ce.documentation&&typeof Ce.documentation=="object"&&(0,d.cW)(Ce.documentation.value).length>0)}renderParameters(Ce,J,ne){const[ae,xe]=this.getParameterLabelOffsets(J,ne),Ke=document.createElement("span");Ke.textContent=J.label.substring(0,ae);const ct=document.createElement("span");ct.textContent=J.label.substring(ae,xe),ct.className="parameter active";const ot=document.createElement("span");ot.textContent=J.label.substring(xe),z.R3(Ce,Ke,ct,ot)}getParameterLabelOffsets(Ce,J){const ne=Ce.parameters[J];if(ne){if(Array.isArray(ne.label))return ne.label;if(ne.label.length){const ae=new RegExp(`(\\W|^)${(0,P.ec)(ne.label)}(?=\\W|$)`,"g");ae.test(Ce.label);const xe=ae.lastIndex-ne.label.length;return xe>=0?[xe,ae.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Qc.ID}updateMaxHeight(){if(!this.domNodes)return;const J=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=J;const ne=this.domNodes.element.getElementsByClassName("phwrapper");ne.length&&(ne[0].style.maxHeight=J)}};Se.ID="editor.widget.parameterHintsWidget",Se=G([y(2,C.i6),y(3,U.v4),y(4,X.O)],Se),(0,L.P6G)("editorHoverWidget.highlightForeground",{dark:L.Gwp,light:L.Gwp,hcDark:L.Gwp,hcLight:L.Gwp},M.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var _e=function(je,Ce,J,ne){var ae=arguments.length,xe=ae<3?Ce:ne===null?ne=Object.getOwnPropertyDescriptor(Ce,J):ne,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(je,Ce,J,ne);else for(var ct=je.length-1;ct>=0;ct--)(Ke=je[ct])&&(xe=(ae<3?Ke(xe):ae>3?Ke(Ce,J,xe):Ke(Ce,J))||xe);return ae>3&&xe&&Object.defineProperty(Ce,J,xe),xe},he=function(je,Ce){return function(J,ne){Ce(J,ne,je)}};let le=class Zc extends F.JT{static get(Ce){return Ce.getContribution(Zc.ID)}constructor(Ce,J,ne){super(),this.editor=Ce,this.model=this._register(new w(Ce,ne.signatureHelpProvider)),this._register(this.model.onChangedHints(ae=>{var xe;ae?(this.widget.value.show(),this.widget.value.render(ae)):(xe=this.widget.rawValue)===null||xe===void 0||xe.hide()})),this.widget=new c.o(()=>this._register(J.createInstance(Se,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var Ce;(Ce=this.widget.rawValue)===null||Ce===void 0||Ce.previous()}next(){var Ce;(Ce=this.widget.rawValue)===null||Ce===void 0||Ce.next()}trigger(Ce){this.model.trigger(Ce,0)}};le.ID="editor.controller.parameterHints",le=_e([he(1,K.TG),he(2,$.p)],le);class se extends g.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:M.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:A.u.hasSignatureHelpProvider,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3082,weight:100}})}run(Ce,J){const ne=le.get(J);ne==null||ne.trigger({triggerKind:S.WW.Invoke})}}(0,g._K)(le.ID,le,2),(0,g.Qr)(se);const Re=100+75,$e=g._l.bindToContribution(le.get);(0,g.fK)(new $e({id:"closeParameterHints",precondition:_.Visible,handler:je=>je.cancel(),kbOpts:{weight:Re,kbExpr:A.u.focus,primary:9,secondary:[1033]}})),(0,g.fK)(new $e({id:"showPrevParameterHint",precondition:C.Ao.and(_.Visible,_.MultipleSignatures),handler:je=>je.previous(),kbOpts:{weight:Re,kbExpr:A.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,g.fK)(new $e({id:"showNextParameterHint",precondition:C.Ao.and(_.Visible,_.MultipleSignatures),handler:je=>je.next(),kbOpts:{weight:Re,kbExpr:A.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},36481:function(vt,be,i){"use strict";i.d(be,{Fw:function(){return X},Jy:function(){return q},vk:function(){return j},rc:function(){return L},SC:function(){return ye},M8:function(){return me},KY:function(){return G},IH:function(){return y},R7:function(){return pe}});var c=i(16563),F=i(38224),g=i(50453),A=i(54195),S=i(81189),$=i(87799),N=i(94162),x=i(60060),O=i(98981),p=i(76356),a=i(49206),d=i(69303),f=i(59089),s=i(52357),r=i(22445),m=i(73740);const C=new $.Il(new $.VS(0,122,204)),u={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},_="vs.editor.contrib.zoneWidget";class b{constructor(ae,xe,Ke,ct,ot,dt){this.id="",this.domNode=ae,this.afterLineNumber=xe,this.afterColumn=Ke,this.heightInLines=ct,this._onDomNodeTop=ot,this._onComputedHeight=dt}onDomNodeTop(ae){this._onDomNodeTop(ae)}onComputedHeight(ae){this._onComputedHeight(ae)}}class E{constructor(ae,xe){this._id=ae,this._domNode=xe}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class D{constructor(ae){this._editor=ae,this._ruleName=D._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),c.uN(this._ruleName)}set color(ae){this._color!==ae&&(this._color=ae,this._updateStyle())}set height(ae){this._height!==ae&&(this._height=ae,this._updateStyle())}_updateStyle(){c.uN(this._ruleName),c.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(ae){ae.column===1&&(ae={lineNumber:ae.lineNumber,column:2}),this._decorations.set([{range:r.e.fromPositions(ae),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}D._IdGenerator=new f.R(".arrow-decoration-");class w{constructor(ae,xe={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new s.SL,this.container=null,this._isShowing=!1,this.editor=ae,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=x.I8(xe),x.jB(this.options,u,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Ke=>{const ct=this._getWidth(Ke);this.domNode.style.width=ct+"px",this.domNode.style.left=this._getLeft(Ke)+"px",this._onWidth(ct)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(ae=>{this._viewZone&&ae.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new D(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(ae){ae.frameColor&&(this.options.frameColor=ae.frameColor),ae.arrowColor&&(this.options.arrowColor=ae.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const ae=this.options.frameColor.toString();this.container.style.borderTopColor=ae,this.container.style.borderBottomColor=ae}if(this._arrow&&this.options.arrowColor){const ae=this.options.arrowColor.toString();this._arrow.color=ae}}_getWidth(ae){return ae.width-ae.minimap.minimapWidth-ae.verticalScrollbarWidth}_getLeft(ae){return ae.minimap.minimapWidth>0&&ae.minimap.minimapLeft===0?ae.minimap.minimapWidth:0}_onViewZoneTop(ae){this.domNode.style.top=ae+"px"}_onViewZoneHeight(ae){var xe;if(this.domNode.style.height=`${ae}px`,this.container){const Ke=ae-this._decoratingElementsHeight();this.container.style.height=`${Ke}px`;const ct=this.editor.getLayoutInfo();this._doLayout(Ke,this._getWidth(ct))}(xe=this._resizeSash)===null||xe===void 0||xe.layout()}get position(){const ae=this._positionMarkerId.getRange(0);if(ae)return ae.getStartPosition()}show(ae,xe){const Ke=r.e.isIRange(ae)?r.e.lift(ae):r.e.fromPositions(ae);this._isShowing=!0,this._showImpl(Ke,xe),this._isShowing=!1,this._positionMarkerId.set([{range:Ke,options:m.qx.EMPTY}])}hide(){var ae;this._viewZone&&(this.editor.changeViewZones(xe=>{this._viewZone&&xe.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(ae=this._arrow)===null||ae===void 0||ae.hide()}_decoratingElementsHeight(){const ae=this.editor.getOption(63);let xe=0;if(this.options.showArrow){const Ke=Math.round(ae/3);xe+=2*Ke}if(this.options.showFrame){const Ke=Math.round(ae/9);xe+=2*Ke}return xe}_showImpl(ae,xe){const Ke=ae.getStartPosition(),ct=this.editor.getLayoutInfo(),ot=this._getWidth(ct);this.domNode.style.width=`${ot}px`,this.domNode.style.left=this._getLeft(ct)+"px";const dt=document.createElement("div");dt.style.overflow="hidden";const et=this.editor.getOption(63),Fe=Math.max(12,this.editor.getLayoutInfo().height/et*.8);xe=Math.min(xe,Fe);let Le=0,Te=0;if(this._arrow&&this.options.showArrow&&(Le=Math.round(et/3),this._arrow.height=Le,this._arrow.show(Ke)),this.options.showFrame&&(Te=Math.round(et/9)),this.editor.changeViewZones(we=>{this._viewZone&&we.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new b(dt,Ke.lineNumber,Ke.column,xe,Oe=>this._onViewZoneTop(Oe),Oe=>this._onViewZoneHeight(Oe)),this._viewZone.id=we.addZone(this._viewZone),this._overlayWidget=new E(_+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const we=this.options.frameWidth?this.options.frameWidth:Te;this.container.style.borderTopWidth=we+"px",this.container.style.borderBottomWidth=we+"px"}const ge=xe*et-this._decoratingElementsHeight();this.container&&(this.container.style.top=Le+"px",this.container.style.height=ge+"px",this.container.style.overflow="hidden"),this._doLayout(ge,ot),this.options.keepEditorSelection||this.editor.setSelection(ae);const ve=this.editor.getModel();if(ve){const we=ve.validateRange(new r.e(ae.startLineNumber,1,ae.endLineNumber+1,1));this.revealRange(we,we.endLineNumber===ve.getLineCount())}}revealRange(ae,xe){xe?this.editor.revealLineNearTop(ae.endLineNumber,0):this.editor.revealRange(ae,0)}setCssClass(ae,xe){this.container&&(xe&&this.container.classList.remove(xe),this.container.classList.add(ae))}_onWidth(ae){}_doLayout(ae,xe){}_relayout(ae){this._viewZone&&this._viewZone.heightInLines!==ae&&this.editor.changeViewZones(xe=>{this._viewZone&&(this._viewZone.heightInLines=ae,xe.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new d.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let ae;this._disposables.add(this._resizeSash.onDidStart(xe=>{this._viewZone&&(ae={startY:xe.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{ae=void 0})),this._disposables.add(this._resizeSash.onDidChange(xe=>{if(ae){const Ke=(xe.currentY-ae.startY)/this.editor.getOption(63),ct=Ke<0?Math.ceil(Ke):Math.floor(Ke),ot=ae.heightInLines+ct;ot>5&&ot<35&&this._relayout(ot)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const ae=this.editor.getLayoutInfo();return ae.width-ae.minimap.minimapWidth}}var I=i(15779),M=i(925),K=i(23286),z=i(70751),Q=i(64700),Y=i(78382),H=function(ne,ae,xe,Ke){var ct=arguments.length,ot=ct<3?ae:Ke===null?Ke=Object.getOwnPropertyDescriptor(ae,xe):Ke,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ne,ae,xe,Ke);else for(var et=ne.length-1;et>=0;et--)(dt=ne[et])&&(ot=(ct<3?dt(ot):ct>3?dt(ae,xe,ot):dt(ae,xe))||ot);return ct>3&&ot&&Object.defineProperty(ae,xe,ot),ot},P=function(ne,ae){return function(xe,Ke){ae(xe,Ke,ne)}};const X=(0,Q.yh)("IPeekViewService");(0,z.z)(X,class{constructor(){this._widgets=new Map}addExclusiveWidget(ne,ae){const xe=this._widgets.get(ne);xe&&(xe.listener.dispose(),xe.widget.dispose());const Ke=()=>{const ct=this._widgets.get(ne);ct&&ct.widget===ae&&(ct.listener.dispose(),this._widgets.delete(ne))};this._widgets.set(ne,{widget:ae,listener:ae.onDidClose(Ke)})}},1);var q;(function(ne){ne.inPeekEditor=new K.uy("inReferenceSearchEditor",!0,I.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),ne.notInPeekEditor=ne.inPeekEditor.toNegated()})(q||(q={}));let U=class{constructor(ae,xe){ae instanceof a.H&&q.inPeekEditor.bindTo(xe)}dispose(){}};U.ID="editor.contrib.referenceController",U=H([P(1,K.i6)],U),(0,O._K)(U.ID,U,0);function L(ne){const ae=ne.get(p.$).getFocusedCodeEditor();return ae instanceof a.H?ae.getParentEditor():ae}const B={headerBackgroundColor:$.Il.white,primaryHeadingColor:$.Il.fromHex("#333333"),secondaryHeadingColor:$.Il.fromHex("#6c6c6cb3")};let j=class extends w{constructor(ae,xe,Ke){super(ae,xe),this.instantiationService=Ke,this._onDidClose=new N.Q5,this.onDidClose=this._onDidClose.event,x.jB(this.options,B,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(ae){const xe=this.options;ae.headerBackgroundColor&&(xe.headerBackgroundColor=ae.headerBackgroundColor),ae.primaryHeadingColor&&(xe.primaryHeadingColor=ae.primaryHeadingColor),ae.secondaryHeadingColor&&(xe.secondaryHeadingColor=ae.secondaryHeadingColor),super.style(ae)}_applyStyles(){super._applyStyles();const ae=this.options;this._headElement&&ae.headerBackgroundColor&&(this._headElement.style.backgroundColor=ae.headerBackgroundColor.toString()),this._primaryHeading&&ae.primaryHeadingColor&&(this._primaryHeading.style.color=ae.primaryHeadingColor.toString()),this._secondaryHeading&&ae.secondaryHeadingColor&&(this._secondaryHeading.style.color=ae.secondaryHeadingColor.toString()),this._bodyElement&&ae.frameColor&&(this._bodyElement.style.borderColor=ae.frameColor.toString())}_fillContainer(ae){this.setCssClass("peekview-widget"),this._headElement=c.$(".head"),this._bodyElement=c.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),ae.appendChild(this._headElement),ae.appendChild(this._bodyElement)}_fillHead(ae,xe){this._titleElement=c.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),c.mu(this._titleElement,"click",ot=>this._onTitleClick(ot))),c.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=c.$("span.filename"),this._secondaryHeading=c.$("span.dirname"),this._metaHeading=c.$("span.meta"),c.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Ke=c.$(".peekview-actions");c.R3(this._headElement,Ke);const ct=this._getActionBarOptions();this._actionbarWidget=new F.o(Ke,ct),this._disposables.add(this._actionbarWidget),xe||this._actionbarWidget.push(new g.aU("peekview.close",I.NC("label.close","Close"),S.k.asClassName(A.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(ae){}_getActionBarOptions(){return{actionViewItemProvider:M.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(ae){}setTitle(ae,xe){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=ae,this._primaryHeading.setAttribute("title",ae),xe?this._secondaryHeading.innerText=xe:c.PO(this._secondaryHeading))}setMetaTitle(ae){this._metaHeading&&(ae?(this._metaHeading.innerText=ae,c.$Z(this._metaHeading)):c.Cp(this._metaHeading))}_doLayout(ae,xe){if(!this._isShowing&&ae<0){this.dispose();return}const Ke=Math.ceil(this.editor.getOption(63)*1.2),ct=Math.round(ae-(Ke+2));this._doLayoutHead(Ke,xe),this._doLayoutBody(ct,xe)}_doLayoutHead(ae,xe){this._headElement&&(this._headElement.style.height=`${ae}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(ae,xe){this._bodyElement&&(this._bodyElement.style.height=`${ae}px`)}};j=H([P(2,Q.TG)],j);const G=(0,Y.P6G)("peekViewTitle.background",{dark:(0,Y.ZnX)(Y.c63,.1),light:(0,Y.ZnX)(Y.c63,.1),hcDark:null,hcLight:null},I.NC("peekViewTitleBackground","Background color of the peek view title area.")),y=(0,Y.P6G)("peekViewTitleLabel.foreground",{dark:$.Il.white,light:$.Il.black,hcDark:$.Il.white,hcLight:Y.NOs},I.NC("peekViewTitleForeground","Color of the peek view title.")),pe=(0,Y.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},I.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),ye=(0,Y.P6G)("peekView.border",{dark:Y.c63,light:Y.c63,hcDark:Y.lRK,hcLight:Y.lRK},I.NC("peekViewBorder","Color of the peek view borders and arrow.")),me=(0,Y.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:$.Il.black,hcLight:$.Il.white},I.NC("peekViewResultsBackground","Background color of the peek view result list.")),Se=(0,Y.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:$.Il.white,hcLight:Y.NOs},I.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),_e=(0,Y.P6G)("peekViewResult.fileForeground",{dark:$.Il.white,light:"#1E1E1E",hcDark:$.Il.white,hcLight:Y.NOs},I.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),he=(0,Y.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},I.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),le=(0,Y.P6G)("peekViewResult.selectionForeground",{dark:$.Il.white,light:"#6C6C6C",hcDark:$.Il.white,hcLight:Y.NOs},I.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),se=(0,Y.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:$.Il.black,hcLight:$.Il.white},I.NC("peekViewEditorBackground","Background color of the peek view editor.")),Re=(0,Y.P6G)("peekViewEditorGutter.background",{dark:se,light:se,hcDark:se,hcLight:se},I.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),$e=(0,Y.P6G)("peekViewEditorStickyScroll.background",{dark:se,light:se,hcDark:se,hcLight:se},I.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),je=(0,Y.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},I.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Ce=(0,Y.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},I.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),J=(0,Y.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Y.xL1,hcLight:Y.xL1},I.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},53874:function(vt,be,i){"use strict";i.d(be,{X:function(){return x}});var c=i(52473),F=i(52357),g=i(67770),A=i(60920),S=i(48117),$=i(34467),N=i(901);class x{constructor(p){this.options=p,this.rangeHighlightDecorationId=void 0}provide(p,a){var d;const f=new F.SL;p.canAcceptInBackground=!!(!((d=this.options)===null||d===void 0)&&d.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;const s=f.add(new F.XK);return s.value=this.doProvide(p,a),f.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(p,a)})),f}doProvide(p,a){const d=new F.SL,f=this.activeTextEditorControl;if(f&&this.canProvideWithTextEditor(f)){const s={editor:f},r=(0,A.Pi)(f);if(r){let m=(0,g.f6)(f.saveViewState());d.add(r.onDidChangeCursorPosition(()=>{m=(0,g.f6)(f.saveViewState())})),s.restoreViewState=()=>{m&&f===this.activeTextEditorControl&&f.restoreViewState(m)},d.add((0,c.I)(a.onCancellationRequested)(()=>{var C;return(C=s.restoreViewState)===null||C===void 0?void 0:C.call(s)}))}d.add((0,F.OF)(()=>this.clearDecorations(f))),d.add(this.provideWithTextEditor(s,p,a))}else d.add(this.provideWithoutTextEditor(p,a));return d}canProvideWithTextEditor(p){return!0}gotoLocation({editor:p},a){p.setSelection(a.range),p.revealRangeInCenter(a.range,0),a.preserveFocus||p.focus()}getModel(p){var a;return(0,A.QI)(p)?(a=p.getModel())===null||a===void 0?void 0:a.modified:p.getModel()}addDecorations(p,a){p.changeDecorations(d=>{const f=[];this.rangeHighlightDecorationId&&(f.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),f.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,N.EN)($.m9),position:S.sh.Full}}}],[r,m]=d.deltaDecorations(f,s);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:m}})}clearDecorations(p){const a=this.rangeHighlightDecorationId;a&&(p.changeDecorations(d=>{d.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},99913:function(vt,be,i){"use strict";i.r(be),i.d(be,{ReadOnlyMessageController:function(){return S}});var c=i(52357),F=i(98981),g=i(41967),A=i(15779);class S extends c.JT{constructor(N){super(),this.editor=N,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const N=g.O.get(this.editor);N&&this.editor.hasModel()&&(this.editor.isSimpleWidget?N.showMessage(A.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):N.showMessage(A.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}S.ID="editor.contrib.readOnlyMessageController",(0,F._K)(S.ID,S,2)},81010:function(vt,be,i){"use strict";i.r(be),i.d(be,{RenameAction:function(){return y},rename:function(){return j}});var c=i(26017),F=i(39460),g=i(19713),A=i(50505),S=i(52357),$=i(67770),N=i(39508),x=i(46978),O=i(98981),p=i(24467),a=i(76356),d=i(43976),f=i(22445),s=i(73805),r=i(97472),m=i(41967),C=i(15779),u=i(29628),_=i(23286),b=i(64700),E=i(18166),D=i(28382),w=i(26348),I=i(94814),M=i(22437),K=i(78382),z=i(901),Q=function(ye,me,Se,_e){var he=arguments.length,le=he<3?me:_e===null?_e=Object.getOwnPropertyDescriptor(me,Se):_e,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(ye,me,Se,_e);else for(var Re=ye.length-1;Re>=0;Re--)(se=ye[Re])&&(le=(he<3?se(le):he>3?se(me,Se,le):se(me,Se))||le);return he>3&&le&&Object.defineProperty(me,Se,le),le},Y=function(ye,me){return function(Se,_e){me(Se,_e,ye)}};const H=new _.uy("renameInputVisible",!1,(0,C.NC)("renameInputVisible","Whether the rename input widget is visible"));let P=class{constructor(me,Se,_e,he,le){this._editor=me,this._acceptKeybindings=Se,this._themeService=_e,this._keybindingService=he,this._disposables=new S.SL,this.allowEditorOverflow=!0,this._visibleContextKey=H.bindTo(le),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(se=>{se.hasChanged(47)&&this._updateFont()})),this._disposables.add(_e.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,C.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const me=()=>{var Se,_e;const[he,le]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(he),this._label.innerText=(0,C.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(Se=this._keybindingService.lookupKeybinding(he))===null||Se===void 0?void 0:Se.getLabel(),(_e=this._keybindingService.lookupKeybinding(le))===null||_e===void 0?void 0:_e.getLabel())};me(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(me)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(me){var Se,_e,he,le;if(!this._input||!this._domNode)return;const se=me.getColor(K.rh),Re=me.getColor(K.A42);this._domNode.style.backgroundColor=String((Se=me.getColor(K.D0T))!==null&&Se!==void 0?Se:""),this._domNode.style.boxShadow=se?` 0 0 8px 2px ${se}`:"",this._domNode.style.border=Re?`1px solid ${Re}`:"",this._domNode.style.color=String((_e=me.getColor(K.zJb))!==null&&_e!==void 0?_e:""),this._input.style.backgroundColor=String((he=me.getColor(K.sEe))!==null&&he!==void 0?he:"");const $e=me.getColor(K.dt_);this._input.style.borderWidth=$e?"1px":"0px",this._input.style.borderStyle=$e?"solid":"none",this._input.style.borderColor=(le=$e==null?void 0:$e.toString())!==null&&le!==void 0?le:"none"}_updateFont(){if(!this._input||!this._label)return;const me=this._editor.getOption(47);this._input.style.fontFamily=me.fontFamily,this._input.style.fontWeight=me.fontWeight,this._input.style.fontSize=`${me.fontSize}px`,this._label.style.fontSize=`${me.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(me){me||this.cancelInput(!0)}acceptInput(me){var Se;(Se=this._currentAcceptInput)===null||Se===void 0||Se.call(this,me)}cancelInput(me){var Se;(Se=this._currentCancelInput)===null||Se===void 0||Se.call(this,me)}getInput(me,Se,_e,he,le,se){this._domNode.classList.toggle("preview",le),this._position=new d.L(me.startLineNumber,me.startColumn),this._input.value=Se,this._input.setAttribute("selectionStart",_e.toString()),this._input.setAttribute("selectionEnd",he.toString()),this._input.size=Math.max((me.endColumn-me.startColumn)*1.1,20);const Re=new S.SL;return new Promise($e=>{this._currentCancelInput=je=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,$e(je),!0),this._currentAcceptInput=je=>{if(this._input.value.trim().length===0||this._input.value===Se){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,$e({newName:this._input.value,wantsPreview:le&&je})},Re.add(se.onCancellationRequested(()=>this.cancelInput(!0))),Re.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{Re.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};P=Q([Y(2,z.XE),Y(3,M.d),Y(4,_.i6)],P);var X=i(26340),q=function(ye,me,Se,_e){var he=arguments.length,le=he<3?me:_e===null?_e=Object.getOwnPropertyDescriptor(me,Se):_e,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(ye,me,Se,_e);else for(var Re=ye.length-1;Re>=0;Re--)(se=ye[Re])&&(le=(he<3?se(le):he>3?se(me,Se,le):se(me,Se))||le);return he>3&&le&&Object.defineProperty(me,Se,le),le},U=function(ye,me){return function(Se,_e){me(Se,_e,ye)}},L=function(ye,me,Se,_e){function he(le){return le instanceof Se?le:new Se(function(se){se(le)})}return new(Se||(Se=Promise))(function(le,se){function Re(Ce){try{je(_e.next(Ce))}catch(J){se(J)}}function $e(Ce){try{je(_e.throw(Ce))}catch(J){se(J)}}function je(Ce){Ce.done?le(Ce.value):he(Ce.value).then(Re,$e)}je((_e=_e.apply(ye,me||[])).next())})};class B{constructor(me,Se,_e){this.model=me,this.position=Se,this._providerRenameIdx=0,this._providers=_e.ordered(me)}hasProvider(){return this._providers.length>0}resolveRenameLocation(me){return L(this,void 0,void 0,function*(){const Se=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const he=this._providers[this._providerRenameIdx];if(!he.resolveRenameLocation)break;const le=yield he.resolveRenameLocation(this.model,this.position,me);if(le){if(le.rejectReason){Se.push(le.rejectReason);continue}return le}}const _e=this.model.getWordAtPosition(this.position);return _e?{range:new f.e(this.position.lineNumber,_e.startColumn,this.position.lineNumber,_e.endColumn),text:_e.word,rejectReason:Se.length>0?Se.join(`
`):void 0}:{range:f.e.fromPositions(this.position),text:"",rejectReason:Se.length>0?Se.join(`
`):void 0}})}provideRenameEdits(me,Se){return L(this,void 0,void 0,function*(){return this._provideRenameEdits(me,this._providerRenameIdx,[],Se)})}_provideRenameEdits(me,Se,_e,he){return L(this,void 0,void 0,function*(){const le=this._providers[Se];if(!le)return{edits:[],rejectReason:_e.join(`
`)};const se=yield le.provideRenameEdits(this.model,this.position,me,he);if(se){if(se.rejectReason)return this._provideRenameEdits(me,Se+1,_e.concat(se.rejectReason),he)}else return this._provideRenameEdits(me,Se+1,_e.concat(C.NC("no result","No result.")),he);return se})}}function j(ye,me,Se,_e){return L(this,void 0,void 0,function*(){const he=new B(me,Se,ye),le=yield he.resolveRenameLocation(g.T.None);return le!=null&&le.rejectReason?{edits:[],rejectReason:le.rejectReason}:he.provideRenameEdits(_e,g.T.None)})}let G=class Yc{static get(me){return me.getContribution(Yc.ID)}constructor(me,Se,_e,he,le,se,Re,$e){this.editor=me,this._instaService=Se,this._notificationService=_e,this._bulkEditService=he,this._progressService=le,this._logService=se,this._configService=Re,this._languageFeaturesService=$e,this._disposableStore=new S.SL,this._cts=new g.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(P,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var me,Se;return L(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const _e=this.editor.getPosition(),he=new B(this.editor.getModel(),_e,this._languageFeaturesService.renameProvider);if(!he.hasProvider())return;this._cts=new x.Dl(this.editor,5);let le;try{const ne=he.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ne,250),le=yield ne}catch(ne){(me=m.O.get(this.editor))===null||me===void 0||me.showMessage(ne||C.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),_e);return}if(!le)return;if(le.rejectReason){(Se=m.O.get(this.editor))===null||Se===void 0||Se.showMessage(le.rejectReason,_e);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new x.Dl(this.editor,5,le.range);const se=this.editor.getSelection();let Re=0,$e=le.text.length;!f.e.isEmpty(se)&&!f.e.spansMultipleLines(se)&&f.e.containsRange(le.range,se)&&(Re=Math.max(0,se.startColumn-le.range.startColumn),$e=Math.min(le.range.endColumn,se.endColumn)-le.range.startColumn);const je=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Ce=yield this._renameInputField.getInput(le.range,le.text,Re,$e,je,this._cts.token);if(typeof Ce=="boolean"){Ce&&this.editor.focus();return}this.editor.focus();const J=(0,F.eP)(he.provideRenameEdits(Ce.newName,this._cts.token),this._cts.token).then(ne=>L(this,void 0,void 0,function*(){if(!(!ne||!this.editor.hasModel())){if(ne.rejectReason){this._notificationService.info(ne.rejectReason);return}this.editor.setSelection(f.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(ne,{editor:this.editor,showPreview:Ce.wantsPreview,label:C.NC("label","Renaming '{0}' to '{1}'",le==null?void 0:le.text,Ce.newName),code:"undoredo.rename",quotableLabel:C.NC("quotableLabel","Renaming {0} to {1}",le==null?void 0:le.text,Ce.newName),respectAutoSaveConfig:!0}).then(ae=>{ae.ariaSummary&&(0,c.Z9)(C.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",le.text,Ce.newName,ae.ariaSummary))}).catch(ae=>{this._notificationService.error(C.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ae)})}}),ne=>{this._notificationService.error(C.NC("rename.failed","Rename failed to compute edits")),this._logService.error(ne)});return this._progressService.showWhile(J,250),J})}acceptRenameInput(me){this._renameInputField.acceptInput(me)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};G.ID="editor.contrib.renameController",G=q([U(1,b.TG),U(2,D.lT),U(3,p.vu),U(4,w.ek),U(5,E.VZ),U(6,r.V),U(7,X.p)],G);class y extends O.R6{constructor(){super({id:"editor.action.rename",label:C.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:_.Ao.and(s.u.writable,s.u.hasRenameProvider),kbOpts:{kbExpr:s.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(me,Se){const _e=me.get(a.$),[he,le]=Array.isArray(Se)&&Se||[void 0,void 0];return N.o.isUri(he)&&d.L.isIPosition(le)?_e.openCodeEditor({resource:he},_e.getActiveCodeEditor()).then(se=>{se&&(se.setPosition(le),se.invokeWithinContext(Re=>(this.reportTelemetry(Re,se),this.run(Re,se))))},A.dL):super.runCommand(me,Se)}run(me,Se){const _e=G.get(Se);return _e?_e.run():Promise.resolve()}}(0,O._K)(G.ID,G,4),(0,O.Qr)(y);const pe=O._l.bindToContribution(G.get);(0,O.fK)(new pe({id:"acceptRenameInput",precondition:H,handler:ye=>ye.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:s.u.focus,primary:3}})),(0,O.fK)(new pe({id:"acceptRenameInputWithPreview",precondition:_.Ao.and(H,_.Ao.has("config.editor.rename.enablePreview")),handler:ye=>ye.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:s.u.focus,primary:1024+3}})),(0,O.fK)(new pe({id:"cancelRenameInput",precondition:H,handler:ye=>ye.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:s.u.focus,primary:9,secondary:[1033]}})),(0,O.sb)("_executeDocumentRenameProvider",function(ye,me,Se,..._e){const[he]=_e;(0,$.p_)(typeof he=="string");const{renameProvider:le}=ye.get(X.p);return j(le,me,Se,he)}),(0,O.sb)("_executePrepareRename",function(ye,me,Se){return L(this,void 0,void 0,function*(){const{renameProvider:_e}=ye.get(X.p),le=yield new B(me,Se,_e).resolveRenameLocation(g.T.None);if(le!=null&&le.rejectReason)throw new Error(le.rejectReason);return le})}),I.B.as(u.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:C.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},44369:function(vt,be,i){"use strict";i.r(be),i.d(be,{DocumentSemanticTokensFeature:function(){return u}});var c=i(52357),F=i(50505),g=i(6033),A=i(64464),S=i(39460),$=i(19713),N=i(901),x=i(74616),O=i(83728),p=i(16978),a=i(39589),d=i(26340),f=i(25220),s=i(26163),r=i(31085),m=function(E,D,w,I){var M=arguments.length,K=M<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,w):I,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(E,D,w,I);else for(var Q=E.length-1;Q>=0;Q--)(z=E[Q])&&(K=(M<3?z(K):M>3?z(D,w,K):z(D,w))||K);return M>3&&K&&Object.defineProperty(D,w,K),K},C=function(E,D){return function(w,I){D(w,I,E)}};let u=class extends c.JT{constructor(D,w,I,M,K,z){super(),this._watchers=Object.create(null);const Q=P=>{this._watchers[P.uri.toString()]=new _(P,D,I,K,z)},Y=(P,X)=>{X.dispose(),delete this._watchers[P.uri.toString()]},H=()=>{for(const P of w.getModels()){const X=this._watchers[P.uri.toString()];(0,r.t)(P,I,M)?X||Q(P):X&&Y(P,X)}};this._register(w.onModelAdded(P=>{(0,r.t)(P,I,M)&&Q(P)})),this._register(w.onModelRemoved(P=>{const X=this._watchers[P.uri.toString()];X&&Y(P,X)})),this._register(M.onDidChangeConfiguration(P=>{P.affectsConfiguration(r.e)&&H()})),this._register(I.onDidColorThemeChange(H))}dispose(){for(const D of Object.values(this._watchers))D.dispose();super.dispose()}};u=m([C(0,f.s),C(1,g.q),C(2,N.XE),C(3,A.Ui),C(4,p.A),C(5,d.p)],u);let _=class ir extends c.JT{constructor(D,w,I,M,K){super(),this._semanticTokensStylingService=w,this._isDisposed=!1,this._model=D,this._provider=K.documentSemanticTokensProvider,this._debounceInformation=M.for(this._provider,"DocumentSemanticTokens",{min:ir.REQUEST_MIN_DELAY,max:ir.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.pY(()=>this._fetchDocumentSemanticTokensNow(),ir.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const z=()=>{(0,c.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Q of this._provider.all(D))typeof Q.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Q.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};z(),this._register(this._provider.onDidChange(()=>{z(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(I.onDidColorThemeChange(Q=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,O.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const D=new $.A,w=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,I=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,M=(0,O.ML)(this._provider,this._model,w,I,D.token);this._currentDocumentRequestCancellationTokenSource=D,this._providersChangedDuringRequest=!1;const K=[],z=this._model.onDidChangeContent(Y=>{K.push(Y)}),Q=new a.G(!1);M.then(Y=>{if(this._debounceInformation.update(this._model,Q.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,z.dispose(),!Y)this._setDocumentSemanticTokens(null,null,null,K);else{const{provider:H,tokens:P}=Y,X=this._semanticTokensStylingService.getStyling(H);this._setDocumentSemanticTokens(H,P||null,X,K)}},Y=>{Y&&(F.n2(Y)||typeof Y.message=="string"&&Y.message.indexOf("busy")!==-1)||F.dL(Y),this._currentDocumentRequestCancellationTokenSource=null,z.dispose(),(K.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(D,w,I,M,K){K=Math.min(K,I.length-M,D.length-w);for(let z=0;z<K;z++)I[M+z]=D[w+z]}_setDocumentSemanticTokens(D,w,I,M){const K=this._currentDocumentResponse,z=()=>{(M.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){D&&w&&D.releaseDocumentSemanticTokens(w.resultId);return}if(!D||!I){this._model.tokenization.setSemanticTokens(null,!1);return}if(!w){this._model.tokenization.setSemanticTokens(null,!0),z();return}if((0,O.Vj)(w)){if(!K){this._model.tokenization.setSemanticTokens(null,!0);return}if(w.edits.length===0)w={resultId:w.resultId,data:K.data};else{let Q=0;for(const q of w.edits)Q+=(q.data?q.data.length:0)-q.deleteCount;const Y=K.data,H=new Uint32Array(Y.length+Q);let P=Y.length,X=H.length;for(let q=w.edits.length-1;q>=0;q--){const U=w.edits[q];if(U.start>Y.length){I.warnInvalidEditStart(K.resultId,w.resultId,q,U.start,Y.length),this._model.tokenization.setSemanticTokens(null,!0);return}const L=P-(U.start+U.deleteCount);L>0&&(ir._copy(Y,P-L,H,X-L,L),X-=L),U.data&&(ir._copy(U.data,0,H,X-U.data.length,U.data.length),X-=U.data.length),P=U.start}P>0&&ir._copy(Y,0,H,0,P),w={resultId:w.resultId,data:H}}}if((0,O.Vl)(w)){this._currentDocumentResponse=new b(D,w.resultId,w.data);const Q=(0,x.h)(w,I,this._model.getLanguageId());if(M.length>0)for(const Y of M)for(const H of Q)for(const P of Y.changes)H.applyEdit(P.range,P.text);this._model.tokenization.setSemanticTokens(Q,!0)}else this._model.tokenization.setSemanticTokens(null,!0);z()}};_.REQUEST_MIN_DELAY=300,_.REQUEST_MAX_DELAY=2e3,_=m([C(1,f.s),C(2,N.XE),C(3,p.A),C(4,d.p)],_);class b{constructor(D,w,I){this.provider=D,this.resultId=w,this.data=I}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,s.y)(u)},86730:function(vt,be,i){"use strict";i.r(be);var c=i(39460),F=i(52357),g=i(98981),A=i(83728),S=i(31085),$=i(74616),N=i(64464),x=i(901),O=i(16978),p=i(39589),a=i(26340),d=i(25220),f=function(m,C,u,_){var b=arguments.length,E=b<3?C:_===null?_=Object.getOwnPropertyDescriptor(C,u):_,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,C,u,_);else for(var w=m.length-1;w>=0;w--)(D=m[w])&&(E=(b<3?D(E):b>3?D(C,u,E):D(C,u))||E);return b>3&&E&&Object.defineProperty(C,u,E),E},s=function(m,C){return function(u,_){C(u,_,m)}};let r=class extends F.JT{constructor(C,u,_,b,E,D){super(),this._semanticTokensStylingService=u,this._themeService=_,this._configurationService=b,this._editor=C,this._provider=D.documentRangeSemanticTokensProvider,this._debounceInformation=E.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new c.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const w=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{w()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),w()})),this._register(this._editor.onDidChangeModelContent(I=>{this._cancelAll(),w()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),w()})),this._register(this._configurationService.onDidChangeConfiguration(I=>{I.affectsConfiguration(S.e)&&(this._cancelAll(),w())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),w()})),w()}_cancelAll(){for(const C of this._outstandingRequests)C.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(C){for(let u=0,_=this._outstandingRequests.length;u<_;u++)if(this._outstandingRequests[u]===C){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const C=this._editor.getModel();if(C.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.t)(C,this._themeService,this._configurationService)){C.tokenization.hasSomeSemanticTokens()&&C.tokenization.setSemanticTokens(null,!1);return}if(!(0,A.KO)(this._provider,C)){C.tokenization.hasSomeSemanticTokens()&&C.tokenization.setSemanticTokens(null,!1);return}const u=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(u.map(_=>this._requestRange(C,_)))}_requestRange(C,u){const _=C.getVersionId(),b=(0,c.PG)(D=>Promise.resolve((0,A.OG)(this._provider,C,u,D))),E=new p.G(!1);return b.then(D=>{if(this._debounceInformation.update(C,E.elapsed()),!D||!D.tokens||C.isDisposed()||C.getVersionId()!==_)return;const{provider:w,tokens:I}=D,M=this._semanticTokensStylingService.getStyling(w);C.tokenization.setPartialSemanticTokens(u,(0,$.h)(I,M,C.getLanguageId()))}).then(()=>this._removeOutstandingRequest(b),()=>this._removeOutstandingRequest(b)),b}};r.ID="editor.contrib.viewportSemanticTokens",r=f([s(1,d.s),s(2,x.XE),s(3,N.Ui),s(4,O.A),s(5,a.p)],r),(0,g._K)(r.ID,r,1)},83728:function(vt,be,i){"use strict";i.d(be,{OG:function(){return K},ML:function(){return E},KO:function(){return I},Jc:function(){return _},Vl:function(){return m},Vj:function(){return C}});var c=i(19713),F=i(50505),g=i(39508),A=i(6033),S=i(21760),$=i(67770),N=i(22594),x=i(41420);function O(z){for(let Q=0,Y=z.length;Q<Y;Q+=4){const H=z[Q+0],P=z[Q+1],X=z[Q+2],q=z[Q+3];z[Q+0]=q,z[Q+1]=X,z[Q+2]=P,z[Q+3]=H}}function p(z){const Q=new Uint8Array(z.buffer,z.byteOffset,z.length*4);return x.r()||O(Q),N.KN.wrap(Q)}function a(z){const Q=new Uint32Array(d(z));let Y=0;if(Q[Y++]=z.id,z.type==="full")Q[Y++]=1,Q[Y++]=z.data.length,Q.set(z.data,Y),Y+=z.data.length;else{Q[Y++]=2,Q[Y++]=z.deltas.length;for(const H of z.deltas)Q[Y++]=H.start,Q[Y++]=H.deleteCount,H.data?(Q[Y++]=H.data.length,Q.set(H.data,Y),Y+=H.data.length):Q[Y++]=0}return p(Q)}function d(z){let Q=0;if(Q+=1+1,z.type==="full")Q+=1+z.data.length;else{Q+=1,Q+=(1+1+1)*z.deltas.length;for(const Y of z.deltas)Y.data&&(Q+=Y.data.length)}return Q}var f=i(22445),s=i(26340),r=function(z,Q,Y,H){function P(X){return X instanceof Y?X:new Y(function(q){q(X)})}return new(Y||(Y=Promise))(function(X,q){function U(j){try{B(H.next(j))}catch(G){q(G)}}function L(j){try{B(H.throw(j))}catch(G){q(G)}}function B(j){j.done?X(j.value):P(j.value).then(U,L)}B((H=H.apply(z,Q||[])).next())})};function m(z){return z&&!!z.data}function C(z){return z&&Array.isArray(z.edits)}class u{constructor(Q,Y,H){this.provider=Q,this.tokens=Y,this.error=H}}function _(z,Q){return z.has(Q)}function b(z,Q){const Y=z.orderedGroups(Q);return Y.length>0?Y[0]:[]}function E(z,Q,Y,H,P){return r(this,void 0,void 0,function*(){const X=b(z,Q),q=yield Promise.all(X.map(U=>r(this,void 0,void 0,function*(){let L,B=null;try{L=yield U.provideDocumentSemanticTokens(Q,U===Y?H:null,P)}catch(j){B=j,L=null}return(!L||!m(L)&&!C(L))&&(L=null),new u(U,L,B)})));for(const U of q){if(U.error)throw U.error;if(U.tokens)return U}return q.length>0?q[0]:null})}function D(z,Q){const Y=z.orderedGroups(Q);return Y.length>0?Y[0]:null}class w{constructor(Q,Y){this.provider=Q,this.tokens=Y}}function I(z,Q){return z.has(Q)}function M(z,Q){const Y=z.orderedGroups(Q);return Y.length>0?Y[0]:[]}function K(z,Q,Y,H){return r(this,void 0,void 0,function*(){const P=M(z,Q),X=yield Promise.all(P.map(q=>r(this,void 0,void 0,function*(){let U;try{U=yield q.provideDocumentRangeSemanticTokens(Q,Y,H)}catch(L){(0,F.Cp)(L),U=null}return(!U||!m(U))&&(U=null),new w(q,U)})));for(const q of X)if(q.tokens)return q;return X.length>0?X[0]:null})}S.P.registerCommand("_provideDocumentSemanticTokensLegend",(z,...Q)=>r(void 0,void 0,void 0,function*(){const[Y]=Q;(0,$.p_)(Y instanceof g.o);const H=z.get(A.q).getModel(Y);if(!H)return;const{documentSemanticTokensProvider:P}=z.get(s.p),X=D(P,H);return X?X[0].getLegend():z.get(S.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",Y)})),S.P.registerCommand("_provideDocumentSemanticTokens",(z,...Q)=>r(void 0,void 0,void 0,function*(){const[Y]=Q;(0,$.p_)(Y instanceof g.o);const H=z.get(A.q).getModel(Y);if(!H)return;const{documentSemanticTokensProvider:P}=z.get(s.p);if(!_(P,H))return z.get(S.H).executeCommand("_provideDocumentRangeSemanticTokens",Y,H.getFullModelRange());const X=yield E(P,H,null,null,c.T.None);if(!X)return;const{provider:q,tokens:U}=X;if(!U||!m(U))return;const L=a({id:0,type:"full",data:U.data});return U.resultId&&q.releaseDocumentSemanticTokens(U.resultId),L})),S.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(z,...Q)=>r(void 0,void 0,void 0,function*(){const[Y,H]=Q;(0,$.p_)(Y instanceof g.o);const P=z.get(A.q).getModel(Y);if(!P)return;const{documentRangeSemanticTokensProvider:X}=z.get(s.p),q=M(X,P);if(q.length===0)return;if(q.length===1)return q[0].getLegend();if(!H||!f.e.isIRange(H))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),q[0].getLegend();const U=yield K(X,P,f.e.lift(H),c.T.None);if(U)return U.provider.getLegend()})),S.P.registerCommand("_provideDocumentRangeSemanticTokens",(z,...Q)=>r(void 0,void 0,void 0,function*(){const[Y,H]=Q;(0,$.p_)(Y instanceof g.o),(0,$.p_)(f.e.isIRange(H));const P=z.get(A.q).getModel(Y);if(!P)return;const{documentRangeSemanticTokensProvider:X}=z.get(s.p),q=yield K(X,P,f.e.lift(H),c.T.None);if(!(!q||!q.tokens))return a({id:0,type:"full",data:q.tokens.data})}))},31085:function(vt,be,i){"use strict";i.d(be,{e:function(){return c},t:function(){return F}});const c="editor.semanticHighlighting";function F(g,A,S){var $;const N=($=S.getValue(c,{overrideIdentifier:g.getLanguageId(),resource:g.uri}))===null||$===void 0?void 0:$.enabled;return typeof N=="boolean"?N:A.getColorTheme().semanticHighlighting}},91016:function(vt,be,i){"use strict";i.d(be,{x:function(){return S}});var c=i(23345),F=i(43976),g=i(22445),A=function($,N,x,O){function p(a){return a instanceof x?a:new x(function(d){d(a)})}return new(x||(x=Promise))(function(a,d){function f(m){try{r(O.next(m))}catch(C){d(C)}}function s(m){try{r(O.throw(m))}catch(C){d(C)}}function r(m){m.done?a(m.value):p(m.value).then(f,s)}r((O=O.apply($,N||[])).next())})};class S{provideSelectionRanges(N,x){return A(this,void 0,void 0,function*(){const O=[];for(const p of x){const a=[];O.push(a);const d=new Map;yield new Promise(f=>S._bracketsRightYield(f,0,N,p,d)),yield new Promise(f=>S._bracketsLeftYield(f,0,N,p,d,a))}return O})}static _bracketsRightYield(N,x,O,p,a){const d=new Map,f=Date.now();for(;;){if(x>=S._maxRounds){N();break}if(!p){N();break}const s=O.bracketPairs.findNextBracket(p);if(!s){N();break}if(Date.now()-f>S._maxDuration){setTimeout(()=>S._bracketsRightYield(N,x+1,O,p,a));break}if(s.bracketInfo.isOpeningBracket){const m=s.bracketInfo.bracketText,C=d.has(m)?d.get(m):0;d.set(m,C+1)}else{const m=s.bracketInfo.getOpeningBrackets()[0].bracketText;let C=d.has(m)?d.get(m):0;if(C-=1,d.set(m,Math.max(0,C)),C<0){let u=a.get(m);u||(u=new c.S,a.set(m,u)),u.push(s.range)}}p=s.range.getEndPosition()}}static _bracketsLeftYield(N,x,O,p,a,d){const f=new Map,s=Date.now();for(;;){if(x>=S._maxRounds&&a.size===0){N();break}if(!p){N();break}const r=O.bracketPairs.findPrevBracket(p);if(!r){N();break}if(Date.now()-s>S._maxDuration){setTimeout(()=>S._bracketsLeftYield(N,x+1,O,p,a,d));break}if(r.bracketInfo.isOpeningBracket){const C=r.bracketInfo.bracketText;let u=f.has(C)?f.get(C):0;if(u-=1,f.set(C,Math.max(0,u)),u<0){const _=a.get(C);if(_){const b=_.shift();_.size===0&&a.delete(C);const E=g.e.fromPositions(r.range.getEndPosition(),b.getStartPosition()),D=g.e.fromPositions(r.range.getStartPosition(),b.getEndPosition());d.push({range:E}),d.push({range:D}),S._addBracketLeading(O,D,d)}}}else{const C=r.bracketInfo.getOpeningBrackets()[0].bracketText,u=f.has(C)?f.get(C):0;f.set(C,u+1)}p=r.range.getStartPosition()}}static _addBracketLeading(N,x,O){if(x.startLineNumber===x.endLineNumber)return;const p=x.startLineNumber,a=N.getLineFirstNonWhitespaceColumn(p);a!==0&&a!==x.startColumn&&(O.push({range:g.e.fromPositions(new F.L(p,a),x.getEndPosition())}),O.push({range:g.e.fromPositions(new F.L(p,1),x.getEndPosition())}));const d=p-1;if(d>0){const f=N.getLineFirstNonWhitespaceColumn(d);f===x.startColumn&&f!==N.getLineLastNonWhitespaceColumn(d)&&(O.push({range:g.e.fromPositions(new F.L(d,f),x.getEndPosition())}),O.push({range:g.e.fromPositions(new F.L(d,1),x.getEndPosition())}))}}}S._maxDuration=30,S._maxRounds=2},31254:function(vt,be,i){"use strict";i.r(be),i.d(be,{provideSelectionRanges:function(){return z}});var c=i(16842),F=i(19713),g=i(50505),A=i(98981),S=i(43976),$=i(22445),N=i(15489),x=i(73805),O=i(91016),p=i(30613);class a{provideSelectionRanges(Y,H){const P=[];for(const X of H){const q=[];P.push(q),this._addInWordRanges(q,Y,X),this._addWordRanges(q,Y,X),this._addWhitespaceLine(q,Y,X),q.push({range:Y.getFullModelRange()})}return P}_addInWordRanges(Y,H,P){const X=H.getWordAtPosition(P);if(!X)return;const{word:q,startColumn:U}=X,L=P.column-U;let B=L,j=L,G=0;for(;B>=0;B--){const y=q.charCodeAt(B);if(B!==L&&(y===95||y===45))break;if((0,p.mK)(y)&&(0,p.df)(G))break;G=y}for(B+=1;j<q.length;j++){const y=q.charCodeAt(j);if((0,p.df)(y)&&(0,p.mK)(G))break;if(y===95||y===45)break;G=y}B<j&&Y.push({range:new $.e(P.lineNumber,U+B,P.lineNumber,U+j)})}_addWordRanges(Y,H,P){const X=H.getWordAtPosition(P);X&&Y.push({range:new $.e(P.lineNumber,X.startColumn,P.lineNumber,X.endColumn)})}_addWhitespaceLine(Y,H,P){H.getLineLength(P.lineNumber)>0&&H.getLineFirstNonWhitespaceColumn(P.lineNumber)===0&&H.getLineLastNonWhitespaceColumn(P.lineNumber)===0&&Y.push({range:new $.e(P.lineNumber,1,P.lineNumber,H.getLineMaxColumn(P.lineNumber))})}}var d=i(15779),f=i(49597),s=i(21760),r=i(26340),m=i(58295),C=i(67770),u=i(39508),_=function(Q,Y,H,P){var X=arguments.length,q=X<3?Y:P===null?P=Object.getOwnPropertyDescriptor(Y,H):P,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Q,Y,H,P);else for(var L=Q.length-1;L>=0;L--)(U=Q[L])&&(q=(X<3?U(q):X>3?U(Y,H,q):U(Y,H))||q);return X>3&&q&&Object.defineProperty(Y,H,q),q},b=function(Q,Y){return function(H,P){Y(H,P,Q)}},E=function(Q,Y,H,P){function X(q){return q instanceof H?q:new H(function(U){U(q)})}return new(H||(H=Promise))(function(q,U){function L(G){try{j(P.next(G))}catch(y){U(y)}}function B(G){try{j(P.throw(G))}catch(y){U(y)}}function j(G){G.done?q(G.value):X(G.value).then(L,B)}j((P=P.apply(Q,Y||[])).next())})};class D{constructor(Y,H){this.index=Y,this.ranges=H}mov(Y){const H=this.index+(Y?1:-1);if(H<0||H>=this.ranges.length)return this;const P=new D(H,this.ranges);return P.ranges[H].equalsRange(this.ranges[this.index])?P.mov(Y):P}}let w=class Xc{static get(Y){return Y.getContribution(Xc.ID)}constructor(Y,H){this._editor=Y,this._languageFeaturesService=H,this._ignoreSelection=!1}dispose(){var Y;(Y=this._selectionListener)===null||Y===void 0||Y.dispose()}run(Y){return E(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const H=this._editor.getSelections(),P=this._editor.getModel();if(this._state||(yield z(this._languageFeaturesService.selectionRangeProvider,P,H.map(q=>q.getPosition()),this._editor.getOption(107),F.T.None).then(q=>{var U;if(!(!c.Of(q)||q.length!==H.length)&&!(!this._editor.hasModel()||!c.fS(this._editor.getSelections(),H,(L,B)=>L.equalsSelection(B)))){for(let L=0;L<q.length;L++)q[L]=q[L].filter(B=>B.containsPosition(H[L].getStartPosition())&&B.containsPosition(H[L].getEndPosition())),q[L].unshift(H[L]);this._state=q.map(L=>new D(0,L)),(U=this._selectionListener)===null||U===void 0||U.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var L;this._ignoreSelection||((L=this._selectionListener)===null||L===void 0||L.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(q=>q.mov(Y));const X=this._state.map(q=>N.Y.fromPositions(q.ranges[q.index].getStartPosition(),q.ranges[q.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(X)}finally{this._ignoreSelection=!1}})}};w.ID="editor.contrib.smartSelectController",w=_([b(1,r.p)],w);class I extends A.R6{constructor(Y,H){super(H),this._forward=Y}run(Y,H){return E(this,void 0,void 0,function*(){const P=w.get(H);P&&(yield P.run(this._forward))})}}class M extends I{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}s.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class K extends I{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:f.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,A._K)(w.ID,w,4),(0,A.Qr)(M),(0,A.Qr)(K);function z(Q,Y,H,P,X){return E(this,void 0,void 0,function*(){const q=Q.all(Y).concat(new a);q.length===1&&q.unshift(new O.x);const U=[],L=[];for(const B of q)U.push(Promise.resolve(B.provideSelectionRanges(Y,H,X)).then(j=>{if(c.Of(j)&&j.length===H.length)for(let G=0;G<H.length;G++){L[G]||(L[G]=[]);for(const y of j[G])$.e.isIRange(y.range)&&$.e.containsPosition(y.range,H[G])&&L[G].push($.e.lift(y.range))}},g.Cp));return yield Promise.all(U),L.map(B=>{if(B.length===0)return[];B.sort((pe,ye)=>S.L.isBefore(pe.getStartPosition(),ye.getStartPosition())?1:S.L.isBefore(ye.getStartPosition(),pe.getStartPosition())||S.L.isBefore(pe.getEndPosition(),ye.getEndPosition())?-1:S.L.isBefore(ye.getEndPosition(),pe.getEndPosition())?1:0);const j=[];let G;for(const pe of B)(!G||$.e.containsRange(pe,G)&&!$.e.equalsRange(pe,G))&&(j.push(pe),G=pe);if(!P.selectLeadingAndTrailingWhitespace)return j;const y=[j[0]];for(let pe=1;pe<j.length;pe++){const ye=j[pe-1],me=j[pe];if(me.startLineNumber!==ye.startLineNumber||me.endLineNumber!==ye.endLineNumber){const Se=new $.e(ye.startLineNumber,Y.getLineFirstNonWhitespaceColumn(ye.startLineNumber),ye.endLineNumber,Y.getLineLastNonWhitespaceColumn(ye.endLineNumber));Se.containsRange(ye)&&!Se.equalsRange(ye)&&me.containsRange(Se)&&!me.equalsRange(Se)&&y.push(Se);const _e=new $.e(ye.startLineNumber,1,ye.endLineNumber,Y.getLineMaxColumn(ye.endLineNumber));_e.containsRange(ye)&&!_e.equalsRange(Se)&&me.containsRange(_e)&&!me.equalsRange(_e)&&y.push(_e)}y.push(me)}return y})})}s.P.registerCommand("_executeSelectionRangeProvider",function(Q,...Y){return E(this,void 0,void 0,function*(){const[H,P]=Y;(0,C.p_)(u.o.isUri(H));const X=Q.get(r.p).selectionRangeProvider,q=yield Q.get(m.S).createModelReference(H);try{return z(X,q.object.textEditorModel,P,{selectLeadingAndTrailingWhitespace:!0},F.T.None)}finally{q.dispose()}})})},68572:function(vt,be,i){"use strict";i.r(be),i.d(be,{SnippetController2:function(){return m}});var c=i(52357),F=i(67770),g=i(98981),A=i(43976),S=i(73805),$=i(28170),N=i(26340),x=i(88399),O=i(15779),p=i(23286),a=i(18166),d=i(82769),f=function(u,_,b,E){var D=arguments.length,w=D<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,b):E,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,_,b,E);else for(var M=u.length-1;M>=0;M--)(I=u[M])&&(w=(D<3?I(w):D>3?I(_,b,w):I(_,b))||w);return D>3&&w&&Object.defineProperty(_,b,w),w},s=function(u,_){return function(b,E){_(b,E,u)}};const r={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=class ga{static get(_){return _.getContribution(ga.ID)}constructor(_,b,E,D,w){this._editor=_,this._logService=b,this._languageFeaturesService=E,this._languageConfigurationService=w,this._snippetListener=new c.SL,this._modelVersionId=-1,this._inSnippet=ga.InSnippetMode.bindTo(D),this._hasNextTabstop=ga.HasNextTabstop.bindTo(D),this._hasPrevTabstop=ga.HasPrevTabstop.bindTo(D)}dispose(){var _;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(_=this._session)===null||_===void 0||_.dispose(),this._snippetListener.dispose()}insert(_,b){try{this._doInsert(_,typeof b=="undefined"?r:Object.assign(Object.assign({},r),b))}catch(E){this.cancel(),this._logService.error(E),this._logService.error("snippet_error"),this._logService.error("insert_template=",_),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(_,b){var E;if(this._editor.hasModel()){if(this._snippetListener.clear(),b.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof _!="string"&&this.cancel(),this._session?((0,F.p_)(typeof _=="string"),this._session.merge(_,b)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new d.l(this._editor,_,b,this._languageConfigurationService),this._session.insert()),b.undoStopAfter&&this._editor.getModel().pushStackElement(),!((E=this._session)===null||E===void 0)&&E.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(w,I)=>{if(!this._session||w!==this._editor.getModel()||!A.L.equals(this._editor.getPosition(),I))return;const{activeChoice:M}=this._session;if(!M||M.choice.options.length===0)return;const K=w.getValueInRange(M.range),z=Boolean(M.choice.options.find(Y=>Y.value===K)),Q=[];for(let Y=0;Y<M.choice.options.length;Y++){const H=M.choice.options[Y];Q.push({kind:13,label:H.value,insertText:H.value,sortText:"a".repeat(Y+1),range:M.range,filterText:z?`${K}_${H.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,O.NC)("next","Go to next placeholder...")}})}return{suggestions:Q}}};const D=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(D)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(D=>D.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:_}=this._session;if(!_||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==_.choice&&(this._currentChoice=_.choice,queueMicrotask(()=>{(0,x.i5)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(_=!1){var b;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(b=this._session)===null||b===void 0||b.dispose(),this._session=void 0,this._modelVersionId=-1,_&&this._editor.setSelections([this._editor.getSelection()])}prev(){var _;(_=this._session)===null||_===void 0||_.prev(),this._updateState()}next(){var _;(_=this._session)===null||_===void 0||_.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};m.ID="snippetController2",m.InSnippetMode=new p.uy("inSnippetMode",!1,(0,O.NC)("inSnippetMode","Whether the editor in current in snippet mode")),m.HasNextTabstop=new p.uy("hasNextTabstop",!1,(0,O.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),m.HasPrevTabstop=new p.uy("hasPrevTabstop",!1,(0,O.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),m=f([s(1,a.VZ),s(2,N.p),s(3,p.i6),s(4,$.c_)],m),(0,g._K)(m.ID,m,4);const C=g._l.bindToContribution(m.get);(0,g.fK)(new C({id:"jumpToNextSnippetPlaceholder",precondition:p.Ao.and(m.InSnippetMode,m.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:S.u.editorTextFocus,primary:2}})),(0,g.fK)(new C({id:"jumpToPrevSnippetPlaceholder",precondition:p.Ao.and(m.InSnippetMode,m.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:S.u.editorTextFocus,primary:1026}})),(0,g.fK)(new C({id:"leaveSnippet",precondition:m.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,g.fK)(new C({id:"acceptSnippet",precondition:m.InSnippetMode,handler:u=>u.finish()}))},90248:function(vt,be,i){"use strict";i.d(be,{Lv:function(){return $},Vm:function(){return S},Yj:function(){return d},xv:function(){return g},y1:function(){return a}});class c{constructor(){this.value="",this.pos=0}static isDigitCharacter(s){return s>=48&&s<=57}static isVariableCharacter(s){return s===95||s>=97&&s<=122||s>=65&&s<=90}text(s){this.value=s,this.pos=0}tokenText(s){return this.value.substr(s.pos,s.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const s=this.pos;let r=0,m=this.value.charCodeAt(s),C;if(C=c._table[m],typeof C=="number")return this.pos+=1,{type:C,pos:s,len:1};if(c.isDigitCharacter(m)){C=8;do r+=1,m=this.value.charCodeAt(s+r);while(c.isDigitCharacter(m));return this.pos+=r,{type:C,pos:s,len:r}}if(c.isVariableCharacter(m)){C=9;do m=this.value.charCodeAt(s+ ++r);while(c.isVariableCharacter(m)||c.isDigitCharacter(m));return this.pos+=r,{type:C,pos:s,len:r}}C=10;do r+=1,m=this.value.charCodeAt(s+r);while(!isNaN(m)&&typeof c._table[m]=="undefined"&&!c.isDigitCharacter(m)&&!c.isVariableCharacter(m));return this.pos+=r,{type:C,pos:s,len:r}}}c._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class F{constructor(){this._children=[]}appendChild(s){return s instanceof g&&this._children[this._children.length-1]instanceof g?this._children[this._children.length-1].value+=s.value:(s.parent=this,this._children.push(s)),this}replace(s,r){const{parent:m}=s,C=m.children.indexOf(s),u=m.children.slice(0);u.splice(C,1,...r),m._children=u,function _(b,E){for(const D of b)D.parent=E,_(D.children,D)}(r,m)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let s=this;for(;;){if(!s)return;if(s instanceof a)return s;s=s.parent}}toString(){return this.children.reduce((s,r)=>s+r.toString(),"")}len(){return 0}}class g extends F{constructor(s){super(),this.value=s}toString(){return this.value}len(){return this.value.length}clone(){return new g(this.value)}}class A extends F{}class S extends A{static compareByIndex(s,r){return s.index===r.index?0:s.isFinalTabstop?1:r.isFinalTabstop||s.index<r.index?-1:s.index>r.index?1:0}constructor(s){super(),this.index=s}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof $?this._children[0]:void 0}clone(){const s=new S(this.index);return this.transform&&(s.transform=this.transform.clone()),s._children=this.children.map(r=>r.clone()),s}}class $ extends F{constructor(){super(...arguments),this.options=[]}appendChild(s){return s instanceof g&&(s.parent=this,this.options.push(s)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const s=new $;return this.options.forEach(s.appendChild,s),s}}class N extends F{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(s){const r=this;let m=!1,C=s.replace(this.regexp,function(){return m=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!m&&this._children.some(u=>u instanceof x&&Boolean(u.elseValue))&&(C=this._replace([])),C}_replace(s){let r="";for(const m of this._children)if(m instanceof x){let C=s[m.index]||"";C=m.resolve(C),r+=C}else r+=m.toString();return r}toString(){return""}clone(){const s=new N;return s.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),s._children=this.children.map(r=>r.clone()),s}}class x extends F{constructor(s,r,m,C){super(),this.index=s,this.shorthandName=r,this.ifValue=m,this.elseValue=C}resolve(s){return this.shorthandName==="upcase"?s?s.toLocaleUpperCase():"":this.shorthandName==="downcase"?s?s.toLocaleLowerCase():"":this.shorthandName==="capitalize"?s?s[0].toLocaleUpperCase()+s.substr(1):"":this.shorthandName==="pascalcase"?s?this._toPascalCase(s):"":this.shorthandName==="camelcase"?s?this._toCamelCase(s):"":Boolean(s)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(s)&&typeof this.elseValue=="string"?this.elseValue:s||""}_toPascalCase(s){const r=s.match(/[a-z0-9]+/gi);return r?r.map(m=>m.charAt(0).toUpperCase()+m.substr(1)).join(""):s}_toCamelCase(s){const r=s.match(/[a-z0-9]+/gi);return r?r.map((m,C)=>C===0?m.charAt(0).toLowerCase()+m.substr(1):m.charAt(0).toUpperCase()+m.substr(1)).join(""):s}clone(){return new x(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class O extends A{constructor(s){super(),this.name=s}resolve(s){let r=s.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new g(r)],!0):!1}clone(){const s=new O(this.name);return this.transform&&(s.transform=this.transform.clone()),s._children=this.children.map(r=>r.clone()),s}}function p(f,s){const r=[...f];for(;r.length>0;){const m=r.shift();if(!s(m))break;r.unshift(...m.children)}}class a extends F{get placeholderInfo(){if(!this._placeholders){const s=[];let r;this.walk(function(m){return m instanceof S&&(s.push(m),r=!r||r.index<m.index?m:r),!0}),this._placeholders={all:s,last:r}}return this._placeholders}get placeholders(){const{all:s}=this.placeholderInfo;return s}offset(s){let r=0,m=!1;return this.walk(C=>C===s?(m=!0,!1):(r+=C.len(),!0)),m?r:-1}fullLen(s){let r=0;return p([s],m=>(r+=m.len(),!0)),r}enclosingPlaceholders(s){const r=[];let{parent:m}=s;for(;m;)m instanceof S&&r.push(m),m=m.parent;return r}resolveVariables(s){return this.walk(r=>(r instanceof O&&r.resolve(s)&&(this._placeholders=void 0),!0)),this}appendChild(s){return this._placeholders=void 0,super.appendChild(s)}replace(s,r){return this._placeholders=void 0,super.replace(s,r)}clone(){const s=new a;return this._children=this.children.map(r=>r.clone()),s}walk(s){p(this.children,s)}}class d{constructor(){this._scanner=new c,this._token={type:14,pos:0,len:0}}static escape(s){return s.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(s){return/\${?CLIPBOARD/.test(s)}parse(s,r,m){const C=new a;return this.parseFragment(s,C),this.ensureFinalTabstop(C,m!=null?m:!1,r!=null?r:!1),C}parseFragment(s,r){const m=r.children.length;for(this._scanner.text(s),this._token=this._scanner.next();this._parse(r););const C=new Map,u=[];r.walk(E=>(E instanceof S&&(E.isFinalTabstop?C.set(0,void 0):!C.has(E.index)&&E.children.length>0?C.set(E.index,E.children):u.push(E)),!0));const _=(E,D)=>{const w=C.get(E.index);if(!w)return;const I=new S(E.index);I.transform=E.transform;for(const M of w){const K=M.clone();I.appendChild(K),K instanceof S&&C.has(K.index)&&!D.has(K.index)&&(D.add(K.index),_(K,D),D.delete(K.index))}r.replace(E,[I])},b=new Set;for(const E of u)_(E,b);return r.children.slice(m)}ensureFinalTabstop(s,r,m){(r||m&&s.placeholders.length>0)&&(s.placeholders.find(u=>u.index===0)||s.appendChild(new S(0)))}_accept(s,r){if(s===void 0||this._token.type===s){const m=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),m}return!1}_backTo(s){return this._scanner.pos=s.pos+s.len,this._token=s,!1}_until(s){const r=this._token;for(;this._token.type!==s;){if(this._token.type===14)return!1;if(this._token.type===5){const C=this._scanner.next();if(C.type!==0&&C.type!==4&&C.type!==5)return!1}this._token=this._scanner.next()}const m=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),m}_parse(s){return this._parseEscaped(s)||this._parseTabstopOrVariableName(s)||this._parseComplexPlaceholder(s)||this._parseComplexVariable(s)||this._parseAnything(s)}_parseEscaped(s){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,s.appendChild(new g(r)),!0):!1}_parseTabstopOrVariableName(s){let r;const m=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(s.appendChild(/^\d+$/.test(r)?new S(Number(r)):new O(r)),!0):this._backTo(m)}_parseComplexPlaceholder(s){let r;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(m);const u=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return s.appendChild(u),!0;if(!this._parse(u))return s.appendChild(new g("${"+r+":")),u.children.forEach(s.appendChild,s),!0}else if(u.index>0&&this._accept(7)){const _=new $;for(;;){if(this._parseChoiceElement(_)){if(this._accept(2))continue;if(this._accept(7)&&(u.appendChild(_),this._accept(4)))return s.appendChild(u),!0}return this._backTo(m),!1}}else return this._accept(6)?this._parseTransform(u)?(s.appendChild(u),!0):(this._backTo(m),!1):this._accept(4)?(s.appendChild(u),!0):this._backTo(m)}_parseChoiceElement(s){const r=this._token,m=[];for(;!(this._token.type===2||this._token.type===7);){let C;if((C=this._accept(5,!0))?C=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||C:C=this._accept(void 0,!0),!C)return this._backTo(r),!1;m.push(C)}return m.length===0?(this._backTo(r),!1):(s.appendChild(new g(m.join(""))),!0)}_parseComplexVariable(s){let r;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(m);const u=new O(r);if(this._accept(1))for(;;){if(this._accept(4))return s.appendChild(u),!0;if(!this._parse(u))return s.appendChild(new g("${"+r+":")),u.children.forEach(s.appendChild,s),!0}else return this._accept(6)?this._parseTransform(u)?(s.appendChild(u),!0):(this._backTo(m),!1):this._accept(4)?(s.appendChild(u),!0):this._backTo(m)}_parseTransform(s){const r=new N;let m="",C="";for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(6,!0)||u,m+=u;continue}if(this._token.type!==14){m+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(5,!0)||this._accept(6,!0)||u,r.appendChild(new g(u));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){C+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(m,C)}catch(u){return!1}return s.transform=r,!0}_parseFormatString(s){const r=this._token;if(!this._accept(0))return!1;let m=!1;this._accept(3)&&(m=!0);const C=this._accept(8,!0);if(C)if(m){if(this._accept(4))return s.appendChild(new x(Number(C))),!0;if(!this._accept(1))return this._backTo(r),!1}else return s.appendChild(new x(Number(C))),!0;else return this._backTo(r),!1;if(this._accept(6)){const u=this._accept(9,!0);return!u||!this._accept(4)?(this._backTo(r),!1):(s.appendChild(new x(Number(C),u)),!0)}else if(this._accept(11)){const u=this._until(4);if(u)return s.appendChild(new x(Number(C),void 0,u,void 0)),!0}else if(this._accept(12)){const u=this._until(4);if(u)return s.appendChild(new x(Number(C),void 0,void 0,u)),!0}else if(this._accept(13)){const u=this._until(1);if(u){const _=this._until(4);if(_)return s.appendChild(new x(Number(C),void 0,u,_)),!0}}else{const u=this._until(4);if(u)return s.appendChild(new x(Number(C),void 0,void 0,u)),!0}return this._backTo(r),!1}_parseAnything(s){return this._token.type!==14?(s.appendChild(new g(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},82769:function(vt,be,i){"use strict";i.d(be,{l:function(){return L}});var c=i(16842),F=i(52357),g=i(30613),A=i(24222),S=i(22445),$=i(15489),N=i(28170),x=i(73740),O=i(4408),p=i(52199),a=i(90248),d=i(5927),f=i(41420);function s(B,j=f.ED){return(0,d.oP)(B,j)?B.charAt(0).toUpperCase()+B.slice(1):B}let r=Object.create(null);var m=i(33392),C=i(17349),u=i(93059),_=i(15779),b=function(B,j,G,y){var pe=arguments.length,ye=pe<3?j:y===null?y=Object.getOwnPropertyDescriptor(j,G):y,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(B,j,G,y);else for(var Se=B.length-1;Se>=0;Se--)(me=B[Se])&&(ye=(pe<3?me(ye):pe>3?me(j,G,ye):me(j,G))||ye);return pe>3&&ye&&Object.defineProperty(j,G,ye),ye},E=function(B,j){return function(G,y){j(G,y,B)}};const D=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class w{constructor(j){this._delegates=j}resolve(j){for(const G of this._delegates){const y=G.resolve(j);if(y!==void 0)return y}}}class I{constructor(j,G,y,pe){this._model=j,this._selection=G,this._selectionIdx=y,this._overtypingCapturer=pe}resolve(j){const{name:G}=j;if(G==="SELECTION"||G==="TM_SELECTED_TEXT"){let y=this._model.getValueInRange(this._selection)||void 0,pe=this._selection.startLineNumber!==this._selection.endLineNumber;if(!y&&this._overtypingCapturer){const ye=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);ye&&(y=ye.value,pe=ye.multiline)}if(y&&pe&&j.snippet){const ye=this._model.getLineContent(this._selection.startLineNumber),me=(0,g.V8)(ye,0,this._selection.startColumn-1);let Se=me;j.snippet.walk(he=>he===j?!1:(he instanceof a.xv&&(Se=(0,g.V8)((0,g.uq)(he.value).pop())),!0));const _e=(0,g.Mh)(Se,me);y=y.replace(/(\r\n|\r|\n)(.*)/g,(he,le,se)=>`${le}${Se.substr(_e)}${se}`)}return y}else{if(G==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(G==="TM_CURRENT_WORD"){const y=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return y&&y.word||void 0}else{if(G==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(G==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(G==="CURSOR_INDEX")return String(this._selectionIdx);if(G==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class M{constructor(j,G){this._labelService=j,this._model=G}resolve(j){const{name:G}=j;if(G==="TM_FILENAME")return m.EZ(this._model.uri.fsPath);if(G==="TM_FILENAME_BASE"){const y=m.EZ(this._model.uri.fsPath),pe=y.lastIndexOf(".");return pe<=0?y:y.slice(0,pe)}else{if(G==="TM_DIRECTORY")return m.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,C.XX)(this._model.uri));if(G==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(G==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class K{constructor(j,G,y,pe){this._readClipboardText=j,this._selectionIdx=G,this._selectionCount=y,this._spread=pe}resolve(j){if(j.name!=="CLIPBOARD")return;const G=this._readClipboardText();if(G){if(this._spread){const y=G.split(/\r\n|\n|\r/).filter(pe=>!(0,g.m5)(pe));if(y.length===this._selectionCount)return y[this._selectionIdx]}return G}}}let z=class{constructor(j,G,y){this._model=j,this._selection=G,this._languageConfigurationService=y}resolve(j){const{name:G}=j,y=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),pe=this._languageConfigurationService.getLanguageConfiguration(y).comments;if(pe){if(G==="LINE_COMMENT")return pe.lineCommentToken||void 0;if(G==="BLOCK_COMMENT_START")return pe.blockCommentStartToken||void 0;if(G==="BLOCK_COMMENT_END")return pe.blockCommentEndToken||void 0}}};z=b([E(2,N.c_)],z);class Q{constructor(){this._date=new Date}resolve(j){const{name:G}=j;if(G==="CURRENT_YEAR")return String(this._date.getFullYear());if(G==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(G==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(G==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(G==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(G==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(G==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(G==="CURRENT_DAY_NAME")return Q.dayNames[this._date.getDay()];if(G==="CURRENT_DAY_NAME_SHORT")return Q.dayNamesShort[this._date.getDay()];if(G==="CURRENT_MONTH_NAME")return Q.monthNames[this._date.getMonth()];if(G==="CURRENT_MONTH_NAME_SHORT")return Q.monthNamesShort[this._date.getMonth()];if(G==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}Q.dayNames=[_.NC("Sunday","Sunday"),_.NC("Monday","Monday"),_.NC("Tuesday","Tuesday"),_.NC("Wednesday","Wednesday"),_.NC("Thursday","Thursday"),_.NC("Friday","Friday"),_.NC("Saturday","Saturday")],Q.dayNamesShort=[_.NC("SundayShort","Sun"),_.NC("MondayShort","Mon"),_.NC("TuesdayShort","Tue"),_.NC("WednesdayShort","Wed"),_.NC("ThursdayShort","Thu"),_.NC("FridayShort","Fri"),_.NC("SaturdayShort","Sat")],Q.monthNames=[_.NC("January","January"),_.NC("February","February"),_.NC("March","March"),_.NC("April","April"),_.NC("May","May"),_.NC("June","June"),_.NC("July","July"),_.NC("August","August"),_.NC("September","September"),_.NC("October","October"),_.NC("November","November"),_.NC("December","December")],Q.monthNamesShort=[_.NC("JanuaryShort","Jan"),_.NC("FebruaryShort","Feb"),_.NC("MarchShort","Mar"),_.NC("AprilShort","Apr"),_.NC("MayShort","May"),_.NC("JuneShort","Jun"),_.NC("JulyShort","Jul"),_.NC("AugustShort","Aug"),_.NC("SeptemberShort","Sep"),_.NC("OctoberShort","Oct"),_.NC("NovemberShort","Nov"),_.NC("DecemberShort","Dec")];class Y{constructor(j){this._workspaceService=j}resolve(j){if(!this._workspaceService)return;const G=(0,p.uT)(this._workspaceService.getWorkspace());if(!(0,p.c$)(G)){if(j.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(G);if(j.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(G)}}_resolveWorkspaceName(j){if((0,p.eb)(j))return m.EZ(j.uri.path);let G=m.EZ(j.configPath.path);return G.endsWith(p.A6)&&(G=G.substr(0,G.length-p.A6.length-1)),G}_resoveWorkspacePath(j){if((0,p.eb)(j))return s(j.uri.fsPath);const G=m.EZ(j.configPath.path);let y=j.configPath.fsPath;return y.endsWith(G)&&(y=y.substr(0,y.length-G.length-1)),y?s(y):"/"}}class H{resolve(j){const{name:G}=j;if(G==="RANDOM")return Math.random().toString().slice(-6);if(G==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(G==="UUID")return(0,u.R)()}}var P=function(B,j,G,y){var pe=arguments.length,ye=pe<3?j:y===null?y=Object.getOwnPropertyDescriptor(j,G):y,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(B,j,G,y);else for(var Se=B.length-1;Se>=0;Se--)(me=B[Se])&&(ye=(pe<3?me(ye):pe>3?me(j,G,ye):me(j,G))||ye);return pe>3&&ye&&Object.defineProperty(j,G,ye),ye},X=function(B,j){return function(G,y){j(G,y,B)}};class q{constructor(j,G,y){this._editor=j,this._snippet=G,this._snippetLineLeadingWhitespace=y,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,c.vM)(G.placeholders,a.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(j){this._offset=j.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const j=this._editor.getModel();this._editor.changeDecorations(G=>{for(const y of this._snippet.placeholders){const pe=this._snippet.offset(y),ye=this._snippet.fullLen(y),me=S.e.fromPositions(j.getPositionAt(this._offset+pe),j.getPositionAt(this._offset+pe+ye)),Se=y.isFinalTabstop?q._decor.inactiveFinal:q._decor.inactive,_e=G.addDecoration(me,Se);this._placeholderDecorations.set(y,_e)}})}move(j){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const pe=[];for(const ye of this._placeholderGroups[this._placeholderGroupsIdx])if(ye.transform){const me=this._placeholderDecorations.get(ye),Se=this._editor.getModel().getDecorationRange(me),_e=this._editor.getModel().getValueInRange(Se),he=ye.transform.resolve(_e).split(/\r\n|\r|\n/);for(let le=1;le<he.length;le++)he[le]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+he[le]);pe.push(A.h.replace(Se,he.join(this._editor.getModel().getEOL())))}pe.length>0&&this._editor.executeEdits("snippet.placeholderTransform",pe)}let G=!1;j===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,G=!0):j===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,G=!0);const y=this._editor.getModel().changeDecorations(pe=>{const ye=new Set,me=[];for(const Se of this._placeholderGroups[this._placeholderGroupsIdx]){const _e=this._placeholderDecorations.get(Se),he=this._editor.getModel().getDecorationRange(_e);me.push(new $.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)),G=G&&this._hasPlaceholderBeenCollapsed(Se),pe.changeDecorationOptions(_e,Se.isFinalTabstop?q._decor.activeFinal:q._decor.active),ye.add(Se);for(const le of this._snippet.enclosingPlaceholders(Se)){const se=this._placeholderDecorations.get(le);pe.changeDecorationOptions(se,le.isFinalTabstop?q._decor.activeFinal:q._decor.active),ye.add(le)}}for(const[Se,_e]of this._placeholderDecorations)ye.has(Se)||pe.changeDecorationOptions(_e,Se.isFinalTabstop?q._decor.inactiveFinal:q._decor.inactive);return me});return G?this.move(j):y!=null?y:[]}_hasPlaceholderBeenCollapsed(j){let G=j;for(;G;){if(G instanceof a.Vm){const y=this._placeholderDecorations.get(G);if(this._editor.getModel().getDecorationRange(y).isEmpty()&&G.toString().length>0)return!0}G=G.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[j]=this._snippet.placeholders;if(j.isFinalTabstop&&this._snippet.rightMostDescendant===j)return!0}return!1}computePossibleSelections(){const j=new Map;for(const G of this._placeholderGroups){let y;for(const pe of G){if(pe.isFinalTabstop)break;y||(y=[],j.set(pe.index,y));const ye=this._placeholderDecorations.get(pe),me=this._editor.getModel().getDecorationRange(ye);if(!me){j.delete(pe.index);break}y.push(me)}}return j}get activeChoice(){if(!this._placeholderDecorations)return;const j=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(j!=null&&j.choice))return;const G=this._placeholderDecorations.get(j);if(!G)return;const y=this._editor.getModel().getDecorationRange(G);if(y)return{range:y,choice:j.choice}}get hasChoice(){let j=!1;return this._snippet.walk(G=>(j=G instanceof a.Lv,!j)),j}merge(j){const G=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(y=>{for(const pe of this._placeholderGroups[this._placeholderGroupsIdx]){const ye=j.shift();console.assert(ye._offset!==-1),console.assert(!ye._placeholderDecorations);const me=ye._snippet.placeholderInfo.last.index;for(const _e of ye._snippet.placeholderInfo.all)_e.isFinalTabstop?_e.index=pe.index+(me+1)/this._nestingLevel:_e.index=pe.index+_e.index/this._nestingLevel;this._snippet.replace(pe,ye._snippet.children);const Se=this._placeholderDecorations.get(pe);y.removeDecoration(Se),this._placeholderDecorations.delete(pe);for(const _e of ye._snippet.placeholders){const he=ye._snippet.offset(_e),le=ye._snippet.fullLen(_e),se=S.e.fromPositions(G.getPositionAt(ye._offset+he),G.getPositionAt(ye._offset+he+le)),Re=y.addDecoration(se,q._decor.inactive);this._placeholderDecorations.set(_e,Re)}}this._placeholderGroups=(0,c.vM)(this._snippet.placeholders,a.Vm.compareByIndex)})}}q._decor={active:x.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:x.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:x.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:x.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const U={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let L=class _o{static adjustWhitespace(j,G,y,pe,ye){const me=j.getLineContent(G.lineNumber),Se=(0,g.V8)(me,0,G.column-1);let _e;return pe.walk(he=>{if(!(he instanceof a.xv)||he.parent instanceof a.Lv||ye&&!ye.has(he))return!0;const le=he.value.split(/\r\n|\r|\n/);if(y){const Re=pe.offset(he);if(Re===0)le[0]=j.normalizeIndentation(le[0]);else{_e=_e!=null?_e:pe.toString();const $e=_e.charCodeAt(Re-1);($e===10||$e===13)&&(le[0]=j.normalizeIndentation(Se+le[0]))}for(let $e=1;$e<le.length;$e++)le[$e]=j.normalizeIndentation(Se+le[$e])}const se=le.join(j.getEOL());return se!==he.value&&(he.parent.replace(he,[new a.xv(se)]),_e=void 0),!0}),Se}static adjustSelection(j,G,y,pe){if(y!==0||pe!==0){const{positionLineNumber:ye,positionColumn:me}=G,Se=me-y,_e=me+pe,he=j.validateRange({startLineNumber:ye,startColumn:Se,endLineNumber:ye,endColumn:_e});G=$.Y.createWithDirection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn,G.getDirection())}return G}static createEditsAndSnippetsFromSelections(j,G,y,pe,ye,me,Se,_e,he){const le=[],se=[];if(!j.hasModel())return{edits:le,snippets:se};const Re=j.getModel(),$e=j.invokeWithinContext(Ke=>Ke.get(p.ec)),je=j.invokeWithinContext(Ke=>new M(Ke.get(O.e),Re)),Ce=()=>Se,J=Re.getValueInRange(_o.adjustSelection(Re,j.getSelection(),y,0)),ne=Re.getValueInRange(_o.adjustSelection(Re,j.getSelection(),0,pe)),ae=Re.getLineFirstNonWhitespaceColumn(j.getSelection().positionLineNumber),xe=j.getSelections().map((Ke,ct)=>({selection:Ke,idx:ct})).sort((Ke,ct)=>S.e.compareRangesUsingStarts(Ke.selection,ct.selection));for(const{selection:Ke,idx:ct}of xe){let ot=_o.adjustSelection(Re,Ke,y,0),dt=_o.adjustSelection(Re,Ke,0,pe);J!==Re.getValueInRange(ot)&&(ot=Ke),ne!==Re.getValueInRange(dt)&&(dt=Ke);const et=Ke.setStartPosition(ot.startLineNumber,ot.startColumn).setEndPosition(dt.endLineNumber,dt.endColumn),Fe=new a.Yj().parse(G,!0,ye),Le=et.getStartPosition(),Te=_o.adjustWhitespace(Re,Le,me||ct>0&&ae!==Re.getLineFirstNonWhitespaceColumn(Ke.positionLineNumber),Fe);Fe.resolveVariables(new w([je,new K(Ce,ct,xe.length,j.getOption(75)==="spread"),new I(Re,Ke,ct,_e),new z(Re,Ke,he),new Q,new Y($e),new H])),le[ct]=A.h.replace(et,Fe.toString()),le[ct].identifier={major:ct,minor:0},le[ct]._isTracked=!0,se[ct]=new q(j,Fe,Te)}return{edits:le,snippets:se}}static createEditsAndSnippetsFromEdits(j,G,y,pe,ye,me,Se){if(!j.hasModel()||G.length===0)return{edits:[],snippets:[]};const _e=[],he=j.getModel(),le=new a.Yj,se=new a.y1,Re=new w([j.invokeWithinContext(je=>new M(je.get(O.e),he)),new K(()=>ye,0,j.getSelections().length,j.getOption(75)==="spread"),new I(he,j.getSelection(),0,me),new z(he,j.getSelection(),Se),new Q,new Y(j.invokeWithinContext(je=>je.get(p.ec))),new H]);G=G.sort((je,Ce)=>S.e.compareRangesUsingStarts(je.range,Ce.range));let $e=0;for(let je=0;je<G.length;je++){const{range:Ce,template:J}=G[je];if(je>0){const ct=G[je-1].range,ot=S.e.fromPositions(ct.getEndPosition(),Ce.getStartPosition()),dt=new a.xv(he.getValueInRange(ot));se.appendChild(dt),$e+=dt.value.length}const ne=le.parseFragment(J,se);_o.adjustWhitespace(he,Ce.getStartPosition(),!0,se,new Set(ne)),se.resolveVariables(Re);const ae=se.toString(),xe=ae.slice($e);$e=ae.length;const Ke=A.h.replace(Ce,xe);Ke.identifier={major:je,minor:0},Ke._isTracked=!0,_e.push(Ke)}return le.ensureFinalTabstop(se,y,!0),{edits:_e,snippets:[new q(j,se,"")]}}constructor(j,G,y=U,pe){this._editor=j,this._template=G,this._options=y,this._languageConfigurationService=pe,this._templateMerges=[],this._snippets=[]}dispose(){(0,F.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:j,snippets:G}=typeof this._template=="string"?_o.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):_o.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=G,this._editor.executeEdits("snippet",j,y=>{const pe=y.filter(ye=>!!ye.identifier);for(let ye=0;ye<G.length;ye++)G[ye].initialize(pe[ye].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):pe.map(ye=>$.Y.fromPositions(ye.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(j,G=U){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,j]);const{edits:y,snippets:pe}=_o.createEditsAndSnippetsFromSelections(this._editor,j,G.overwriteBefore,G.overwriteAfter,!0,G.adjustWhitespace,G.clipboardText,G.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",y,ye=>{const me=ye.filter(_e=>!!_e.identifier);for(let _e=0;_e<pe.length;_e++)pe[_e].initialize(me[_e].textChange);const Se=pe[0].isTrivialSnippet;if(!Se){for(const _e of this._snippets)_e.merge(pe);console.assert(pe.length===0)}return this._snippets[0].hasPlaceholder&&!Se?this._move(void 0):me.map(_e=>$.Y.fromPositions(_e.range.getEndPosition()))})}next(){const j=this._move(!0);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}prev(){const j=this._move(!1);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}_move(j){const G=[];for(const y of this._snippets){const pe=y.move(j);G.push(...pe)}return G}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const j=this._editor.getSelections();if(j.length<this._snippets.length)return!1;const G=new Map;for(const y of this._snippets){const pe=y.computePossibleSelections();if(G.size===0)for(const[ye,me]of pe){me.sort(S.e.compareRangesUsingStarts);for(const Se of j)if(me[0].containsRange(Se)){G.set(ye,[]);break}}if(G.size===0)return!1;G.forEach((ye,me)=>{ye.push(...pe.get(me))})}j.sort(S.e.compareRangesUsingStarts);for(const[y,pe]of G){if(pe.length!==j.length){G.delete(y);continue}pe.sort(S.e.compareRangesUsingStarts);for(let ye=0;ye<pe.length;ye++)if(!pe[ye].containsRange(j[ye])){G.delete(y);continue}}return G.size>0}};L=P([X(3,N.c_)],L)},98008:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(15779);const g=Object.freeze({View:{value:(0,F.NC)("view","View"),original:"View"},Help:{value:(0,F.NC)("help","Help"),original:"Help"},Test:{value:(0,F.NC)("test","Test"),original:"Test"},Preferences:{value:(0,F.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,F.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var A=i(49597),S=i(64464),$=i(23286),N=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};class x extends A.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,F.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,F.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:g.View,toggled:{condition:$.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,F.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,F.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:A.eH.CommandPalette},{id:A.eH.MenubarViewMenu,group:"5_editor",order:2},{id:A.eH.StickyScrollContext}]})}run(J){return N(this,void 0,void 0,function*(){const ne=J.get(S.Ui),ae=!ne.getValue("editor.stickyScroll.enabled");return ne.updateValue("editor.stickyScroll.enabled",ae)})}}var O=i(52357),p=i(26340),a=i(16563),d=i(82336),f=i(8101),s=i(47004),r=i(43976),m=i(3038),C=i(22339),u=i(1802),_=i(64700),b=i(19713),E=i(22445),D=i(74580),w=i(49206),I=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},M=function(Ce,J){return function(ne,ae){J(ne,ae,Ce)}},K=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})},z;class Q{constructor(J,ne){this.lineNumbers=J,this.lastLineRelativePosition=ne}}const Y=(z=window.trustedTypes)===null||z===void 0?void 0:z.createPolicy("stickyScrollViewLayer",{createHTML:Ce=>Ce});let H=class extends O.JT{constructor(J,ne,ae){super(),this._editor=J,this._languageFeatureService=ne,this._instaService=ae,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new O.SL),this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._candidateDefinitionsLength=-1,this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",J instanceof w.H),this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`,this._register(this._updateLinkGesture())}_updateLinkGesture(){const J=new O.SL,ne=new O.SL;J.add(ne);const ae=new m.yN(this._editor,!0);return J.add(ae),J.add(ae.onMouseMoveOrRelevantKeyDown(([xe,Ke])=>{if(!this._editor.hasModel()||!xe.hasTriggerModifier){ne.clear();return}const ct=xe.target;if(ct.detail===this.getId()&&ct.element.innerText===ct.element.innerHTML){const ot=ct.element.innerText;if(this._hoverOnColumn===-1)return;const dt=this._hoverOnLine,et=this._hoverOnColumn,Fe=new E.e(dt,et,dt,et+ot.length);if(!Fe.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=Fe,ne.clear();else if(ct.element.style.textDecoration==="underline")return;const Le=new b.A;ne.add((0,O.OF)(()=>Le.dispose(!0)));let Te;(0,C.nD)(this._languageFeatureService.definitionProvider,this._editor.getModel(),new r.L(dt,et+1),Le.token).then(ge=>{if(!Le.token.isCancellationRequested)if(ge.length!==0){this._candidateDefinitionsLength=ge.length;const ve=ct.element;Te!==ve?(ne.clear(),Te=ve,Te.style.textDecoration="underline",ne.add((0,O.OF)(()=>{Te.style.textDecoration="none"}))):Te||(Te=ve,Te.style.textDecoration="underline",ne.add((0,O.OF)(()=>{Te.style.textDecoration="none"})))}else ne.clear()})}else ne.clear()})),J.add(ae.onCancel(()=>{ne.clear()})),J.add(ae.onExecute(xe=>K(this,void 0,void 0,function*(){if(xe.target.detail===this.getId()){if(xe.hasTriggerModifier)this._candidateDefinitionsLength>1&&this._editor.revealPosition({lineNumber:this._hoverOnLine,column:1}),this._instaService.invokeFunction(u.K,xe,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor});else if(!xe.isRightClick){const Ke={lineNumber:this._hoverOnLine,column:this._hoverOnColumn};this._editor.revealPosition(Ke),this._editor.setSelection(E.e.fromPositions(Ke)),this._editor.focus()}}}))),J}getCurrentLines(){return this._lineNumbers}setState(J){this._disposableStore.clear(),this._lineNumbers.length=0,a.PO(this._rootDomNode),this._lastLineRelativePosition=J.lastLineRelativePosition,this._lineNumbers=J.lineNumbers,this._renderRootNode()}_renderChildNode(J,ne){const ae=document.createElement("div"),xe=this._editor._getViewModel(),Ke=xe.coordinatesConverter.convertModelPositionToViewPosition(new r.L(ne,1)).lineNumber,ct=xe.getViewLineRenderingData(Ke),ot=this._editor.getLayoutInfo(),dt=ot.width-ot.minimap.minimapCanvasOuterWidth-ot.verticalScrollbarWidth,et=this._editor.getOption(69).side,Fe=this._editor.getOption(63),Le=this._editor.getOption(64);let Te;try{Te=s.Kp.filter(ct.inlineDecorations,Ke,ct.minColumn,ct.maxColumn)}catch(bt){Te=[]}const ge=new f.IJ(!0,!0,ct.content,ct.continuesWithWrappedLine,ct.isBasicASCII,ct.containsRTL,0,ct.tokens,Te,ct.tabSize,ct.startVisibleColumn,1,1,1,500,"none",!0,!0,null),ve=new d.HT(2e3);(0,f.d1)(ge,ve);let we;Y?we=Y.createHTML(ve.build()):we=ve.build();const Oe=document.createElement("span");Oe.className="sticky-line",Oe.classList.add(`stickyLine${ne}`),Oe.style.lineHeight=`${Fe}px`,Oe.innerHTML=we;const He=document.createElement("span");He.className="sticky-line",He.style.lineHeight=`${Fe}px`,et==="left"?He.style.width=`${ot.contentLeft-ot.minimap.minimapCanvasOuterWidth}px`:et==="right"&&(He.style.width=`${ot.contentLeft}px`);const mt=document.createElement("span");return Le.renderType===1||Le.renderType===3&&ne%10===0?mt.innerText=ne.toString():Le.renderType===2&&(mt.innerText=Math.abs(ne-this._editor.getPosition().lineNumber).toString()),mt.className="sticky-line-number",mt.style.lineHeight=`${Fe}px`,mt.style.width=`${ot.lineNumbersWidth}px`,et==="left"?mt.style.paddingLeft=`${ot.lineNumbersLeft-ot.minimap.minimapCanvasOuterWidth}px`:et==="right"&&(mt.style.paddingLeft=`${ot.lineNumbersLeft}px`),He.appendChild(mt),this._editor.applyFontInfo(Oe),this._editor.applyFontInfo(mt),ae.appendChild(He),ae.appendChild(Oe),ae.className="sticky-line-root",ae.style.lineHeight=`${Fe}px`,ae.style.width=`${dt}px`,ae.style.height=`${Fe}px`,ae.style.zIndex="0",J===this._lineNumbers.length-1&&(ae.style.position="relative",ae.style.zIndex="-1",ae.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(a.nm(ae,"mouseover",bt=>{if(this._editor.hasModel()){const Ut=new D.n(bt).target.innerText;this._hoverOnLine=ne,this._hoverOnColumn=this._editor.getModel().getLineContent(ne).indexOf(Ut)+1||-1}})),ae}_renderRootNode(){if(!this._editor._getViewModel())return;for(const[xe,Ke]of this._lineNumbers.entries())this._rootDomNode.appendChild(this._renderChildNode(xe,Ke));const J=this._editor.getOption(63),ne=this._lineNumbers.length*J+this._lastLineRelativePosition;this._rootDomNode.style.display=ne>0?"block":"none",this._rootDomNode.style.height=ne.toString()+"px",this._editor.getOption(69).side==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}};H=I([M(1,p.p),M(2,_.TG)],H);var P=i(72355),X=i(39460),q=i(94162),U=i(16842),L=i(62841),B=i(65484),j=i(17349),G=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},y=function(Ce,J){return function(ne,ae){J(ne,ae,Ce)}},pe=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};class ye{constructor(J,ne){this.startLineNumber=J,this.endLineNumber=ne}}class me{constructor(J,ne,ae){this.startLineNumber=J,this.endLineNumber=ne,this.nestingDepth=ae}}let Se=class extends O.JT{constructor(J,ne){super(),this._onDidChangeStickyScroll=this._store.add(new q.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._sessionStore=new O.SL,this._editor=J,this._languageFeaturesService=ne,this._updateSoon=this._register(new X.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(ae=>{ae.hasChanged(109)&&this.readConfiguration()})),this.readConfiguration()}dispose(){super.dispose(),this._sessionStore.dispose()}readConfiguration(){if(this._editor.getOption(109).enabled===!1){this._sessionStore.clear();return}else this._sessionStore.add(this._editor.onDidChangeModel(()=>{this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this.update()})),this.update()}getVersionId(){var J;return(J=this._model)===null||J===void 0?void 0:J.version}update(){var J;return pe(this,void 0,void 0,function*(){(J=this._cts)===null||J===void 0||J.dispose(!0),this._cts=new b.A,yield this.updateOutlineModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateOutlineModel(J){var ne;return pe(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const ae=this._editor.getModel(),xe=ae.getVersionId(),ct=(this._model?!(0,j.Xy)(this._model.uri,ae.uri):!1)?setTimeout(()=>{J.isCancellationRequested||(this._model=new he(ae.uri,ae.getVersionId(),void 0,void 0),this._onDidChangeStickyScroll.fire())},75):void 0,ot=yield P.C3.create(this._languageFeaturesService.documentSymbolProvider,ae,J);if(!J.isCancellationRequested){if(ot.children.size!==0){const{stickyOutlineElement:dt,providerID:et}=_e.fromOutlineModel(ot,(ne=this._model)===null||ne===void 0?void 0:ne.outlineProviderId);this._model=new he(ae.uri,xe,dt,et)}else{const dt=B.FoldingController.get(this._editor),et=yield dt==null?void 0:dt.getFoldingModel();if(J.isCancellationRequested)return;if(et&&et.regions.length!==0){const Fe=_e.fromFoldingModel(et);this._model=new he(ae.uri,xe,Fe,void 0)}else this._model=void 0}clearTimeout(ct)}})}updateIndex(J){return J===-1?J=0:J<0&&(J=-J-2),J}getCandidateStickyLinesIntersectingFromOutline(J,ne,ae,xe,Ke){if(ne.children.length===0)return;let ct=Ke;const ot=[];for(let Fe=0;Fe<ne.children.length;Fe++){const Le=ne.children[Fe];Le.range&&ot.push(Le.range.startLineNumber)}const dt=this.updateIndex((0,U.ry)(ot,J.startLineNumber,(Fe,Le)=>Fe-Le)),et=this.updateIndex((0,U.ry)(ot,J.startLineNumber+xe,(Fe,Le)=>Fe-Le));for(let Fe=dt;Fe<=et;Fe++){const Le=ne.children[Fe];if(!Le)return;if(Le.range){const Te=Le.range.startLineNumber,ge=Le.range.endLineNumber;J.startLineNumber<=ge+1&&Te-1<=J.endLineNumber&&Te!==ct&&(ct=Te,ae.push(new me(Te,ge-1,xe+1)),this.getCandidateStickyLinesIntersectingFromOutline(J,Le,ae,xe+1,Te))}else this.getCandidateStickyLinesIntersectingFromOutline(J,Le,ae,xe,Ke)}}getCandidateStickyLinesIntersecting(J){var ne,ae;if(!(!((ne=this._model)===null||ne===void 0)&&ne.element))return[];let xe=[];this.getCandidateStickyLinesIntersectingFromOutline(J,this._model.element,xe,0,-1);const Ke=(ae=this._editor._getViewModel())===null||ae===void 0?void 0:ae.getHiddenAreas();if(Ke)for(const ct of Ke)xe=xe.filter(ot=>!(ot.startLineNumber>=ct.startLineNumber&&ot.endLineNumber<=ct.endLineNumber+1));return xe}};Se=G([y(1,p.p)],Se);class _e{static comparator(J,ne){return J.startLineNumber!==ne.startLineNumber?J.startLineNumber-ne.startLineNumber:ne.endLineNumber-J.endLineNumber}static fromOutlineElement(J,ne){const ae=[];for(const Ke of J.children.values())if(Ke.symbol.selectionRange.startLineNumber!==Ke.symbol.range.endLineNumber)if(Ke.symbol.selectionRange.startLineNumber!==ne)ae.push(_e.fromOutlineElement(Ke,Ke.symbol.selectionRange.startLineNumber));else for(const ct of Ke.children.values())ae.push(_e.fromOutlineElement(ct,Ke.symbol.selectionRange.startLineNumber));ae.sort((Ke,ct)=>this.comparator(Ke.range,ct.range));const xe=new ye(J.symbol.selectionRange.startLineNumber,J.symbol.range.endLineNumber);return new _e(xe,ae,void 0)}static fromOutlineModel(J,ne){let ae;if(L.$.first(J.children.values())instanceof P.H3){const ot=L.$.find(J.children.values(),dt=>dt.id===ne);if(ot)ae=ot.children;else{let dt="",et=-1,Fe;for(const[Le,Te]of J.children.entries()){const ge=_e.findSumOfRangesOfGroup(Te);ge>et&&(Fe=Te,et=ge,dt=Te.id)}ne=dt,ae=Fe.children}}else ae=J.children;const xe=[],Ke=Array.from(ae.values()).sort((ot,dt)=>{const et=new ye(ot.symbol.range.startLineNumber,ot.symbol.range.endLineNumber),Fe=new ye(dt.symbol.range.startLineNumber,dt.symbol.range.endLineNumber);return this.comparator(et,Fe)});for(const ot of Ke)xe.push(_e.fromOutlineElement(ot,ot.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new _e(void 0,xe,void 0),providerID:ne}}static findSumOfRangesOfGroup(J){let ne=0;for(const ae of J.children.values())ne+=this.findSumOfRangesOfGroup(ae);return J instanceof P.sT?ne+J.symbol.range.endLineNumber-J.symbol.selectionRange.startLineNumber:ne}static fromFoldingModel(J){const ne=J.regions,ae=ne.length;let xe;const Ke=[],ct=new _e(void 0,[],void 0);let ot=ct;for(let dt=0;dt<ae;dt++){for(xe=new ye(ne.getStartLineNumber(dt),ne.getEndLineNumber(dt)+1);Ke.length!==0&&(xe.startLineNumber<Ke[Ke.length-1].startLineNumber||xe.endLineNumber>Ke[Ke.length-1].endLineNumber);)Ke.pop(),ot.parent!==void 0&&(ot=ot.parent);const et=new _e(xe,[],ot);ot.children.push(et),ot=et,Ke.push(xe)}return ct}constructor(J,ne,ae){this.range=J,this.children=ne,this.parent=ae}}class he{constructor(J,ne,ae,xe){this.uri=J,this.version=ne,this.element=ae,this.outlineProviderId=xe}}var le=i(81477),se=function(Ce,J,ne,ae){var xe=arguments.length,Ke=xe<3?J:ae===null?ae=Object.getOwnPropertyDescriptor(J,ne):ae,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ce,J,ne,ae);else for(var ot=Ce.length-1;ot>=0;ot--)(ct=Ce[ot])&&(Ke=(xe<3?ct(Ke):xe>3?ct(J,ne,Ke):ct(J,ne))||Ke);return xe>3&&Ke&&Object.defineProperty(J,ne,Ke),Ke},Re=function(Ce,J){return function(ne,ae){J(ne,ae,Ce)}},$e=function(Ce,J,ne,ae){function xe(Ke){return Ke instanceof ne?Ke:new ne(function(ct){ct(Ke)})}return new(ne||(ne=Promise))(function(Ke,ct){function ot(Fe){try{et(ae.next(Fe))}catch(Le){ct(Le)}}function dt(Fe){try{et(ae.throw(Fe))}catch(Le){ct(Le)}}function et(Fe){Fe.done?Ke(Fe.value):xe(Fe.value).then(ot,dt)}et((ae=ae.apply(Ce,J||[])).next())})};let je=class extends O.JT{constructor(J,ne,ae,xe){super(),this._editor=J,this._contextMenuService=ne,this._sessionStore=new O.SL,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._stickyScrollWidget=new H(this._editor,ae,xe),this._stickyLineCandidateProvider=new Se(this._editor,ae),this._widgetState=new Q([],0),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._register(this._editor.onDidChangeConfiguration(Ke=>{Ke.hasChanged(109)&&this._readConfiguration()})),this._readConfiguration(),this._register(a.nm(this._stickyScrollWidget.getDomNode(),a.tw.CONTEXT_MENU,Ke=>$e(this,void 0,void 0,function*(){this._onContextMenu(Ke)})))}_onContextMenu(J){this._contextMenuService.showContextMenu({menuId:A.eH.StickyScrollContext,getAnchor:()=>J})}_readConfiguration(){if(this._editor.getOption(109).enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(ae=>this._onTokensChange(ae))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>this._renderStickyScroll())),this._editor.getOption(64).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this._renderStickyScroll()))}_needsUpdate(J){const ne=this._stickyScrollWidget.getCurrentLines();for(const ae of ne)for(const xe of J.ranges)if(ae>=xe.fromLineNumber&&ae<=xe.toLineNumber)return!0;return!1}_onTokensChange(J){this._needsUpdate(J)&&this._renderStickyScroll()}_onDidResize(){const J=this._editor.getLayoutInfo(),ne=J.width-J.minimap.minimapCanvasOuterWidth-J.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${ne}px`;const ae=J.height/this._editor.getOption(63);this._maxStickyLines=Math.round(ae*.25)}_renderStickyScroll(){if(!this._editor.hasModel())return;const J=this._editor.getModel(),ne=this._stickyLineCandidateProvider.getVersionId();(ne===void 0||ne===J.getVersionId())&&(this._widgetState=this.getScrollWidgetState(),this._stickyScrollWidget.setState(this._widgetState))}getScrollWidgetState(){const J=this._editor.getOption(63),ne=Math.min(this._maxStickyLines,this._editor.getOption(109).maxLineCount),ae=this._editor.getScrollTop();let xe=0;const Ke=[],ct=this._editor.getVisibleRanges();if(ct.length!==0){const ot=new ye(ct[0].startLineNumber,ct[ct.length-1].endLineNumber),dt=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(ot);for(const et of dt){const Fe=et.startLineNumber,Le=et.endLineNumber,Te=et.nestingDepth;if(Le-Fe>0){const ge=(Te-1)*J,ve=Te*J,we=this._editor.getBottomForLineNumber(Fe)-ae,Oe=this._editor.getTopForLineNumber(Le)-ae,He=this._editor.getBottomForLineNumber(Le)-ae;if(ge>Oe&&ge<=He){Ke.push(Fe),xe=He-ve;break}else ve>we&&ve<=He&&Ke.push(Fe);if(Ke.length===ne)break}}}return new Q(Ke,xe)}dispose(){super.dispose(),this._sessionStore.dispose()}};je.ID="store.contrib.stickyScrollController",je=se([Re(1,le.i),Re(2,p.p),Re(3,_.TG)],je),(0,c._K)(je.ID,je,1),(0,A.r1)(x)},72449:function(vt,be,i){"use strict";i.d(be,{_:function(){return S},t:function(){return A}});var c=i(16842),F=i(61842),g=i(30613);class A{constructor(N,x){this.leadingLineContent=N,this.characterCountDelta=x}}class S{constructor(N,x,O,p,a,d,f=F.mX.default,s=void 0){this.clipboardText=s,this._snippetCompareFn=S._compareCompletionItems,this._items=N,this._column=x,this._wordDistance=p,this._options=a,this._refilterKind=1,this._lineContext=O,this._fuzzyScoreOptions=f,d==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:d==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(N){(this._lineContext.leadingLineContent!==N.leadingLineContent||this._lineContext.characterCountDelta!==N.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<N.characterCountDelta&&this._filteredItems?2:1,this._lineContext=N)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const N=new Set;for(const[x,O]of this.getItemsByProvider())O.length>0&&O[0].container.incomplete&&N.add(x);return N}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const N=[],{leadingLineContent:x,characterCountDelta:O}=this._lineContext;let p="",a="";const d=this._refilterKind===1?this._items:this._filteredItems,f=[],s=!this._options.filterGraceful||d.length>2e3?F.EW:F.l7;for(let r=0;r<d.length;r++){const m=d[r];if(m.isInvalid)continue;const C=this._itemsByProvider.get(m.provider);C?C.push(m):this._itemsByProvider.set(m.provider,[m]);const u=m.position.column-m.editStart.column,_=u+O-(m.position.column-this._column);if(p.length!==_&&(p=_===0?"":x.slice(-_),a=p.toLowerCase()),m.word=p,_===0)m.score=F.CL.Default;else{let b=0;for(;b<u;){const E=p.charCodeAt(b);if(E===32||E===9)b+=1;else break}if(b>=_)m.score=F.CL.Default;else if(typeof m.completion.filterText=="string"){const E=s(p,a,b,m.completion.filterText,m.filterTextLow,0,this._fuzzyScoreOptions);if(!E)continue;(0,g.zY)(m.completion.filterText,m.textLabel)===0?m.score=E:(m.score=(0,F.jB)(p,a,b,m.textLabel,m.labelLow,0),m.score[0]=E[0])}else{const E=s(p,a,b,m.textLabel,m.labelLow,0,this._fuzzyScoreOptions);if(!E)continue;m.score=E}}m.idx=r,m.distance=this._wordDistance.distance(m.position,m.completion),f.push(m),N.push(m.textLabel.length)}this._filteredItems=f.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:N.length?(0,c.HW)(N.length-.85,N,(r,m)=>r-m):0}}static _compareCompletionItems(N,x){return N.score[0]>x.score[0]?-1:N.score[0]<x.score[0]?1:N.distance<x.distance?-1:N.distance>x.distance?1:N.idx<x.idx?-1:N.idx>x.idx?1:0}static _compareCompletionItemsSnippetsDown(N,x){if(N.completion.kind!==x.completion.kind){if(N.completion.kind===27)return 1;if(x.completion.kind===27)return-1}return S._compareCompletionItems(N,x)}static _compareCompletionItemsSnippetsUp(N,x){if(N.completion.kind!==x.completion.kind){if(N.completion.kind===27)return-1;if(x.completion.kind===27)return 1}return S._compareCompletionItems(N,x)}}},88399:function(vt,be,i){"use strict";i.d(be,{A9:function(){return D},GI:function(){return b},ZJ:function(){return I},_y:function(){return _},i5:function(){return X},kL:function(){return K},tG:function(){return q}});var c=i(19713),F=i(50505),g=i(61842),A=i(52357),S=i(39589),$=i(67770),N=i(39508),x=i(43976),O=i(22445),p=i(58295),a=i(90248),d=i(15779),f=i(49597),s=i(21760),r=i(23286),m=i(26340),C=i(44872),u=function(U,L,B,j){function G(y){return y instanceof B?y:new B(function(pe){pe(y)})}return new(B||(B=Promise))(function(y,pe){function ye(_e){try{Se(j.next(_e))}catch(he){pe(he)}}function me(_e){try{Se(j.throw(_e))}catch(he){pe(he)}}function Se(_e){_e.done?y(_e.value):G(_e.value).then(ye,me)}Se((j=j.apply(U,L||[])).next())})};const _={Visible:C.iX,HasFocusedSuggestion:new r.uy("suggestWidgetHasFocusedSuggestion",!1,(0,d.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new r.uy("suggestWidgetDetailsVisible",!1,(0,d.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new r.uy("suggestWidgetMultipleSuggestions",!1,(0,d.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new r.uy("suggestionMakesTextEdit",!0,(0,d.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new r.uy("acceptSuggestionOnEnter",!0,(0,d.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new r.uy("suggestionHasInsertAndReplaceRange",!1,(0,d.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new r.uy("suggestionInsertMode",void 0,{type:"string",description:(0,d.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new r.uy("suggestionCanResolve",!1,(0,d.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},b=new f.eH("suggestWidgetStatusBar");class E{constructor(L,B,j,G){this.position=L,this.completion=B,this.container=j,this.provider=G,this.isInvalid=!1,this.score=g.CL.Default,this.distance=0,this.textLabel=typeof B.label=="string"?B.label:B.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=B.sortText&&B.sortText.toLowerCase(),this.filterTextLow=B.filterText&&B.filterText.toLowerCase(),this.extensionId=B.extensionId,O.e.isIRange(B.range)?(this.editStart=new x.L(B.range.startLineNumber,B.range.startColumn),this.editInsertEnd=new x.L(B.range.endLineNumber,B.range.endColumn),this.editReplaceEnd=new x.L(B.range.endLineNumber,B.range.endColumn),this.isInvalid=this.isInvalid||O.e.spansMultipleLines(B.range)||B.range.startLineNumber!==L.lineNumber):(this.editStart=new x.L(B.range.insert.startLineNumber,B.range.insert.startColumn),this.editInsertEnd=new x.L(B.range.insert.endLineNumber,B.range.insert.endColumn),this.editReplaceEnd=new x.L(B.range.replace.endLineNumber,B.range.replace.endColumn),this.isInvalid=this.isInvalid||O.e.spansMultipleLines(B.range.insert)||O.e.spansMultipleLines(B.range.replace)||B.range.insert.startLineNumber!==L.lineNumber||B.range.replace.startLineNumber!==L.lineNumber||B.range.insert.startColumn!==B.range.replace.startColumn),typeof G.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(L){return u(this,void 0,void 0,function*(){if(!this._resolveCache){const B=L.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,L)).then(j=>{Object.assign(this.completion,j),this._isResolved=!0,B.dispose()},j=>{(0,F.n2)(j)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class D{constructor(L=2,B=new Set,j=new Set,G=new Map,y=!0){this.snippetSortOrder=L,this.kindFilter=B,this.providerFilter=j,this.providerItemsToReuse=G,this.showDeprecated=y}}D.default=new D;let w;function I(){return w}class M{constructor(L,B,j,G){this.items=L,this.needsClipboard=B,this.durations=j,this.disposable=G}}function K(U,L,B,j=D.default,G={triggerKind:0},y=c.T.None){return u(this,void 0,void 0,function*(){const pe=new S.G(!0);B=B.clone();const ye=L.getWordAtPosition(B),me=ye?new O.e(B.lineNumber,ye.startColumn,B.lineNumber,ye.endColumn):O.e.fromPositions(B),Se={replace:me,insert:me.setEndPosition(B.lineNumber,B.column)},_e=[],he=new A.SL,le=[];let se=!1;const Re=(je,Ce,J)=>{var ne,ae,xe;let Ke=!1;if(!Ce)return Ke;for(const ct of Ce.suggestions)if(!j.kindFilter.has(ct.kind)){if(!j.showDeprecated&&(!((ne=ct==null?void 0:ct.tags)===null||ne===void 0)&&ne.includes(1)))continue;ct.range||(ct.range=Se),ct.sortText||(ct.sortText=typeof ct.label=="string"?ct.label:ct.label.label),!se&&ct.insertTextRules&&ct.insertTextRules&4&&(se=a.Yj.guessNeedsClipboard(ct.insertText)),_e.push(new E(B,ct,Ce,je)),Ke=!0}return(0,A.Wf)(Ce)&&he.add(Ce),le.push({providerName:(ae=je._debugDisplayName)!==null&&ae!==void 0?ae:"unknown_provider",elapsedProvider:(xe=Ce.duration)!==null&&xe!==void 0?xe:-1,elapsedOverall:J.elapsed()}),Ke},$e=(()=>u(this,void 0,void 0,function*(){if(!w||j.kindFilter.has(27))return;const je=j.providerItemsToReuse.get(w);if(je){je.forEach(ne=>_e.push(ne));return}if(j.providerFilter.size>0&&!j.providerFilter.has(w))return;const Ce=new S.G(!0),J=yield w.provideCompletionItems(L,B,G,y);Re(w,J,Ce)}))();for(const je of U.orderedGroups(L)){let Ce=!1;if(yield Promise.all(je.map(J=>u(this,void 0,void 0,function*(){if(j.providerItemsToReuse.has(J)){const ne=j.providerItemsToReuse.get(J);ne.forEach(ae=>_e.push(ae)),Ce=Ce||ne.length>0;return}if(!(j.providerFilter.size>0&&!j.providerFilter.has(J)))try{const ne=new S.G(!0),ae=yield J.provideCompletionItems(L,B,G,y);Ce=Re(J,ae,ne)||Ce}catch(ne){(0,F.Cp)(ne)}}))),Ce||y.isCancellationRequested)break}return yield $e,y.isCancellationRequested?(he.dispose(),Promise.reject(new F.FU)):new M(_e.sort(P(j.snippetSortOrder)),se,{entries:le,elapsed:pe.elapsed()},he)})}function z(U,L){if(U.sortTextLow&&L.sortTextLow){if(U.sortTextLow<L.sortTextLow)return-1;if(U.sortTextLow>L.sortTextLow)return 1}return U.textLabel<L.textLabel?-1:U.textLabel>L.textLabel?1:U.completion.kind-L.completion.kind}function Q(U,L){if(U.completion.kind!==L.completion.kind){if(U.completion.kind===27)return-1;if(L.completion.kind===27)return 1}return z(U,L)}function Y(U,L){if(U.completion.kind!==L.completion.kind){if(U.completion.kind===27)return 1;if(L.completion.kind===27)return-1}return z(U,L)}const H=new Map;H.set(0,Q),H.set(2,Y),H.set(1,z);function P(U){return H.get(U)}s.P.registerCommand("_executeCompletionItemProvider",(U,...L)=>u(void 0,void 0,void 0,function*(){const[B,j,G,y]=L;(0,$.p_)(N.o.isUri(B)),(0,$.p_)(x.L.isIPosition(j)),(0,$.p_)(typeof G=="string"||!G),(0,$.p_)(typeof y=="number"||!y);const{completionProvider:pe}=U.get(m.p),ye=yield U.get(p.S).createModelReference(B);try{const me={incomplete:!1,suggestions:[]},Se=[],_e=yield K(pe,ye.object.textEditorModel,x.L.lift(j),void 0,{triggerCharacter:G!=null?G:void 0,triggerKind:G?1:0});for(const he of _e.items)Se.length<(y!=null?y:0)&&Se.push(he.resolve(c.T.None)),me.incomplete=me.incomplete||he.container.incomplete,me.suggestions.push(he.completion);try{return yield Promise.all(Se),me}finally{setTimeout(()=>_e.disposable.dispose(),100)}}finally{ye.dispose()}}));function X(U,L){var B;(B=U.getContribution("editor.contrib.suggestController"))===null||B===void 0||B.triggerSuggest(new Set().add(L),void 0,!0)}class q{static isAllOff(L){return L.other==="off"&&L.comments==="off"&&L.strings==="off"}static isAllOn(L){return L.other==="on"&&L.comments==="on"&&L.strings==="on"}static valueFor(L,B){switch(B){case 1:return L.comments;case 2:return L.strings;default:return L.other}}}},50301:function(vt,be,i){"use strict";i.r(be),i.d(be,{SuggestController:function(){return Zi},TriggerSuggestAction:function(){return Dn}});var c=i(26017),F=i(16842),g=i(39460),A=i(19713),S=i(50505),$=i(94162),N=i(4526),x=i(52357),O=i(41420),p=i(39589),a=i(67770),d=i(43167),f=i(98981),s=i(24222),r=i(43976),m=i(22445),C=i(73805),u=i(68572),_=i(90248),b=i(89724),E=i(23286),D=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},w=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}};let I=class Jc{constructor(fe,De){this._editor=fe,this._enabled=!1,this._ckAtEnd=Jc.AtEnd.bindTo(De),this._configListener=this._editor.onDidChangeConfiguration(ie=>ie.hasChanged(117)&&this._update()),this._update()}dispose(){var fe;this._configListener.dispose(),(fe=this._selectionListener)===null||fe===void 0||fe.dispose(),this._ckAtEnd.reset()}_update(){const fe=this._editor.getOption(117)==="on";if(this._enabled!==fe)if(this._enabled=fe,this._enabled){const De=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const ie=this._editor.getModel(),Ie=this._editor.getSelection(),We=ie.getWordAtPosition(Ie.getStartPosition());if(!We){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(We.endColumn===Ie.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(De),De()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};I.AtEnd=new E.uy("atEndOfWord",!1),I=D([w(1,E.i6)],I);var M=i(15779),K=i(21760),z=i(64700),Q=i(18166),Y=i(88399),H=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},P=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}};let X=class tl{constructor(fe,De){this._editor=fe,this._index=0,this._ckOtherSuggestions=tl.OtherSuggestions.bindTo(De)}dispose(){this.reset()}reset(){var fe;this._ckOtherSuggestions.reset(),(fe=this._listener)===null||fe===void 0||fe.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:fe,index:De},ie){if(fe.items.length===0){this.reset();return}if(tl._moveIndex(!0,fe,De)===De){this.reset();return}this._acceptNext=ie,this._model=fe,this._index=De,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(fe,De,ie){let Ie=ie;for(;Ie=(Ie+De.items.length+(fe?1:-1))%De.items.length,!(Ie===ie||!De.items[Ie].completion.additionalTextEdits););return Ie}next(){this._move(!0)}prev(){this._move(!1)}_move(fe){if(this._model)try{this._ignore=!0,this._index=tl._moveIndex(fe,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};X.OtherSuggestions=new E.uy("hasOtherSuggestions",!1),X=H([P(1,E.i6)],X);var q=i(79563);class U{constructor(fe,De,ie,Ie){this._disposables=new x.SL,this._disposables.add(ie.onDidSuggest(We=>{We.completionModel.items.length===0&&this.reset()})),this._disposables.add(ie.onDidCancel(We=>{this.reset()})),this._disposables.add(De.onDidShow(()=>this._onItem(De.getFocusedItem()))),this._disposables.add(De.onDidFocus(this._onItem,this)),this._disposables.add(De.onDidHide(this.reset,this)),this._disposables.add(fe.onWillType(We=>{if(this._active&&!De.isFrozen()&&ie.state!==0){const nt=We.charCodeAt(We.length-1);this._active.acceptCharacters.has(nt)&&fe.getOption(0)&&Ie(this._active.item)}}))}_onItem(fe){if(!fe||!(0,F.Of)(fe.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===fe.item)return;const De=new q.q;for(const ie of fe.item.completion.commitCharacters)ie.length>0&&De.add(ie.charCodeAt(0));this._active={acceptCharacters:De,item:fe}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var L=i(30613),B=i(15489),j=i(6375),G=i(79252),y=i(52167),pe=i(64464),ye=i(43257),me=i(72449),Se=i(26340),_e=i(61842),he=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},le=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}},se=function(Ht,fe,De,ie){function Ie(We){return We instanceof De?We:new De(function(nt){nt(We)})}return new(De||(De=Promise))(function(We,nt){function lt(ti){try{$t(ie.next(ti))}catch(Qt){nt(Qt)}}function Pt(ti){try{$t(ie.throw(ti))}catch(Qt){nt(Qt)}}function $t(ti){ti.done?We(ti.value):Ie(ti.value).then(lt,Pt)}$t((ie=ie.apply(Ht,fe||[])).next())})};class Re{static shouldAutoTrigger(fe){if(!fe.hasModel())return!1;const De=fe.getModel(),ie=fe.getPosition();De.tokenization.tokenizeIfCheap(ie.lineNumber);const Ie=De.getWordAtPosition(ie);return!(!Ie||Ie.endColumn!==ie.column||!isNaN(Number(Ie.word)))}constructor(fe,De,ie){this.leadingLineContent=fe.getLineContent(De.lineNumber).substr(0,De.column-1),this.leadingWord=fe.getWordUntilPosition(De),this.lineNumber=De.lineNumber,this.column=De.column,this.triggerOptions=ie}}function $e(Ht){return Ht.getOption(112).preview}function je(Ht,fe,De){var ie,Ie;if(!Boolean(fe.getContextKeyValue("inlineSuggestionVisible")))return!0;const We=De.getValue("editor.inlineSuggest.allowQuickSuggestions",{overrideIdentifier:(ie=Ht.getModel())===null||ie===void 0?void 0:ie.getLanguageId(),resource:(Ie=Ht.getModel())===null||Ie===void 0?void 0:Ie.uri});return We!==void 0?Boolean(We):!1}function Ce(Ht,fe,De){var ie,Ie;if(!Boolean(fe.getContextKeyValue("inlineSuggestionVisible")))return!0;const We=De.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters",{overrideIdentifier:(ie=Ht.getModel())===null||ie===void 0?void 0:ie.getLanguageId(),resource:(Ie=Ht.getModel())===null||Ie===void 0?void 0:Ie.uri});return We!==void 0?Boolean(We):!1}let J=class qc{constructor(fe,De,ie,Ie,We,nt,lt,Pt){this._editor=fe,this._editorWorkerService=De,this._clipboardService=ie,this._telemetryService=Ie,this._logService=We,this._contextKeyService=nt,this._configurationService=lt,this._languageFeaturesService=Pt,this._toDispose=new x.SL,this._triggerCharacterListener=new x.SL,this._triggerQuickSuggest=new g._F,this._triggerState=void 0,this._completionDisposables=new x.SL,this._onDidCancel=new $.Q5,this._onDidTrigger=new $.Q5,this._onDidSuggest=new $.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new B.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let $t=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{$t=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{$t=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(ti=>{$t||this._onCursorChange(ti)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!$t&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,x.B9)(this._triggerCharacterListener),(0,x.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(86)||!this._editor.hasModel()||!this._editor.getOption(115))return;const fe=new Map;for(const ie of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Ie of ie.triggerCharacters||[]){let We=fe.get(Ie);We||(We=new Set,We.add((0,Y.ZJ)()),fe.set(Ie,We)),We.add(ie)}const De=ie=>{var Ie;if(!Ce(this._editor,this._contextKeyService,this._configurationService)||Re.shouldAutoTrigger(this._editor))return;if(!ie){const lt=this._editor.getPosition();ie=this._editor.getModel().getLineContent(lt.lineNumber).substr(0,lt.column-1)}let We="";(0,L.YK)(ie.charCodeAt(ie.length-1))?(0,L.ZG)(ie.charCodeAt(ie.length-2))&&(We=ie.substr(ie.length-2)):We=ie.charAt(ie.length-1);const nt=fe.get(We);if(nt){const lt=new Map;if(this._completionModel)for(const[Pt,$t]of this._completionModel.getItemsByProvider())nt.has(Pt)||lt.set(Pt,$t);this.trigger({auto:!0,triggerKind:1,triggerCharacter:We,retrigger:Boolean(this._completionModel),clipboardText:(Ie=this._completionModel)===null||Ie===void 0?void 0:Ie.clipboardText,completionOptions:{providerFilter:nt,providerItemsToReuse:lt}})}};this._triggerCharacterListener.add(this._editor.onDidType(De)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>De()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(fe=!1){var De;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(De=this._requestToken)===null||De===void 0||De.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:fe}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(fe){if(!this._editor.hasModel())return;const De=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!fe.selection.isEmpty()||fe.reason!==0&&fe.reason!==3||fe.source!=="keyboard"&&fe.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&fe.reason===0?(De.containsRange(this._currentSelection)||De.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&fe.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){Y.tG.isAllOff(this._editor.getOption(84))||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Re.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const fe=this._editor.getModel(),De=this._editor.getPosition(),ie=this._editor.getOption(84);if(!Y.tG.isAllOff(ie)){if(!Y.tG.isAllOn(ie)){fe.tokenization.tokenizeIfCheap(De.lineNumber);const Ie=fe.tokenization.getLineTokens(De.lineNumber),We=Ie.getStandardTokenType(Ie.findTokenIndexAtOffset(Math.max(De.column-1-1,0)));if(Y.tG.valueFor(ie,We)!=="on")return}je(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(fe)&&this.trigger({auto:!0})}},this._editor.getOption(85)))}_refilterCompletionItems(){(0,a.p_)(this._editor.hasModel()),(0,a.p_)(this._triggerState!==void 0);const fe=this._editor.getModel(),De=this._editor.getPosition(),ie=new Re(fe,De,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(ie)}trigger(fe){var De,ie,Ie,We,nt,lt;if(!this._editor.hasModel())return;const Pt=this._editor.getModel(),$t=new Re(Pt,this._editor.getPosition(),fe);this.cancel(fe.retrigger),this._triggerState=fe,this._onDidTrigger.fire({auto:fe.auto,shy:(De=fe.shy)!==null&&De!==void 0?De:!1,position:this._editor.getPosition()}),this._context=$t;let ti={triggerKind:(ie=fe.triggerKind)!==null&&ie!==void 0?ie:0};fe.triggerCharacter&&(ti={triggerKind:1,triggerCharacter:fe.triggerCharacter}),this._requestToken=new A.A;const Qt=this._editor.getOption(106);let Jt=1;switch(Qt){case"top":Jt=0;break;case"bottom":Jt=2;break}const{itemKind:di,showDeprecated:Ci}=qc._createSuggestFilter(this._editor),gi=new Y.A9(Jt,(We=(Ie=fe.completionOptions)===null||Ie===void 0?void 0:Ie.kindFilter)!==null&&We!==void 0?We:di,(nt=fe.completionOptions)===null||nt===void 0?void 0:nt.providerFilter,(lt=fe.completionOptions)===null||lt===void 0?void 0:lt.providerItemsToReuse,Ci),Ei=G.K.create(this._editorWorkerService,this._editor),Pi=(0,Y.kL)(this._languageFeaturesService.completionProvider,Pt,this._editor.getPosition(),gi,ti,this._requestToken.token);Promise.all([Pi,Ei]).then(([tn,an])=>se(this,void 0,void 0,function*(){var nn;if((nn=this._requestToken)===null||nn===void 0||nn.dispose(),!this._editor.hasModel())return;let cn=fe==null?void 0:fe.clipboardText;if(!cn&&tn.needsClipboard&&(cn=yield this._clipboardService.readText()),this._triggerState===void 0)return;const En=this._editor.getModel(),Rn=new Re(En,this._editor.getPosition(),fe),ps=Object.assign(Object.assign({},_e.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(112).matchOnWordStartOnly});this._completionModel=new me._(tn.items,this._context.column,{leadingLineContent:Rn.leadingLineContent,characterCountDelta:Rn.column-this._context.column},an,this._editor.getOption(112),this._editor.getOption(106),ps,cn),this._completionDisposables.add(tn.disposable),this._onNewContext(Rn),this._reportDurationsTelemetry(tn.durations)})).catch(S.dL)}_reportDurationsTelemetry(fe){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(fe)}),this._logService.debug("suggest.durations.json",fe)})}static _createSuggestFilter(fe){const De=new Set;fe.getOption(106)==="none"&&De.add(27);const Ie=fe.getOption(112);return Ie.showMethods||De.add(0),Ie.showFunctions||De.add(1),Ie.showConstructors||De.add(2),Ie.showFields||De.add(3),Ie.showVariables||De.add(4),Ie.showClasses||De.add(5),Ie.showStructs||De.add(6),Ie.showInterfaces||De.add(7),Ie.showModules||De.add(8),Ie.showProperties||De.add(9),Ie.showEvents||De.add(10),Ie.showOperators||De.add(11),Ie.showUnits||De.add(12),Ie.showValues||De.add(13),Ie.showConstants||De.add(14),Ie.showEnums||De.add(15),Ie.showEnumMembers||De.add(16),Ie.showKeywords||De.add(17),Ie.showWords||De.add(18),Ie.showColors||De.add(19),Ie.showFiles||De.add(20),Ie.showReferences||De.add(21),Ie.showColors||De.add(22),Ie.showFolders||De.add(23),Ie.showTypeParameters||De.add(24),Ie.showSnippets||De.add(27),Ie.showUsers||De.add(25),Ie.showIssues||De.add(26),{itemKind:De,showDeprecated:Ie.showDeprecated}}_onNewContext(fe){if(this._context){if(fe.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,L.V8)(fe.leadingLineContent)!==(0,L.V8)(this._context.leadingLineContent)){this.cancel();return}if(fe.column<this._context.column){fe.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(fe.leadingWord.word.length!==0&&fe.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Re.shouldAutoTrigger(this._editor)&&this._context){const ie=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:ie}})}return}if(fe.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&fe.leadingWord.word.length!==0){const De=new Map,ie=new Set;for(const[Ie,We]of this._completionModel.getItemsByProvider())We.length>0&&We[0].container.incomplete?ie.add(Ie):De.set(Ie,We);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:ie,providerItemsToReuse:De}})}else{const De=this._completionModel.lineContext;let ie=!1;if(this._completionModel.lineContext={leadingLineContent:fe.leadingLineContent,characterCountDelta:fe.column-this._context.column},this._completionModel.items.length===0){const Ie=Re.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Ie&&this._context.leadingWord.endColumn<fe.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=De,ie=this._completionModel.items.length>0,ie&&fe.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:fe.triggerOptions,isFrozen:ie})}}}}};J=he([le(1,j.p),le(2,y.p),le(3,ye.b),le(4,Q.VZ),le(5,E.i6),le(6,pe.Ui),le(7,Se.p)],J);class ne{constructor(fe,De){this._disposables=new x.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(fe.onWillType(()=>{if(this._locked||!fe.hasModel())return;const ie=fe.getSelections(),Ie=ie.length;let We=!1;for(let lt=0;lt<Ie;lt++)if(!ie[lt].isEmpty()){We=!0;break}if(!We){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const nt=fe.getModel();for(let lt=0;lt<Ie;lt++){const Pt=ie[lt];if(nt.getValueLengthInRange(Pt)>ne._maxSelectionLength)return;this._lastOvertyped[lt]={value:nt.getValueInRange(Pt),multiline:Pt.startLineNumber!==Pt.endLineNumber}}})),this._disposables.add(De.onDidTrigger(ie=>{this._locked=!0})),this._disposables.add(De.onDidCancel(ie=>{this._locked=!1}))}getLastOvertypedInfo(fe){if(fe>=0&&fe<this._lastOvertyped.length)return this._lastOvertyped[fe]}dispose(){this._disposables.dispose()}}ne._maxSelectionLength=51200;var ae=i(16563),xe=i(42409),Ke=i(2898),ct=i(88523),ot=i(49206),dt=i(38224),et=i(925),Fe=i(49597),Le=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},Te=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}};class ge extends et.Mm{updateLabel(){const fe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!fe)return super.updateLabel();this.label&&(this.label.textContent=(0,M.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,ge.symbolPrintEnter(fe)))}static symbolPrintEnter(fe){var De;return(De=fe.getLabel())===null||De===void 0?void 0:De.replace(/\benter\b/gi,"\u23CE")}}let ve=class{constructor(fe,De,ie,Ie,We){this._menuId=De,this._menuService=Ie,this._contextKeyService=We,this._menuDisposables=new x.SL,this.element=ae.R3(fe,ae.$(".suggest-status-bar"));const nt=lt=>lt instanceof Fe.U8?ie.createInstance(ge,lt,void 0):void 0;this._leftActions=new dt.o(this.element,{actionViewItemProvider:nt}),this._rightActions=new dt.o(this.element,{actionViewItemProvider:nt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const fe=this._menuService.createMenu(this._menuId,this._contextKeyService),De=()=>{const ie=[],Ie=[];for(const[We,nt]of fe.getActions())We==="left"?ie.push(...nt):Ie.push(...nt);this._leftActions.clear(),this._leftActions.push(ie),this._rightActions.clear(),this._rightActions.push(Ie)};this._menuDisposables.add(fe.onDidChange(()=>De())),this._menuDisposables.add(fe)}hide(){this._menuDisposables.clear()}};ve=Le([Te(2,z.TG),Te(3,Fe.co),Te(4,E.i6)],ve);var we=i(96584),Oe=i(47955),He=i(78382),mt=i(33479),bt=i(901),kt=i(69303);class Ut{constructor(){this._onDidWillResize=new $.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new $.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new x.SL,this._size=new ae.Ro(0,0),this._minSize=new ae.Ro(0,0),this._maxSize=new ae.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new kt.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new kt.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new kt.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:kt.l.North}),this._southSash=new kt.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:kt.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let fe,De=0,ie=0;this._sashListener.add($.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{fe===void 0&&(this._onDidWillResize.fire(),fe=this._size,De=0,ie=0)})),this._sashListener.add($.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{fe!==void 0&&(fe=void 0,De=0,ie=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Ie=>{fe&&(ie=Ie.currentX-Ie.startX,this.layout(fe.height+De,fe.width+ie),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Ie=>{fe&&(ie=-(Ie.currentX-Ie.startX),this.layout(fe.height+De,fe.width+ie),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Ie=>{fe&&(De=-(Ie.currentY-Ie.startY),this.layout(fe.height+De,fe.width+ie),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Ie=>{fe&&(De=Ie.currentY-Ie.startY,this.layout(fe.height+De,fe.width+ie),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add($.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Ie=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add($.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Ie=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(fe,De,ie,Ie){this._northSash.state=fe?3:0,this._eastSash.state=De?3:0,this._southSash.state=ie?3:0,this._westSash.state=Ie?3:0}layout(fe=this.size.height,De=this.size.width){const{height:ie,width:Ie}=this._minSize,{height:We,width:nt}=this._maxSize;fe=Math.max(ie,Math.min(We,fe)),De=Math.max(Ie,Math.min(nt,De));const lt=new ae.Ro(De,fe);ae.Ro.equals(lt,this._size)||(this.domNode.style.height=fe+"px",this.domNode.style.width=De+"px",this._size=lt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(fe){this._maxSize=fe}get maxSize(){return this._maxSize}set minSize(fe){this._minSize=fe}get minSize(){return this._minSize}set preferredSize(fe){this._preferredSize=fe}get preferredSize(){return this._preferredSize}}var ut=i(66690),Dt=i(54195),ft=i(81189),Ft=i(69549),Et=i(32684),Ze=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},St=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}};function jt(Ht){return!!Ht&&Boolean(Ht.completion.documentation||Ht.completion.detail&&Ht.completion.detail!==Ht.completion.label)}let Ct=class{constructor(fe,De){this._editor=fe,this._onDidClose=new $.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new $.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new x.SL,this._renderDisposeable=new x.SL,this._borderWidth=1,this._size=new ae.Ro(330,0),this.domNode=ae.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=De.createInstance(Et.$,{editor:fe}),this._body=ae.$(".body"),this._scrollbar=new ut.s$(this._body,{alwaysConsumeMouseWheel:!0}),ae.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ae.R3(this._body,ae.$(".header")),this._close=ae.R3(this._header,ae.$("span"+ft.k.asCSSSelector(Dt.l.close))),this._close.title=M.NC("details.close","Close"),this._type=ae.R3(this._header,ae.$("p.type")),this._docs=ae.R3(this._body,ae.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(ie=>{ie.hasChanged(47)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const fe=this._editor.getOptions(),De=fe.get(47),ie=De.getMassagedFontFamily(),Ie=fe.get(113)||De.fontSize,We=fe.get(114)||De.lineHeight,nt=De.fontWeight,lt=`${Ie}px`,Pt=`${We}px`;this.domNode.style.fontSize=lt,this.domNode.style.lineHeight=`${We/Ie}`,this.domNode.style.fontWeight=nt,this.domNode.style.fontFeatureSettings=De.fontFeatureSettings,this._type.style.fontFamily=ie,this._close.style.height=Pt,this._close.style.width=Pt}getLayoutInfo(){const fe=this._editor.getOption(114)||this._editor.getOption(47).lineHeight,De=this._borderWidth,ie=De*2;return{lineHeight:fe,borderWidth:De,borderHeight:ie,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=M.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(fe,De){var ie,Ie;this._renderDisposeable.clear();let{detail:We,documentation:nt}=fe.completion;if(De){let lt="";lt+=`score: ${fe.score[0]}
`,lt+=`prefix: ${(ie=fe.word)!==null&&ie!==void 0?ie:"(no prefix)"}
`,lt+=`word: ${fe.completion.filterText?fe.completion.filterText+" (filterText)":fe.textLabel}
`,lt+=`distance: ${fe.distance} (localityBonus-setting)
`,lt+=`index: ${fe.idx}, based on ${fe.completion.sortText&&`sortText: "${fe.completion.sortText}"`||"label"}
`,lt+=`commit_chars: ${(Ie=fe.completion.commitCharacters)===null||Ie===void 0?void 0:Ie.join("")}
`,nt=new Ft.W5().appendCodeblock("empty",lt),We=`Provider: ${fe.provider._debugDisplayName}`}if(!De&&!jt(fe)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),We){const lt=We.length>1e5?`${We.substr(0,1e5)}\u2026`:We;this._type.textContent=lt,this._type.title=lt,ae.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(lt))}else ae.PO(this._type),this._type.title="",ae.Cp(this._type),this.domNode.classList.add("no-type");if(ae.PO(this._docs),typeof nt=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=nt;else if(nt){this._docs.classList.add("markdown-docs"),ae.PO(this._docs);const lt=this._markdownRenderer.render(nt);this._docs.appendChild(lt.element),this._renderDisposeable.add(lt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=lt=>{lt.preventDefault(),lt.stopPropagation()},this._close.onclick=lt=>{lt.preventDefault(),lt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(fe,De){const ie=new ae.Ro(fe,De);ae.Ro.equals(ie,this._size)||(this._size=ie,ae.dp(this.domNode,fe,De)),this._scrollbar.scanDomNode()}scrollDown(fe=8){this._body.scrollTop+=fe}scrollUp(fe=8){this._body.scrollTop-=fe}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(fe){this._borderWidth=fe}get borderWidth(){return this._borderWidth}};Ct=Ze([St(1,z.TG)],Ct);class _t{constructor(fe,De){this.widget=fe,this._editor=De,this._disposables=new x.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Ut,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(fe.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let ie,Ie,We=0,nt=0;this._disposables.add(this._resizable.onDidWillResize(()=>{ie=this._topLeft,Ie=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(lt=>{if(ie&&Ie){this.widget.layout(lt.dimension.width,lt.dimension.height);let Pt=!1;lt.west&&(nt=Ie.width-lt.dimension.width,Pt=!0),lt.north&&(We=Ie.height-lt.dimension.height,Pt=!0),Pt&&this._applyTopLeft({top:ie.top+We,left:ie.left+nt})}lt.done&&(ie=void 0,Ie=void 0,We=0,nt=0,this._userSize=lt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var lt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(lt=this._userSize)!==null&&lt!==void 0?lt:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(fe=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),fe&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(fe,De){var ie;const Ie=fe.getBoundingClientRect();this._anchorBox=Ie,this._preferAlignAtTop=De,this._placeAtAnchor(this._anchorBox,(ie=this._userSize)!==null&&ie!==void 0?ie:this.widget.size,De)}_placeAtAnchor(fe,De,ie){var Ie;const We=ae.D6(document.body),nt=this.widget.getLayoutInfo(),lt=new ae.Ro(220,2*nt.lineHeight),Pt=fe.top,$t=function(){const an=We.width-(fe.left+fe.width+nt.borderWidth+nt.horizontalPadding),nn=-nt.borderWidth+fe.left+fe.width,cn=new ae.Ro(an,We.height-fe.top-nt.borderHeight-nt.verticalPadding),En=cn.with(void 0,fe.top+fe.height-nt.borderHeight-nt.verticalPadding);return{top:Pt,left:nn,fit:an-De.width,maxSizeTop:cn,maxSizeBottom:En,minSize:lt.with(Math.min(an,lt.width))}}(),ti=function(){const an=fe.left-nt.borderWidth-nt.horizontalPadding,nn=Math.max(nt.horizontalPadding,fe.left-De.width-nt.borderWidth),cn=new ae.Ro(an,We.height-fe.top-nt.borderHeight-nt.verticalPadding),En=cn.with(void 0,fe.top+fe.height-nt.borderHeight-nt.verticalPadding);return{top:Pt,left:nn,fit:an-De.width,maxSizeTop:cn,maxSizeBottom:En,minSize:lt.with(Math.min(an,lt.width))}}(),Qt=function(){const an=fe.left,nn=-nt.borderWidth+fe.top+fe.height,cn=new ae.Ro(fe.width-nt.borderHeight,We.height-fe.top-fe.height-nt.verticalPadding);return{top:nn,left:an,fit:cn.height-De.height,maxSizeBottom:cn,maxSizeTop:cn,minSize:lt.with(cn.width)}}(),Jt=[$t,ti,Qt],di=(Ie=Jt.find(an=>an.fit>=0))!==null&&Ie!==void 0?Ie:Jt.sort((an,nn)=>nn.fit-an.fit)[0],Ci=fe.top+fe.height-nt.borderHeight;let gi,Ei=De.height;const Pi=Math.max(di.maxSizeTop.height,di.maxSizeBottom.height);Ei>Pi&&(Ei=Pi);let tn;ie?Ei<=di.maxSizeTop.height?(gi=!0,tn=di.maxSizeTop):(gi=!1,tn=di.maxSizeBottom):Ei<=di.maxSizeBottom.height?(gi=!1,tn=di.maxSizeBottom):(gi=!0,tn=di.maxSizeTop),this._applyTopLeft({left:di.left,top:gi?di.top:Ci-Ei}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!gi,di===$t,gi,di!==$t),this._resizable.minSize=di.minSize,this._resizable.maxSize=tn,this._resizable.layout(Ei,Math.min(tn.width,De.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(fe){this._topLeft=fe,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Kt=i(1918),Zt=i(39508),li=i(33686),ri=i(571),Ui=i(17349),on=i(9821),Qi;(function(Ht){Ht[Ht.FILE=0]="FILE",Ht[Ht.FOLDER=1]="FOLDER",Ht[Ht.ROOT_FOLDER=2]="ROOT_FOLDER"})(Qi||(Qi={}));const un=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Sn(Ht,fe,De,ie){const Ie=ie===Qi.ROOT_FOLDER?["rootfolder-icon"]:ie===Qi.FOLDER?["folder-icon"]:["file-icon"];if(De){let We;if(De.scheme===ri.lg.data)We=Ui.Vb.parseMetaData(De).get(Ui.Vb.META_DATA_LABEL);else{const nt=De.path.match(un);nt?(We=Cn(nt[2].toLowerCase()),nt[1]&&Ie.push(`${Cn(nt[1].toLowerCase())}-name-dir-icon`)):We=Cn(De.authority.toLowerCase())}if(ie===Qi.FOLDER)Ie.push(`${We}-name-folder-icon`);else{if(We){if(Ie.push(`${We}-name-file-icon`),Ie.push("name-file-icon"),We.length<=255){const lt=We.split(".");for(let Pt=1;Pt<lt.length;Pt++)Ie.push(`${lt.slice(Pt).join(".")}-ext-file-icon`)}Ie.push("ext-file-icon")}const nt=bn(Ht,fe,De);nt&&Ie.push(`${Cn(nt)}-lang-file-icon`)}}return Ie}function bn(Ht,fe,De){if(!De)return null;let ie=null;if(De.scheme===ri.lg.data){const We=Ui.Vb.parseMetaData(De).get(Ui.Vb.META_DATA_MIME);We&&(ie=fe.getLanguageIdByMimeType(We))}else{const Ie=Ht.getModel(De);Ie&&(ie=Ie.getLanguageId())}return ie&&ie!==on.bd?ie:fe.guessLanguageIdByFilepathOrFirstLine(De)}function Cn(Ht){return Ht.replace(/[\11\12\14\15\40]/g,"/")}var Fi=i(6033),On=i(18426),rn=i(88159),pn=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},ui=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}},Mt;function At(Ht){return`suggest-aria-id:${Ht}`}const Wt=(0,rn.q5)("suggest-more-info",Dt.l.chevronRight,M.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),qt=new(Mt=class il{extract(fe,De){if(fe.textLabel.match(il._regexStrict))return De[0]=fe.textLabel,!0;if(fe.completion.detail&&fe.completion.detail.match(il._regexStrict))return De[0]=fe.completion.detail,!0;if(typeof fe.completion.documentation=="string"){const ie=il._regexRelaxed.exec(fe.completion.documentation);if(ie&&(ie.index===0||ie.index+ie[0].length===fe.completion.documentation.length))return De[0]=ie[0],!0}return!1}},Mt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Mt._regexStrict=new RegExp(`^${Mt._regexRelaxed.source}$`,"i"),Mt);let at=class{constructor(fe,De,ie,Ie){this._editor=fe,this._modelService=De,this._languageService=ie,this._themeService=Ie,this._onDidToggleDetails=new $.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(fe){const De=new x.SL,ie=fe;ie.classList.add("show-file-icons");const Ie=(0,ae.R3)(fe,(0,ae.$)(".icon")),We=(0,ae.R3)(Ie,(0,ae.$)("span.colorspan")),nt=(0,ae.R3)(fe,(0,ae.$)(".contents")),lt=(0,ae.R3)(nt,(0,ae.$)(".main")),Pt=(0,ae.R3)(lt,(0,ae.$)(".icon-label.codicon")),$t=(0,ae.R3)(lt,(0,ae.$)("span.left")),ti=(0,ae.R3)(lt,(0,ae.$)("span.right")),Qt=new Kt.g($t,{supportHighlights:!0,supportIcons:!0});De.add(Qt);const Jt=(0,ae.R3)($t,(0,ae.$)("span.signature-label")),di=(0,ae.R3)($t,(0,ae.$)("span.qualifier-label")),Ci=(0,ae.R3)(ti,(0,ae.$)("span.details-label")),gi=(0,ae.R3)(ti,(0,ae.$)("span.readMore"+ft.k.asCSSSelector(Wt)));gi.title=M.NC("readMore","Read More");const Ei=()=>{const Pi=this._editor.getOptions(),tn=Pi.get(47),an=tn.getMassagedFontFamily(),nn=tn.fontFeatureSettings,cn=Pi.get(113)||tn.fontSize,En=Pi.get(114)||tn.lineHeight,Rn=tn.fontWeight,ps=tn.letterSpacing,mn=`${cn}px`,Xn=`${En}px`,us=`${ps}px`;ie.style.fontSize=mn,ie.style.fontWeight=Rn,ie.style.letterSpacing=us,lt.style.fontFamily=an,lt.style.fontFeatureSettings=nn,lt.style.lineHeight=Xn,Ie.style.height=Xn,Ie.style.width=Xn,gi.style.height=Xn,gi.style.width=Xn};return Ei(),De.add(this._editor.onDidChangeConfiguration(Pi=>{(Pi.hasChanged(47)||Pi.hasChanged(113)||Pi.hasChanged(114))&&Ei()})),{root:ie,left:$t,right:ti,icon:Ie,colorspan:We,iconLabel:Qt,iconContainer:Pt,parametersLabel:Jt,qualifierLabel:di,detailsLabel:Ci,readMore:gi,disposables:De}}renderElement(fe,De,ie){const{completion:Ie}=fe;ie.root.id=At(De),ie.colorspan.style.backgroundColor="";const We={labelEscapeNewLines:!0,matches:(0,_e.mB)(fe.score)},nt=[];if(Ie.kind===19&&qt.extract(fe,nt))ie.icon.className="icon customcolor",ie.iconContainer.className="icon hide",ie.colorspan.style.backgroundColor=nt[0];else if(Ie.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){ie.icon.className="icon hide",ie.iconContainer.className="icon hide";const lt=Sn(this._modelService,this._languageService,Zt.o.from({scheme:"fake",path:fe.textLabel}),Qi.FILE),Pt=Sn(this._modelService,this._languageService,Zt.o.from({scheme:"fake",path:Ie.detail}),Qi.FILE);We.extraClasses=lt.length>Pt.length?lt:Pt}else Ie.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(ie.icon.className="icon hide",ie.iconContainer.className="icon hide",We.extraClasses=[Sn(this._modelService,this._languageService,Zt.o.from({scheme:"fake",path:fe.textLabel}),Qi.FOLDER),Sn(this._modelService,this._languageService,Zt.o.from({scheme:"fake",path:Ie.detail}),Qi.FOLDER)].flat()):(ie.icon.className="icon hide",ie.iconContainer.className="",ie.iconContainer.classList.add("suggest-icon",...ft.k.asClassNameArray(li.gX.toIcon(Ie.kind))));Ie.tags&&Ie.tags.indexOf(1)>=0&&(We.extraClasses=(We.extraClasses||[]).concat(["deprecated"]),We.matches=[]),ie.iconLabel.setLabel(fe.textLabel,void 0,We),typeof Ie.label=="string"?(ie.parametersLabel.textContent="",ie.detailsLabel.textContent=Ve(Ie.detail||""),ie.root.classList.add("string-label")):(ie.parametersLabel.textContent=Ve(Ie.label.detail||""),ie.detailsLabel.textContent=Ve(Ie.label.description||""),ie.root.classList.remove("string-label")),this._editor.getOption(112).showInlineDetails?(0,ae.$Z)(ie.detailsLabel):(0,ae.Cp)(ie.detailsLabel),jt(fe)?(ie.right.classList.add("can-expand-details"),(0,ae.$Z)(ie.readMore),ie.readMore.onmousedown=lt=>{lt.stopPropagation(),lt.preventDefault()},ie.readMore.onclick=lt=>{lt.stopPropagation(),lt.preventDefault(),this._onDidToggleDetails.fire()}):(ie.right.classList.remove("can-expand-details"),(0,ae.Cp)(ie.readMore),ie.readMore.onmousedown=null,ie.readMore.onclick=null)}disposeTemplate(fe){fe.disposables.dispose()}};at=pn([ui(1,Fi.q),ui(2,On.O),ui(3,bt.XE)],at);function Ve(Ht){return Ht.replace(/\r\n|\r|\n/g,"")}var ze=i(74964),Ae=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},Ge=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}},st=function(Ht,fe,De,ie){function Ie(We){return We instanceof De?We:new De(function(nt){nt(We)})}return new(De||(De=Promise))(function(We,nt){function lt(ti){try{$t(ie.next(ti))}catch(Qt){nt(Qt)}}function Pt(ti){try{$t(ie.throw(ti))}catch(Qt){nt(Qt)}}function $t(ti){ti.done?We(ti.value):Ie(ti.value).then(lt,Pt)}$t((ie=ie.apply(Ht,fe||[])).next())})};(0,He.P6G)("editorSuggestWidget.background",{dark:He.D0T,light:He.D0T,hcDark:He.D0T,hcLight:He.D0T},M.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,He.P6G)("editorSuggestWidget.border",{dark:He.D1_,light:He.D1_,hcDark:He.D1_,hcLight:He.D1_},M.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const rt=(0,He.P6G)("editorSuggestWidget.foreground",{dark:He.NOs,light:He.NOs,hcDark:He.NOs,hcLight:He.NOs},M.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,He.P6G)("editorSuggestWidget.selectedForeground",{dark:He.NPS,light:He.NPS,hcDark:He.NPS,hcLight:He.NPS},M.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,He.P6G)("editorSuggestWidget.selectedIconForeground",{dark:He.cbQ,light:He.cbQ,hcDark:He.cbQ,hcLight:He.cbQ},M.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const xt=(0,He.P6G)("editorSuggestWidget.selectedBackground",{dark:He.Vqd,light:He.Vqd,hcDark:He.Vqd,hcLight:He.Vqd},M.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,He.P6G)("editorSuggestWidget.highlightForeground",{dark:He.Gwp,light:He.Gwp,hcDark:He.Gwp,hcLight:He.Gwp},M.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,He.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:He.PX0,light:He.PX0,hcDark:He.PX0,hcLight:He.PX0},M.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,He.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,He.ZnX)(rt,.5),light:(0,He.ZnX)(rt,.5),hcDark:(0,He.ZnX)(rt,.5),hcLight:(0,He.ZnX)(rt,.5)},M.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Vt{constructor(fe,De){this._service=fe,this._key=`suggestWidget.size/${De.getEditorType()}/${De instanceof ot.H}`}restore(){var fe;const De=(fe=this._service.get(this._key,0))!==null&&fe!==void 0?fe:"";try{const ie=JSON.parse(De);if(ae.Ro.is(ie))return ae.Ro.lift(ie)}catch(ie){}}store(fe){this._service.store(this._key,JSON.stringify(fe),0,1)}reset(){this._service.remove(this._key,0)}}let Gt=class Td{constructor(fe,De,ie,Ie,We){this.editor=fe,this._storageService=De,this._state=0,this._isAuto=!1,this._pendingLayout=new x.XK,this._pendingShowDetails=new x.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new g._F,this._disposables=new x.SL,this._onDidSelect=new $.K3,this._onDidFocus=new $.K3,this._onDidHide=new $.Q5,this._onDidShow=new $.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new $.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Ut,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new ai(this,fe),this._persistedSize=new Vt(De,fe);class nt{constructor(di,Ci,gi=!1,Ei=!1){this.persistedSize=di,this.currentSize=Ci,this.persistHeight=gi,this.persistWidth=Ei}}let lt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),lt=new nt(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Jt=>{var di,Ci,gi,Ei;if(this._resize(Jt.dimension.width,Jt.dimension.height),lt&&(lt.persistHeight=lt.persistHeight||!!Jt.north||!!Jt.south,lt.persistWidth=lt.persistWidth||!!Jt.east||!!Jt.west),!!Jt.done){if(lt){const{itemHeight:Pi,defaultSize:tn}=this.getLayoutInfo(),an=Math.round(Pi/2);let{width:nn,height:cn}=this.element.size;(!lt.persistHeight||Math.abs(lt.currentSize.height-cn)<=an)&&(cn=(Ci=(di=lt.persistedSize)===null||di===void 0?void 0:di.height)!==null&&Ci!==void 0?Ci:tn.height),(!lt.persistWidth||Math.abs(lt.currentSize.width-nn)<=an)&&(nn=(Ei=(gi=lt.persistedSize)===null||gi===void 0?void 0:gi.width)!==null&&Ei!==void 0?Ei:tn.width),this._persistedSize.store(new ae.Ro(nn,cn))}this._contentWidget.unlockPreference(),lt=void 0}})),this._messageElement=ae.R3(this.element.domNode,ae.$(".message")),this._listElement=ae.R3(this.element.domNode,ae.$(".tree"));const Pt=We.createInstance(Ct,this.editor);Pt.onDidClose(this.toggleDetails,this,this._disposables),this._details=new _t(Pt,this.editor);const $t=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(112).showIcons);$t();const ti=We.createInstance(at,this.editor);this._disposables.add(ti),this._disposables.add(ti.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Ke.aV("SuggestWidget",this._listElement,{getHeight:Jt=>this.getLayoutInfo().itemHeight,getTemplateId:Jt=>"suggestion"},[ti],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>M.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Jt=>{let di=Jt.textLabel;if(typeof Jt.completion.label!="string"){const{detail:Pi,description:tn}=Jt.completion.label;Pi&&tn?di=M.NC("label.full","{0}{1}, {2}",di,Pi,tn):Pi?di=M.NC("label.detail","{0}{1}",di,Pi):tn&&(di=M.NC("label.desc","{0}, {1}",di,tn))}if(!Jt.isResolved||!this._isDetailsVisible())return di;const{documentation:Ci,detail:gi}=Jt.completion,Ei=L.WU("{0}{1}",gi||"",Ci?typeof Ci=="string"?Ci:Ci.value:"");return M.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",di,Ei)}}}),this._list.style((0,ze.TU)({listInactiveFocusBackground:xt,listInactiveFocusOutline:He.xL1})),this._status=We.createInstance(ve,this.element.domNode,Y.GI);const Qt=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(112).showStatusBar);Qt(),this._disposables.add(Ie.onDidColorThemeChange(Jt=>this._onThemeChange(Jt))),this._onThemeChange(Ie.getColorTheme()),this._disposables.add(this._list.onMouseDown(Jt=>this._onListMouseDownOrTap(Jt))),this._disposables.add(this._list.onTap(Jt=>this._onListMouseDownOrTap(Jt))),this._disposables.add(this._list.onDidChangeSelection(Jt=>this._onListSelection(Jt))),this._disposables.add(this._list.onDidChangeFocus(Jt=>this._onListFocus(Jt))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Jt=>{Jt.hasChanged(112)&&(Qt(),$t())})),this._ctxSuggestWidgetVisible=Y._y.Visible.bindTo(ie),this._ctxSuggestWidgetDetailsVisible=Y._y.DetailsVisible.bindTo(ie),this._ctxSuggestWidgetMultipleSuggestions=Y._y.MultipleSuggestions.bindTo(ie),this._ctxSuggestWidgetHasFocusedSuggestion=Y._y.HasFocusedSuggestion.bindTo(ie),this._disposables.add(ae.mu(this._details.widget.domNode,"keydown",Jt=>{this._onDetailsKeydown.fire(Jt)})),this._disposables.add(this.editor.onMouseDown(Jt=>this._onEditorMouseDown(Jt)))}dispose(){var fe;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(fe=this._loadingTimeout)===null||fe===void 0||fe.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(fe){this._details.widget.domNode.contains(fe.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(fe.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(fe){typeof fe.element=="undefined"||typeof fe.index=="undefined"||(fe.browserEvent.preventDefault(),fe.browserEvent.stopPropagation(),this._select(fe.element,fe.index))}_onListSelection(fe){fe.elements.length&&this._select(fe.elements[0],fe.indexes[0])}_select(fe,De){const ie=this._completionModel;ie&&(this._onDidSelect.fire({item:fe,index:De,model:ie}),this.editor.focus())}_onThemeChange(fe){this._details.widget.borderWidth=(0,mt.c3)(fe.type)?2:1}_onListFocus(fe){var De;if(this._ignoreFocusEvents)return;if(!fe.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const ie=fe.elements[0],Ie=fe.indexes[0];ie!==this._focusedItem&&((De=this._currentSuggestionDetails)===null||De===void 0||De.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=ie,this._list.reveal(Ie),this._currentSuggestionDetails=(0,g.PG)(We=>st(this,void 0,void 0,function*(){const nt=(0,g.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),lt=We.onCancellationRequested(()=>nt.dispose()),Pt=yield ie.resolve(We);return nt.dispose(),lt.dispose(),Pt})),this._currentSuggestionDetails.then(()=>{Ie>=this._list.length||ie!==this._list.element(Ie)||(this._ignoreFocusEvents=!0,this._list.splice(Ie,1,[ie]),this._list.setFocus([Ie]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:At(Ie)}))}).catch(S.dL)),this._onDidFocus.fire({item:ie,index:Ie,model:this._completionModel})}_setState(fe){if(this._state!==fe)switch(this._state=fe,this.element.domNode.classList.toggle("frozen",fe===4),this.element.domNode.classList.remove("message"),fe){case 0:ae.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Td.LOADING_MESSAGE,ae.Cp(this._listElement,this._status.element),ae.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Td.NO_SUGGESTIONS_MESSAGE,ae.Cp(this._listElement,this._status.element),ae.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:ae.Cp(this._messageElement),ae.$Z(this._listElement,this._status.element),this._show();break;case 4:ae.Cp(this._messageElement),ae.$Z(this._listElement,this._status.element),this._show();break;case 5:ae.Cp(this._messageElement),ae.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(fe,De){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!fe,this._isAuto||(this._loadingTimeout=(0,g.Vg)(()=>this._setState(1),De)))}showSuggestions(fe,De,ie,Ie,We){var nt,lt;if(this._contentWidget.setPosition(this.editor.getPosition()),(nt=this._loadingTimeout)===null||nt===void 0||nt.dispose(),(lt=this._currentSuggestionDetails)===null||lt===void 0||lt.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==fe&&(this._completionModel=fe),ie&&this._state!==2&&this._state!==0){this._setState(4);return}const Pt=this._completionModel.items.length,$t=Pt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Pt>1),$t){this._setState(Ie?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(ie?4:3),this._list.reveal(De,0),this._list.setFocus(We?[]:[De])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=ae.lI(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(jt(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(fe){this._pendingShowDetails.value=ae.lI(()=>{this._pendingShowDetails.clear(),this._details.show(),fe?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var fe;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(fe=this._loadingTimeout)===null||fe===void 0||fe.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const De=this._persistedSize.restore(),ie=Math.ceil(this.getLayoutInfo().itemHeight*4.3);De&&De.height<ie&&this._persistedSize.store(De.with(void 0,ie))}isFrozen(){return this._state===4}_afterRender(fe){if(fe===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(fe){var De,ie,Ie;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const We=ae.D6(document.body),nt=this.getLayoutInfo();fe||(fe=nt.defaultSize);let lt=fe.height,Pt=fe.width;if(this._status.element.style.height=`${nt.itemHeight}px`,this._state===2||this._state===1)lt=nt.itemHeight+nt.borderHeight,Pt=nt.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ae.Ro(Pt,lt),this._contentWidget.setPreference(2);else{const $t=We.width-nt.borderHeight-2*nt.horizontalPadding;Pt>$t&&(Pt=$t);const ti=this._completionModel?this._completionModel.stats.pLabelLen*nt.typicalHalfwidthCharacterWidth:Pt,Qt=nt.statusBarHeight+this._list.contentHeight+nt.borderHeight,Jt=nt.itemHeight+nt.statusBarHeight,di=ae.i(this.editor.getDomNode()),Ci=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),gi=di.top+Ci.top+Ci.height,Ei=Math.min(We.height-gi-nt.verticalPadding,Qt),Pi=di.top+Ci.top-nt.verticalPadding,tn=Math.min(Pi,Qt);let an=Math.min(Math.max(tn,Ei)+nt.borderHeight,Qt);lt===((De=this._cappedHeight)===null||De===void 0?void 0:De.capped)&&(lt=this._cappedHeight.wanted),lt<Jt&&(lt=Jt),lt>an&&(lt=an);const nn=150;lt>Ei||this._forceRenderingAbove&&Pi>nn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),an=tn):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),an=Ei),this.element.preferredSize=new ae.Ro(ti,nt.defaultSize.height),this.element.maxSize=new ae.Ro($t,an),this.element.minSize=new ae.Ro(220,Jt),this._cappedHeight=lt===Qt?{wanted:(Ie=(ie=this._cappedHeight)===null||ie===void 0?void 0:ie.wanted)!==null&&Ie!==void 0?Ie:fe.height,capped:lt}:void 0}this._resize(Pt,lt)}_resize(fe,De){const{width:ie,height:Ie}=this.element.maxSize;fe=Math.min(ie,fe),De=Math.min(Ie,De);const{statusBarHeight:We}=this.getLayoutInfo();this._list.layout(De-We,fe),this._listElement.style.height=`${De-We}px`,this.element.layout(De,fe),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var fe;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((fe=this._contentWidget.getPosition())===null||fe===void 0?void 0:fe.preference[0])===2)}getLayoutInfo(){const fe=this.editor.getOption(47),De=(0,ct.uZ)(this.editor.getOption(114)||fe.lineHeight,8,1e3),ie=!this.editor.getOption(112).showStatusBar||this._state===2||this._state===1?0:De,Ie=this._details.widget.borderWidth,We=2*Ie;return{itemHeight:De,statusBarHeight:ie,borderWidth:Ie,borderHeight:We,typicalHalfwidthCharacterWidth:fe.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ae.Ro(430,ie+12*De+We)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(fe){this._storageService.store("expandSuggestionDocs",fe,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Gt.LOADING_MESSAGE=M.NC("suggestWidget.loading","Loading..."),Gt.NO_SUGGESTIONS_MESSAGE=M.NC("suggestWidget.noSuggestions","No suggestions."),Gt=Ae([Ge(1,Oe.Uy),Ge(2,E.i6),Ge(3,bt.XE),Ge(4,z.TG)],Gt);class ai{constructor(fe,De){this._widget=fe,this._editor=De,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:fe,width:De}=this._widget.element.size,{borderWidth:ie,horizontalPadding:Ie}=this._widget.getLayoutInfo();return new ae.Ro(De+2*ie+Ie,fe+2*ie)}afterRender(fe){this._widget._afterRender(fe)}setPreference(fe){this._preferenceLocked||(this._preference=fe)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(fe){this._position=fe}}var Si=i(41397),hi=function(Ht,fe,De,ie){var Ie=arguments.length,We=Ie<3?fe:ie===null?ie=Object.getOwnPropertyDescriptor(fe,De):ie,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(Ht,fe,De,ie);else for(var lt=Ht.length-1;lt>=0;lt--)(nt=Ht[lt])&&(We=(Ie<3?nt(We):Ie>3?nt(fe,De,We):nt(fe,De))||We);return Ie>3&&We&&Object.defineProperty(fe,De,We),We},Di=function(Ht,fe){return function(De,ie){fe(De,ie,Ht)}};const Ni=!1;class yi{constructor(fe,De){if(this._model=fe,this._position=De,fe.getLineMaxColumn(De.lineNumber)!==De.column){const Ie=fe.getOffsetAt(De),We=fe.getPositionAt(Ie+1);this._marker=fe.deltaDecorations([],[{range:m.e.fromPositions(De,We),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(fe){if(this._model.isDisposed()||this._position.lineNumber!==fe.lineNumber)return 0;if(this._marker){const De=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(De.getStartPosition())-this._model.getOffsetAt(fe)}else return this._model.getLineMaxColumn(fe.lineNumber)-fe.column}}let Zi=class eu{static get(fe){return fe.getContribution(eu.ID)}constructor(fe,De,ie,Ie,We,nt,lt){this._memoryService=De,this._commandService=ie,this._contextKeyService=Ie,this._instantiationService=We,this._logService=nt,this._telemetryService=lt,this._lineSuffix=new x.XK,this._toDispose=new x.SL,this._selectors=new Ri(Qt=>Qt.priority),this._telemetryGate=0,this.editor=fe,this.model=We.createInstance(J,this.editor),this._selectors.register({priority:0,select:(Qt,Jt,di)=>this._memoryService.select(Qt,Jt,di)});const Pt=Y._y.InsertMode.bindTo(Ie);Pt.set(fe.getOption(112).insertMode),this.model.onDidTrigger(()=>Pt.set(fe.getOption(112).insertMode)),this.widget=this._toDispose.add(new g.Ue(()=>{const Qt=this._instantiationService.createInstance(Gt,this.editor);this._toDispose.add(Qt),this._toDispose.add(Qt.onDidSelect(Ei=>this._insertSuggestion(Ei,0),this));const Jt=new U(this.editor,Qt,this.model,Ei=>this._insertSuggestion(Ei,2));this._toDispose.add(Jt);const di=Y._y.MakesTextEdit.bindTo(this._contextKeyService),Ci=Y._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),gi=Y._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,x.OF)(()=>{di.reset(),Ci.reset(),gi.reset()})),this._toDispose.add(Qt.onDidFocus(({item:Ei})=>{const Pi=this.editor.getPosition(),tn=Ei.editStart.column,an=Pi.column;let nn=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Ei.completion.additionalTextEdits&&!(Ei.completion.insertTextRules&4)&&an-tn===Ei.completion.insertText.length&&(nn=this.editor.getModel().getValueInRange({startLineNumber:Pi.lineNumber,startColumn:tn,endLineNumber:Pi.lineNumber,endColumn:an})!==Ei.completion.insertText),di.set(nn),Ci.set(!r.L.equals(Ei.editInsertEnd,Ei.editReplaceEnd)),gi.set(Boolean(Ei.provider.resolveCompletionItem)||Boolean(Ei.completion.documentation)||Ei.completion.detail!==Ei.completion.label)})),this._toDispose.add(Qt.onDetailsKeyDown(Ei=>{if(Ei.toKeyCodeChord().equals(new N.$M(!0,!1,!1,!1,33))||O.dz&&Ei.toKeyCodeChord().equals(new N.$M(!1,!1,!1,!0,33))){Ei.stopPropagation();return}Ei.toKeyCodeChord().isModifierKey()||this.editor.focus()})),Qt})),this._overtypingCapturer=this._toDispose.add(new g.Ue(()=>this._toDispose.add(new ne(this.editor,this.model)))),this._alternatives=this._toDispose.add(new g.Ue(()=>this._toDispose.add(new X(this.editor,this._contextKeyService)))),this._toDispose.add(We.createInstance(I,fe)),this._toDispose.add(this.model.onDidTrigger(Qt=>{this.widget.value.showTriggered(Qt.auto,Qt.shy?250:50),this._lineSuffix.value=new yi(this.editor.getModel(),Qt.position)})),this._toDispose.add(this.model.onDidSuggest(Qt=>{var Jt;if(Qt.triggerOptions.shy)return;let di=-1;for(const gi of this._selectors.itemsOrderedByPriorityDesc)if(di=gi.select(this.editor.getModel(),this.editor.getPosition(),Qt.completionModel.items),di!==-1)break;di===-1&&(di=0);let Ci=!1;if(Qt.triggerOptions.auto){const gi=this.editor.getOption(112);gi.snippetsPreventQuickSuggestions&&(!((Jt=u.SnippetController2.get(this.editor))===null||Jt===void 0)&&Jt.isInSnippet())?Ci=!0:gi.selectionMode==="never"||gi.selectionMode==="always"?Ci=gi.selectionMode==="never":gi.selectionMode==="whenTriggerCharacter"?Ci=Qt.triggerOptions.triggerKind!==1:gi.selectionMode==="whenQuickSuggestion"&&(Ci=Qt.triggerOptions.triggerKind===1&&!Qt.triggerOptions.refilter)}this.widget.value.showSuggestions(Qt.completionModel,di,Qt.isFrozen,Qt.triggerOptions.auto,Ci)})),this._toDispose.add(this.model.onDidCancel(Qt=>{Qt.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Ni||(this.model.cancel(),this.model.clear())}));const $t=Y._y.AcceptSuggestionsOnEnter.bindTo(Ie),ti=()=>{const Qt=this.editor.getOption(1);$t.set(Qt==="on"||Qt==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ti())),ti()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(fe,De){if(!fe||!fe.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const ie=u.SnippetController2.get(this.editor);if(!ie)return;const Ie=this.editor.getModel(),We=Ie.getAlternativeVersionId(),{item:nt}=fe,lt=[],Pt=new A.A;De&1||this.editor.pushUndoStop();const $t=this.getOverwriteInfo(nt,Boolean(De&8));if(this._memoryService.memorize(Ie,this.editor.getPosition(),nt),Array.isArray(nt.completion.additionalTextEdits)){const Qt=d.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",nt.completion.additionalTextEdits.map(Jt=>s.h.replaceMove(m.e.lift(Jt.range),Jt.text))),Qt.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!nt.isResolved){const Qt=new p.G(!0);let Jt;const di=Ie.onDidChangeContent(Pi=>{if(Pi.isFlush){Pt.cancel(),di.dispose();return}for(const tn of Pi.changes){const an=m.e.getEndPosition(tn.range);(!Jt||r.L.isBefore(an,Jt))&&(Jt=an)}}),Ci=De;De|=2;let gi=!1;const Ei=this.editor.onWillType(()=>{Ei.dispose(),gi=!0,Ci&2||this.editor.pushUndoStop()});lt.push(nt.resolve(Pt.token).then(()=>{if(!nt.completion.additionalTextEdits||Pt.token.isCancellationRequested||Jt&&nt.completion.additionalTextEdits.some(tn=>r.L.isBefore(Jt,m.e.getStartPosition(tn.range))))return!1;gi&&this.editor.pushUndoStop();const Pi=d.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",nt.completion.additionalTextEdits.map(tn=>s.h.replaceMove(m.e.lift(tn.range),tn.text))),Pi.restoreRelativeVerticalPositionOfCursor(this.editor),(gi||!(Ci&2))&&this.editor.pushUndoStop(),!0}).then(Pi=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Qt.elapsed(),Pi),di.dispose(),Ei.dispose()}))}let{insertText:ti}=nt.completion;nt.completion.insertTextRules&4||(ti=_.Yj.escape(ti)),this.model.cancel(),ie.insert(ti,{overwriteBefore:$t.overwriteBefore,overwriteAfter:$t.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(nt.completion.insertTextRules&1),clipboardText:fe.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),De&2||this.editor.pushUndoStop(),nt.completion.command&&(nt.completion.command.id===Dn.id?this.model.trigger({auto:!0,retrigger:!0}):lt.push(this._commandService.executeCommand(nt.completion.command.id,...nt.completion.command.arguments?[...nt.completion.command.arguments]:[]).catch(S.dL))),De&4&&this._alternatives.value.set(fe,Qt=>{for(Pt.cancel();Ie.canUndo();){We!==Ie.getAlternativeVersionId()&&Ie.undo(),this._insertSuggestion(Qt,3|(De&8?8:0));break}}),this._alertCompletionItem(nt),Promise.all(lt).finally(()=>{this._reportSuggestionAcceptedTelemetry(nt,Ie,fe),this.model.clear(),Pt.dispose()})}_reportSuggestionAcceptedTelemetry(fe,De,ie){var Ie;if(this._telemetryGate++%100!==0)return;const We=fe.extensionId?fe.extensionId.value:((Ie=ie.item.provider._debugDisplayName)!==null&&Ie!==void 0?Ie:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:We,kind:fe.completion.kind,basenameHash:(0,Si.vp)((0,Ui.EZ)(De.uri)).toString(16),languageId:De.getLanguageId(),fileExtension:(0,Ui.DZ)(De.uri)})}getOverwriteInfo(fe,De){(0,a.p_)(this.editor.hasModel());let ie=this.editor.getOption(112).insertMode==="replace";De&&(ie=!ie);const Ie=fe.position.column-fe.editStart.column,We=(ie?fe.editReplaceEnd.column:fe.editInsertEnd.column)-fe.position.column,nt=this.editor.getPosition().column-fe.position.column,lt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Ie+nt,overwriteAfter:We+lt}}_alertCompletionItem(fe){if((0,F.Of)(fe.completion.additionalTextEdits)){const De=M.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",fe.textLabel,fe.completion.additionalTextEdits.length);(0,c.Z9)(De)}}triggerSuggest(fe,De,ie){this.editor.hasModel()&&(this.model.trigger({auto:De!=null?De:!1,completionOptions:{providerFilter:fe,kindFilter:ie?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(fe){if(!this.editor.hasModel())return;const De=this.editor.getPosition(),ie=()=>{De.equals(this.editor.getPosition())&&this._commandService.executeCommand(fe.fallback)},Ie=We=>{if(We.completion.insertTextRules&4||We.completion.additionalTextEdits)return!0;const nt=this.editor.getPosition(),lt=We.editStart.column,Pt=nt.column;return Pt-lt!==We.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:nt.lineNumber,startColumn:lt,endLineNumber:nt.lineNumber,endColumn:Pt})!==We.completion.insertText};$.ju.once(this.model.onDidTrigger)(We=>{const nt=[];$.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,x.B9)(nt),ie()},void 0,nt),this.model.onDidSuggest(({completionModel:lt})=>{if((0,x.B9)(nt),lt.items.length===0){ie();return}const Pt=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),lt.items),$t=lt.items[Pt];if(!Ie($t)){ie();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Pt,item:$t,model:lt},7)},void 0,nt)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(De,0),this.editor.focus()}acceptSelectedSuggestion(fe,De){const ie=this.widget.value.getFocusedItem();let Ie=0;fe&&(Ie|=4),De&&(Ie|=8),this._insertSuggestion(ie,Ie)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(fe){return this._selectors.register(fe)}};Zi.ID="editor.contrib.suggestController",Zi=hi([Di(1,b.Fh),Di(2,K.H),Di(3,E.i6),Di(4,z.TG),Di(5,Q.VZ),Di(6,ye.b)],Zi);class Ri{constructor(fe){this.prioritySelector=fe,this._items=new Array}register(fe){if(this._items.indexOf(fe)!==-1)throw new Error("Value is already registered");return this._items.push(fe),this._items.sort((De,ie)=>this.prioritySelector(ie)-this.prioritySelector(De)),{dispose:()=>{const De=this._items.indexOf(fe);De>=0&&this._items.splice(De,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Dn extends f.R6{constructor(){super({id:Dn.id,label:M.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:E.Ao.and(C.u.writable,C.u.hasCompletionItemProvider,Y._y.Visible.toNegated()),kbOpts:{kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(fe,De,ie){const Ie=Zi.get(De);if(!Ie)return;let We;ie&&typeof ie=="object"&&ie.auto===!0&&(We=!0),Ie.triggerSuggest(void 0,We,void 0)}}Dn.id="editor.action.triggerSuggest",(0,f._K)(Zi.ID,Zi,2),(0,f.Qr)(Dn);const Bi=100+90,ln=f._l.bindToContribution(Zi.get);(0,f.fK)(new ln({id:"acceptSelectedSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler(Ht){Ht.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:E.Ao.and(Y._y.Visible,C.u.textInputFocus),weight:Bi},{primary:3,kbExpr:E.Ao.and(Y._y.Visible,C.u.textInputFocus,Y._y.AcceptSuggestionsOnEnter,Y._y.MakesTextEdit),weight:Bi}],menuOpts:[{menuId:Y.GI,title:M.NC("accept.insert","Insert"),group:"left",order:1,when:Y._y.HasInsertAndReplaceRange.toNegated()},{menuId:Y.GI,title:M.NC("accept.insert","Insert"),group:"left",order:1,when:E.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert"))},{menuId:Y.GI,title:M.NC("accept.replace","Replace"),group:"left",order:1,when:E.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace"))}]})),(0,f.fK)(new ln({id:"acceptAlternativeSelectedSuggestion",precondition:E.Ao.and(Y._y.Visible,C.u.textInputFocus,Y._y.HasFocusedSuggestion),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:1027,secondary:[1026]},handler(Ht){Ht.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Y.GI,group:"left",order:2,when:E.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("insert")),title:M.NC("accept.replace","Replace")},{menuId:Y.GI,group:"left",order:2,when:E.Ao.and(Y._y.HasInsertAndReplaceRange,Y._y.InsertMode.isEqualTo("replace")),title:M.NC("accept.insert","Insert")}]})),K.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,f.fK)(new ln({id:"hideSuggestWidget",precondition:Y._y.Visible,handler:Ht=>Ht.cancelSuggestWidget(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:9,secondary:[1033]}})),(0,f.fK)(new ln({id:"selectNextSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectNextSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,f.fK)(new ln({id:"selectNextPageSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectNextPageSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:12,secondary:[2060]}})),(0,f.fK)(new ln({id:"selectLastSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectLastSuggestion()})),(0,f.fK)(new ln({id:"selectPrevSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectPrevSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,f.fK)(new ln({id:"selectPrevPageSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectPrevPageSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:11,secondary:[2059]}})),(0,f.fK)(new ln({id:"selectFirstSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.MultipleSuggestions),handler:Ht=>Ht.selectFirstSuggestion()})),(0,f.fK)(new ln({id:"focusSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:Ht=>Ht.focusSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,f.fK)(new ln({id:"focusAndAcceptSuggestion",precondition:E.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion.negate()),handler:Ht=>{Ht.focusSuggestion(),Ht.acceptSelectedSuggestion(!0,!1)}})),(0,f.fK)(new ln({id:"toggleSuggestionDetails",precondition:E.Ao.and(Y._y.Visible,Y._y.HasFocusedSuggestion),handler:Ht=>Ht.toggleSuggestionDetails(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Y.GI,group:"right",order:1,when:E.Ao.and(Y._y.DetailsVisible,Y._y.CanResolve),title:M.NC("detail.more","show less")},{menuId:Y.GI,group:"right",order:1,when:E.Ao.and(Y._y.DetailsVisible.toNegated(),Y._y.CanResolve),title:M.NC("detail.less","show more")}]})),(0,f.fK)(new ln({id:"toggleExplainMode",precondition:Y._y.Visible,handler:Ht=>Ht.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,f.fK)(new ln({id:"toggleSuggestionFocus",precondition:Y._y.Visible,handler:Ht=>Ht.toggleSuggestionFocus(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,f.fK)(new ln({id:"insertBestCompletion",precondition:E.Ao.and(C.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),I.AtEnd,Y._y.Visible.toNegated(),X.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(Ht,fe)=>{Ht.triggerSuggestAndAcceptBest((0,a.Kn)(fe)?Object.assign({fallback:"tab"},fe):{fallback:"tab"})},kbOpts:{weight:Bi,primary:2}})),(0,f.fK)(new ln({id:"insertNextSuggestion",precondition:E.Ao.and(C.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),X.OtherSuggestions,Y._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:Ht=>Ht.acceptNextSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:2}})),(0,f.fK)(new ln({id:"insertPrevSuggestion",precondition:E.Ao.and(C.u.textInputFocus,E.Ao.equals("config.editor.tabCompletion","on"),X.OtherSuggestions,Y._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:Ht=>Ht.acceptPrevSuggestion(),kbOpts:{weight:Bi,kbExpr:C.u.textInputFocus,primary:1026}})),(0,f.Qr)(class extends f.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:M.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Ht,fe){var De;(De=Zi.get(fe))===null||De===void 0||De.resetWidgetSize()}})},47740:function(vt,be,i){"use strict";i.r(be),i.d(be,{SuggestInlineCompletions:function(){return E}});var c=i(19713),F=i(61842),g=i(62841),A=i(52357),S=i(98981),$=i(76356),N=i(22445),x=i(26340),O=i(42782),p=i(72449),a=i(88399),d=i(89724),f=i(79252),s=i(52167),r=i(64700),m=function(w,I,M,K){var z=arguments.length,Q=z<3?I:K===null?K=Object.getOwnPropertyDescriptor(I,M):K,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(w,I,M,K);else for(var H=w.length-1;H>=0;H--)(Y=w[H])&&(Q=(z<3?Y(Q):z>3?Y(I,M,Q):Y(I,M))||Q);return z>3&&Q&&Object.defineProperty(I,M,Q),Q},C=function(w,I){return function(M,K){I(M,K,w)}},u=function(w,I,M,K){function z(Q){return Q instanceof M?Q:new M(function(Y){Y(Q)})}return new(M||(M=Promise))(function(Q,Y){function H(q){try{X(K.next(q))}catch(U){Y(U)}}function P(q){try{X(K.throw(q))}catch(U){Y(U)}}function X(q){q.done?Q(q.value):z(q.value).then(H,P)}X((K=K.apply(w,I||[])).next())})};class _{constructor(I,M,K,z,Q,Y){this.range=I,this.insertText=M,this.filterText=K,this.additionalTextEdits=z,this.command=Q,this.completion=Y}}let b=class extends A.L6{constructor(I,M,K,z,Q,Y){super(Q.disposable),this.model=I,this.line=M,this.word=K,this.completionModel=z,this._suggestMemoryService=Y}canBeReused(I,M,K){return this.model===I&&this.line===M&&this.word.word.length>0&&this.word.startColumn===K.startColumn&&this.word.endColumn<K.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var I;const M=[],{items:K}=this.completionModel,z=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},K),Q=g.$.slice(K,z),Y=g.$.slice(K,0,z);let H=5;for(const P of g.$.concat(Q,Y)){if(P.score===F.CL.Default)continue;const X=new N.e(P.editStart.lineNumber,P.editStart.column,P.editInsertEnd.lineNumber,P.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),q=P.completion.insertTextRules&&P.completion.insertTextRules&O.a7.InsertAsSnippet?{snippet:P.completion.insertText}:P.completion.insertText;M.push(new _(X,q,(I=P.filterTextLow)!==null&&I!==void 0?I:P.labelLow,P.completion.additionalTextEdits,P.completion.command,P)),H-->=0&&P.resolve(c.T.None)}return M}};b=m([C(5,d.Fh)],b);let E=class{constructor(I,M,K,z){this._getEditorOption=I,this._languageFeatureService=M,this._clipboardService=K,this._suggestMemoryService=z}provideInlineCompletions(I,M,K,z){var Q;return u(this,void 0,void 0,function*(){if(K.selectedSuggestionInfo)return;const Y=this._getEditorOption(84,I);if(a.tG.isAllOff(Y))return;I.tokenization.tokenizeIfCheap(M.lineNumber);const H=I.tokenization.getLineTokens(M.lineNumber),P=H.getStandardTokenType(H.findTokenIndexAtOffset(Math.max(M.column-1-1,0)));if(a.tG.valueFor(Y,P)!=="inline")return;let X=I.getWordAtPosition(M),q;if(X!=null&&X.word||(q=this._getTriggerCharacterInfo(I,M)),!(X!=null&&X.word)&&!q||(X||(X=I.getWordUntilPosition(M)),X.endColumn!==M.column))return;let U;const L=I.getValueInRange(new N.e(M.lineNumber,1,M.lineNumber,M.column));if(!q&&(!((Q=this._lastResult)===null||Q===void 0)&&Q.canBeReused(I,M.lineNumber,X))){const B=new p.t(L,M.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=B,this._lastResult.acquire(),U=this._lastResult}else{const B=yield(0,a.kL)(this._languageFeatureService.completionProvider,I,M,new a.A9(void 0,void 0,q==null?void 0:q.providers),q&&{triggerKind:1,triggerCharacter:q.ch},z);let j;B.needsClipboard&&(j=yield this._clipboardService.readText());const G=new p._(B.items,M.column,new p.t(L,0),f.K.None,this._getEditorOption(112,I),this._getEditorOption(106,I),{boostFullMatch:!1,firstMatchCanBeWeak:!1},j);U=new b(I,M.lineNumber,X,G,B,this._suggestMemoryService)}return this._lastResult=U,U})}handleItemDidShow(I,M){M.completion.resolve(c.T.None)}freeInlineCompletions(I){I.release()}_getTriggerCharacterInfo(I,M){var K;const z=I.getValueInRange(N.e.fromPositions({lineNumber:M.lineNumber,column:M.column-1},M)),Q=new Set;for(const Y of this._languageFeatureService.completionProvider.all(I))!((K=Y.triggerCharacters)===null||K===void 0)&&K.includes(z)&&Q.add(Y);if(Q.size!==0)return{providers:Q,ch:z}}};E=m([C(1,x.p),C(2,s.p),C(3,d.Fh)],E);let D=class Pr{constructor(I,M,K,z){if(++Pr._counter===1){const Q=z.createInstance(E,(Y,H)=>{var P;return((P=K.listCodeEditors().find(q=>q.getModel()===H))!==null&&P!==void 0?P:I).getOption(Y)});Pr._disposable=M.inlineCompletionsProvider.register("*",Q)}}dispose(){var I;--Pr._counter===0&&((I=Pr._disposable)===null||I===void 0||I.dispose(),Pr._disposable=void 0)}};D._counter=0,D=m([C(1,x.p),C(2,$.$),C(3,r.TG)],D),(0,S._K)("suggest.inlineCompletionsProvider",D,0)},89724:function(vt,be,i){"use strict";i.d(be,{Fh:function(){return C}});var c=i(39460),F=i(52357),g=i(15463),A=i(71818),S=i(33686),$=i(64464),N=i(70751),x=i(64700),O=i(47955),p=function(u,_,b,E){var D=arguments.length,w=D<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,b):E,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,_,b,E);else for(var M=u.length-1;M>=0;M--)(I=u[M])&&(w=(D<3?I(w):D>3?I(_,b,w):I(_,b))||w);return D>3&&w&&Object.defineProperty(_,b,w),w},a=function(u,_){return function(b,E){_(b,E,u)}};class d{constructor(_){this.name=_}select(_,b,E){if(E.length===0)return 0;const D=E[0].score[0];for(let w=0;w<E.length;w++){const{score:I,completion:M}=E[w];if(I[0]!==D)break;if(M.preselect)return w}return 0}}class f extends d{constructor(){super("first")}memorize(_,b,E){}toJSON(){}fromJSON(){}}class s extends d{constructor(){super("recentlyUsed"),this._cache=new g.z6(300,.66),this._seq=0}memorize(_,b,E){const D=`${_.getLanguageId()}/${E.textLabel}`;this._cache.set(D,{touch:this._seq++,type:E.completion.kind,insertText:E.completion.insertText})}select(_,b,E){if(E.length===0)return 0;const D=_.getLineContent(b.lineNumber).substr(b.column-10,b.column-1);if(/\s$/.test(D))return super.select(_,b,E);const w=E[0].score[0];let I=-1,M=-1,K=-1;for(let z=0;z<E.length&&E[z].score[0]===w;z++){const Q=`${_.getLanguageId()}/${E[z].textLabel}`,Y=this._cache.peek(Q);if(Y&&Y.touch>K&&Y.type===E[z].completion.kind&&Y.insertText===E[z].completion.insertText&&(K=Y.touch,M=z),E[z].completion.preselect&&I===-1)return I=z}return M!==-1?M:I!==-1?I:0}toJSON(){return this._cache.toJSON()}fromJSON(_){this._cache.clear();const b=0;for(const[E,D]of _)D.touch=b,D.type=typeof D.type=="number"?D.type:S.gX.fromString(D.type),this._cache.set(E,D);this._seq=this._cache.size}}class r extends d{constructor(){super("recentlyUsedByPrefix"),this._trie=A.Id.forStrings(),this._seq=0}memorize(_,b,E){const{word:D}=_.getWordUntilPosition(b),w=`${_.getLanguageId()}/${D}`;this._trie.set(w,{type:E.completion.kind,insertText:E.completion.insertText,touch:this._seq++})}select(_,b,E){const{word:D}=_.getWordUntilPosition(b);if(!D)return super.select(_,b,E);const w=`${_.getLanguageId()}/${D}`;let I=this._trie.get(w);if(I||(I=this._trie.findSubstr(w)),I)for(let M=0;M<E.length;M++){const{kind:K,insertText:z}=E[M].completion;if(K===I.type&&z===I.insertText)return M}return super.select(_,b,E)}toJSON(){const _=[];return this._trie.forEach((b,E)=>_.push([E,b])),_.sort((b,E)=>-(b[1].touch-E[1].touch)).forEach((b,E)=>b[1].touch=E),_.slice(0,200)}fromJSON(_){if(this._trie.clear(),_.length>0){this._seq=_[0][1].touch+1;for(const[b,E]of _)E.type=typeof E.type=="number"?E.type:S.gX.fromString(E.type),this._trie.set(b,E)}}}let m=class nl{constructor(_,b){this._storageService=_,this._configService=b,this._disposables=new F.SL,this._persistSoon=new c.pY(()=>this._saveState(),500),this._disposables.add(_.onWillSaveState(E=>{E.reason===O.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(_,b,E){this._withStrategy(_,b).memorize(_,b,E),this._persistSoon.schedule()}select(_,b,E){return this._withStrategy(_,b).select(_,b,E)}_withStrategy(_,b){var E;const D=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:_.getLanguageIdAtPosition(b.lineNumber,b.column),resource:_.uri});if(((E=this._strategy)===null||E===void 0?void 0:E.name)!==D){this._saveState();const w=nl._strategyCtors.get(D)||f;this._strategy=new w;try{const M=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,K=this._storageService.get(`${nl._storagePrefix}/${D}`,M);K&&this._strategy.fromJSON(JSON.parse(K))}catch(I){}}return this._strategy}_saveState(){if(this._strategy){const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,E=JSON.stringify(this._strategy);this._storageService.store(`${nl._storagePrefix}/${this._strategy.name}`,E,b,1)}}};m._strategyCtors=new Map([["recentlyUsedByPrefix",r],["recentlyUsed",s],["first",f]]),m._storagePrefix="suggest/memories",m=p([a(0,O.Uy),a(1,$.Ui)],m);const C=(0,x.yh)("ISuggestMemories");(0,N.z)(C,m,1)},79252:function(vt,be,i){"use strict";i.d(be,{K:function(){return S}});var c=i(16842),F=i(22445),g=i(91016),A=function($,N,x,O){function p(a){return a instanceof x?a:new x(function(d){d(a)})}return new(x||(x=Promise))(function(a,d){function f(m){try{r(O.next(m))}catch(C){d(C)}}function s(m){try{r(O.throw(m))}catch(C){d(C)}}function r(m){m.done?a(m.value):p(m.value).then(f,s)}r((O=O.apply($,N||[])).next())})};class S{static create(N,x){return A(this,void 0,void 0,function*(){if(!x.getOption(112).localityBonus||!x.hasModel())return S.None;const O=x.getModel(),p=x.getPosition();if(!N.canComputeWordRanges(O.uri))return S.None;const[a]=yield new g.x().provideSelectionRanges(O,[p]);if(a.length===0)return S.None;const d=yield N.computeWordRanges(O.uri,a[0].range);if(!d)return S.None;const f=O.getWordUntilPosition(p);return delete d[f.word],new class extends S{distance(s,r){if(!p.equals(x.getPosition()))return 0;if(r.kind===17)return 2<<20;const m=typeof r.label=="string"?r.label:r.label.label,C=d[m];if((0,c.XY)(C))return 2<<20;const u=(0,c.ry)(C,F.e.fromPositions(s),F.e.compareRangesUsingStarts),_=u>=0?C[u]:C[Math.max(0,~u-1)];let b=a.length;for(const E of a){if(!F.e.containsRange(E.range,_))break;b-=1}return b}}})}}S.None=new class extends S{distance(){return 0}}},96584:function(vt,be,i){"use strict";var c=i(15779),F=i(78382);const g=(0,F.P6G)("symbolIcon.arrayForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,F.P6G)("symbolIcon.booleanForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,F.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,c.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,F.P6G)("symbolIcon.colorForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,F.P6G)("symbolIcon.constantForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,F.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,c.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,F.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,c.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,F.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,c.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,F.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,c.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,F.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,c.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,F.P6G)("symbolIcon.fileForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s=(0,F.P6G)("symbolIcon.folderForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r=(0,F.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,c.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,F.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,c.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,F.P6G)("symbolIcon.keyForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,F.P6G)("symbolIcon.keywordForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,F.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,c.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,F.P6G)("symbolIcon.moduleForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,F.P6G)("symbolIcon.namespaceForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,F.P6G)("symbolIcon.nullForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,F.P6G)("symbolIcon.numberForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,F.P6G)("symbolIcon.objectForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,F.P6G)("symbolIcon.operatorForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,F.P6G)("symbolIcon.packageForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,F.P6G)("symbolIcon.propertyForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q=(0,F.P6G)("symbolIcon.referenceForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,F.P6G)("symbolIcon.snippetForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,F.P6G)("symbolIcon.stringForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,F.P6G)("symbolIcon.structForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X=(0,F.P6G)("symbolIcon.textForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,F.P6G)("symbolIcon.typeParameterForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,F.P6G)("symbolIcon.unitForeground",{dark:F.dRz,light:F.dRz,hcDark:F.dRz,hcLight:F.dRz},(0,c.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,F.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,c.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},71450:function(vt,be,i){"use strict";i.r(be),i.d(be,{ToggleTabFocusModeAction:function(){return $}});var c=i(26017),F=i(13760),g=i(15779),A=i(49597),S=i(23286);class $ extends A.Ke{constructor(){super({id:$.ID,title:{value:g.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(x){const O=x.get(S.i6).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",a=!F.n.getTabFocusMode(O);F.n.setTabFocusMode(a,O),a?(0,c.Z9)(g.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,c.Z9)(g.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}$.ID="editor.action.toggleTabFocusMode",(0,A.r1)($)},32391:function(vt,be,i){"use strict";i.r(be);var c=i(39589),F=i(98981),g=i(15779);class A extends F.R6{constructor(){super({id:"editor.action.forceRetokenize",label:g.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run($,N){if(!N.hasModel())return;const x=N.getModel();x.tokenization.resetTokenization();const O=new c.G(!0);x.tokenization.forceTokenization(x.getLineCount()),O.stop(),console.log(`tokenization took ${O.elapsed()}`)}}(0,F.Qr)(A)},18943:function(vt,be,i){"use strict";i.r(be),i.d(be,{DisableHighlightingInCommentsAction:function(){return ae},DisableHighlightingInStringsAction:function(){return xe},DisableHighlightingOfAmbiguousCharactersAction:function(){return Ke},DisableHighlightingOfInvisibleCharactersAction:function(){return ct},DisableHighlightingOfNonBasicAsciiCharactersAction:function(){return ot},ShowExcludeOptions:function(){return dt},UnicodeHighlighter:function(){return _e},UnicodeHighlighterHoverParticipant:function(){return Re},warningIcon:function(){return Se}});var c=i(39460),F=i(54195),g=i(69549),A=i(52357),S=i(41420),$=i(30613),N=i(98981),x=i(32052),O=i(73740),p=i(60267),a=i(6375),d=i(18426),f=i(41449),s=i(45820),r=i(26924),m=i(16563),C=i(38224),u=i(50453),_=i(32684),b=i(64700),E=i(25396),D=i(87415),w=i(92759),I=i(94162),M=i(20009),K=function(Te,ge,ve,we){var Oe=arguments.length,He=Oe<3?ge:we===null?we=Object.getOwnPropertyDescriptor(ge,ve):we,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(Te,ge,ve,we);else for(var bt=Te.length-1;bt>=0;bt--)(mt=Te[bt])&&(He=(Oe<3?mt(He):Oe>3?mt(ge,ve,He):mt(ge,ve))||He);return Oe>3&&He&&Object.defineProperty(ge,ve,He),He},z=function(Te,ge){return function(ve,we){ge(ve,we,Te)}};let Q=class extends A.JT{get enabled(){return this._enabled}set enabled(ge){ge?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=ge}constructor(ge,ve,we={},Oe){var He;super(),this._link=ve,this._enabled=!0,this.el=(0,m.R3)(ge,(0,m.$)("a.monaco-link",{tabIndex:(He=ve.tabIndex)!==null&&He!==void 0?He:0,href:ve.href,title:ve.title},ve.label)),this.el.setAttribute("role","button");const mt=this._register(new E.Y(this.el,"click")),bt=this._register(new E.Y(this.el,"keypress")),kt=I.ju.chain(bt.event).map(Dt=>new D.y(Dt)).filter(Dt=>Dt.keyCode===3).event,Ut=this._register(new E.Y(this.el,w.t.Tap)).event;this._register(w.o.addTarget(this.el));const ut=I.ju.any(mt.event,kt,Ut);this._register(ut(Dt=>{this.enabled&&(m.zB.stop(Dt,!0),we!=null&&we.opener?we.opener(this._link.href):Oe.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};Q=K([z(3,M.v4)],Q);var Y=i(88159),H=i(81189),P=function(Te,ge,ve,we){var Oe=arguments.length,He=Oe<3?ge:we===null?we=Object.getOwnPropertyDescriptor(ge,ve):we,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(Te,ge,ve,we);else for(var bt=Te.length-1;bt>=0;bt--)(mt=Te[bt])&&(He=(Oe<3?mt(He):Oe>3?mt(ge,ve,He):mt(ge,ve))||He);return Oe>3&&He&&Object.defineProperty(ge,ve,He),He},X=function(Te,ge){return function(ve,we){ge(ve,we,Te)}};const q=26;let U=class extends A.JT{constructor(ge,ve){super(),this._editor=ge,this.instantiationService=ve,this.banner=this._register(this.instantiationService.createInstance(L))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(ge){this.banner.show(Object.assign(Object.assign({},ge),{onClose:()=>{var ve;this.hide(),(ve=ge.onClose)===null||ve===void 0||ve.call(ge)}})),this._editor.setBanner(this.banner.element,q)}};U=P([X(1,b.TG)],U);let L=class extends A.JT{constructor(ge){super(),this.instantiationService=ge,this.markdownRenderer=this.instantiationService.createInstance(_.$,{}),this.element=(0,m.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(ge){if(ge.ariaLabel)return ge.ariaLabel;if(typeof ge.message=="string")return ge.message}getBannerMessage(ge){if(typeof ge=="string"){const ve=(0,m.$)("span");return ve.innerText=ge,ve}return this.markdownRenderer.render(ge).element}clear(){(0,m.PO)(this.element)}show(ge){(0,m.PO)(this.element);const ve=this.getAriaLabel(ge);ve&&this.element.setAttribute("aria-label",ve);const we=(0,m.R3)(this.element,(0,m.$)("div.icon-container"));we.setAttribute("aria-hidden","true"),ge.icon&&we.appendChild((0,m.$)(`div${H.k.asCSSSelector(ge.icon)}`));const Oe=(0,m.R3)(this.element,(0,m.$)("div.message-container"));if(Oe.setAttribute("aria-hidden","true"),Oe.appendChild(this.getBannerMessage(ge.message)),this.messageActionsContainer=(0,m.R3)(this.element,(0,m.$)("div.message-actions-container")),ge.actions)for(const mt of ge.actions)this._register(this.instantiationService.createInstance(Q,this.messageActionsContainer,Object.assign(Object.assign({},mt),{tabIndex:-1}),{}));const He=(0,m.R3)(this.element,(0,m.$)("div.action-container"));this.actionBar=this._register(new C.o(He)),this.actionBar.push(this._register(new u.aU("banner.close","Close Banner",H.k.asClassName(Y.s_),!0,()=>{typeof ge.onClose=="function"&&ge.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};L=P([X(0,b.TG)],L);var B=i(15779),j=i(64464),G=i(93611),y=i(6753),pe=function(Te,ge,ve,we){var Oe=arguments.length,He=Oe<3?ge:we===null?we=Object.getOwnPropertyDescriptor(ge,ve):we,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(Te,ge,ve,we);else for(var bt=Te.length-1;bt>=0;bt--)(mt=Te[bt])&&(He=(Oe<3?mt(He):Oe>3?mt(ge,ve,He):mt(ge,ve))||He);return Oe>3&&He&&Object.defineProperty(ge,ve,He),He},ye=function(Te,ge){return function(ve,we){ge(ve,we,Te)}},me=function(Te,ge,ve,we){function Oe(He){return He instanceof ve?He:new ve(function(mt){mt(He)})}return new(ve||(ve=Promise))(function(He,mt){function bt(ut){try{Ut(we.next(ut))}catch(Dt){mt(Dt)}}function kt(ut){try{Ut(we.throw(ut))}catch(Dt){mt(Dt)}}function Ut(ut){ut.done?He(ut.value):Oe(ut.value).then(bt,kt)}Ut((we=we.apply(Te,ge||[])).next())})};const Se=(0,Y.q5)("extensions-warning-message",F.l.warning,B.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let _e=class extends A.JT{constructor(ge,ve,we,Oe){super(),this._editor=ge,this._editorWorkerService=ve,this._workspaceTrustService=we,this._highlighter=null,this._bannerClosed=!1,this._updateState=He=>{if(He&&He.hasMore){if(this._bannerClosed)return;const mt=Math.max(He.ambiguousCharacterCount,He.nonBasicAsciiCharacterCount,He.invisibleCharacterCount);let bt;if(He.nonBasicAsciiCharacterCount>=mt)bt={message:B.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new ot};else if(He.ambiguousCharacterCount>=mt)bt={message:B.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Ke};else if(He.invisibleCharacterCount>=mt)bt={message:B.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new ct};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:bt.message,icon:Se,actions:[{label:bt.command.shortLabel,href:`command:${bt.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Oe.createInstance(U,ge)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ge.getOption(119),this._register(we.onDidChangeTrust(He=>{this._updateHighlighter()})),this._register(ge.onDidChangeConfiguration(He=>{He.hasChanged(119)&&(this._options=ge.getOption(119),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ge=he(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ge.nonBasicASCII,ge.ambiguousCharacters,ge.invisibleCharacters].every(we=>we===!1))return;const ve={nonBasicASCII:ge.nonBasicASCII,ambiguousCharacters:ge.ambiguousCharacters,invisibleCharacters:ge.invisibleCharacters,includeComments:ge.includeComments,includeStrings:ge.includeStrings,allowedCodePoints:Object.keys(ge.allowedCharacters).map(we=>we.codePointAt(0)),allowedLocales:Object.keys(ge.allowedLocales).map(we=>we==="_os"?new Intl.NumberFormat().resolvedOptions().locale:we==="_vscode"?S.dK:we)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new le(this._editor,ve,this._updateState,this._editorWorkerService):this._highlighter=new se(this._editor,ve,this._updateState)}getDecorationInfo(ge){return this._highlighter?this._highlighter.getDecorationInfo(ge):null}};_e.ID="editor.contrib.unicodeHighlighter",_e=pe([ye(1,a.p),ye(2,y.Y),ye(3,b.TG)],_e);function he(Te,ge){return{nonBasicASCII:ge.nonBasicASCII===x.Av?!Te:ge.nonBasicASCII,ambiguousCharacters:ge.ambiguousCharacters,invisibleCharacters:ge.invisibleCharacters,includeComments:ge.includeComments===x.Av?!Te:ge.includeComments,includeStrings:ge.includeStrings===x.Av?!Te:ge.includeStrings,allowedCharacters:ge.allowedCharacters,allowedLocales:ge.allowedLocales}}let le=class extends A.JT{constructor(ge,ve,we,Oe){super(),this._editor=ge,this._options=ve,this._updateState=we,this._editorWorkerService=Oe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new c.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ge=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ve=>{if(this._model.isDisposed()||this._model.getVersionId()!==ge)return;this._updateState(ve);const we=[];if(!ve.hasMore)for(const Oe of ve.ranges)we.push({range:Oe,options:ne.instance.getDecorationFromOptions(this._options)});this._decorations.set(we)})}getDecorationInfo(ge){if(!this._decorations.has(ge))return null;const ve=this._editor.getModel();if(!(0,f.Fd)(ve,ge))return null;const we=ve.getValueInRange(ge.range);return{reason:J(we,this._options),inComment:(0,f.$t)(ve,ge),inString:(0,f.zg)(ve,ge)}}};le=pe([ye(3,a.p)],le);class se extends A.JT{constructor(ge,ve,we){super(),this._editor=ge,this._options=ve,this._updateState=we,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new c.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ge=this._editor.getVisibleRanges(),ve=[],we={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Oe of ge){const He=p.a.computeUnicodeHighlights(this._model,this._options,Oe);for(const mt of He.ranges)we.ranges.push(mt);we.ambiguousCharacterCount+=we.ambiguousCharacterCount,we.invisibleCharacterCount+=we.invisibleCharacterCount,we.nonBasicAsciiCharacterCount+=we.nonBasicAsciiCharacterCount,we.hasMore=we.hasMore||He.hasMore}if(!we.hasMore)for(const Oe of we.ranges)ve.push({range:Oe,options:ne.instance.getDecorationFromOptions(this._options)});this._updateState(we),this._decorations.set(ve)}getDecorationInfo(ge){if(!this._decorations.has(ge))return null;const ve=this._editor.getModel(),we=ve.getValueInRange(ge.range);return(0,f.Fd)(ve,ge)?{reason:J(we,this._options),inComment:(0,f.$t)(ve,ge),inString:(0,f.zg)(ve,ge)}:null}}let Re=class{constructor(ge,ve,we){this._editor=ge,this._languageService=ve,this._openerService=we,this.hoverOrdinal=4}computeSync(ge,ve){if(!this._editor.hasModel()||ge.type!==1)return[];const we=this._editor.getModel(),Oe=this._editor.getContribution(_e.ID);if(!Oe)return[];const He=[];let mt=300;for(const bt of ve){const kt=Oe.getDecorationInfo(bt);if(!kt)continue;const ut=we.getValueInRange(bt.range).codePointAt(0),Dt=je(ut);let ft;switch(kt.reason.kind){case 0:ft=B.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",Dt,je(kt.reason.confusableWith.codePointAt(0)));break;case 1:ft=B.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",Dt);break;case 2:ft=B.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",Dt);break}const Ft={codePoint:ut,reason:kt.reason,inComment:kt.inComment,inString:kt.inString},Et=B.NC("unicodeHighlight.adjustSettings","Adjust settings"),Ze=`command:${dt.ID}?${encodeURIComponent(JSON.stringify(Ft))}`,St=new g.W5("",!0).appendMarkdown(ft).appendText(" ").appendLink(Ze,Et);He.push(new r.hU(this,bt.range,[St],!1,mt++))}return He}renderHoverParts(ge,ve){return(0,r.c)(ge,ve,this._editor,this._languageService,this._openerService)}};Re=pe([ye(1,d.O),ye(2,M.v4)],Re);function $e(Te){return`U+${Te.toString(16).padStart(4,"0")}`}function je(Te){let ge=`\`${$e(Te)}\``;return $.vU.isInvisibleCharacter(Te)||(ge+=` "${`${Ce(Te)}`}"`),ge}function Ce(Te){return Te===96?"`` ` ``":"`"+String.fromCodePoint(Te)+"`"}function J(Te,ge){return p.a.computeUnicodeHighlightReason(Te,ge)}class ne{constructor(){this.map=new Map}getDecorationFromOptions(ge){return this.getDecoration(!ge.includeComments,!ge.includeStrings)}getDecoration(ge,ve){const we=`${ge}${ve}`;let Oe=this.map.get(we);return Oe||(Oe=O.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ge,hideInStringTokens:ve}),this.map.set(we,Oe)),Oe}}ne.instance=new ne;class ae extends N.R6{constructor(){super({id:Ke.ID,label:B.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=B.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(ge,ve,we){return me(this,void 0,void 0,function*(){const Oe=ge==null?void 0:ge.get(j.Ui);Oe&&this.runAction(Oe)})}runAction(ge){return me(this,void 0,void 0,function*(){yield ge.updateValue(x.qt.includeComments,!1,2)})}}class xe extends N.R6{constructor(){super({id:Ke.ID,label:B.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=B.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(ge,ve,we){return me(this,void 0,void 0,function*(){const Oe=ge==null?void 0:ge.get(j.Ui);Oe&&this.runAction(Oe)})}runAction(ge){return me(this,void 0,void 0,function*(){yield ge.updateValue(x.qt.includeStrings,!1,2)})}}class Ke extends N.R6{constructor(){super({id:Ke.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=B.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(ge,ve,we){return me(this,void 0,void 0,function*(){const Oe=ge==null?void 0:ge.get(j.Ui);Oe&&this.runAction(Oe)})}runAction(ge){return me(this,void 0,void 0,function*(){yield ge.updateValue(x.qt.ambiguousCharacters,!1,2)})}}Ke.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class ct extends N.R6{constructor(){super({id:ct.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=B.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(ge,ve,we){return me(this,void 0,void 0,function*(){const Oe=ge==null?void 0:ge.get(j.Ui);Oe&&this.runAction(Oe)})}runAction(ge){return me(this,void 0,void 0,function*(){yield ge.updateValue(x.qt.invisibleCharacters,!1,2)})}}ct.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class ot extends N.R6{constructor(){super({id:ot.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=B.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(ge,ve,we){return me(this,void 0,void 0,function*(){const Oe=ge==null?void 0:ge.get(j.Ui);Oe&&this.runAction(Oe)})}runAction(ge){return me(this,void 0,void 0,function*(){yield ge.updateValue(x.qt.nonBasicASCII,!1,2)})}}ot.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class dt extends N.R6{constructor(){super({id:dt.ID,label:B.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(ge,ve,we){return me(this,void 0,void 0,function*(){const{codePoint:Oe,reason:He,inString:mt,inComment:bt}=we,kt=String.fromCodePoint(Oe),Ut=ge.get(G.eJ),ut=ge.get(j.Ui);function Dt(Et){return $.vU.isInvisibleCharacter(Et)?B.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",$e(Et)):B.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${$e(Et)} "${kt}"`)}const ft=[];if(He.kind===0)for(const Et of He.notAmbiguousInLocales)ft.push({label:B.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Et),run:()=>me(this,void 0,void 0,function*(){Fe(ut,[Et])})});if(ft.push({label:Dt(Oe),run:()=>et(ut,[Oe])}),bt){const Et=new ae;ft.push({label:Et.label,run:()=>me(this,void 0,void 0,function*(){return Et.runAction(ut)})})}else if(mt){const Et=new xe;ft.push({label:Et.label,run:()=>me(this,void 0,void 0,function*(){return Et.runAction(ut)})})}if(He.kind===0){const Et=new Ke;ft.push({label:Et.label,run:()=>me(this,void 0,void 0,function*(){return Et.runAction(ut)})})}else if(He.kind===1){const Et=new ct;ft.push({label:Et.label,run:()=>me(this,void 0,void 0,function*(){return Et.runAction(ut)})})}else if(He.kind===2){const Et=new ot;ft.push({label:Et.label,run:()=>me(this,void 0,void 0,function*(){return Et.runAction(ut)})})}else Le(He);const Ft=yield Ut.pick(ft,{title:B.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ft&&(yield Ft.run())})}}dt.ID="editor.action.unicodeHighlight.showExcludeOptions";function et(Te,ge){return me(this,void 0,void 0,function*(){const ve=Te.getValue(x.qt.allowedCharacters);let we;typeof ve=="object"&&ve?we=ve:we={};for(const Oe of ge)we[String.fromCodePoint(Oe)]=!0;yield Te.updateValue(x.qt.allowedCharacters,we,2)})}function Fe(Te,ge){var ve;return me(this,void 0,void 0,function*(){const we=(ve=Te.inspect(x.qt.allowedLocales).user)===null||ve===void 0?void 0:ve.value;let Oe;typeof we=="object"&&we?Oe=Object.assign({},we):Oe={};for(const He of ge)Oe[He]=!0;yield Te.updateValue(x.qt.allowedLocales,Oe,2)})}function Le(Te){throw new Error(`Unexpected value: ${Te}`)}(0,N.Qr)(Ke),(0,N.Qr)(ct),(0,N.Qr)(ot),(0,N.Qr)(dt),(0,N._K)(_e.ID,_e,1),s.Ae.register(Re)},32416:function(vt,be,i){"use strict";i.r(be),i.d(be,{UnusualLineTerminatorsDetector:function(){return f}});var c=i(52357),F=i(17349),g=i(98981),A=i(76356),S=i(15779),$=i(12676),N=function(s,r,m,C){var u=arguments.length,_=u<3?r:C===null?C=Object.getOwnPropertyDescriptor(r,m):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(s,r,m,C);else for(var E=s.length-1;E>=0;E--)(b=s[E])&&(_=(u<3?b(_):u>3?b(r,m,_):b(r,m))||_);return u>3&&_&&Object.defineProperty(r,m,_),_},x=function(s,r){return function(m,C){r(m,C,s)}},O=function(s,r,m,C){function u(_){return _ instanceof m?_:new m(function(b){b(_)})}return new(m||(m=Promise))(function(_,b){function E(I){try{w(C.next(I))}catch(M){b(M)}}function D(I){try{w(C.throw(I))}catch(M){b(M)}}function w(I){I.done?_(I.value):u(I.value).then(E,D)}w((C=C.apply(s,r||[])).next())})};const p="ignoreUnusualLineTerminators";function a(s,r,m){s.setModelProperty(r.uri,p,m)}function d(s,r){return s.getModelProperty(r.uri,p)}let f=class extends c.JT{constructor(r,m,C){super(),this._editor=r,this._dialogService=m,this._codeEditorService=C,this._isPresentingDialog=!1,this._config=this._editor.getOption(120),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(120)&&(this._config=this._editor.getOption(120),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return O(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const r=this._editor.getModel();if(!r.mightContainUnusualLineTerminators()||d(this._codeEditorService,r)===!0||this._editor.getOption(86))return;if(this._config==="auto"){r.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let C;try{this._isPresentingDialog=!0,C=yield this._dialogService.confirm({title:S.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:S.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:S.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,F.EZ)(r.uri)),primaryButton:S.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:S.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!C.confirmed){a(this._codeEditorService,r,!0);return}r.removeUnusualLineTerminators(this._editor.getSelections())})}};f.ID="editor.contrib.unusualLineTerminatorsDetector",f=N([x(1,$.S),x(2,A.$)],f),(0,g._K)(f.ID,f,1)},55606:function(vt,be,i){"use strict";i.d(be,{G:function(){return C},w:function(){return u}});var c=i(48117),F=i(73740),g=i(33686),A=i(15779),S=i(78382),$=i(901);const N=(0,S.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},A.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,S.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},A.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,S.P6G)("editor.wordHighlightTextBackground",{light:N,dark:N,hcDark:N,hcLight:N},A.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const x=(0,S.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.xL1,hcLight:S.xL1},A.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,S.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.xL1,hcLight:S.xL1},A.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,S.P6G)("editor.wordHighlightTextBorder",{light:x,dark:x,hcDark:x,hcLight:x},A.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const O=(0,S.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},A.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,S.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},A.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a=(0,S.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.SPM,light:S.SPM,hcDark:S.SPM,hcLight:S.SPM},A.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),d=F.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,$.EN)(p),position:c.sh.Center},minimap:{color:(0,$.EN)(S.IYc),position:c.F5.Inline}}),f=F.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,$.EN)(a),position:c.sh.Center},minimap:{color:(0,$.EN)(S.IYc),position:c.F5.Inline}}),s=F.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,$.EN)(S.SPM),position:c.sh.Center},minimap:{color:(0,$.EN)(S.IYc),position:c.F5.Inline}}),r=F.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),m=F.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,$.EN)(O),position:c.sh.Center},minimap:{color:(0,$.EN)(S.IYc),position:c.F5.Inline}});function C(_){return _===g.MY.Write?d:_===g.MY.Text?f:m}function u(_){return _?r:s}(0,$.Ic)((_,b)=>{const E=_.getColor(S.Rzx);E&&b.addRule(`.monaco-editor .selectionHighlight { background-color: ${E.transparent(.5)}; }`)})},70063:function(vt,be,i){"use strict";i.r(be),i.d(be,{getOccurrencesAtPosition:function(){return u}});var c=i(26017),F=i(16842),g=i(39460),A=i(19713),S=i(50505),$=i(52357),N=i(98981),x=i(22445),O=i(73805),p=i(33686),a=i(15779),d=i(23286),f=i(26340),s=i(55606),r=function(Y,H,P,X){var q=arguments.length,U=q<3?H:X===null?X=Object.getOwnPropertyDescriptor(H,P):X,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(Y,H,P,X);else for(var B=Y.length-1;B>=0;B--)(L=Y[B])&&(U=(q<3?L(U):q>3?L(H,P,U):L(H,P))||U);return q>3&&U&&Object.defineProperty(H,P,U),U},m=function(Y,H){return function(P,X){H(P,X,Y)}};const C=new d.uy("hasWordHighlights",!1);function u(Y,H,P,X){const q=Y.ordered(H);return(0,g.Ps)(q.map(U=>()=>Promise.resolve(U.provideDocumentHighlights(H,P,X)).then(void 0,S.Cp)),F.Of)}class _{constructor(H,P,X){this._model=H,this._selection=P,this._wordSeparators=X,this._wordRange=this._getCurrentWordRange(H,P),this._result=null}get result(){return this._result||(this._result=(0,g.PG)(H=>this._compute(this._model,this._selection,this._wordSeparators,H))),this._result}_getCurrentWordRange(H,P){const X=H.getWordAtPosition(P.getPosition());return X?new x.e(P.startLineNumber,X.startColumn,P.startLineNumber,X.endColumn):null}isValid(H,P,X){const q=P.startLineNumber,U=P.startColumn,L=P.endColumn,B=this._getCurrentWordRange(H,P);let j=Boolean(this._wordRange&&this._wordRange.equalsRange(B));for(let G=0,y=X.length;!j&&G<y;G++){const pe=X.getRange(G);pe&&pe.startLineNumber===q&&pe.startColumn<=U&&pe.endColumn>=L&&(j=!0)}return j}cancel(){this.result.cancel()}}class b extends _{constructor(H,P,X,q){super(H,P,X),this._providers=q}_compute(H,P,X,q){return u(this._providers,H,P.getPosition(),q).then(U=>U||[])}}class E extends _{constructor(H,P,X){super(H,P,X),this._selectionIsEmpty=P.isEmpty()}_compute(H,P,X,q){return(0,g.Vs)(250,q).then(()=>{if(!P.isEmpty())return[];const U=H.getWordAtPosition(P.getPosition());return!U||U.word.length>1e3?[]:H.findMatches(U.word,!0,!1,!0,X,!1).map(B=>({range:B.range,kind:p.MY.Text}))})}isValid(H,P,X){const q=P.isEmpty();return this._selectionIsEmpty!==q?!1:super.isValid(H,P,X)}}function D(Y,H,P,X){return Y.has(H)?new b(H,P,X,Y):new E(H,P,X)}(0,N.sb)("_executeDocumentHighlights",(Y,H,P)=>{const X=Y.get(f.p);return u(X.documentHighlightProvider,H,P,A.T.None)});class w{constructor(H,P,X){this.toUnhook=new $.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=H,this.providers=P,this._hasWordHighlights=C.bindTo(X),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(77),this.model=this.editor.getModel(),this.toUnhook.add(H.onDidChangeCursorPosition(q=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(q)})),this.toUnhook.add(H.onDidChangeModelContent(q=>{this._stopAll()})),this.toUnhook.add(H.onDidChangeConfiguration(q=>{const U=this.editor.getOption(77);this.occurrencesHighlight!==U&&(this.occurrencesHighlight=U,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(x.e.compareRangesUsingStarts)}moveNext(){const H=this._getSortedHighlights(),X=(H.findIndex(U=>U.containsPosition(this.editor.getPosition()))+1)%H.length,q=H[X];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(q.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(q);const U=this._getWord();if(U){const L=this.editor.getModel().getLineContent(q.startLineNumber);(0,c.Z9)(`${L}, ${X+1} of ${H.length} for '${U.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const H=this._getSortedHighlights(),X=(H.findIndex(U=>U.containsPosition(this.editor.getPosition()))-1+H.length)%H.length,q=H[X];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(q.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(q);const U=this._getWord();if(U){const L=this.editor.getModel().getLineContent(q.startLineNumber);(0,c.Z9)(`${L}, ${X+1} of ${H.length} for '${U.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(H){if(!this.occurrencesHighlight){this._stopAll();return}if(H.reason!==3){this._stopAll();return}this._run()}_getWord(){const H=this.editor.getSelection(),P=H.startLineNumber,X=H.startColumn;return this.model.getWordAtPosition({lineNumber:P,column:X})}_run(){const H=this.editor.getSelection();if(H.startLineNumber!==H.endLineNumber){this._stopAll();return}const P=H.startColumn,X=H.endColumn,q=this._getWord();if(!q||q.startColumn>P||q.endColumn<X){this._stopAll();return}const U=this.workerRequest&&this.workerRequest.isValid(this.model,H,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),U)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const L=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=D(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(124)),this.workerRequest.result.then(B=>{L===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=B||[],this._beginRenderDecorations())},S.dL)}}_beginRenderDecorations(){const H=new Date().getTime(),P=this.lastCursorPositionChangeTime+250;H>=P?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},P-H)}renderDecorations(){this.renderDecorationsTimer=-1;const H=[];for(const P of this.workerRequestValue)P.range&&H.push({range:P.range,options:(0,s.G)(P.kind)});this.decorations.set(H),this._hasWordHighlights.set(this.hasDecorations())}dispose(){this._stopAll(),this.toUnhook.dispose()}}let I=class tu extends $.JT{static get(H){return H.getContribution(tu.ID)}constructor(H,P,X){super(),this.wordHighlighter=null;const q=()=>{H.hasModel()&&(this.wordHighlighter=new w(H,X.documentHighlightProvider,P))};this._register(H.onDidChangeModel(U=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),q()})),q()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var H;(H=this.wordHighlighter)===null||H===void 0||H.moveNext()}moveBack(){var H;(H=this.wordHighlighter)===null||H===void 0||H.moveBack()}restoreViewState(H){this.wordHighlighter&&H&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};I.ID="editor.contrib.wordHighlighter",I=r([m(1,d.i6),m(2,f.p)],I);class M extends N.R6{constructor(H,P){super(P),this._isNext=H}run(H,P){const X=I.get(P);X&&(this._isNext?X.moveNext():X.moveBack())}}class K extends M{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:a.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:C,kbOpts:{kbExpr:O.u.editorTextFocus,primary:65,weight:100}})}}class z extends M{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:a.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:C,kbOpts:{kbExpr:O.u.editorTextFocus,primary:1089,weight:100}})}}class Q extends N.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:a.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:C.toNegated(),kbOpts:{kbExpr:O.u.editorTextFocus,primary:0,weight:100}})}run(H,P,X){const q=I.get(P);q&&q.restoreViewState(!0)}}(0,N._K)(I.ID,I,0),(0,N.Qr)(K),(0,N.Qr)(z),(0,N.Qr)(Q)},30113:function(vt,be,i){"use strict";i.r(be),i.d(be,{CursorWordAccessibilityLeft:function(){return M},CursorWordAccessibilityLeftSelect:function(){return K},CursorWordAccessibilityRight:function(){return q},CursorWordAccessibilityRightSelect:function(){return U},CursorWordEndLeft:function(){return b},CursorWordEndLeftSelect:function(){return w},CursorWordEndRight:function(){return Q},CursorWordEndRightSelect:function(){return P},CursorWordLeft:function(){return E},CursorWordLeftSelect:function(){return I},CursorWordRight:function(){return Y},CursorWordRightSelect:function(){return X},CursorWordStartLeft:function(){return _},CursorWordStartLeftSelect:function(){return D},CursorWordStartRight:function(){return z},CursorWordStartRightSelect:function(){return H},DeleteInsideWord:function(){return _e},DeleteWordCommand:function(){return L},DeleteWordEndLeft:function(){return y},DeleteWordEndRight:function(){return me},DeleteWordLeft:function(){return pe},DeleteWordLeftCommand:function(){return B},DeleteWordRight:function(){return Se},DeleteWordRightCommand:function(){return j},DeleteWordStartLeft:function(){return G},DeleteWordStartRight:function(){return ye},MoveWordCommand:function(){return m},WordLeftCommand:function(){return C},WordRightCommand:function(){return u}});var c=i(98981),F=i(71802),g=i(32052),A=i(48657),S=i(50706),$=i(36669),N=i(43976),x=i(22445),O=i(15489),p=i(73805),a=i(28170),d=i(15779),f=i(75845),s=i(23286),r=i(58842);class m extends c._l{constructor(le){super(le),this._inSelectionMode=le.inSelectionMode,this._wordNavigationType=le.wordNavigationType}runEditorCommand(le,se,Re){if(!se.hasModel())return;const $e=(0,$.u)(se.getOption(124)),je=se.getModel(),J=se.getSelections().map(ne=>{const ae=new N.L(ne.positionLineNumber,ne.positionColumn),xe=this._move($e,je,ae,this._wordNavigationType);return this._moveTo(ne,xe,this._inSelectionMode)});if(je.pushStackElement(),se._getViewModel().setCursorStates("moveWordCommand",3,J.map(ne=>A.Vi.fromModelSelection(ne))),J.length===1){const ne=new N.L(J[0].positionLineNumber,J[0].positionColumn);se.revealPosition(ne,0)}}_moveTo(le,se,Re){return Re?new O.Y(le.selectionStartLineNumber,le.selectionStartColumn,se.lineNumber,se.column):new O.Y(se.lineNumber,se.column,se.lineNumber,se.column)}}class C extends m{_move(le,se,Re,$e){return S.w.moveWordLeft(le,se,Re,$e)}}class u extends m{_move(le,se,Re,$e){return S.w.moveWordRight(le,se,Re,$e)}}class _ extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class b extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class E extends C{constructor(){var le;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:s.Ao.and(p.u.textInputFocus,(le=s.Ao.and(f.U,r.cv))===null||le===void 0?void 0:le.negate()),primary:2063,mac:{primary:527},weight:100}})}}class D extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class w extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class I extends C{constructor(){var le;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.Ao.and(p.u.textInputFocus,(le=s.Ao.and(f.U,r.cv))===null||le===void 0?void 0:le.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class M extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(le,se,Re,$e){return super._move((0,$.u)(g.BH.wordSeparators.defaultValue),se,Re,$e)}}class K extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(le,se,Re,$e){return super._move((0,$.u)(g.BH.wordSeparators.defaultValue),se,Re,$e)}}class z extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class Q extends u{constructor(){var le;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:s.Ao.and(p.u.textInputFocus,(le=s.Ao.and(f.U,r.cv))===null||le===void 0?void 0:le.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Y extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class H extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class P extends u{constructor(){var le;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:s.Ao.and(p.u.textInputFocus,(le=s.Ao.and(f.U,r.cv))===null||le===void 0?void 0:le.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class X extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class q extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(le,se,Re,$e){return super._move((0,$.u)(g.BH.wordSeparators.defaultValue),se,Re,$e)}}class U extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(le,se,Re,$e){return super._move((0,$.u)(g.BH.wordSeparators.defaultValue),se,Re,$e)}}class L extends c._l{constructor(le){super(le),this._whitespaceHeuristics=le.whitespaceHeuristics,this._wordNavigationType=le.wordNavigationType}runEditorCommand(le,se,Re){const $e=le.get(a.c_);if(!se.hasModel())return;const je=(0,$.u)(se.getOption(124)),Ce=se.getModel(),J=se.getSelections(),ne=se.getOption(5),ae=se.getOption(8),xe=$e.getLanguageConfiguration(Ce.getLanguageId()).getAutoClosingPairs(),Ke=se._getViewModel(),ct=J.map(ot=>{const dt=this._delete({wordSeparators:je,model:Ce,selection:ot,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:se.getOption(6),autoClosingBrackets:ne,autoClosingQuotes:ae,autoClosingPairs:xe,autoClosedCharacters:Ke.getCursorAutoClosedCharacters()},this._wordNavigationType);return new F.T4(dt,"")});se.pushUndoStop(),se.executeCommands(this.id,ct),se.pushUndoStop()}}class B extends L{_delete(le,se){const Re=S.w.deleteWordLeft(le,se);return Re||new x.e(1,1,1,1)}}class j extends L{_delete(le,se){const Re=S.w.deleteWordRight(le,se);if(Re)return Re;const $e=le.model.getLineCount(),je=le.model.getLineMaxColumn($e);return new x.e($e,je,$e,je)}}class G extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.u.writable})}}class y extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.u.writable})}}class pe extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class ye extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.u.writable})}}class me extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.u.writable})}}class Se extends j{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class _e extends c.R6{constructor(){super({id:"deleteInsideWord",precondition:p.u.writable,label:d.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(le,se,Re){if(!se.hasModel())return;const $e=(0,$.u)(se.getOption(124)),je=se.getModel(),J=se.getSelections().map(ne=>{const ae=S.w.deleteInsideWord($e,je,ne);return new F.T4(ae,"")});se.pushUndoStop(),se.executeCommands(this.id,J),se.pushUndoStop()}}(0,c.fK)(new _),(0,c.fK)(new b),(0,c.fK)(new E),(0,c.fK)(new D),(0,c.fK)(new w),(0,c.fK)(new I),(0,c.fK)(new z),(0,c.fK)(new Q),(0,c.fK)(new Y),(0,c.fK)(new H),(0,c.fK)(new P),(0,c.fK)(new X),(0,c.fK)(new M),(0,c.fK)(new K),(0,c.fK)(new q),(0,c.fK)(new U),(0,c.fK)(new G),(0,c.fK)(new y),(0,c.fK)(new pe),(0,c.fK)(new ye),(0,c.fK)(new me),(0,c.fK)(new Se),(0,c.Qr)(_e)},58015:function(vt,be,i){"use strict";i.r(be),i.d(be,{CursorWordPartLeft:function(){return p},CursorWordPartLeftSelect:function(){return a},CursorWordPartRight:function(){return f},CursorWordPartRightSelect:function(){return s},DeleteWordPartLeft:function(){return N},DeleteWordPartRight:function(){return x},WordPartLeftCommand:function(){return O},WordPartRightCommand:function(){return d}});var c=i(98981),F=i(50706),g=i(22445),A=i(73805),S=i(30113),$=i(21760);class N extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:A.u.writable,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(m,C){const u=F.L.deleteWordPartLeft(m);return u||new g.e(1,1,1,1)}}class x extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:A.u.writable,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(m,C){const u=F.L.deleteWordPartRight(m);if(u)return u;const _=m.model.getLineCount(),b=m.model.getLineMaxColumn(_);return new g.e(_,b,_,b)}}class O extends S.MoveWordCommand{_move(m,C,u,_){return F.L.moveWordPartLeft(m,C,u)}}class p extends O{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}$.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends O{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}$.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class d extends S.MoveWordCommand{_move(m,C,u,_){return F.L.moveWordPartRight(m,C,u)}}class f extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class s extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,c.fK)(new N),(0,c.fK)(new x),(0,c.fK)(new p),(0,c.fK)(new a),(0,c.fK)(new f),(0,c.fK)(new s)},25954:function(vt,be,i){"use strict";i.r(be),i.d(be,{CancellationTokenSource:function(){return Yf},Emitter:function(){return Xf},KeyCode:function(){return Jf},KeyMod:function(){return qf},MarkerSeverity:function(){return sg},MarkerTag:function(){return og},Position:function(){return eg},Range:function(){return tg},Selection:function(){return ig},SelectionDirection:function(){return ng},Token:function(){return ag},Uri:function(){return rg},editor:function(){return lg},languages:function(){return dg}});var c=i(32052),F=i(19713),g=i(94162),A=i(42528),S=i(39508),$=i(43976),N=i(22445),x=i(15489),O=i(33686),p=i(42782);class a{static chord(t,n){return(0,A.gx)(t,n)}}a.CtrlCmd=2048,a.Shift=1024,a.Alt=512,a.WinCtrl=256;function d(){return{editor:void 0,languages:void 0,CancellationTokenSource:F.A,Emitter:g.Q5,KeyCode:p.VD,KeyMod:a,Position:$.L,Range:N.e,Selection:x.Y,SelectionDirection:p.a$,MarkerSeverity:p.ZL,MarkerTag:p.eB,Uri:S.o,Token:O.WU}}var f=i(52357),s=i(30613),r=i(66832),m=i(76356),C=i(44516),u=i(60060),_=i(64700),b=i(15779);const E=(0,_.yh)("audioCue");class D{static register(t){return new D(t.fileName)}constructor(t){this.fileName=t}}D.error=D.register({fileName:"error.mp3"}),D.warning=D.register({fileName:"warning.mp3"}),D.foldedArea=D.register({fileName:"foldedAreas.mp3"}),D.break=D.register({fileName:"break.mp3"}),D.quickFixes=D.register({fileName:"quickFixes.mp3"}),D.taskCompleted=D.register({fileName:"taskCompleted.mp3"}),D.taskFailed=D.register({fileName:"taskFailed.mp3"}),D.terminalBell=D.register({fileName:"terminalBell.mp3"}),D.diffLineInserted=D.register({fileName:"diffLineInserted.mp3"}),D.diffLineDeleted=D.register({fileName:"diffLineDeleted.mp3"}),D.diffLineModified=D.register({fileName:"diffLineModified.mp3"});class w{static register(t){const n=new w(t.sound,t.name,t.settingsKey);return w._audioCues.add(n),n}constructor(t,n,l){this.sound=t,this.name=n,this.settingsKey=l}}w._audioCues=new Set,w.error=w.register({name:(0,b.NC)("audioCues.lineHasError.name","Error on Line"),sound:D.error,settingsKey:"audioCues.lineHasError"}),w.warning=w.register({name:(0,b.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:D.warning,settingsKey:"audioCues.lineHasWarning"}),w.foldedArea=w.register({name:(0,b.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:D.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),w.break=w.register({name:(0,b.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:D.break,settingsKey:"audioCues.lineHasBreakpoint"}),w.inlineSuggestion=w.register({name:(0,b.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:D.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),w.terminalQuickFix=w.register({name:(0,b.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:D.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),w.onDebugBreak=w.register({name:(0,b.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:D.break,settingsKey:"audioCues.onDebugBreak"}),w.noInlayHints=w.register({name:(0,b.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:D.error,settingsKey:"audioCues.noInlayHints"}),w.taskCompleted=w.register({name:(0,b.NC)("audioCues.taskCompleted","Task Completed"),sound:D.taskCompleted,settingsKey:"audioCues.taskCompleted"}),w.taskFailed=w.register({name:(0,b.NC)("audioCues.taskFailed","Task Failed"),sound:D.taskFailed,settingsKey:"audioCues.taskFailed"}),w.terminalCommandFailed=w.register({name:(0,b.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:D.taskFailed,settingsKey:"audioCues.terminalCommandFailed"}),w.terminalBell=w.register({name:(0,b.NC)("audioCues.terminalBell","Terminal Bell"),sound:D.terminalBell,settingsKey:"audioCues.terminalBell"}),w.notebookCellCompleted=w.register({name:(0,b.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:D.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),w.notebookCellFailed=w.register({name:(0,b.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:D.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),w.diffLineInserted=w.register({name:(0,b.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:D.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),w.diffLineDeleted=w.register({name:(0,b.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:D.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),w.diffLineModified=w.register({name:(0,b.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:D.diffLineModified,settingsKey:"audioCues.diffLineModified"});var I=i(75845),M=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},K=function(oe,t){return function(n,l){t(n,l,oe)}};const z={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let Q=class extends f.JT{constructor(t,n={},l,R,W){super(),this._audioCueService=l,this._codeEditorService=R,this._accessibilityService=W,this._onDidUpdate=this._register(new g.Q5),this._editor=t,this._options=u.jB(n,z,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(te=>{this.ignoreSelectionChange||(this._updateAccessibilityState(te.position.lineNumber),this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(te=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(n=>{!this._options.ignoreCharChanges&&n.charChanges?n.charChanges.forEach(l=>{this.ranges.push({rhs:!0,range:new N.e(l.modifiedStartLineNumber,l.modifiedStartColumn,l.modifiedEndLineNumber,l.modifiedEndColumn)})}):n.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new N.e(n.modifiedStartLineNumber,1,n.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new N.e(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber+1,1)})}),this.ranges.sort((n,l)=>N.e.compareRangesUsingStarts(n.range,l.range)),this._onDidUpdate.fire(this)}_initIdx(t){let n=!1;const l=this._editor.getPosition();if(!l){this.nextIdx=0;return}for(let R=0,W=this.ranges.length;R<W&&!n;R++){const te=this.ranges[R].range;l.isBeforeOrEqual(te.getStartPosition())&&(this.nextIdx=R+(t?0:-1),n=!0)}n||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,n){if(C.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const l=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const R=l.range.getStartPosition();this._editor.setPosition(R),this._editor.revealRangeInCenter(l.range,n),this._updateAccessibilityState(R.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(t,n){var l;const R=(l=this._editor.getModel())===null||l===void 0?void 0:l.modified;if(!R)return;const W=R.getLineDecorations(t).find(ue=>ue.options.className==="line-insert");if(W)this._audioCueService.playAudioCue(w.diffLineModified,!0);else if(n)this._audioCueService.playAudioCue(w.diffLineDeleted,!0);else return;const te=this._codeEditorService.getActiveCodeEditor();n&&te&&W&&this._accessibilityService.isScreenReaderOptimized()&&(te.setSelection({startLineNumber:t,startColumn:0,endLineNumber:t,endColumn:Number.MAX_VALUE}),te.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this.canNavigateNext()&&this._move(!0,t)}previous(t=0){this.canNavigatePrevious()&&this._move(!1,t)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return Boolean(this._options.findResultLoop)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};Q=M([K(2,E),K(3,m.$),K(4,I.F)],Q);var Y=i(21858),H=i(12957),P=i(48117),X=i(28170),q=i(82652),U=i(18426),L=i(6033),B=i(39460),j=i(50505),G=i(41420);const y="$initialize";let pe=!1;function ye(oe){G.$L&&(pe||(pe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(oe.message))}class me{constructor(t,n,l,R){this.vsWorker=t,this.req=n,this.method=l,this.args=R,this.type=0}}class Se{constructor(t,n,l,R){this.vsWorker=t,this.seq=n,this.res=l,this.err=R,this.type=1}}class _e{constructor(t,n,l,R){this.vsWorker=t,this.req=n,this.eventName=l,this.arg=R,this.type=2}}class he{constructor(t,n,l){this.vsWorker=t,this.req=n,this.event=l,this.type=3}}class le{constructor(t,n){this.vsWorker=t,this.req=n,this.type=4}}class se{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,n){const l=String(++this._lastSentReq);return new Promise((R,W)=>{this._pendingReplies[l]={resolve:R,reject:W},this._send(new me(this._workerId,l,t,n))})}listen(t,n){let l=null;const R=new g.Q5({onWillAddFirstListener:()=>{l=String(++this._lastSentReq),this._pendingEmitters.set(l,R),this._send(new _e(this._workerId,l,t,n))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(l),this._send(new le(this._workerId,l)),l=null}});return R.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}const n=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let l=t.err;t.err.$isError&&(l=new Error,l.name=t.err.name,l.message=t.err.message,l.stack=t.err.stack),n.reject(l);return}n.resolve(t.res)}_handleRequestMessage(t){const n=t.req;this._handler.handleMessage(t.method,t.args).then(R=>{this._send(new Se(this._workerId,n,R,void 0))},R=>{R.detail instanceof Error&&(R.detail=(0,j.ri)(R.detail)),this._send(new Se(this._workerId,n,void 0,(0,j.ri)(R)))})}_handleSubscribeEventMessage(t){const n=t.req,l=this._handler.handleEvent(t.eventName,t.arg)(R=>{this._send(new he(this._workerId,n,R))});this._pendingEvents.set(n,l)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){const n=[];if(t.type===0)for(let l=0;l<t.args.length;l++)t.args[l]instanceof ArrayBuffer&&n.push(t.args[l]);else t.type===1&&t.res instanceof ArrayBuffer&&n.push(t.res);this._handler.sendMessage(t,n)}}class Re extends f.JT{constructor(t,n,l){super();let R=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",Be=>{this._protocol.handleMessage(Be)},Be=>{R==null||R(Be)})),this._protocol=new se({sendMessage:(Be,Je)=>{this._worker.postMessage(Be,Je)},handleMessage:(Be,Je)=>{if(typeof l[Be]!="function")return Promise.reject(new Error("Missing method "+Be+" on main thread host."));try{return Promise.resolve(l[Be].apply(l,Je))}catch(ht){return Promise.reject(ht)}},handleEvent:(Be,Je)=>{if(je(Be)){const ht=l[Be].call(l,Je);if(typeof ht!="function")throw new Error(`Missing dynamic event ${Be} on main thread host.`);return ht}if($e(Be)){const ht=l[Be];if(typeof ht!="function")throw new Error(`Missing event ${Be} on main thread host.`);return ht}throw new Error(`Malformed event name ${Be}`)}}),this._protocol.setWorkerId(this._worker.getId());let W=null;typeof G.li.require!="undefined"&&typeof G.li.require.getConfig=="function"?W=G.li.require.getConfig():typeof G.li.requirejs!="undefined"&&(W=G.li.requirejs.s.contexts._.config);const te=(0,u.$E)(l);this._onModuleLoaded=this._protocol.sendMessage(y,[this._worker.getId(),JSON.parse(JSON.stringify(W)),n,te]);const ue=(Be,Je)=>this._request(Be,Je),ke=(Be,Je)=>this._protocol.listen(Be,Je);this._lazyProxy=new Promise((Be,Je)=>{R=Je,this._onModuleLoaded.then(ht=>{Be(Ce(ht,ue,ke))},ht=>{Je(ht),this._onError("Worker failed to load "+n,ht)})})}getProxyObject(){return this._lazyProxy}_request(t,n){return new Promise((l,R)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,n).then(l,R)},R)})}_onError(t,n){console.error(t),console.info(n)}}function $e(oe){return oe[0]==="o"&&oe[1]==="n"&&s.df(oe.charCodeAt(2))}function je(oe){return/^onDynamic/.test(oe)&&s.df(oe.charCodeAt(9))}function Ce(oe,t,n){const l=te=>function(){const ue=Array.prototype.slice.call(arguments,0);return t(te,ue)},R=te=>function(ue){return n(te,ue)},W={};for(const te of oe){if(je(te)){W[te]=R(te);continue}if($e(te)){W[te]=n(te,void 0);continue}W[te]=l(te)}return W}class J{constructor(t,n){this._requestHandlerFactory=n,this._requestHandler=null,this._protocol=new se({sendMessage:(l,R)=>{t(l,R)},handleMessage:(l,R)=>this._handleMessage(l,R),handleEvent:(l,R)=>this._handleEvent(l,R)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,n){if(t===y)return this.initialize(n[0],n[1],n[2],n[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,n))}catch(l){return Promise.reject(l)}}_handleEvent(t,n){if(!this._requestHandler)throw new Error("Missing requestHandler");if(je(t)){const l=this._requestHandler[t].call(this._requestHandler,n);if(typeof l!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return l}if($e(t)){const l=this._requestHandler[t];if(typeof l!="function")throw new Error(`Missing event ${t} on request handler.`);return l}throw new Error(`Malformed event name ${t}`)}initialize(t,n,l,R){this._protocol.setWorkerId(t);const ue=Ce(R,(ke,Be)=>this._protocol.sendMessage(ke,Be),(ke,Be)=>this._protocol.listen(ke,Be));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(ue),Promise.resolve(getAllMethodNames(this._requestHandler))):(n&&(typeof n.baseUrl!="undefined"&&delete n.baseUrl,typeof n.paths!="undefined"&&typeof n.paths.vs!="undefined"&&delete n.paths.vs,typeof n.trustedTypesPolicy!==void 0&&delete n.trustedTypesPolicy,n.catchError=!0,globals.require.config(n)),new Promise((ke,Be)=>{const Je=globals.require;Je([l],ht=>{if(this._requestHandler=ht.create(ue),!this._requestHandler){Be(new Error("No RequestHandler!"));return}ke(getAllMethodNames(this._requestHandler))},Be)}))}}function ne(oe){return new J(oe,null)}var ae;const xe=(ae=window.trustedTypes)===null||ae===void 0?void 0:ae.createPolicy("defaultWorkerFactory",{createScriptURL:oe=>oe});function Ke(oe){if(G.li.MonacoEnvironment){if(typeof G.li.MonacoEnvironment.getWorker=="function")return G.li.MonacoEnvironment.getWorker("workerMain.js",oe);if(typeof G.li.MonacoEnvironment.getWorkerUrl=="function"){const t=G.li.MonacoEnvironment.getWorkerUrl("workerMain.js",oe);return new Worker(xe?xe.createScriptURL(t):t,{name:oe})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function ct(oe){return typeof oe.then=="function"}class ot{constructor(t,n,l,R,W){this.id=n;const te=Ke(l);ct(te)?this.worker=te:this.worker=Promise.resolve(te),this.postMessage(t,[]),this.worker.then(ue=>{ue.onmessage=function(ke){R(ke.data)},ue.onmessageerror=W,typeof ue.addEventListener=="function"&&ue.addEventListener("error",W)})}getId(){return this.id}postMessage(t,n){var l;(l=this.worker)===null||l===void 0||l.then(R=>R.postMessage(t,n))}dispose(){var t;(t=this.worker)===null||t===void 0||t.then(n=>n.terminate()),this.worker=null}}class dt{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,n,l){const R=++dt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ot(t,R,this._label||"anonymous"+R,n,W=>{ye(W),this._webWorkerFailedBeforeError=W,l(W)})}}dt.LAST_WORKER_ID=0;var et=i(87721),Fe=i(70268);class Le{constructor(t,n,l,R){this._uri=t,this._lines=n,this._eol=l,this._versionId=R,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const n=t.changes;for(const l of n)this._acceptDeleteRange(l.range),this._acceptInsertText(new $.L(l.range.startLineNumber,l.range.startColumn),l.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,n=this._lines.length,l=new Uint32Array(n);for(let R=0;R<n;R++)l[R]=this._lines[R].length+t;this._lineStarts=new Fe.oQ(l)}}_setLineText(t,n){this._lines[t]=n,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,n){if(n.length===0)return;const l=(0,s.uq)(n);if(l.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+l[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}l[l.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+l[0]);const R=new Uint32Array(l.length-1);for(let W=1;W<l.length;W++)this._lines.splice(t.lineNumber+W-1,0,l[W]),R[W-1]=l[W].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,R)}}var Te=i(96605),ge=i(79563);class ve{constructor(t,n,l){const R=new Uint8Array(t*n);for(let W=0,te=t*n;W<te;W++)R[W]=l;this._data=R,this.rows=t,this.cols=n}get(t,n){return this._data[t*this.cols+n]}set(t,n,l){this._data[t*this.cols+n]=l}}class we{constructor(t){let n=0,l=0;for(let W=0,te=t.length;W<te;W++){const[ue,ke,Be]=t[W];ke>n&&(n=ke),ue>l&&(l=ue),Be>l&&(l=Be)}n++,l++;const R=new ve(l,n,0);for(let W=0,te=t.length;W<te;W++){const[ue,ke,Be]=t[W];R.set(ue,ke,Be)}this._states=R,this._maxCharCode=n}nextState(t,n){return n<0||n>=this._maxCharCode?0:this._states.get(t,n)}}let Oe=null;function He(){return Oe===null&&(Oe=new we([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Oe}let mt=null;function bt(){if(mt===null){mt=new ge.N(0);const oe=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<oe.length;n++)mt.set(oe.charCodeAt(n),1);const t=".,;:";for(let n=0;n<t.length;n++)mt.set(t.charCodeAt(n),2)}return mt}class kt{static _createLink(t,n,l,R,W){let te=W-1;do{const ue=n.charCodeAt(te);if(t.get(ue)!==2)break;te--}while(te>R);if(R>0){const ue=n.charCodeAt(R-1),ke=n.charCodeAt(te);(ue===40&&ke===41||ue===91&&ke===93||ue===123&&ke===125)&&te--}return{range:{startLineNumber:l,startColumn:R+1,endLineNumber:l,endColumn:te+2},url:n.substring(R,te+1)}}static computeLinks(t,n=He()){const l=bt(),R=[];for(let W=1,te=t.getLineCount();W<=te;W++){const ue=t.getLineContent(W),ke=ue.length;let Be=0,Je=0,ht=0,Ot=1,Bt=!1,oi=!1,bi=!1,Li=!1;for(;Be<ke;){let Mi=!1;const Gi=ue.charCodeAt(Be);if(Ot===13){let Wi;switch(Gi){case 40:Bt=!0,Wi=0;break;case 41:Wi=Bt?0:1;break;case 91:bi=!0,oi=!0,Wi=0;break;case 93:bi=!1,Wi=oi?0:1;break;case 123:Li=!0,Wi=0;break;case 125:Wi=Li?0:1;break;case 39:case 34:case 96:ht===Gi?Wi=1:ht===39||ht===34||ht===96?Wi=0:Wi=1;break;case 42:Wi=ht===42?1:0;break;case 124:Wi=ht===124?1:0;break;case 32:Wi=bi?0:1;break;default:Wi=l.get(Gi)}Wi===1&&(R.push(kt._createLink(l,ue,W,Je,Be)),Mi=!0)}else if(Ot===12){let Wi;Gi===91?(oi=!0,Wi=0):Wi=l.get(Gi),Wi===1?Mi=!0:Ot=13}else Ot=n.nextState(Ot,Gi),Ot===0&&(Mi=!0);Mi&&(Ot=1,Bt=!1,oi=!1,Li=!1,Je=Be+1,ht=Gi),Be++}Ot===13&&R.push(kt._createLink(l,ue,W,Je,ke))}return R}}function Ut(oe){return!oe||typeof oe.getLineCount!="function"||typeof oe.getLineContent!="function"?[]:kt.computeLinks(oe)}class ut{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,n,l,R,W){if(t&&n){const te=this.doNavigateValueSet(n,W);if(te)return{range:t,value:te}}if(l&&R){const te=this.doNavigateValueSet(R,W);if(te)return{range:l,value:te}}return null}doNavigateValueSet(t,n){const l=this.numberReplace(t,n);return l!==null?l:this.textReplace(t,n)}numberReplace(t,n){const l=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let R=Number(t);const W=parseFloat(t);return!isNaN(R)&&!isNaN(W)&&R===W?R===0&&!n?null:(R=Math.floor(R*l),R+=n?l:-l,String(R/l)):null}textReplace(t,n){return this.valueSetsReplace(this._defaultValueSet,t,n)}valueSetsReplace(t,n,l){let R=null;for(let W=0,te=t.length;R===null&&W<te;W++)R=this.valueSetReplace(t[W],n,l);return R}valueSetReplace(t,n,l){let R=t.indexOf(n);return R>=0?(R+=l?1:-1,R<0?R=t.length-1:R%=t.length,t[R]):null}}ut.INSTANCE=new ut;var Dt=i(39589),ft=i(60267);class Ft{constructor(t,n,l){this.originalRange=t,this.modifiedRange=n,this.innerChanges=l}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}class Et{constructor(t,n){this.originalRange=t,this.modifiedRange=n}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}class Ze{constructor(t,n){this.startLineNumber=t,this.endLineNumberExclusive=n}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new Ze(this.startLineNumber+t,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new Ze(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}}const St=3;class jt{computeDiff(t,n,l){var R;const te=new Ui(t,n,{maxComputationTime:l.maxComputationTimeMs,shouldIgnoreTrimWhitespace:l.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),ue=[];let ke=null;for(const Be of te.changes){let Je;Be.originalEndLineNumber===0?Je=new Ze(Be.originalStartLineNumber+1,Be.originalStartLineNumber+1):Je=new Ze(Be.originalStartLineNumber,Be.originalEndLineNumber+1);let ht;Be.modifiedEndLineNumber===0?ht=new Ze(Be.modifiedStartLineNumber+1,Be.modifiedStartLineNumber+1):ht=new Ze(Be.modifiedStartLineNumber,Be.modifiedEndLineNumber+1);let Ot=new Ft(Je,ht,(R=Be.charChanges)===null||R===void 0?void 0:R.map(Bt=>new Et(new N.e(Bt.originalStartLineNumber,Bt.originalStartColumn,Bt.originalEndLineNumber,Bt.originalEndColumn),new N.e(Bt.modifiedStartLineNumber,Bt.modifiedStartColumn,Bt.modifiedEndLineNumber,Bt.modifiedEndColumn))));ke&&(ke.modifiedRange.endLineNumberExclusive===Ot.modifiedRange.startLineNumber||ke.originalRange.endLineNumberExclusive===Ot.originalRange.startLineNumber)&&(Ot=new Ft(ke.originalRange.join(Ot.originalRange),ke.modifiedRange.join(Ot.modifiedRange),ke.innerChanges&&Ot.innerChanges?ke.innerChanges.concat(Ot.innerChanges):void 0),ue.pop()),ue.push(Ot),ke=Ot}return(0,C.eZ)(()=>(0,C.DM)(ue,(Be,Je)=>Je.originalRange.startLineNumber-Be.originalRange.endLineNumberExclusive===Je.modifiedRange.startLineNumber-Be.modifiedRange.endLineNumberExclusive&&Be.originalRange.endLineNumberExclusive<Je.originalRange.startLineNumber&&Be.modifiedRange.endLineNumberExclusive<Je.modifiedRange.startLineNumber)),{quitEarly:te.quitEarly,changes:ue}}}function Ct(oe,t,n,l){return new et.Hs(oe,t,n).ComputeDiff(l)}class _t{constructor(t){const n=[],l=[];for(let R=0,W=t.length;R<W;R++)n[R]=on(t[R],1),l[R]=Qi(t[R],1);this.lines=t,this._startColumns=n,this._endColumns=l}getElements(){const t=[];for(let n=0,l=this.lines.length;n<l;n++)t[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,n,l){const R=[],W=[],te=[];let ue=0;for(let ke=n;ke<=l;ke++){const Be=this.lines[ke],Je=t?this._startColumns[ke]:1,ht=t?this._endColumns[ke]:Be.length+1;for(let Ot=Je;Ot<ht;Ot++)R[ue]=Be.charCodeAt(Ot-1),W[ue]=ke+1,te[ue]=Ot,ue++;!t&&ke<l&&(R[ue]=10,W[ue]=ke+1,te[ue]=Be.length+1,ue++)}return new Kt(R,W,te)}}class Kt{constructor(t,n,l){this._charCodes=t,this._lineNumbers=n,this._columns=l}toString(){return"["+this._charCodes.map((t,n)=>(t===10?"\\n":String.fromCharCode(t))+`-(${this._lineNumbers[n]},${this._columns[n]})`).join(", ")+"]"}_assertIndex(t,n){if(t<0||t>=n.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])}getEndLineNumber(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])}getStartColumn(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])}getEndColumn(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)}}class Zt{constructor(t,n,l,R,W,te,ue,ke){this.originalStartLineNumber=t,this.originalStartColumn=n,this.originalEndLineNumber=l,this.originalEndColumn=R,this.modifiedStartLineNumber=W,this.modifiedStartColumn=te,this.modifiedEndLineNumber=ue,this.modifiedEndColumn=ke}static createFromDiffChange(t,n,l){const R=n.getStartLineNumber(t.originalStart),W=n.getStartColumn(t.originalStart),te=n.getEndLineNumber(t.originalStart+t.originalLength-1),ue=n.getEndColumn(t.originalStart+t.originalLength-1),ke=l.getStartLineNumber(t.modifiedStart),Be=l.getStartColumn(t.modifiedStart),Je=l.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),ht=l.getEndColumn(t.modifiedStart+t.modifiedLength-1);return new Zt(R,W,te,ue,ke,Be,Je,ht)}}function li(oe){if(oe.length<=1)return oe;const t=[oe[0]];let n=t[0];for(let l=1,R=oe.length;l<R;l++){const W=oe[l],te=W.originalStart-(n.originalStart+n.originalLength),ue=W.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(te,ue)<St?(n.originalLength=W.originalStart+W.originalLength-n.originalStart,n.modifiedLength=W.modifiedStart+W.modifiedLength-n.modifiedStart):(t.push(W),n=W)}return t}class ri{constructor(t,n,l,R,W){this.originalStartLineNumber=t,this.originalEndLineNumber=n,this.modifiedStartLineNumber=l,this.modifiedEndLineNumber=R,this.charChanges=W}static createFromDiffResult(t,n,l,R,W,te,ue){let ke,Be,Je,ht,Ot;if(n.originalLength===0?(ke=l.getStartLineNumber(n.originalStart)-1,Be=0):(ke=l.getStartLineNumber(n.originalStart),Be=l.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(Je=R.getStartLineNumber(n.modifiedStart)-1,ht=0):(Je=R.getStartLineNumber(n.modifiedStart),ht=R.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),te&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&W()){const Bt=l.createCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),oi=R.createCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);if(Bt.getElements().length>0&&oi.getElements().length>0){let bi=Ct(Bt,oi,W,!0).changes;ue&&(bi=li(bi)),Ot=[];for(let Li=0,Mi=bi.length;Li<Mi;Li++)Ot.push(Zt.createFromDiffChange(bi[Li],Bt,oi))}}return new ri(ke,Be,Je,ht,Ot)}}class Ui{constructor(t,n,l){this.shouldComputeCharChanges=l.shouldComputeCharChanges,this.shouldPostProcessCharChanges=l.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=l.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=l.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=n,this.original=new _t(t),this.modified=new _t(n),this.continueLineDiff=un(l.maxComputationTime),this.continueCharDiff=un(l.maxComputationTime===0?0:Math.min(l.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const t=Ct(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=t.changes,l=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const ue=[];for(let ke=0,Be=n.length;ke<Be;ke++)ue.push(ri.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[ke],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:l,changes:ue}}const R=[];let W=0,te=0;for(let ue=-1,ke=n.length;ue<ke;ue++){const Be=ue+1<ke?n[ue+1]:null,Je=Be?Be.originalStart:this.originalLines.length,ht=Be?Be.modifiedStart:this.modifiedLines.length;for(;W<Je&&te<ht;){const Ot=this.originalLines[W],Bt=this.modifiedLines[te];if(Ot!==Bt){{let oi=on(Ot,1),bi=on(Bt,1);for(;oi>1&&bi>1;){const Li=Ot.charCodeAt(oi-2),Mi=Bt.charCodeAt(bi-2);if(Li!==Mi)break;oi--,bi--}(oi>1||bi>1)&&this._pushTrimWhitespaceCharChange(R,W+1,1,oi,te+1,1,bi)}{let oi=Qi(Ot,1),bi=Qi(Bt,1);const Li=Ot.length+1,Mi=Bt.length+1;for(;oi<Li&&bi<Mi;){const Gi=Ot.charCodeAt(oi-1),Wi=Ot.charCodeAt(bi-1);if(Gi!==Wi)break;oi++,bi++}(oi<Li||bi<Mi)&&this._pushTrimWhitespaceCharChange(R,W+1,oi,Li,te+1,bi,Mi)}}W++,te++}Be&&(R.push(ri.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Be,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),W+=Be.originalLength,te+=Be.modifiedLength)}return{quitEarly:l,changes:R}}_pushTrimWhitespaceCharChange(t,n,l,R,W,te,ue){if(this._mergeTrimWhitespaceCharChange(t,n,l,R,W,te,ue))return;let ke;this.shouldComputeCharChanges&&(ke=[new Zt(n,l,n,R,W,te,W,ue)]),t.push(new ri(n,n,W,W,ke))}_mergeTrimWhitespaceCharChange(t,n,l,R,W,te,ue){const ke=t.length;if(ke===0)return!1;const Be=t[ke-1];return Be.originalEndLineNumber===0||Be.modifiedEndLineNumber===0?!1:Be.originalEndLineNumber===n&&Be.modifiedEndLineNumber===W?(this.shouldComputeCharChanges&&Be.charChanges&&Be.charChanges.push(new Zt(n,l,n,R,W,te,W,ue)),!0):Be.originalEndLineNumber+1===n&&Be.modifiedEndLineNumber+1===W?(Be.originalEndLineNumber=n,Be.modifiedEndLineNumber=W,this.shouldComputeCharChanges&&Be.charChanges&&Be.charChanges.push(new Zt(n,l,n,R,W,te,W,ue)),!0):!1}}function on(oe,t){const n=s.LC(oe);return n===-1?t:n+1}function Qi(oe,t){const n=s.ow(oe);return n===-1?t:n+2}function un(oe){if(oe===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<oe}class Sn{constructor(t,n){this.seq1Range=t,this.seq2Range=n}reverse(){return new Sn(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}}class bn{constructor(t,n){this.start=t,this.endExclusive=n}get isEmpty(){return this.start===this.endExclusive}delta(t){return new bn(this.start+t,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}join(t){return new bn(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}}class Cn{constructor(t,n){this.width=t,this.height=n,this.array=[],this.array=new Array(t*n)}get(t,n){return this.array[t+n*this.width]}set(t,n,l){this.array[t+n*this.width]=l}}class Fi{compute(t,n,l){const R=new Cn(t.length,n.length),W=new Cn(t.length,n.length),te=new Cn(t.length,n.length);for(let Bt=0;Bt<t.length;Bt++)for(let oi=0;oi<n.length;oi++){const bi=Bt===0?0:R.get(Bt-1,oi),Li=oi===0?0:R.get(Bt,oi-1);let Mi;t.getElement(Bt)===n.getElement(oi)?(Bt===0||oi===0?Mi=0:Mi=R.get(Bt-1,oi-1),Bt>0&&oi>0&&W.get(Bt-1,oi-1)===3&&(Mi+=te.get(Bt-1,oi-1)),Mi+=l?l(Bt,oi):1):Mi=-1;const Gi=Math.max(bi,Li,Mi);if(Gi===Mi){const Wi=Bt>0&&oi>0?te.get(Bt-1,oi-1):0;te.set(Bt,oi,Wi+1),W.set(Bt,oi,3)}else Gi===bi?(te.set(Bt,oi,0),W.set(Bt,oi,1)):Gi===Li&&(te.set(Bt,oi,0),W.set(Bt,oi,2));R.set(Bt,oi,Gi)}const ue=[];let ke=t.length,Be=n.length;function Je(Bt,oi){(Bt+1!==ke||oi+1!==Be)&&ue.push(new Sn(new bn(Bt+1,ke),new bn(oi+1,Be))),ke=Bt,Be=oi}let ht=t.length-1,Ot=n.length-1;for(;ht>=0&&Ot>=0;)W.get(ht,Ot)===3?(Je(ht,Ot),ht--,Ot--):W.get(ht,Ot)===1?ht--:Ot--;return Je(-1,-1),ue.reverse(),ue}}function On(oe,t,n){let l=n;return l=pn(oe,t,l),l=ui(oe,t,l),l}function rn(oe,t,n){const l=[];for(const R of n){const W=l[l.length-1];if(!W){l.push(R);continue}R.seq1Range.start-W.seq1Range.endExclusive<=2||R.seq2Range.start-W.seq2Range.endExclusive<=2?l[l.length-1]=new Sn(W.seq1Range.join(R.seq1Range),W.seq2Range.join(R.seq2Range)):l.push(R)}return l}function pn(oe,t,n){const l=[];n.length>0&&l.push(n[0]);for(let R=1;R<n.length;R++){const W=l[l.length-1],te=n[R];if(te.seq1Range.isEmpty){let ue=!0;const ke=te.seq1Range.start-W.seq1Range.endExclusive;for(let Be=1;Be<=ke;Be++)if(t.getElement(te.seq2Range.start-Be)!==t.getElement(te.seq2Range.endExclusive-Be)){ue=!1;break}if(ue){l[l.length-1]=new Sn(W.seq1Range,new bn(W.seq2Range.start,te.seq2Range.endExclusive-ke));continue}}l.push(te)}return l}function ui(oe,t,n){if(!oe.getBoundaryScore||!t.getBoundaryScore)return n;for(let l=0;l<n.length;l++){const R=n[l];if(R.seq1Range.isEmpty){const W=l>0?n[l-1].seq2Range.endExclusive:-1,te=l+1<n.length?n[l+1].seq2Range.start:t.length;n[l]=Mt(R,oe,t,te,W)}else if(R.seq2Range.isEmpty){const W=l>0?n[l-1].seq1Range.endExclusive:-1,te=l+1<n.length?n[l+1].seq1Range.start:oe.length;n[l]=Mt(R.reverse(),t,oe,te,W).reverse()}}return n}function Mt(oe,t,n,l,R){let te=1;for(;oe.seq2Range.start-te>R&&n.getElement(oe.seq2Range.start-te)===n.getElement(oe.seq2Range.endExclusive-te)&&te<20;)te++;te--;let ue=0;for(;oe.seq2Range.start+ue<l&&n.getElement(oe.seq2Range.start+ue)===n.getElement(oe.seq2Range.endExclusive+ue)&&ue<20;)ue++;if(te===0&&ue===0)return oe;let ke=0,Be=-1;for(let Je=-te;Je<=ue;Je++){const ht=oe.seq2Range.start+Je,Ot=oe.seq2Range.endExclusive+Je,Bt=oe.seq1Range.start+Je,oi=t.getBoundaryScore(Bt)+n.getBoundaryScore(ht)+n.getBoundaryScore(Ot);oi>Be&&(Be=oi,ke=Je)}return ke!==0?new Sn(oe.seq1Range.delta(ke),oe.seq2Range.delta(ke)):oe}class At{compute(t,n){if(t.length===0)return[new Sn(new bn(0,0),new bn(0,n.length))];if(n.length===0)return[new Sn(new bn(0,t.length),new bn(0,0))];function l(Ot,Bt){for(;Ot<t.length&&Bt<n.length&&t.getElement(Ot)===n.getElement(Bt);)Ot++,Bt++;return Ot}let R=0;const W=new qt;W.set(0,l(0,0));const te=new at;te.set(0,W.get(0)===0?null:new Wt(null,0,0,W.get(0)));let ue=0;e:for(;;)for(R++,ue=-R;ue<=R;ue+=2){const Ot=ue===R?-1:W.get(ue+1),Bt=ue===-R?-1:W.get(ue-1)+1,oi=Math.min(Math.max(Ot,Bt),t.length),bi=oi-ue,Li=l(oi,bi);W.set(ue,Li);const Mi=oi===Ot?te.get(ue+1):te.get(ue-1);if(te.set(ue,Li!==oi?new Wt(Mi,oi,bi,Li-oi):Mi),W.get(ue)===t.length&&W.get(ue)-ue===n.length)break e}let ke=te.get(ue);const Be=[];let Je=t.length,ht=n.length;for(;;){const Ot=ke?ke.x+ke.length:0,Bt=ke?ke.y+ke.length:0;if((Ot!==Je||Bt!==ht)&&Be.push(new Sn(new bn(Ot,Je),new bn(Bt,ht))),!ke)break;Je=ke.x,ht=ke.y,ke=ke.prev}return Be.reverse(),Be}}class Wt{constructor(t,n,l,R){this.prev=t,this.x=n,this.y=l,this.length=R}}class qt{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,n){if(t<0){if(t=-t-1,t>=this.negativeArr.length){const l=this.negativeArr;this.negativeArr=new Int32Array(l.length*2),this.negativeArr.set(l)}this.negativeArr[t]=n}else{if(t>=this.positiveArr.length){const l=this.positiveArr;this.positiveArr=new Int32Array(l.length*2),this.positiveArr.set(l)}this.positiveArr[t]=n}}}class at{constructor(){this.positiveArr=[],this.negativeArr=[]}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,n){t<0?(t=-t-1,this.negativeArr[t]=n):this.positiveArr[t]=n}}class Ve{constructor(){this.dynamicProgrammingDiffing=new Fi,this.myersDiffingAlgorithm=new At}computeDiff(t,n,l){const R=new Map;function W(Li){let Mi=R.get(Li);return Mi===void 0&&(Mi=R.size,R.set(Li,Mi)),Mi}const te=t.map(Li=>W(Li.trim())),ue=n.map(Li=>W(Li.trim())),ke=new Ge(te,t),Be=new Ge(ue,n);let Je=(()=>ke.length+Be.length<1500?this.dynamicProgrammingDiffing.compute(ke,Be,(Li,Mi)=>t[Li]===n[Mi]?n[Mi].length===0?.1:1+Math.log(1+n[Mi].length):.99):this.myersDiffingAlgorithm.compute(ke,Be))();Je=On(ke,Be,Je);const ht=[],Ot=Li=>{for(let Mi=0;Mi<Li;Mi++){const Gi=Bt+Mi,Wi=oi+Mi;if(t[Gi]!==n[Wi]){const Ki=this.refineDiff(t,n,new Sn(new bn(Gi,Gi+1),new bn(Wi,Wi+1)));for(const Mn of Ki)ht.push(Mn)}}};let Bt=0,oi=0;for(const Li of Je){(0,C.eZ)(()=>Li.seq1Range.start-Bt===Li.seq2Range.start-oi);const Mi=Li.seq1Range.start-Bt;Ot(Mi),Bt=Li.seq1Range.endExclusive,oi=Li.seq2Range.endExclusive;const Gi=this.refineDiff(t,n,Li);for(const Wi of Gi)ht.push(Wi)}return Ot(t.length-Bt),{quitEarly:!1,changes:ze(ht)}}refineDiff(t,n,l){const R=new rt(t,l.seq1Range),W=new rt(n,l.seq2Range),te=R.length+W.length<500?this.dynamicProgrammingDiffing.compute(R,W):this.myersDiffingAlgorithm.compute(R,W);let ue=On(R,W,te);return ue=rn(R,W,ue),ue.map(Be=>new Et(R.translateRange(Be.seq1Range).delta(l.seq1Range.start),W.translateRange(Be.seq2Range).delta(l.seq2Range.start)))}}function ze(oe){const t=[];for(const n of Ae(oe,(l,R)=>R.originalRange.startLineNumber-(l.originalRange.endLineNumber-(l.originalRange.endColumn>1?0:1))<=1||R.modifiedRange.startLineNumber-(l.modifiedRange.endLineNumber-(l.modifiedRange.endColumn>1?0:1))<=1)){const l=n[0],R=n[n.length-1];t.push(new Ft(new Ze(l.originalRange.startLineNumber,R.originalRange.endLineNumber+(R.originalRange.endColumn>1||R.modifiedRange.endColumn>1?1:0)),new Ze(l.modifiedRange.startLineNumber,R.modifiedRange.endLineNumber+(R.originalRange.endColumn>1||R.modifiedRange.endColumn>1?1:0)),n))}return(0,C.eZ)(()=>(0,C.DM)(t,(n,l)=>l.originalRange.startLineNumber-n.originalRange.endLineNumberExclusive===l.modifiedRange.startLineNumber-n.modifiedRange.endLineNumberExclusive&&n.originalRange.endLineNumberExclusive<l.originalRange.startLineNumber&&n.modifiedRange.endLineNumberExclusive<l.modifiedRange.startLineNumber)),t}function*Ae(oe,t){let n,l;for(const R of oe)l!==void 0&&t(l,R)?n.push(R):(n&&(yield n),n=[R]),l=R;n&&(yield n)}class Ge{constructor(t,n){this.trimmedHash=t,this.lines=n}getElement(t){return this.trimmedHash[t]}get length(){return this.trimmedHash.length}getBoundaryScore(t){const n=t===0?0:st(this.lines[t-1]),l=t===this.lines.length?0:st(this.lines[t]);return 1e3-(n+l)}}function st(oe){let t=0;for(;t<oe.length&&(oe.charCodeAt(t)===32||oe.charCodeAt(t)===9);)t++;return t}class rt{constructor(t,n){this.lines=t,this.lineRange=n;let l=0;this.firstCharOnLineOffsets=new Int32Array(n.length);for(let W=n.start;W<n.endExclusive;W++){const te=t[W];l+=te.length,this.firstCharOnLineOffsets[W-n.start]=l+1,l++}this.elements=new Int32Array(l);let R=0;for(let W=n.start;W<n.endExclusive;W++){const te=t[W];for(let ue=0;ue<te.length;ue++)this.elements[R+ue]=te.charCodeAt(ue);R+=te.length,W<t.length-1&&(this.elements[R]=`
`.charCodeAt(0),R+=1)}}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){const n=Gt(t>0?this.elements[t-1]:-1),l=Gt(t<this.elements.length?this.elements[t]:-1);if(n===6&&l===7)return 0;let R=0;return n!==l&&(R+=10,l===1&&(R+=1)),R+=Vt(n),R+=Vt(l),R}translateOffset(t){let n=0,l=this.firstCharOnLineOffsets.length;for(;n<l;){const W=Math.floor((n+l)/2);this.firstCharOnLineOffsets[W]>t?l=W:n=W+1}const R=n===0?0:this.firstCharOnLineOffsets[n-1];return new $.L(n+1,t-R+1)}translateRange(t){return N.e.fromPositions(this.translateOffset(t.start),this.translateOffset(t.endExclusive))}}const xt={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function Vt(oe){return xt[oe]}function Gt(oe){return oe===10?7:oe===13?6:ai(oe)?5:oe>=97&&oe<=122?0:oe>=65&&oe<=90?1:oe>=48&&oe<=57?2:oe===-1?3:4}function ai(oe){return oe===32||oe===9}const Si={smart:new jt,experimental:new Ve};var hi=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};class Di extends Le{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,n){const l=(0,Te.t2)(t.column,(0,Te.eq)(n),this._lines[t.lineNumber-1],0);return l?new N.e(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn):null}words(t){const n=this._lines,l=this._wordenize.bind(this);let R=0,W="",te=0,ue=[];return{*[Symbol.iterator](){for(;;)if(te<ue.length){const ke=W.substring(ue[te].start,ue[te].end);te+=1,yield ke}else if(R<n.length)W=n[R],ue=l(W,t),te=0,R+=1;else break}}}getLineWords(t,n){const l=this._lines[t-1],R=this._wordenize(l,n),W=[];for(const te of R)W.push({word:l.substring(te.start,te.end),startColumn:te.start+1,endColumn:te.end+1});return W}_wordenize(t,n){const l=[];let R;for(n.lastIndex=0;(R=n.exec(t))&&R[0].length!==0;)l.push({start:R.index,end:R.index+R[0].length});return l}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const n=this._eol,l=t.startLineNumber-1,R=t.endLineNumber-1,W=[];W.push(this._lines[l].substring(t.startColumn-1));for(let te=l+1;te<R;te++)W.push(this._lines[te]);return W.push(this._lines[R].substring(0,t.endColumn-1)),W.join(n)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const n=this._lineStarts.getIndexOf(t),l=this._lines[n.index].length;return{lineNumber:1+n.index,column:1+Math.min(n.remainder,l)}}_validateRange(t){const n=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),l=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return n.lineNumber!==t.startLineNumber||n.column!==t.startColumn||l.lineNumber!==t.endLineNumber||l.column!==t.endColumn?{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:l.lineNumber,endColumn:l.column}:t}_validatePosition(t){if(!$.L.isIPosition(t))throw new Error("bad position");let{lineNumber:n,column:l}=t,R=!1;if(n<1)n=1,l=1,R=!0;else if(n>this._lines.length)n=this._lines.length,l=this._lines[n-1].length+1,R=!0;else{const W=this._lines[n-1].length+1;l<1?(l=1,R=!0):l>W&&(l=W,R=!0)}return R?{lineNumber:n,column:l}:t}}class Ni{constructor(t,n){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=n,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(n=>t.push(this._models[n])),t}acceptNewModel(t){this._models[t.url]=new Di(S.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,n){if(!this._models[t])return;this._models[t].onEvents(n)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeUnicodeHighlights(t,n,l){return hi(this,void 0,void 0,function*(){const R=this._getModel(t);return R?ft.a.computeUnicodeHighlights(R,n,l):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,n,l,R){return hi(this,void 0,void 0,function*(){const W=this._getModel(t),te=this._getModel(n);return!W||!te?null:Ni.computeDiff(W,te,l,R)})}static computeDiff(t,n,l,R){const W=R==="experimental"?Si.experimental:Si.smart,te=t.getLinesContent(),ue=n.getLinesContent(),ke=W.computeDiff(te,ue,l);return{identical:ke.changes.length>0?!1:this._modelsAreIdentical(t,n),quitEarly:ke.quitEarly,changes:ke.changes.map(Je=>{var ht;return[Je.originalRange.startLineNumber,Je.originalRange.endLineNumberExclusive,Je.modifiedRange.startLineNumber,Je.modifiedRange.endLineNumberExclusive,(ht=Je.innerChanges)===null||ht===void 0?void 0:ht.map(Ot=>[Ot.originalRange.startLineNumber,Ot.originalRange.startColumn,Ot.originalRange.endLineNumber,Ot.originalRange.endColumn,Ot.modifiedRange.startLineNumber,Ot.modifiedRange.startColumn,Ot.modifiedRange.endLineNumber,Ot.modifiedRange.endColumn])]})}}static _modelsAreIdentical(t,n){const l=t.getLineCount(),R=n.getLineCount();if(l!==R)return!1;for(let W=1;W<=l;W++){const te=t.getLineContent(W),ue=n.getLineContent(W);if(te!==ue)return!1}return!0}computeMoreMinimalEdits(t,n){return hi(this,void 0,void 0,function*(){const l=this._getModel(t);if(!l)return n;const R=[];let W;n=n.slice(0).sort((te,ue)=>{if(te.range&&ue.range)return N.e.compareRangesUsingStarts(te.range,ue.range);const ke=te.range?0:1,Be=ue.range?0:1;return ke-Be});for(let{range:te,text:ue,eol:ke}of n){if(typeof ke=="number"&&(W=ke),N.e.isEmpty(te)&&!ue)continue;const Be=l.getValueInRange(te);if(ue=ue.replace(/\r\n|\n|\r/g,l.eol),Be===ue)continue;if(Math.max(ue.length,Be.length)>Ni._diffLimit){R.push({range:te,text:ue});continue}const Je=(0,et.a$)(Be,ue,!1),ht=l.offsetAt(N.e.lift(te).getStartPosition());for(const Ot of Je){const Bt=l.positionAt(ht+Ot.originalStart),oi=l.positionAt(ht+Ot.originalStart+Ot.originalLength),bi={text:ue.substr(Ot.modifiedStart,Ot.modifiedLength),range:{startLineNumber:Bt.lineNumber,startColumn:Bt.column,endLineNumber:oi.lineNumber,endColumn:oi.column}};l.getValueInRange(bi.range)!==bi.text&&R.push(bi)}}return typeof W=="number"&&R.push({eol:W,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),R})}computeLinks(t){return hi(this,void 0,void 0,function*(){const n=this._getModel(t);return n?Ut(n):null})}textualSuggest(t,n,l,R){return hi(this,void 0,void 0,function*(){const W=new Dt.G(!0),te=new RegExp(l,R),ue=new Set;e:for(const ke of t){const Be=this._getModel(ke);if(Be){for(const Je of Be.words(te))if(!(Je===n||!isNaN(Number(Je)))&&(ue.add(Je),ue.size>Ni._suggestionsLimit))break e}}return{words:Array.from(ue),duration:W.elapsed()}})}computeWordRanges(t,n,l,R){return hi(this,void 0,void 0,function*(){const W=this._getModel(t);if(!W)return Object.create(null);const te=new RegExp(l,R),ue=Object.create(null);for(let ke=n.startLineNumber;ke<n.endLineNumber;ke++){const Be=W.getLineWords(ke,te);for(const Je of Be){if(!isNaN(Number(Je.word)))continue;let ht=ue[Je.word];ht||(ht=[],ue[Je.word]=ht),ht.push({startLineNumber:ke,startColumn:Je.startColumn,endLineNumber:ke,endColumn:Je.endColumn})}}return ue})}navigateValueSet(t,n,l,R,W){return hi(this,void 0,void 0,function*(){const te=this._getModel(t);if(!te)return null;const ue=new RegExp(R,W);n.startColumn===n.endColumn&&(n={startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.endLineNumber,endColumn:n.endColumn+1});const ke=te.getValueInRange(n),Be=te.getWordAtPosition({lineNumber:n.startLineNumber,column:n.startColumn},ue);if(!Be)return null;const Je=te.getValueInRange(Be);return ut.INSTANCE.navigateValueSet(n,ke,Be,Je,l)})}loadForeignModule(t,n,l){const R=(ue,ke)=>this._host.fhr(ue,ke),te={host:(0,u.IU)(l,R),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(te,n),Promise.resolve((0,u.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,n){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,n))}catch(l){return Promise.reject(l)}}}Ni._diffLimit=1e5,Ni._suggestionsLimit=1e4;function yi(oe){return new Ni(oe,null)}typeof importScripts=="function"&&(G.li.monaco=d());var Zi=i(97472),Ri=i(16842),Dn=i(18166),Bi=i(26340),ln=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Ht=function(oe,t){return function(n,l){t(n,l,oe)}},fe=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};const De=60*1e3,ie=5*60*1e3;function Ie(oe,t){const n=oe.getModel(t);return!(!n||n.isTooLargeForSyncing())}let We=class extends f.JT{constructor(t,n,l,R,W){super(),this._modelService=t,this._workerManager=this._register(new lt(this._modelService,R)),this._logService=l,this._register(W.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(te,ue)=>Ie(this._modelService,te.uri)?this._workerManager.withWorker().then(ke=>ke.computeLinks(te.uri)).then(ke=>ke&&{links:ke}):Promise.resolve({links:[]})})),this._register(W.completionProvider.register("*",new nt(this._workerManager,n,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(t){return Ie(this._modelService,t)}computedUnicodeHighlights(t,n,l){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(t,n,l))}computeDiff(t,n,l,R){return fe(this,void 0,void 0,function*(){const W=yield this._workerManager.withWorker().then(ue=>ue.computeDiff(t,n,l,R));return W?{identical:W.identical,quitEarly:W.quitEarly,changes:W.changes.map(ue=>{var ke;return new Ft(new Ze(ue[0],ue[1]),new Ze(ue[2],ue[3]),(ke=ue[4])===null||ke===void 0?void 0:ke.map(Be=>new Et(new N.e(Be[0],Be[1],Be[2],Be[3]),new N.e(Be[4],Be[5],Be[6],Be[7]))))})}:null})}computeMoreMinimalEdits(t,n){if((0,Ri.Of)(n)){if(!Ie(this._modelService,t))return Promise.resolve(n);const l=Dt.G.create(!0),R=this._workerManager.withWorker().then(W=>W.computeMoreMinimalEdits(t,n));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),l.elapsed())),Promise.race([R,(0,B.Vs)(1e3).then(()=>n)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Ie(this._modelService,t)}navigateValueSet(t,n,l){return this._workerManager.withWorker().then(R=>R.navigateValueSet(t,n,l))}canComputeWordRanges(t){return Ie(this._modelService,t)}computeWordRanges(t,n){return this._workerManager.withWorker().then(l=>l.computeWordRanges(t,n))}};We=ln([Ht(0,L.q),Ht(1,Zi.V),Ht(2,Dn.VZ),Ht(3,X.c_),Ht(4,Bi.p)],We);class nt{constructor(t,n,l,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=n,this._modelService=l}provideCompletionItems(t,n){return fe(this,void 0,void 0,function*(){const l=this._configurationService.getValue(t.uri,n,"editor");if(!l.wordBasedSuggestions)return;const R=[];if(l.wordBasedSuggestionsMode==="currentDocument")Ie(this._modelService,t.uri)&&R.push(t.uri);else for(const ht of this._modelService.getModels())Ie(this._modelService,ht.uri)&&(ht===t?R.unshift(ht.uri):(l.wordBasedSuggestionsMode==="allDocuments"||ht.getLanguageId()===t.getLanguageId())&&R.push(ht.uri));if(R.length===0)return;const W=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),te=t.getWordAtPosition(n),ue=te?new N.e(n.lineNumber,te.startColumn,n.lineNumber,te.endColumn):N.e.fromPositions(n),ke=ue.setEndPosition(n.lineNumber,n.column),Je=yield(yield this._workerManager.withWorker()).textualSuggest(R,te==null?void 0:te.word,W);if(Je)return{duration:Je.duration,suggestions:Je.words.map(ht=>({kind:18,label:ht,insertText:ht,range:{insert:ke,replace:ue}}))}})}}class lt extends f.JT{constructor(t,n){super(),this.languageConfigurationService=n,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new B.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(ie/2)),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>ie&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Qt(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Pt extends f.JT{constructor(t,n,l){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=n,!l){const R=new B.zh;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(De/2)),this._register(R)}}dispose(){for(const t in this._syncedModels)(0,f.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,n){for(const l of t){const R=l.toString();this._syncedModels[R]||this._beginModelSync(l,n),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const t=new Date().getTime(),n=[];for(const l in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[l]>De&&n.push(l);for(const l of n)this._stopModelSync(l)}_beginModelSync(t,n){const l=this._modelService.getModel(t);if(!l||!n&&l.isTooLargeForSyncing())return;const R=t.toString();this._proxy.acceptNewModel({url:l.uri.toString(),lines:l.getLinesContent(),EOL:l.getEOL(),versionId:l.getVersionId()});const W=new f.SL;W.add(l.onDidChangeContent(te=>{this._proxy.acceptModelChanged(R.toString(),te)})),W.add(l.onWillDispose(()=>{this._stopModelSync(R)})),W.add((0,f.OF)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=W}_stopModelSync(t){const n=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,f.B9)(n)}}class $t{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class ti{constructor(t){this._workerClient=t}fhr(t,n){return this._workerClient.fhr(t,n)}}class Qt extends f.JT{constructor(t,n,l,R){super(),this.languageConfigurationService=R,this._disposed=!1,this._modelService=t,this._keepIdleModels=n,this._workerFactory=new dt(l),this._worker=null,this._modelManager=null}fhr(t,n){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Re(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new ti(this)))}catch(t){ye(t),this._worker=new $t(new Ni(new ti(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(ye(t),this._worker=new $t(new Ni(new ti(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new Pt(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,n=!1){return fe(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,j.F0)()):this._getProxy().then(l=>(this._getOrCreateModelManager(l).ensureSyncedResources(t,n),l))})}computedUnicodeHighlights(t,n,l){return this._withSyncedResources([t]).then(R=>R.computeUnicodeHighlights(t.toString(),n,l))}computeDiff(t,n,l,R){return this._withSyncedResources([t,n],!0).then(W=>W.computeDiff(t.toString(),n.toString(),l,R))}computeMoreMinimalEdits(t,n){return this._withSyncedResources([t]).then(l=>l.computeMoreMinimalEdits(t.toString(),n))}computeLinks(t){return this._withSyncedResources([t]).then(n=>n.computeLinks(t.toString()))}textualSuggest(t,n,l){return fe(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(t),W=l.source,te=(0,s.mr)(l);return R.textualSuggest(t.map(ue=>ue.toString()),n,W,te)})}computeWordRanges(t,n){return this._withSyncedResources([t]).then(l=>{const R=this._modelService.getModel(t);if(!R)return Promise.resolve(null);const W=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),te=W.source,ue=(0,s.mr)(W);return l.computeWordRanges(t.toString(),n,te,ue)})}navigateValueSet(t,n,l){return this._withSyncedResources([t]).then(R=>{const W=this._modelService.getModel(t);if(!W)return null;const te=this.languageConfigurationService.getLanguageConfiguration(W.getLanguageId()).getWordDefinition(),ue=te.source,ke=(0,s.mr)(te);return R.navigateValueSet(t.toString(),n,l,ue,ke)})}dispose(){super.dispose(),this._disposed=!0}}function Jt(oe,t,n){return new di(oe,t,n)}class di extends Qt{constructor(t,n,l){super(t,l.keepIdleModels||!1,l.label,n),this._foreignModuleId=l.moduleId,this._foreignModuleCreateData=l.createData||null,this._foreignModuleHost=l.host||null,this._foreignProxy=null}fhr(t,n){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,n))}catch(l){return Promise.reject(l)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const n=this._foreignModuleHost?(0,u.$E)(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,n).then(l=>{this._foreignModuleCreateData=null;const R=(ue,ke)=>t.fmr(ue,ke),W=(ue,ke)=>function(){const Be=Array.prototype.slice.call(arguments,0);return ke(ue,Be)},te={};for(const ue of l)te[ue]=W(ue,R);return te})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(n=>this.getProxy())}}var Ci=i(28273),gi=i(8101),Ei=i(36885);function Pi(oe){return Array.isArray(oe)}function tn(oe){return!Pi(oe)}function an(oe){return typeof oe=="string"}function nn(oe){return!an(oe)}function cn(oe){return!oe}function En(oe,t){return oe.ignoreCase&&t?t.toLowerCase():t}function Rn(oe){return oe.replace(/[&<>'"_]/g,"-")}function ps(oe,t){console.log(`${oe.languageId}: ${t}`)}function mn(oe,t){return new Error(`${oe.languageId}: ${t}`)}function Xn(oe,t,n,l,R){const W=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let te=null;return t.replace(W,function(ue,ke,Be,Je,ht,Ot,Bt,oi,bi){return cn(Be)?cn(Je)?!cn(ht)&&ht<l.length?En(oe,l[ht]):!cn(Bt)&&oe&&typeof oe[Bt]=="string"?oe[Bt]:(te===null&&(te=R.split("."),te.unshift(R)),!cn(Ot)&&Ot<te.length?En(oe,te[Ot]):""):En(oe,n):"$"})}function us(oe,t){let n=t;for(;n&&n.length>0;){const l=oe.tokenizer[n];if(l)return l;const R=n.lastIndexOf(".");R<0?n=null:n=n.substr(0,R)}return null}function qi(oe,t){let n=t;for(;n&&n.length>0;){if(oe.stateNames[n])return!0;const R=n.lastIndexOf(".");R<0?n=null:n=n.substr(0,R)}return!1}var ii=i(64464),Oi=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Vi=function(oe,t){return function(n,l){t(n,l,oe)}};const yn=5;class An{static create(t,n){return this._INSTANCE.create(t,n)}constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}create(t,n){if(t!==null&&t.depth>=this._maxCacheDepth)return new Kn(t,n);let l=Kn.getStackElementId(t);l.length>0&&(l+="|"),l+=n;let R=this._entries[l];return R||(R=new Kn(t,n),this._entries[l]=R,R)}}An._INSTANCE=new An(yn);class Kn{constructor(t,n){this.parent=t,this.state=n,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let n="";for(;t!==null;)n.length>0&&(n+="|"),n+=t.state,t=t.parent;return n}static _equals(t,n){for(;t!==null&&n!==null;){if(t===n)return!0;if(t.state!==n.state)return!1;t=t.parent,n=n.parent}return t===null&&n===null}equals(t){return Kn._equals(this,t)}push(t){return An.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return An.create(this.parent,t)}}class Hn{constructor(t,n){this.languageId=t,this.state=n}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new Hn(this.languageId,this.state)}}class $n{static create(t,n){return this._INSTANCE.create(t,n)}constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}create(t,n){if(n!==null)return new ss(t,n);if(t!==null&&t.depth>=this._maxCacheDepth)return new ss(t,n);const l=Kn.getStackElementId(t);let R=this._entries[l];return R||(R=new ss(t,null),this._entries[l]=R,R)}}$n._INSTANCE=new $n(yn);class ss{constructor(t,n){this.stack=t,this.embeddedLanguageData=n}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:$n.create(this.stack,this.embeddedLanguageData)}equals(t){return!(t instanceof ss)||!this.stack.equals(t.stack)?!1:this.embeddedLanguageData===null&&t.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||t.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(t.embeddedLanguageData)}}class Lt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(t){this._languageId=t}emit(t,n){this._lastTokenType===n&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=n,this._lastTokenLanguage=this._languageId,this._tokens.push(new O.WU(t,n,this._languageId)))}nestedLanguageTokenize(t,n,l,R){const W=l.languageId,te=l.state,ue=O.RW.get(W);if(!ue)return this.enterLanguage(W),this.emit(R,""),te;const ke=ue.tokenize(t,n,te);if(R!==0)for(const Be of ke.tokens)this._tokens.push(new O.WU(Be.offset+R,Be.type,Be.language));else this._tokens=this._tokens.concat(ke.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,ke.endState}finalize(t){return new O.hG(this._tokens,t)}}class T{constructor(t,n){this._languageService=t,this._theme=n,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)}emit(t,n){const l=this._theme.match(this._currentLanguageId,n)|1024;this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(t),this._tokens.push(l))}static _merge(t,n,l){const R=t!==null?t.length:0,W=n.length,te=l!==null?l.length:0;if(R===0&&W===0&&te===0)return new Uint32Array(0);if(R===0&&W===0)return l;if(W===0&&te===0)return t;const ue=new Uint32Array(R+W+te);t!==null&&ue.set(t);for(let ke=0;ke<W;ke++)ue[R+ke]=n[ke];return l!==null&&ue.set(l,R+W),ue}nestedLanguageTokenize(t,n,l,R){const W=l.languageId,te=l.state,ue=O.RW.get(W);if(!ue)return this.enterLanguage(W),this.emit(R,""),te;const ke=ue.tokenizeEncoded(t,n,te);if(R!==0)for(let Be=0,Je=ke.tokens.length;Be<Je;Be+=2)ke.tokens[Be]+=R;return this._prependTokens=T._merge(this._prependTokens,this._tokens,ke.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,ke.endState}finalize(t){return new O.DI(T._merge(this._prependTokens,this._tokens,null),t)}}let ee=class iu{constructor(t,n,l,R,W){this._configurationService=W,this._languageService=t,this._standaloneThemeService=n,this._languageId=l,this._lexer=R,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let te=!1;this._tokenizationRegistryListener=O.RW.onDidChange(ue=>{if(te)return;let ke=!1;for(let Be=0,Je=ue.changedLanguages.length;Be<Je;Be++){const ht=ue.changedLanguages[Be];if(this._embeddedLanguages[ht]){ke=!0;break}}ke&&(te=!0,O.RW.fire([this._languageId]),te=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(ue=>{ue.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const n in this._embeddedLanguages){const l=O.RW.get(n);if(l){if(l instanceof iu){const R=l.getLoadStatus();R.loaded===!1&&t.push(R.promise)}continue}O.RW.isResolved(n)||t.push(O.RW.getOrCreate(n))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(n=>{})}}getInitialState(){const t=An.create(null,this._lexer.start);return $n.create(t,null)}tokenize(t,n,l){if(t.length>=this._maxTokenizationLineLength)return(0,q.Ri)(this._languageId,l);const R=new Lt,W=this._tokenize(t,n,l,R);return R.finalize(W)}tokenizeEncoded(t,n,l){if(t.length>=this._maxTokenizationLineLength)return(0,q.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),l);const R=new T(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),W=this._tokenize(t,n,l,R);return R.finalize(W)}_tokenize(t,n,l,R){return l.embeddedLanguageData?this._nestedTokenize(t,n,l,0,R):this._myTokenize(t,n,l,0,R)}_findLeavingNestedLanguageOffset(t,n){let l=this._lexer.tokenizer[n.stack.state];if(!l&&(l=us(this._lexer,n.stack.state),!l))throw mn(this._lexer,"tokenizer state is not defined: "+n.stack.state);let R=-1,W=!1;for(const te of l){if(!nn(te.action)||te.action.nextEmbedded!=="@pop")continue;W=!0;let ue=te.regex;const ke=te.regex.source;if(ke.substr(0,4)==="^(?:"&&ke.substr(ke.length-1,1)===")"){const Je=(ue.ignoreCase?"i":"")+(ue.unicode?"u":"");ue=new RegExp(ke.substr(4,ke.length-5),Je)}const Be=t.search(ue);Be===-1||Be!==0&&te.matchOnlyAtLineStart||(R===-1||Be<R)&&(R=Be)}if(!W)throw mn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+n.stack.state);return R}_nestedTokenize(t,n,l,R,W){const te=this._findLeavingNestedLanguageOffset(t,l);if(te===-1){const Be=W.nestedLanguageTokenize(t,n,l.embeddedLanguageData,R);return $n.create(l.stack,new Hn(l.embeddedLanguageData.languageId,Be))}const ue=t.substring(0,te);ue.length>0&&W.nestedLanguageTokenize(ue,!1,l.embeddedLanguageData,R);const ke=t.substring(te);return this._myTokenize(ke,n,l,R+te,W)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,n,l,R,W){W.enterLanguage(this._languageId);const te=t.length,ue=n&&this._lexer.includeLF?t+`
`:t,ke=ue.length;let Be=l.embeddedLanguageData,Je=l.stack,ht=0,Ot=null,Bt=!0;for(;Bt||ht<ke;){const oi=ht,bi=Je.depth,Li=Ot?Ot.groups.length:0,Mi=Je.state;let Gi=null,Wi=null,Ki=null,Mn=null,Ln=null;if(Ot){Gi=Ot.matches;const vn=Ot.groups.shift();Wi=vn.matched,Ki=vn.action,Mn=Ot.rule,Ot.groups.length===0&&(Ot=null)}else{if(!Bt&&ht>=ke)break;Bt=!1;let vn=this._lexer.tokenizer[Mi];if(!vn&&(vn=us(this._lexer,Mi),!vn))throw mn(this._lexer,"tokenizer state is not defined: "+Mi);const Ji=ue.substr(ht);for(const Nn of vn)if((ht===0||!Nn.matchOnlyAtLineStart)&&(Gi=Ji.match(Nn.regex),Gi)){Wi=Gi[0],Ki=Nn.action;break}}if(Gi||(Gi=[""],Wi=""),Ki||(ht<ke&&(Gi=[ue.charAt(ht)],Wi=Gi[0]),Ki=this._lexer.defaultToken),Wi===null)break;for(ht+=Wi.length;tn(Ki)&&nn(Ki)&&Ki.test;)Ki=Ki.test(Wi,Gi,Mi,ht===ke);let dn=null;if(typeof Ki=="string"||Array.isArray(Ki))dn=Ki;else if(Ki.group)dn=Ki.group;else if(Ki.token!==null&&Ki.token!==void 0){if(Ki.tokenSubst?dn=Xn(this._lexer,Ki.token,Wi,Gi,Mi):dn=Ki.token,Ki.nextEmbedded)if(Ki.nextEmbedded==="@pop"){if(!Be)throw mn(this._lexer,"cannot pop embedded language if not inside one");Be=null}else{if(Be)throw mn(this._lexer,"cannot enter embedded language from within an embedded language");Ln=Xn(this._lexer,Ki.nextEmbedded,Wi,Gi,Mi)}if(Ki.goBack&&(ht=Math.max(0,ht-Ki.goBack)),Ki.switchTo&&typeof Ki.switchTo=="string"){let vn=Xn(this._lexer,Ki.switchTo,Wi,Gi,Mi);if(vn[0]==="@"&&(vn=vn.substr(1)),us(this._lexer,vn))Je=Je.switchTo(vn);else throw mn(this._lexer,"trying to switch to a state '"+vn+"' that is undefined in rule: "+this._safeRuleName(Mn))}else{if(Ki.transform&&typeof Ki.transform=="function")throw mn(this._lexer,"action.transform not supported");if(Ki.next)if(Ki.next==="@push"){if(Je.depth>=this._lexer.maxStack)throw mn(this._lexer,"maximum tokenizer stack size reached: ["+Je.state+","+Je.parent.state+",...]");Je=Je.push(Mi)}else if(Ki.next==="@pop"){if(Je.depth<=1)throw mn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Mn));Je=Je.pop()}else if(Ki.next==="@popall")Je=Je.popall();else{let vn=Xn(this._lexer,Ki.next,Wi,Gi,Mi);if(vn[0]==="@"&&(vn=vn.substr(1)),us(this._lexer,vn))Je=Je.push(vn);else throw mn(this._lexer,"trying to set a next state '"+vn+"' that is undefined in rule: "+this._safeRuleName(Mn))}}Ki.log&&typeof Ki.log=="string"&&ps(this._lexer,this._lexer.languageId+": "+Xn(this._lexer,Ki.log,Wi,Gi,Mi))}if(dn===null)throw mn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Mn));const ki=vn=>{const Ji=this._languageService.getLanguageIdByLanguageName(vn)||this._languageService.getLanguageIdByMimeType(vn)||vn,Nn=this._getNestedEmbeddedLanguageData(Ji);if(ht<ke){const jn=t.substr(ht);return this._nestedTokenize(jn,n,$n.create(Je,Nn),R+ht,W)}else return $n.create(Je,Nn)};if(Array.isArray(dn)){if(Ot&&Ot.groups.length>0)throw mn(this._lexer,"groups cannot be nested: "+this._safeRuleName(Mn));if(Gi.length!==dn.length+1)throw mn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Mn));let vn=0;for(let Ji=1;Ji<Gi.length;Ji++)vn+=Gi[Ji].length;if(vn!==Wi.length)throw mn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Mn));Ot={rule:Mn,matches:Gi,groups:[]};for(let Ji=0;Ji<dn.length;Ji++)Ot.groups[Ji]={action:dn[Ji],matched:Gi[Ji+1]};ht-=Wi.length;continue}else{if(dn==="@rematch"&&(ht-=Wi.length,Wi="",Gi=null,dn="",Ln!==null))return ki(Ln);if(Wi.length===0){if(ke===0||bi!==Je.depth||Mi!==Je.state||(Ot?Ot.groups.length:0)!==Li)continue;throw mn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Mn))}let vn=null;if(an(dn)&&dn.indexOf("@brackets")===0){const Ji=dn.substr(9),Nn=re(this._lexer,Wi);if(!Nn)throw mn(this._lexer,"@brackets token returned but no bracket defined as: "+Wi);vn=Rn(Nn.token+Ji)}else{const Ji=dn===""?"":dn+this._lexer.tokenPostfix;vn=Rn(Ji)}oi<te&&W.emit(oi+R,vn)}if(Ln!==null)return ki(Ln)}return $n.create(Je,Be)}_getNestedEmbeddedLanguageData(t){if(!this._languageService.isRegisteredLanguageId(t))return new Hn(t,q.TJ);t!==this._languageId&&(O.RW.getOrCreate(t),this._embeddedLanguages[t]=!0);const n=O.RW.get(t);return n?new Hn(t,n.getInitialState()):new Hn(t,q.TJ)}};ee=Oi([Vi(4,ii.Ui)],ee);function re(oe,t){if(!t)return null;t=En(oe,t);const n=oe.brackets;for(const l of n){if(l.open===t)return{token:l.token,bracketType:1};if(l.close===t)return{token:l.token,bracketType:-1}}return null}var Me=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})},Ue;const tt=(Ue=window.trustedTypes)===null||Ue===void 0?void 0:Ue.createPolicy("standaloneColorizer",{createHTML:oe=>oe});class yt{static colorizeElement(t,n,l,R){R=R||{};const W=R.theme||"vs",te=R.mimeType||l.getAttribute("lang")||l.getAttribute("data-lang");if(!te)return console.error("Mode not detected"),Promise.resolve();const ue=n.getLanguageIdByMimeType(te)||te;t.setTheme(W);const ke=l.firstChild?l.firstChild.nodeValue:"";l.className+=" "+W;const Be=Je=>{var ht;const Ot=(ht=tt==null?void 0:tt.createHTML(Je))!==null&&ht!==void 0?ht:Je;l.innerHTML=Ot};return this.colorize(n,ke||"",ue,R).then(Be,Je=>console.error(Je))}static colorize(t,n,l,R){return Me(this,void 0,void 0,function*(){const W=t.languageIdCodec;let te=4;R&&typeof R.tabSize=="number"&&(te=R.tabSize),s.uS(n)&&(n=n.substr(1));const ue=s.uq(n);if(!t.isRegisteredLanguageId(l))return V(ue,te,W);const ke=yield O.RW.getOrCreate(l);return ke?Ye(ue,te,ke,W):V(ue,te,W)})}static colorizeLine(t,n,l,R,W=4){const te=Ei.wA.isBasicASCII(t,n),ue=Ei.wA.containsRTL(t,te,l);return(0,gi.tF)(new gi.IJ(!1,!0,t,!1,te,ue,0,R,[],W,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,n,l=4){const R=t.getLineContent(n);t.tokenization.forceTokenization(n);const te=t.tokenization.getLineTokens(n).inflate();return this.colorizeLine(R,t.mightContainNonBasicASCII(),t.mightContainRTL(),te,l)}}function Ye(oe,t,n,l){return new Promise((R,W)=>{const te=()=>{const ue=de(oe,t,n,l);if(n instanceof ee){const ke=n.getLoadStatus();if(ke.loaded===!1){ke.promise.then(te,W);return}}R(ue)};te()})}function V(oe,t,n){let l=[];const W=new Uint32Array(2);W[0]=0,W[1]=33587200;for(let te=0,ue=oe.length;te<ue;te++){const ke=oe[te];W[0]=ke.length;const Be=new Ci.A(W,ke,n),Je=Ei.wA.isBasicASCII(ke,!0),ht=Ei.wA.containsRTL(ke,Je,!0),Ot=(0,gi.tF)(new gi.IJ(!1,!0,ke,!1,Je,ht,0,Be,[],t,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(Ot.html),l.push("<br/>")}return l.join("")}function de(oe,t,n,l){let R=[],W=n.getInitialState();for(let te=0,ue=oe.length;te<ue;te++){const ke=oe[te],Be=n.tokenizeEncoded(ke,!0,W);Ci.A.convertToEndOffset(Be.tokens,ke.length);const Je=new Ci.A(Be.tokens,ke,l),ht=Ei.wA.isBasicASCII(ke,!0),Ot=Ei.wA.containsRTL(ke,ht,!0),Bt=(0,gi.tF)(new gi.IJ(!1,!0,ke,!1,ht,Ot,0,Je.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));R=R.concat(Bt.html),R.push("<br/>"),W=Be.endState}return R.join("")}var Ee=i(26017),Xe=i(76934),Pe=i(16563),pt=i(56693),It=i(73943),Rt=i(69303),ei=i(54195),ni=i(99144),pi=i(70202),mi=i(98981),wi=i(43167),ci=i(38224),vi=i(66690),Ti=i(50453),Yi=i(23286),Zn=i(81189),wn=i(88159),Cs=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},bs=function(oe,t){return function(n,l){t(n,l,oe)}},Ms=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})},xn;const Gn=3;class Ss{constructor(t,n,l,R){this.originalLineStart=t,this.originalLineEnd=n,this.modifiedLineStart=l,this.modifiedLineEnd=R}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class Co{constructor(t){this.entries=t}}const Ar=(0,wn.q5)("diff-review-insert",ei.l.add,b.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),va=(0,wn.q5)("diff-review-remove",ei.l.remove,b.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),or=(0,wn.q5)("diff-review-close",ei.l.close,b.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let bo=class nr extends f.JT{constructor(t,n,l){super(),this._languageService=n,this._audioCueService=l,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,pt.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,pt.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new ci.o(this.actionBarContainer.domNode)),this._actionBar.push(new Ti.aU("diffreview.close",b.NC("label.close","Close"),"close-diff-review "+Zn.k.asClassName(or),!0,()=>Ms(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,pt.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,pt.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new vi.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(Pe.mu(this.domNode.domNode,"click",R=>{R.preventDefault();const W=Pe.Fx(R.target,"diff-review-row");W&&this._goToRow(W)})),this._register(Pe.mu(this.domNode.domNode,"keydown",R=>{(R.equals(18)||R.equals(2066)||R.equals(530))&&(R.preventDefault(),this._goToRow(this._getNextRow(),"next")),(R.equals(16)||R.equals(2064)||R.equals(528))&&(R.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(R.equals(9)||R.equals(2057)||R.equals(521)||R.equals(1033)||R.equals(10)||R.equals(3))&&(R.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let l=-1;for(let R=0,W=this._diffs.length;R<W;R++)if(this._diffs[R]===this._currentDiff){l=R;break}t=this._diffs.length+l-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const n=this._diffs[t].entries;this._diffEditor.setPosition(new $.L(n[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:n[0].modifiedLineStart,endColumn:1073741824,endLineNumber:n[n.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let l=-1;for(let R=0,W=this._diffs.length;R<W;R++)if(this._diffs[R]===this._currentDiff){l=R;break}t=l+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const n=this._diffs[t].entries;this._diffEditor.setPosition(new $.L(n[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:n[0].modifiedLineStart,endColumn:1073741824,endLineNumber:n[n.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let t=-1;const n=this._getCurrentFocusedRow();if(n){const l=parseInt(n.getAttribute("data-line"),10);isNaN(l)||(t=l)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new $.L(t,1)),this._diffEditor.revealPosition(new $.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){const t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t,n){const l=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),l&&l!==t&&(l.tabIndex=-1);const R=n?n==="next"?l==null?void 0:l.nextElementSibling:l==null?void 0:l.previousElementSibling:l;R!=null&&R.classList.contains("line-insert")?this._audioCueService.playAudioCue(w.diffLineInserted,!0):R!=null&&R.classList.contains("line-delete")&&this._audioCueService.playAudioCue(w.diffLineDeleted,!0),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,n,l){this._width=n,this.shadow.setTop(t-6),this.shadow.setWidth(n),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(n),this.domNode.setHeight(l),this._content.setHeight(l),this._content.setWidth(n),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const n=this._diffEditor.getOriginalEditor().getModel(),l=this._diffEditor.getModifiedEditor().getModel();return!n||!l?[]:nr._mergeAdjacent(t,n.getLineCount(),l.getLineCount())}static _mergeAdjacent(t,n,l){if(!t||t.length===0)return[];const R=[];let W=0;for(let Be=0,Je=t.length;Be<Je;Be++){const ht=t[Be],Ot=ht.originalStartLineNumber,Bt=ht.originalEndLineNumber,oi=ht.modifiedStartLineNumber,bi=ht.modifiedEndLineNumber,Li=[];let Mi=0;{const Gi=Bt===0?Ot:Ot-1,Wi=bi===0?oi:oi-1;let Ki=1,Mn=1;if(Be>0){const ki=t[Be-1];ki.originalEndLineNumber===0?Ki=ki.originalStartLineNumber+1:Ki=ki.originalEndLineNumber+1,ki.modifiedEndLineNumber===0?Mn=ki.modifiedStartLineNumber+1:Mn=ki.modifiedEndLineNumber+1}let Ln=Gi-Gn+1,dn=Wi-Gn+1;if(Ln<Ki){const ki=Ki-Ln;Ln=Ln+ki,dn=dn+ki}if(dn<Mn){const ki=Mn-dn;Ln=Ln+ki,dn=dn+ki}Li[Mi++]=new Ss(Ln,Gi,dn,Wi)}Bt!==0&&(Li[Mi++]=new Ss(Ot,Bt,0,0)),bi!==0&&(Li[Mi++]=new Ss(0,0,oi,bi));{const Gi=Bt===0?Ot+1:Bt+1,Wi=bi===0?oi+1:bi+1;let Ki=n,Mn=l;if(Be+1<Je){const ki=t[Be+1];ki.originalEndLineNumber===0?Ki=ki.originalStartLineNumber:Ki=ki.originalStartLineNumber-1,ki.modifiedEndLineNumber===0?Mn=ki.modifiedStartLineNumber:Mn=ki.modifiedStartLineNumber-1}let Ln=Gi+Gn-1,dn=Wi+Gn-1;if(Ln>Ki){const ki=Ki-Ln;Ln=Ln+ki,dn=dn+ki}if(dn>Mn){const ki=Mn-dn;Ln=Ln+ki,dn=dn+ki}Li[Mi++]=new Ss(Gi,Ln,Wi,dn)}R[W++]=new Co(Li)}let te=R[0].entries;const ue=[];let ke=0;for(let Be=1,Je=R.length;Be<Je;Be++){const ht=R[Be].entries,Ot=te[te.length-1],Bt=ht[0];if(Ot.getType()===0&&Bt.getType()===0&&Bt.originalLineStart<=Ot.originalLineEnd){te[te.length-1]=new Ss(Ot.originalLineStart,Bt.originalLineEnd,Ot.modifiedLineStart,Bt.modifiedLineEnd),te=te.concat(ht.slice(1));continue}ue[ke++]=new Co(te),te=ht}return ue[ke++]=new Co(te),ue}_findDiffIndex(t){const n=t.lineNumber;for(let l=0,R=this._diffs.length;l<R;l++){const W=this._diffs[l].entries,te=W[W.length-1].modifiedLineEnd;if(n<=te)return l}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),n=this._diffEditor.getModifiedEditor().getOptions(),l=this._diffEditor.getOriginalEditor().getModel(),R=this._diffEditor.getModifiedEditor().getModel(),W=l.getOptions(),te=R.getOptions();if(!this._isVisible||!l||!R){Pe.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ue=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ue]===this._currentDiff)return;this._currentDiff=this._diffs[ue];const ke=this._diffs[ue].entries,Be=document.createElement("div");Be.className="diff-review-table",Be.setAttribute("role","list"),Be.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,ni.N)(Be,n.get(47));let Je=0,ht=0,Ot=0,Bt=0;for(let dn=0,ki=ke.length;dn<ki;dn++){const vn=ke[dn],Ji=vn.originalLineStart,Nn=vn.originalLineEnd,jn=vn.modifiedLineStart,_n=vn.modifiedLineEnd;Ji!==0&&(Je===0||Ji<Je)&&(Je=Ji),Nn!==0&&(ht===0||Nn>ht)&&(ht=Nn),jn!==0&&(Ot===0||jn<Ot)&&(Ot=jn),_n!==0&&(Bt===0||_n>Bt)&&(Bt=_n)}const oi=document.createElement("div");oi.className="diff-review-row";const bi=document.createElement("div");bi.className="diff-review-cell diff-review-summary";const Li=ht-Je+1,Mi=Bt-Ot+1;bi.appendChild(document.createTextNode(`${ue+1}/${this._diffs.length}: @@ -${Je},${Li} +${Ot},${Mi} @@`)),oi.setAttribute("data-line",String(Ot));const Gi=dn=>dn===0?b.NC("no_lines_changed","no lines changed"):dn===1?b.NC("one_line_changed","1 line changed"):b.NC("more_lines_changed","{0} lines changed",dn),Wi=Gi(Li),Ki=Gi(Mi);oi.setAttribute("aria-label",b.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ue+1,this._diffs.length,Je,Wi,Ot,Ki)),oi.appendChild(bi),oi.setAttribute("role","listitem"),Be.appendChild(oi);const Mn=n.get(63);let Ln=Ot;for(let dn=0,ki=ke.length;dn<ki;dn++){const vn=ke[dn];nr._renderSection(Be,vn,Ln,Mn,this._width,t,l,W,n,R,te,this._languageService.languageIdCodec),vn.modifiedLineStart!==0&&(Ln=vn.modifiedLineEnd)}Pe.PO(this._content.domNode),this._content.domNode.appendChild(Be),this.scrollbar.scanDomNode()}static _renderSection(t,n,l,R,W,te,ue,ke,Be,Je,ht,Ot){const Bt=n.getType();let oi="diff-review-row",bi="";const Li="diff-review-spacer";let Mi=null;switch(Bt){case 1:oi="diff-review-row line-insert",bi=" char-insert",Mi=Ar;break;case 2:oi="diff-review-row line-delete",bi=" char-delete",Mi=va;break}const Gi=n.originalLineStart,Wi=n.originalLineEnd,Ki=n.modifiedLineStart,Mn=n.modifiedLineEnd,Ln=Math.max(Mn-Ki,Wi-Gi),dn=te.get(138),ki=dn.glyphMarginWidth+dn.lineNumbersWidth,vn=Be.get(138),Ji=10+vn.glyphMarginWidth+vn.lineNumbersWidth;for(let Nn=0;Nn<=Ln;Nn++){const jn=Gi===0?0:Gi+Nn,_n=Ki===0?0:Ki+Nn,ts=document.createElement("div");ts.style.minWidth=W+"px",ts.className=oi,ts.setAttribute("role","listitem"),_n!==0&&(l=_n),ts.setAttribute("data-line",String(l));const Ns=document.createElement("div");Ns.className="diff-review-cell",Ns.style.height=`${R}px`,ts.appendChild(Ns);const qn=document.createElement("span");qn.style.width=ki+"px",qn.style.minWidth=ki+"px",qn.className="diff-review-line-number"+bi,jn!==0?qn.appendChild(document.createTextNode(String(jn))):qn.innerText="\xA0",Ns.appendChild(qn);const Bs=document.createElement("span");Bs.style.width=Ji+"px",Bs.style.minWidth=Ji+"px",Bs.style.paddingRight="10px",Bs.className="diff-review-line-number"+bi,_n!==0?Bs.appendChild(document.createTextNode(String(_n))):Bs.innerText="\xA0",Ns.appendChild(Bs);const Xs=document.createElement("span");if(Xs.className=Li,Mi){const Gs=document.createElement("span");Gs.className=Zn.k.asClassName(Mi),Gs.innerText="\xA0\xA0",Xs.appendChild(Gs)}else Xs.innerText="\xA0\xA0";Ns.appendChild(Xs);let so;if(_n!==0){let Gs=this._renderLine(Je,Be,ht.tabSize,_n,Ot);nr._ttPolicy&&(Gs=nr._ttPolicy.createHTML(Gs)),Ns.insertAdjacentHTML("beforeend",Gs),so=Je.getLineContent(_n)}else{let Gs=this._renderLine(ue,te,ke.tabSize,jn,Ot);nr._ttPolicy&&(Gs=nr._ttPolicy.createHTML(Gs)),Ns.insertAdjacentHTML("beforeend",Gs),so=ue.getLineContent(jn)}so.length===0&&(so=b.NC("blankLine","blank"));let uo="";switch(Bt){case 0:jn===_n?uo=b.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",so,jn):uo=b.NC("equalLine","{0} original line {1} modified line {2}",so,jn,_n);break;case 1:uo=b.NC("insertLine","+ {0} modified line {1}",so,_n);break;case 2:uo=b.NC("deleteLine","- {0} original line {1}",so,jn);break}ts.setAttribute("aria-label",uo),t.appendChild(ts)}}static _renderLine(t,n,l,R,W){const te=t.getLineContent(R),ue=n.get(47),ke=Ci.A.createEmpty(te,W),Be=Ei.wA.isBasicASCII(te,t.mightContainNonBasicASCII()),Je=Ei.wA.containsRTL(te,Be,t.mightContainRTL());return(0,gi.tF)(new gi.IJ(ue.isMonospace&&!n.get(30),ue.canUseHalfwidthRightwardsArrow,te,!1,Be,Je,0,ke,[],l,0,ue.spaceWidth,ue.middotWidth,ue.wsmiddotWidth,n.get(111),n.get(93),n.get(88),n.get(48)!==c.n0.OFF,null)).html}};bo._ttPolicy=(xn=window.trustedTypes)===null||xn===void 0?void 0:xn.createPolicy("diffReview",{createHTML:oe=>oe}),bo=Cs([bs(1,U.O),bs(2,E)],bo);class rr extends mi.R6{constructor(){super({id:"editor.action.diffReview.next",label:b.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Yi.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,n){const l=ys(t);l==null||l.diffReviewNext()}}class ar extends mi.R6{constructor(){super({id:"editor.action.diffReview.prev",label:b.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Yi.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,n){const l=ys(t);l==null||l.diffReviewPrev()}}function ys(oe){const t=oe.get(m.$),n=t.listDiffEditors(),l=t.getActiveCodeEditor();if(!l)return null;for(let R=0,W=n.length;R<W;R++){const te=n[R];if(te.getModifiedEditor().getId()===l.getId()||te.getOriginalEditor().getId()===l.getId())return te}return null}(0,mi.Qr)(rr),(0,mi.Qr)(ar);var Js=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};class ho extends f.JT{get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(t,n,l,R,W,te){super(),this._viewZoneId=t,this._marginDomNode=n,this.editor=l,this.diff=R,this._contextMenuService=W,this._clipboardService=te,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Zn.k.asClassName(ei.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const ue=l.getOption(63),ke=l.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${ue}px`,this._diffActions.style.lineHeight=`${ue}px`,this._marginDomNode.appendChild(this._diffActions);const Be=[],Je=R.modifiedEndLineNumber===0;Be.push(new Ti.aU("diff.clipboard.copyDeletedContent",Je?R.originalEndLineNumber>R.modifiedStartLineNumber?b.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):b.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):R.originalEndLineNumber>R.modifiedStartLineNumber?b.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):b.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Js(this,void 0,void 0,function*(){const bi=new N.e(R.originalStartLineNumber,1,R.originalEndLineNumber+1,1),Li=R.originalModel.getValueInRange(bi);yield this._clipboardService.writeText(Li)})));let ht=0,Ot;R.originalEndLineNumber>R.modifiedStartLineNumber&&(Ot=new Ti.aU("diff.clipboard.copyDeletedLineContent",Je?b.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",R.originalStartLineNumber):b.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",R.originalStartLineNumber),void 0,!0,()=>Js(this,void 0,void 0,function*(){const bi=R.originalModel.getLineContent(R.originalStartLineNumber+ht);if(bi===""){const Li=R.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Li===0?`
`:`\r
`)}else yield this._clipboardService.writeText(bi)})),Be.push(Ot)),l.getOption(86)||Be.push(new Ti.aU("diff.inline.revertChange",b.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Js(this,void 0,void 0,function*(){const bi=new N.e(R.originalStartLineNumber,1,R.originalEndLineNumber,R.originalModel.getLineMaxColumn(R.originalEndLineNumber)),Li=R.originalModel.getValueInRange(bi);if(R.modifiedEndLineNumber===0){const Mi=l.getModel().getLineMaxColumn(R.modifiedStartLineNumber);l.executeEdits("diffEditor",[{range:new N.e(R.modifiedStartLineNumber,Mi,R.modifiedStartLineNumber,Mi),text:ke+Li}])}else{const Mi=l.getModel().getLineMaxColumn(R.modifiedEndLineNumber);l.executeEdits("diffEditor",[{range:new N.e(R.modifiedStartLineNumber,1,R.modifiedEndLineNumber,Mi),text:Li}])}})));const oi=(bi,Li)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:bi,y:Li}),getActions:()=>(Ot&&(Ot.label=Je?b.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",R.originalStartLineNumber+ht):b.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",R.originalStartLineNumber+ht)),Be),autoSelectFirstItem:!0})};this._register(Pe.mu(this._diffActions,"mousedown",bi=>{const{top:Li,height:Mi}=Pe.i(this._diffActions),Gi=Math.floor(ue/3);bi.preventDefault(),oi(bi.posx,Li+Mi+Gi)})),this._register(l.onMouseMove(bi=>{bi.target.type===8||bi.target.type===5?bi.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,ht=this._updateLightBulbPosition(this._marginDomNode,bi.event.browserEvent.y,ue)):this.visibility=!1:this.visibility=!1})),this._register(l.onMouseDown(bi=>{bi.event.rightButton&&(bi.target.type===8||bi.target.type===5)&&bi.target.detail.viewZoneId===this._viewZoneId&&(bi.event.preventDefault(),ht=this._updateLightBulbPosition(this._marginDomNode,bi.event.browserEvent.y,ue),oi(bi.event.posx,bi.event.posy+ue))}))}_updateLightBulbPosition(t,n,l){const{top:R}=Pe.i(t),W=n-R,te=Math.floor(W/l),ue=te*l;if(this._diffActions.style.top=`${ue}px`,this.diff.viewLineCounts){let ke=0;for(let Be=0;Be<this.diff.viewLineCounts.length;Be++)if(ke+=this.diff.viewLineCounts[Be],te<ke)return Be}return te}}var kr=i(6375),fo=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Fn=function(oe,t){return function(n,l){t(n,l,oe)}},oo=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};let Jn=class{constructor(t,n){this.editorWorkerService=n,this.onDidChangeEventEmitter=new g.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="smart",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}computeDiff(t,n,l){return oo(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,n,l);const R=yield this.editorWorkerService.computeDiff(t.uri,n.uri,l,this.diffAlgorithm);if(!R)throw new Error("no diff result available");return R})}setOptions(t){var n;let l=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),l=!0),l&&this.onDidChangeEventEmitter.fire()}};Jn=fo([Fn(1,kr.p)],Jn);var Qs=i(82336),Ts=i(73740),lr=i(47004),Bo=i(14326),Zs=i(52167),vs=i(81477),ro=i(59660),Ws=i(28382),yo=i(26348),Bn=i(78382),ns=i(901),wo=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},qs=function(oe,t){return function(n,l){t(n,l,oe)}},dr;class Lo{constructor(t,n){this._contextMenuService=t,this._clipboardService=n,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(n=>!this._zonesMap[String(n.id)])}clean(t){this._zones.length>0&&t.changeViewZones(n=>{for(const l of this._zones)n.removeZone(l)}),this._zones=[],this._zonesMap={},t.changeDecorations(n=>{this._decorations=n.deltaDecorations(this._decorations,[])})}apply(t,n,l,R){const W=R?wi.Z.capture(t):null;t.changeViewZones(te=>{var ue;for(const ke of this._zones)te.removeZone(ke);for(const ke of this._inlineDiffMargins)ke.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ke=0,Be=l.zones.length;ke<Be;ke++){const Je=l.zones[ke];Je.suppressMouseDown=!0;const ht=te.addZone(Je);this._zones.push(ht),this._zonesMap[String(ht)]=!0,l.zones[ke].diff&&Je.marginDomNode&&(Je.suppressMouseDown=!1,((ue=l.zones[ke].diff)===null||ue===void 0?void 0:ue.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new ho(ht,Je.marginDomNode,t,l.zones[ke].diff,this._contextMenuService,this._clipboardService)))}}),W==null||W.restore(t),t.changeDecorations(te=>{this._decorations=te.deltaDecorations(this._decorations,l.decorations)}),n==null||n.setZones(l.overviewZones)}}let Fr=0;const Wo=(0,wn.q5)("diff-insert",ei.l.add,b.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Do=(0,wn.q5)("diff-remove",ei.l.remove,b.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),So=(dr=window.trustedTypes)===null||dr===void 0?void 0:dr.createPolicy("diffEditorWidget",{createHTML:oe=>oe}),Br=b.NC("diff-aria-navigation-tip"," use Shift + F7 to navigate changes");let ao=class _s extends f.JT{constructor(t,n,l,R,W,te,ue,ke,Be,Je,ht){super(),this._editorProgressService=ht,this._onDidDispose=this._register(new g.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new g.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new g.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new g.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,ue.willCreateDiffEditor(),this._documentDiffProvider=this._register(te.createInstance(Jn,n)),this._register(this._documentDiffProvider.onDidChange(Bt=>this._beginUpdateDecorationsSoon())),this._codeEditorService=ue,this._contextKeyService=this._register(W.createScoped(t)),this._instantiationService=te.createChild(new ro.y([Yi.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=ke,this._notificationService=Be,this._id=++Fr,this._state=0,this._updatingDiffProgress=null,this._domElement=t,n=n||{},this._options=sn(n,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),typeof n.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",n.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new B.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,pt.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Pe.mu(this._overviewDomElement,Pe.tw.POINTER_DOWN,Bt=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Bt)})),this._register(Pe.nm(this._overviewDomElement,Pe.tw.MOUSE_WHEEL,Bt=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(Bt)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Lo(Je,R),this._modifiedEditorState=new Lo(Je,R),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new pi.I(this._containerDomElement,n.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),n.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(n,l.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(n,l.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=te.createInstance(bo,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Vs(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Hs(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(ke.onDidColorThemeChange(Bt=>{this._strategy&&this._strategy.applyColors(Bt)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Ot=mi.Uc.getDiffEditorContributions();for(const Bt of Ot)try{this._register(te.createInstance(Bt.ctor,this))}catch(oi){(0,j.dL)(oi)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,n){let l="monaco-diff-editor monaco-editor-background ";return n&&(l+="side-by-side "),l+=(0,ns.m6)(t.type),l}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(C.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,n){const l=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),n);this._register(l.onDidScrollChange(W=>{this._isHandlingScrollEvent||!W.scrollTopChanged&&!W.scrollLeftChanged&&!W.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:W.scrollLeft,scrollTop:W.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(l.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(l.onDidChangeConfiguration(W=>{l.getModel()&&(W.hasChanged(47)&&this._updateDecorationsRunner.schedule(),W.hasChanged(139)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(l.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(l.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const R=this._contextKeyService.createKey("isInDiffLeftEditor",l.hasWidgetFocus());return this._register(l.onDidFocusEditorWidget(()=>R.set(!0))),this._register(l.onDidBlurEditorWidget(()=>R.set(!1))),this._register(l.onDidContentSizeChange(W=>{const te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_s.ONE_OVERVIEW_WIDTH,ue=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ue,contentWidth:te,contentHeightChanged:W.contentHeightChanged,contentWidthChanged:W.contentWidthChanged})})),l}_createRightHandSideEditor(t,n){const l=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),n);this._register(l.onDidScrollChange(W=>{this._isHandlingScrollEvent||!W.scrollTopChanged&&!W.scrollLeftChanged&&!W.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:W.scrollLeft,scrollTop:W.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(l.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(l.onDidChangeConfiguration(W=>{l.getModel()&&(W.hasChanged(47)&&this._updateDecorationsRunner.schedule(),W.hasChanged(139)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(l.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(l.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(l.onDidChangeModelOptions(W=>{W.tabSize&&this._updateDecorationsRunner.schedule()}));const R=this._contextKeyService.createKey("isInDiffRightEditor",l.hasWidgetFocus());return this._register(l.onDidFocusEditorWidget(()=>R.set(!0))),this._register(l.onDidBlurEditorWidget(()=>R.set(!1))),this._register(l.onDidContentSizeChange(W=>{const te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_s.ONE_OVERVIEW_WIDTH,ue=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ue,contentWidth:te,contentHeightChanged:W.contentHeightChanged,contentWidthChanged:W.contentWidthChanged})})),this._register(l.onMouseDown(W=>{var te,ue;if(!W.event.rightButton&&W.target.position&&(!((te=W.target.element)===null||te===void 0)&&te.className.includes("arrow-revert-change"))){const ke=W.target.position.lineNumber,Be=W.target,Je=(ue=this._diffComputationResult)===null||ue===void 0?void 0:ue.changes.find(ht=>(Be==null?void 0:Be.detail.afterLineNumber)===ht.modifiedStartLineNumber||ht.modifiedEndLineNumber>0&&ht.modifiedStartLineNumber===ke);Je&&this.revertChange(Je),W.event.stopPropagation(),this._updateDecorations();return}})),l}revertChange(t){const n=this._modifiedEditor,l=this._originalEditor.getModel(),R=this._modifiedEditor.getModel();if(!l||!R||!n)return;const W=t.originalEndLineNumber>0?new N.e(t.originalStartLineNumber,1,t.originalEndLineNumber,l.getLineMaxColumn(t.originalEndLineNumber)):null,te=W?l.getValueInRange(W):null,ue=t.modifiedEndLineNumber>0?new N.e(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,R.getLineMaxColumn(t.modifiedEndLineNumber)):null,ke=R.getEOL();if(t.originalEndLineNumber===0&&ue){let Be=ue;t.modifiedStartLineNumber>1?Be=ue.setStartPosition(t.modifiedStartLineNumber-1,R.getLineMaxColumn(t.modifiedStartLineNumber-1)):t.modifiedEndLineNumber<R.getLineCount()&&(Be=ue.setEndPosition(t.modifiedEndLineNumber+1,1)),n.executeEdits("diffEditor",[{range:Be,text:""}])}else if(t.modifiedEndLineNumber===0&&te!==null){const Be=t.modifiedStartLineNumber<R.getLineCount()?new $.L(t.modifiedStartLineNumber+1,1):new $.L(t.modifiedStartLineNumber,R.getLineMaxColumn(t.modifiedStartLineNumber));n.executeEdits("diffEditor",[{range:N.e.fromPositions(Be,Be),text:t.modifiedStartLineNumber<R.getLineCount()?te+ke:ke+te}])}else ue&&te!==null&&n.executeEdits("diffEditor",[{range:ue,text:te}])}_createInnerEditor(t,n,l,R){return t.createInstance(Xe.Gm,n,l,R)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return H.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const n=sn(t,this._options),l=Tn(this._options,n);this._options=n;const R=l.ignoreTrimWhitespace||l.renderIndicators||l.renderMarginRevertIcon,W=this._isVisible&&(l.maxComputationTime||l.maxFileSize);this._documentDiffProvider.setOptions(n),R?this._beginUpdateDecorations():W&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),l.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Vs(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Hs(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),l.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t,n="api"){this._modifiedEditor.setPosition(t,n)}revealLine(t,n=0){this._modifiedEditor.revealLine(t,n)}revealLineInCenter(t,n=0){this._modifiedEditor.revealLineInCenter(t,n)}revealLineInCenterIfOutsideViewport(t,n=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,n)}revealLineNearTop(t,n=0){this._modifiedEditor.revealLineNearTop(t,n)}revealPosition(t,n=0){this._modifiedEditor.revealPosition(t,n)}revealPositionInCenter(t,n=0){this._modifiedEditor.revealPositionInCenter(t,n)}revealPositionInCenterIfOutsideViewport(t,n=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,n)}revealPositionNearTop(t,n=0){this._modifiedEditor.revealPositionNearTop(t,n)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t,n="api"){this._modifiedEditor.setSelection(t,n)}setSelections(t,n="api"){this._modifiedEditor.setSelections(t,n)}revealLines(t,n,l=0){this._modifiedEditor.revealLines(t,n,l)}revealLinesInCenter(t,n,l=0){this._modifiedEditor.revealLinesInCenter(t,n,l)}revealLinesInCenterIfOutsideViewport(t,n,l=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,n,l)}revealLinesNearTop(t,n,l=0){this._modifiedEditor.revealLinesNearTop(t,n,l)}revealRange(t,n=0,l=!1,R=!0){this._modifiedEditor.revealRange(t,n,l,R)}revealRangeInCenter(t,n=0){this._modifiedEditor.revealRangeInCenter(t,n)}revealRangeInCenterIfOutsideViewport(t,n=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,n)}revealRangeNearTop(t,n=0){this._modifiedEditor.revealRangeNearTop(t,n)}revealRangeNearTopIfOutsideViewport(t,n=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,n)}revealRangeAtTop(t,n=0){this._modifiedEditor.revealRangeAtTop(t,n)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),n=this._modifiedEditor.saveViewState();return{original:t,modified:n}}restoreViewState(t){if(t&&t.original&&t.modified){const n=t;this._originalEditor.restoreViewState(n.original),this._modifiedEditor.restoreViewState(n.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,n,l){this._modifiedEditor.trigger(t,n,l)}createDecorationsCollection(t){return this._modifiedEditor.createDecorationsCollection(t)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),l=_s.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_s.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:_s.ONE_OVERVIEW_WIDTH,right:l+_s.ONE_OVERVIEW_WIDTH,height:t-n}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:_s.ONE_OVERVIEW_WIDTH,height:t-n}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),_s.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,n){return!t&&!n?!0:!t||!n?!1:t.toString()===n.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const t=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!t||!n)return;this._diffComputationToken++;const l=this._diffComputationToken,R=this._options.maxFileSize*1024*1024,W=te=>{const ue=te.getValueLength();return R===0||ue<=R};if(!W(t)||!W(n)){(!_s._equals(t.uri,this._lastOriginalWarning)||!_s._equals(n.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(b.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._documentDiffProvider.computeDiff(t,n,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then(te=>{l===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:te.identical,quitEarly:te.quitEarly,changes:te.changes.map(ue=>{let ke,Be,Je,ht,Ot=ue.innerChanges;return ue.originalRange.isEmpty?(ke=ue.originalRange.startLineNumber-1,Be=0,Ot=void 0):(ke=ue.originalRange.startLineNumber,Be=ue.originalRange.endLineNumberExclusive-1),ue.modifiedRange.isEmpty?(Je=ue.modifiedRange.startLineNumber-1,ht=0,Ot=void 0):(Je=ue.modifiedRange.startLineNumber,ht=ue.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:ke,originalEndLineNumber:Be,modifiedStartLineNumber:Je,modifiedEndLineNumber:ht,charChanges:Ot==null?void 0:Ot.map(Bt=>({originalStartLineNumber:Bt.originalRange.startLineNumber,originalStartColumn:Bt.originalRange.startColumn,originalEndLineNumber:Bt.originalRange.endLineNumber,originalEndColumn:Bt.originalRange.endColumn,modifiedStartLineNumber:Bt.modifiedRange.startLineNumber,modifiedStartColumn:Bt.modifiedRange.startColumn,modifiedEndLineNumber:Bt.modifiedRange.endLineNumber,modifiedEndColumn:Bt.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},te=>{l===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],n=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),l=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),R=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(86),W=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,R,n,l);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,W.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,W.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const n=Object.assign({},t);return n.inDiffEditor=!0,n.automaticLayout=!1,n.scrollbar=Object.assign({},n.scrollbar||{}),n.scrollbar.vertical="visible",n.folding=!1,n.codeLens=this._options.diffCodeLens,n.fixedOverflowWidgets=!0,n.minimap=Object.assign({},n.minimap||{}),n.minimap.enabled=!1,n}_adjustOptionsForLeftHandSide(t){const n=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?n.wordWrapOverride1=this._options.diffWordWrap:(n.wordWrapOverride1="off",n.wordWrapOverride2="off"),t.originalAriaLabel&&(n.ariaLabel=t.originalAriaLabel),n.ariaLabel+=Br,n.readOnly=!this._options.originalEditable,n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},n),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.ariaLabel+=Br,n.wordWrapOverride1=this._options.diffWordWrap,n.revealHorizontalRightPadding=c.BH.revealHorizontalRightPadding.defaultValue+_s.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},n),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),n=this._elementSizeObserver.getHeight(),l=this._getReviewHeight(),R=this._strategy.layout();this._originalDomNode.style.width=R+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-R+"px",this._modifiedDomNode.style.left=R+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=n-l+"px",this._overviewDomElement.style.width=_s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-_s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(_s.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:R,height:n-l}),this._modifiedEditor.layout({width:t-R-(this._options.renderOverviewRuler?_s.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:n-l}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(n-l,t,l),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const n=this._modifiedEditor.getScrollTop(),l=this._modifiedEditor.getScrollHeight(),R=Math.max(0,t.height),W=Math.max(0,R-2*0),te=l>0?W/l:0,ue=Math.max(0,Math.floor(t.height*te)),ke=Math.floor(n*te);return{height:ue,top:ke}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){var n;(n=this._strategy)===null||n===void 0||n.dispose(),this._strategy=t,this._boundarySashes&&t.setBoundarySashes(this._boundarySashes),t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,n){const l=this._diffComputationResult?this._diffComputationResult.changes:[];if(l.length===0||t<n(l[0]))return null;let R=0,W=l.length-1;for(;R<W;){const te=Math.floor((R+W)/2),ue=n(l[te]),ke=te+1<=W?n(l[te+1]):1073741824;t<ue?W=te-1:t>=ke?R=te+1:(R=te,W=te)}return l[R]}_getEquivalentLineForOriginalLineNumber(t){const n=this._getLineChangeAtOrBeforeLineNumber(t,ke=>ke.originalStartLineNumber);if(!n)return t;const l=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),R=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),W=n.originalEndLineNumber>0?n.originalEndLineNumber-n.originalStartLineNumber+1:0,te=n.modifiedEndLineNumber>0?n.modifiedEndLineNumber-n.modifiedStartLineNumber+1:0,ue=t-l;return ue<=W?R+Math.min(ue,te):R+te-W+ue}_getEquivalentLineForModifiedLineNumber(t){const n=this._getLineChangeAtOrBeforeLineNumber(t,ke=>ke.modifiedStartLineNumber);if(!n)return t;const l=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),R=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),W=n.originalEndLineNumber>0?n.originalEndLineNumber-n.originalStartLineNumber+1:0,te=n.modifiedEndLineNumber>0?n.modifiedEndLineNumber-n.modifiedStartLineNumber+1:0,ue=t-R;return ue<=te?l+Math.min(ue,W):l+W-te+ue}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};ao.ONE_OVERVIEW_WIDTH=15,ao.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ao.UPDATE_DIFF_DECORATIONS_DELAY=200,ao=wo([qs(3,Zs.p),qs(4,Yi.i6),qs(5,_.TG),qs(6,m.$),qs(7,ns.XE),qs(8,Ws.lT),qs(9,vs.i),qs(10,yo.ek)],ao);class Wr extends f.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const n=t.getColor(Bn.P6Y)||(t.getColor(Bn.ypS)||Bn.CzK).transparent(2),l=t.getColor(Bn.F9q)||(t.getColor(Bn.P4M)||Bn.keg).transparent(2),R=!n.equals(this._insertColor)||!l.equals(this._removeColor);return this._insertColor=n,this._removeColor=l,R}getEditorsDiffDecorations(t,n,l,R,W,te){te=te.sort((Je,ht)=>Je.afterLineNumber-ht.afterLineNumber),W=W.sort((Je,ht)=>Je.afterLineNumber-ht.afterLineNumber);const ue=this._getViewZones(t,W,te,l),ke=this._getOriginalEditorDecorations(ue,t,n,l),Be=this._getModifiedEditorDecorations(ue,t,n,l,R);return{original:{decorations:ke.decorations,overviewZones:ke.overviewZones,zones:ue.original},modified:{decorations:Be.decorations,overviewZones:Be.overviewZones,zones:ue.modified}}}setBoundarySashes(t){}}class Vr{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class go{constructor(t,n,l,R,W){this._lineChanges=t,this._originalForeignVZ=n,this._modifiedForeignVZ=l,this._originalEditor=R,this._modifiedEditor=W}static _getViewLineCount(t,n,l){const R=t.getModel(),W=t._getViewModel();if(R&&W){const te=mo(R,W,n,l);return te.endLineNumber-te.startLineNumber+1}return l-n+1}getViewZones(){const t=this._originalEditor.getOption(63),n=this._modifiedEditor.getOption(63),l=this._originalEditor.getOption(139).wrappingColumn!==-1,R=this._modifiedEditor.getOption(139).wrappingColumn!==-1,W=l||R,te=this._originalEditor.getModel(),ue=this._originalEditor._getViewModel().coordinatesConverter,ke=this._modifiedEditor._getViewModel().coordinatesConverter,Be={original:[],modified:[]};let Je=0,ht=0,Ot=0,Bt=0,oi=0,bi=0;const Li=(Ln,dn)=>Ln.afterLineNumber-dn.afterLineNumber,Mi=(Ln,dn)=>{if(dn.domNode===null&&Ln.length>0){const ki=Ln[Ln.length-1];if(ki.afterLineNumber===dn.afterLineNumber&&ki.domNode===null){ki.heightInLines+=dn.heightInLines;return}}Ln.push(dn)},Gi=new Vr(this._modifiedForeignVZ),Wi=new Vr(this._originalForeignVZ);let Ki=1,Mn=1;for(let Ln=0,dn=this._lineChanges.length;Ln<=dn;Ln++){const ki=Ln<dn?this._lineChanges[Ln]:null;ki!==null?(Ot=ki.originalStartLineNumber+(ki.originalEndLineNumber>0?-1:0),Bt=ki.modifiedStartLineNumber+(ki.modifiedEndLineNumber>0?-1:0),ht=ki.originalEndLineNumber>0?go._getViewLineCount(this._originalEditor,ki.originalStartLineNumber,ki.originalEndLineNumber):0,Je=ki.modifiedEndLineNumber>0?go._getViewLineCount(this._modifiedEditor,ki.modifiedStartLineNumber,ki.modifiedEndLineNumber):0,oi=Math.max(ki.originalStartLineNumber,ki.originalEndLineNumber),bi=Math.max(ki.modifiedStartLineNumber,ki.modifiedEndLineNumber)):(Ot+=1e7+ht,Bt+=1e7+Je,oi=Ot,bi=Bt);let vn=[],Ji=[];if(W){let _n;ki?ki.originalEndLineNumber>0?_n=ki.originalStartLineNumber-Ki:_n=ki.modifiedStartLineNumber-Mn:_n=te.getLineCount()-Ki+1;for(let ts=0;ts<_n;ts++){const Ns=Ki+ts,qn=Mn+ts,Bs=ue.getModelLineViewLineCount(Ns),Xs=ke.getModelLineViewLineCount(qn);Bs<Xs?vn.push({afterLineNumber:Ns,heightInLines:Xs-Bs,domNode:null,marginDomNode:null}):Bs>Xs&&Ji.push({afterLineNumber:qn,heightInLines:Bs-Xs,domNode:null,marginDomNode:null})}ki&&(Ki=(ki.originalEndLineNumber>0?ki.originalEndLineNumber:ki.originalStartLineNumber)+1,Mn=(ki.modifiedEndLineNumber>0?ki.modifiedEndLineNumber:ki.modifiedStartLineNumber)+1)}for(;Gi.current&&Gi.current.afterLineNumber<=bi;){let _n;Gi.current.afterLineNumber<=Bt?_n=Ot-Bt+Gi.current.afterLineNumber:_n=oi;let ts=null;ki&&ki.modifiedStartLineNumber<=Gi.current.afterLineNumber&&Gi.current.afterLineNumber<=ki.modifiedEndLineNumber&&(ts=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),vn.push({afterLineNumber:_n,heightInLines:Gi.current.height/n,domNode:null,marginDomNode:ts}),Gi.advance()}for(;Wi.current&&Wi.current.afterLineNumber<=oi;){let _n;Wi.current.afterLineNumber<=Ot?_n=Bt-Ot+Wi.current.afterLineNumber:_n=bi,Ji.push({afterLineNumber:_n,heightInLines:Wi.current.height/t,domNode:null}),Wi.advance()}if(ki!==null&&Ys(ki)){const _n=this._produceOriginalFromDiff(ki,ht,Je);_n&&vn.push(_n)}if(ki!==null&&Eo(ki)){const _n=this._produceModifiedFromDiff(ki,ht,Je);_n&&Ji.push(_n)}let Nn=0,jn=0;for(vn=vn.sort(Li),Ji=Ji.sort(Li);Nn<vn.length&&jn<Ji.length;){const _n=vn[Nn],ts=Ji[jn],Ns=_n.afterLineNumber-Ot,qn=ts.afterLineNumber-Bt;Ns<qn?(Mi(Be.original,_n),Nn++):qn<Ns?(Mi(Be.modified,ts),jn++):_n.shouldNotShrink?(Mi(Be.original,_n),Nn++):ts.shouldNotShrink?(Mi(Be.modified,ts),jn++):_n.heightInLines>=ts.heightInLines?(_n.heightInLines-=ts.heightInLines,jn++):(ts.heightInLines-=_n.heightInLines,Nn++)}for(;Nn<vn.length;)Mi(Be.original,vn[Nn]),Nn++;for(;jn<Ji.length;)Mi(Be.modified,Ji[jn]),jn++}return{original:go._ensureDomNodes(Be.original),modified:go._ensureDomNodes(Be.modified)}}static _ensureDomNodes(t){return t.map(n=>(n.domNode||(n.domNode=Uo()),n))}}function eo(oe,t,n,l,R){return{range:new N.e(oe,t,n,l),options:R}}const hs={arrowRevertChange:Ts.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+Zn.k.asClassName(ei.l.arrowRight)}),charDelete:Ts.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Ts.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Ts.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Ts.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Ts.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Ts.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Zn.k.asClassName(Wo),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Ts.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Ts.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Zn.k.asClassName(Do),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Ts.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Vs extends Wr{constructor(t,n){super(t),this._disableSash=n===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Rt.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(l=>this._onSashDrag(l)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const n=t===!1;this._disableSash!==n&&(this._disableSash=n,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const l=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ao.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let R=Math.floor((t||.5)*l);const W=Math.floor(.5*l);return R=this._disableSash?W:R||W,l>Vs.MINIMUM_EDITOR_WIDTH*2?(R<Vs.MINIMUM_EDITOR_WIDTH&&(R=Vs.MINIMUM_EDITOR_WIDTH),R>l-Vs.MINIMUM_EDITOR_WIDTH&&(R=l-Vs.MINIMUM_EDITOR_WIDTH)):R=W,this._sashPosition!==R&&(this._sashPosition=R),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const l=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ao.ENTIRE_DIFF_OVERVIEW_WIDTH:0),R=this.layout((this._startSashPosition+(t.currentX-t.startX))/l);this._sashRatio=R/l,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}setBoundarySashes(t){this._sash.orthogonalEndSash=t.bottom}_getViewZones(t,n,l){const R=this._dataSource.getOriginalEditor(),W=this._dataSource.getModifiedEditor();return new Vo(t,n,l,R,W).getViewZones()}_getOriginalEditorDecorations(t,n,l,R){const W=this._dataSource.getOriginalEditor(),te=String(this._removeColor),ue={decorations:[],overviewZones:[]},ke=W.getModel(),Be=W._getViewModel();for(const Je of n)if(Eo(Je)){ue.decorations.push({range:new N.e(Je.originalStartLineNumber,1,Je.originalEndLineNumber,1073741824),options:R?hs.lineDeleteWithSign:hs.lineDelete}),(!Ys(Je)||!Je.charChanges)&&ue.decorations.push(eo(Je.originalStartLineNumber,1,Je.originalEndLineNumber,1073741824,hs.charDeleteWholeLine));const ht=mo(ke,Be,Je.originalStartLineNumber,Je.originalEndLineNumber);if(ue.overviewZones.push(new Bo.EY(ht.startLineNumber,ht.endLineNumber,0,te)),Je.charChanges){for(const Ot of Je.charChanges)if(Es(Ot))if(l)for(let Bt=Ot.originalStartLineNumber;Bt<=Ot.originalEndLineNumber;Bt++){let oi,bi;Bt===Ot.originalStartLineNumber?oi=Ot.originalStartColumn:oi=ke.getLineFirstNonWhitespaceColumn(Bt),Bt===Ot.originalEndLineNumber?bi=Ot.originalEndColumn:bi=ke.getLineLastNonWhitespaceColumn(Bt),ue.decorations.push(eo(Bt,oi,Bt,bi,hs.charDelete))}else ue.decorations.push(eo(Ot.originalStartLineNumber,Ot.originalStartColumn,Ot.originalEndLineNumber,Ot.originalEndColumn,hs.charDelete))}}return ue}_getModifiedEditorDecorations(t,n,l,R,W){const te=this._dataSource.getModifiedEditor(),ue=String(this._insertColor),ke={decorations:[],overviewZones:[]},Be=te.getModel(),Je=te._getViewModel();for(const ht of n){if(W)if(ht.modifiedEndLineNumber>0)ke.decorations.push({range:new N.e(ht.modifiedStartLineNumber,1,ht.modifiedStartLineNumber,1),options:hs.arrowRevertChange});else{const Ot=t.modified.find(Bt=>Bt.afterLineNumber===ht.modifiedStartLineNumber);Ot&&(Ot.marginDomNode=cr())}if(Ys(ht)){ke.decorations.push({range:new N.e(ht.modifiedStartLineNumber,1,ht.modifiedEndLineNumber,1073741824),options:R?hs.lineInsertWithSign:hs.lineInsert}),(!Eo(ht)||!ht.charChanges)&&ke.decorations.push(eo(ht.modifiedStartLineNumber,1,ht.modifiedEndLineNumber,1073741824,hs.charInsertWholeLine));const Ot=mo(Be,Je,ht.modifiedStartLineNumber,ht.modifiedEndLineNumber);if(ke.overviewZones.push(new Bo.EY(Ot.startLineNumber,Ot.endLineNumber,0,ue)),ht.charChanges){for(const Bt of ht.charChanges)if(Ho(Bt))if(l)for(let oi=Bt.modifiedStartLineNumber;oi<=Bt.modifiedEndLineNumber;oi++){let bi,Li;oi===Bt.modifiedStartLineNumber?bi=Bt.modifiedStartColumn:bi=Be.getLineFirstNonWhitespaceColumn(oi),oi===Bt.modifiedEndLineNumber?Li=Bt.modifiedEndColumn:Li=Be.getLineLastNonWhitespaceColumn(oi),ke.decorations.push(eo(oi,bi,oi,Li,hs.charInsert))}else ke.decorations.push(eo(Bt.modifiedStartLineNumber,Bt.modifiedStartColumn,Bt.modifiedEndLineNumber,Bt.modifiedEndColumn,hs.charInsert))}}}return ke}}Vs.MINIMUM_EDITOR_WIDTH=100;class Vo extends go{constructor(t,n,l,R,W){super(t,n,l,R,W)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,n,l){return l>n?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:l-n,domNode:null}:null}_produceModifiedFromDiff(t,n,l){return n>l?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:n-l,domNode:null}:null}}class Hs extends Wr{constructor(t,n){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(l=>{this._decorationsLeft!==l.decorationsLeft&&(this._decorationsLeft=l.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,n,l,R){const W=this._dataSource.getOriginalEditor(),te=this._dataSource.getModifiedEditor();return new Rs(t,n,l,W,te,R).getViewZones()}_getOriginalEditorDecorations(t,n,l,R){const W=String(this._removeColor),te={decorations:[],overviewZones:[]},ue=this._dataSource.getOriginalEditor(),ke=ue.getModel(),Be=ue._getViewModel();let Je=0;for(const ht of n)if(Eo(ht)){for(te.decorations.push({range:new N.e(ht.originalStartLineNumber,1,ht.originalEndLineNumber,1073741824),options:hs.lineDeleteMargin});Je<t.modified.length;){const oi=t.modified[Je];if(oi.diff&&oi.diff.originalStartLineNumber>=ht.originalStartLineNumber)break;Je++}let Ot=0;if(Je<t.modified.length){const oi=t.modified[Je];oi.diff&&oi.diff.originalStartLineNumber===ht.originalStartLineNumber&&oi.diff.originalEndLineNumber===ht.originalEndLineNumber&&oi.diff.modifiedStartLineNumber===ht.modifiedStartLineNumber&&oi.diff.modifiedEndLineNumber===ht.modifiedEndLineNumber&&(Ot=oi.heightInLines)}const Bt=mo(ke,Be,ht.originalStartLineNumber,ht.originalEndLineNumber);te.overviewZones.push(new Bo.EY(Bt.startLineNumber,Bt.endLineNumber,Ot,W))}return te}_getModifiedEditorDecorations(t,n,l,R,W){const te=this._dataSource.getModifiedEditor(),ue=String(this._insertColor),ke={decorations:[],overviewZones:[]},Be=te.getModel(),Je=te._getViewModel();for(const ht of n)if(Ys(ht)){ke.decorations.push({range:new N.e(ht.modifiedStartLineNumber,1,ht.modifiedEndLineNumber,1073741824),options:R?hs.lineInsertWithSign:hs.lineInsert});const Ot=mo(Be,Je,ht.modifiedStartLineNumber,ht.modifiedEndLineNumber);if(ke.overviewZones.push(new Bo.EY(Ot.startLineNumber,Ot.endLineNumber,0,ue)),ht.charChanges){for(const Bt of ht.charChanges)if(Ho(Bt))if(l)for(let oi=Bt.modifiedStartLineNumber;oi<=Bt.modifiedEndLineNumber;oi++){let bi,Li;oi===Bt.modifiedStartLineNumber?bi=Bt.modifiedStartColumn:bi=Be.getLineFirstNonWhitespaceColumn(oi),oi===Bt.modifiedEndLineNumber?Li=Bt.modifiedEndColumn:Li=Be.getLineLastNonWhitespaceColumn(oi),ke.decorations.push(eo(oi,bi,oi,Li,hs.charInsert))}else ke.decorations.push(eo(Bt.modifiedStartLineNumber,Bt.modifiedStartColumn,Bt.modifiedEndLineNumber,Bt.modifiedEndColumn,hs.charInsert))}else ke.decorations.push(eo(ht.modifiedStartLineNumber,1,ht.modifiedEndLineNumber,1073741824,hs.charInsertWholeLine))}return ke}layout(){return Math.max(5,this._decorationsLeft)}}class Rs extends go{constructor(t,n,l,R,W,te){super(t,n,l,R,W),this._originalModel=R.getModel(),this._renderIndicators=te,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,n,l){const R=document.createElement("div");return R.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:l,domNode:document.createElement("div"),marginDomNode:R}}_produceModifiedFromDiff(t,n,l){const R=document.createElement("div");R.className=`view-lines line-delete ${It.S}`;const W=document.createElement("div");W.className="inline-deleted-margin-view-zone";const te={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:n,minWidthInPx:0,domNode:R,marginDomNode:W,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ue=t.originalStartLineNumber;ue<=t.originalEndLineNumber;ue++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ue),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(te),te}_finalize(t){const n=this._modifiedEditor.getOptions(),l=this._modifiedEditor.getModel().getOptions().tabSize,R=n.get(47),W=n.get(30),te=R.typicalHalfwidthCharacterWidth,ue=n.get(98),ke=this._originalModel.mightContainNonBasicASCII(),Be=this._originalModel.mightContainRTL(),Je=n.get(63),Ot=n.get(138).decorationsWidth,Bt=n.get(111),oi=n.get(93),bi=n.get(88),Li=n.get(48),Mi=this._lineBreaksComputer.finalize();let Gi=0;for(let Wi=0;Wi<this._pendingLineChange.length;Wi++){const Ki=this._pendingLineChange[Wi],Mn=this._pendingViewZones[Wi],Ln=Mn.domNode;(0,ni.N)(Ln,R);const dn=Mn.marginDomNode;(0,ni.N)(dn,R);const ki=[];if(Ki.charChanges)for(const qn of Ki.charChanges)Es(qn)&&ki.push(new Ei.$t(new N.e(qn.originalStartLineNumber,qn.originalStartColumn,qn.originalEndLineNumber,qn.originalEndColumn),"char-delete",0));const vn=ki.length>0,Ji=new Qs.HT(1e4);let Nn=0,jn=0,_n=null;for(let qn=Ki.originalStartLineNumber;qn<=Ki.originalEndLineNumber;qn++){const Bs=qn-Ki.originalStartLineNumber,Xs=this._originalModel.tokenization.getLineTokens(qn),so=Xs.getLineContent(),uo=Mi[Gi++],Gs=lr.Kp.filter(ki,qn,1,so.length+1);if(uo){let Xa=0;for(const Ja of uo.breakOffsets){const cg=Xs.sliceAndInflate(Xa,Ja,0),ug=so.substring(Xa,Ja);Nn=Math.max(Nn,this._renderOriginalLine(jn++,ug,cg,lr.Kp.extractWrapped(Gs,Xa,Ja),vn,ke,Be,R,W,Je,Ot,Bt,oi,bi,Li,l,Ji,dn)),Xa=Ja}for(_n||(_n=[]);_n.length<Bs;)_n[_n.length]=1;_n[Bs]=uo.breakOffsets.length,Mn.heightInLines+=uo.breakOffsets.length-1;const Ic=document.createElement("div");Ic.className="gutter-delete",t.original.push({afterLineNumber:qn,afterColumn:0,heightInLines:uo.breakOffsets.length-1,domNode:Uo(),marginDomNode:Ic})}else Nn=Math.max(Nn,this._renderOriginalLine(jn++,so,Xs,Gs,vn,ke,Be,R,W,Je,Ot,Bt,oi,bi,Li,l,Ji,dn))}Nn+=ue;const ts=Ji.build(),Ns=So?So.createHTML(ts):ts;if(Ln.innerHTML=Ns,Mn.minWidthInPx=Nn*te,_n){const qn=Ki.originalEndLineNumber-Ki.originalStartLineNumber;for(;_n.length<=qn;)_n[_n.length]=1}Mn.diff.viewLineCounts=_n}t.original.sort((Wi,Ki)=>Wi.afterLineNumber-Ki.afterLineNumber)}_renderOriginalLine(t,n,l,R,W,te,ue,ke,Be,Je,ht,Ot,Bt,oi,bi,Li,Mi,Gi){Mi.appendString('<div class="view-line'),W||Mi.appendString(" char-delete"),Mi.appendString('" style="top:'),Mi.appendString(String(t*Je)),Mi.appendString('px;width:1000000px;">');const Wi=Ei.wA.isBasicASCII(n,te),Ki=Ei.wA.containsRTL(n,Wi,ue),Mn=(0,gi.d1)(new gi.IJ(ke.isMonospace&&!Be,ke.canUseHalfwidthRightwardsArrow,n,!1,Wi,Ki,0,l,R,Li,0,ke.spaceWidth,ke.middotWidth,ke.wsmiddotWidth,Ot,Bt,oi,bi!==c.n0.OFF,null),Mi);if(Mi.appendString("</div>"),this._renderIndicators){const Ln=document.createElement("div");Ln.className=`delete-sign ${Zn.k.asClassName(Do)}`,Ln.setAttribute("style",`position:absolute;top:${t*Je}px;width:${ht}px;height:${Je}px;right:0;`),Gi.appendChild(Ln)}return Mn.characterMapping.getHorizontalOffset(Mn.characterMapping.length)}}function $i(oe,t){return(0,c.NY)(oe,t,["off","on","inherit"])}function Ys(oe){return oe.modifiedEndLineNumber>0}function Eo(oe){return oe.originalEndLineNumber>0}function Ho(oe){return oe.modifiedStartLineNumber===oe.modifiedEndLineNumber?oe.modifiedEndColumn-oe.modifiedStartColumn>0:oe.modifiedEndLineNumber-oe.modifiedStartLineNumber>0}function Es(oe){return oe.originalStartLineNumber===oe.originalEndLineNumber?oe.originalEndColumn-oe.originalStartColumn>0:oe.originalEndLineNumber-oe.originalStartLineNumber>0}function Uo(){const oe=document.createElement("div");return oe.className="diagonal-fill",oe}function cr(){const oe=document.createElement("div");return oe.className="arrow-revert-change "+Zn.k.asClassName(ei.l.arrowRight),Pe.$("div",{},oe)}function mo(oe,t,n,l){const R=oe.getLineCount();return n=Math.min(R,Math.max(1,n)),l=Math.min(R,Math.max(1,l)),t.coordinatesConverter.convertModelRangeToViewRange(new N.e(n,oe.getLineMinColumn(n),l,oe.getLineMaxColumn(l)))}function sn(oe,t){return{enableSplitViewResizing:(0,c.O7)(oe.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,c.O7)(oe.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:(0,c.O7)(oe.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:(0,c.Zc)(oe.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,c.Zc)(oe.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,c.O7)(oe.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,c.O7)(oe.renderIndicators,t.renderIndicators),originalEditable:(0,c.O7)(oe.originalEditable,t.originalEditable),diffCodeLens:(0,c.O7)(oe.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,c.O7)(oe.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:$i(oe.diffWordWrap,t.diffWordWrap),diffAlgorithm:(0,c.NY)(oe.diffAlgorithm,t.diffAlgorithm,["smart","experimental"])}}function Tn(oe,t){return{enableSplitViewResizing:oe.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:oe.renderSideBySide!==t.renderSideBySide,renderMarginRevertIcon:oe.renderMarginRevertIcon!==t.renderMarginRevertIcon,maxComputationTime:oe.maxComputationTime!==t.maxComputationTime,maxFileSize:oe.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:oe.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:oe.renderIndicators!==t.renderIndicators,originalEditable:oe.originalEditable!==t.originalEditable,diffCodeLens:oe.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:oe.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:oe.diffWordWrap!==t.diffWordWrap,diffAlgorithm:oe.diffAlgorithm!==t.diffAlgorithm}}(0,ns.Ic)((oe,t)=>{const n=oe.getColor(Bn.L_t);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${n} 12.5%,
			#0000 12.5%, #0000 50%,
			${n} 50%, ${n} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var Yn=i(37282),In=i(571),ds=i(23345),Us=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},fs=function(oe,t){return function(n,l){t(n,l,oe)}},zs=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};let Hr=class extends f.JT{constructor(t){super(),this._themeService=t,this._onWillCreateCodeEditor=this._register(new g.Q5),this._onCodeEditorAdd=this._register(new g.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new g.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new g.Q5),this._onDiffEditorAdd=this._register(new g.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new g.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new ds.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const n=this.listCodeEditors();for(const l of n){if(l.hasTextFocus())return l;l.hasWidgetFocus()&&(t=l)}return t}removeDecorationType(t){const n=this._decorationOptionProviders.get(t);n&&(n.refCount--,n.refCount<=0&&(this._decorationOptionProviders.delete(t),n.dispose(),this.listCodeEditors().forEach(l=>l.removeDecorationsByType(t))))}setModelProperty(t,n,l){const R=t.toString();let W;this._modelProperties.has(R)?W=this._modelProperties.get(R):(W=new Map,this._modelProperties.set(R,W)),W.set(n,l)}getModelProperty(t,n){const l=t.toString();if(this._modelProperties.has(l))return this._modelProperties.get(l).get(n)}openCodeEditor(t,n,l){return zs(this,void 0,void 0,function*(){for(const R of this._codeEditorOpenHandlers){const W=yield R(t,n,l);if(W!==null)return W}return null})}registerCodeEditorOpenHandler(t){const n=this._codeEditorOpenHandlers.unshift(t);return(0,f.OF)(n)}};Hr=Us([fs(0,ns.XE)],Hr);class Pd{constructor(t){this._styleSheet=t}}var Pn=i(70751),al=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},xo=function(oe,t){return function(n,l){t(n,l,oe)}},ll=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};let po=class extends Hr{constructor(t,n){super(n),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((l,R,W)=>ll(this,void 0,void 0,function*(){return R?this.doOpenEditor(R,l):null}))}_checkContextKey(){let t=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(t,n){if(!this.findModel(t,n.resource)){if(n.resource){const W=n.resource.scheme;if(W===In.lg.http||W===In.lg.https)return(0,Pe.V3)(n.resource.toString()),t}return null}const R=n.options?n.options.selection:null;if(R)if(typeof R.endLineNumber=="number"&&typeof R.endColumn=="number")t.setSelection(R),t.revealRangeInCenter(R,1);else{const W={lineNumber:R.startLineNumber,column:R.startColumn};t.setPosition(W),t.revealPositionInCenter(W,1)}return t}findModel(t,n){const l=t.getModel();return l&&l.uri.toString()!==n.toString()?null:l}};po=al([xo(0,Yi.i6),xo(1,ns.XE)],po),(0,Pn.z)(m.$,po,0);const Io=(0,_.yh)("layoutService");var _a=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Ca=function(oe,t){return function(n,l){t(n,l,oe)}};let ur=class{get dimension(){return this._dimension||(this._dimension=Pe.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}constructor(t){this._codeEditorService=t,this.onDidLayout=g.ju.None,this.offset={top:0,quickPickTop:0}}};ur=_a([Ca(0,m.$)],ur);let zo=class extends ur{get hasContainer(){return!1}get container(){return this._container}constructor(t,n){super(n),this._container=t}};zo=_a([Ca(1,m.$)],zo),(0,Pn.z)(Io,ur,1);var Ls=i(82787),jo=i(12676),Os=i(15151),Ur=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},zr=function(oe,t){return function(n,l){t(n,l,oe)}},hr=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};const No=!1;function fr(oe){return oe.scheme===In.lg.file?oe.fsPath:oe.path}let ba=0;class Ko{constructor(t,n,l,R,W,te,ue){this.id=++ba,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=n,this.strResource=l,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=R,this.groupOrder=W,this.sourceId=te,this.sourceOrder=ue,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class jr{constructor(t,n){this.resourceLabel=t,this.reason=n}}class Sa{constructor(){this.elements=new Map}createMessage(){const t=[],n=[];for(const[,R]of this.elements)(R.reason===0?t:n).push(R.resourceLabel);const l=[];return t.length>0&&l.push(b.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),n.length>0&&l.push(b.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",n.join(", "))),l.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,n){this.elements.set(t,n)}delete(t){return this.elements.delete(t)}}class dl{constructor(t,n,l,R,W,te,ue){this.id=++ba,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=n,this.strResources=l,this.groupId=R,this.groupOrder=W,this.sourceId=te,this.sourceOrder=ue,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,n,l){this.removedResources||(this.removedResources=new Sa),this.removedResources.has(n)||this.removedResources.set(n,new jr(t,l))}setValid(t,n,l){l?this.invalidatedResources&&(this.invalidatedResources.delete(n),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Sa),this.invalidatedResources.has(n)||this.invalidatedResources.set(n,new jr(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ya{constructor(t,n){this.resourceLabel=t,this.strResource=n,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const t=[];t.push(`* ${this.strResource}:`);for(let n=0;n<this._past.length;n++)t.push(`   * [UNDO] ${this._past[n]}`);for(let n=this._future.length-1;n>=0;n--)t.push(`   * [REDO] ${this._future[n]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,n){t.type===1?t.setValid(this.resourceLabel,this.strResource,n):t.setValid(n)}setElementsValidFlag(t,n){for(const l of this._past)n(l.actual)&&this._setElementValidFlag(l,t);for(const l of this._future)n(l.actual)&&this._setElementValidFlag(l,t)}pushElement(t){for(const n of this._future)n.type===1&&n.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const n=[];for(let l=0,R=this._past.length;l<R;l++)n.push(this._past[l].id);for(let l=this._future.length-1;l>=0;l--)n.push(this._future[l].id);return new Os.YO(t,n)}restoreSnapshot(t){const n=t.elements.length;let l=!0,R=0,W=-1;for(let ue=0,ke=this._past.length;ue<ke;ue++,R++){const Be=this._past[ue];l&&(R>=n||Be.id!==t.elements[R])&&(l=!1,W=0),!l&&Be.type===1&&Be.removeResource(this.resourceLabel,this.strResource,0)}let te=-1;for(let ue=this._future.length-1;ue>=0;ue--,R++){const ke=this._future[ue];l&&(R>=n||ke.id!==t.elements[R])&&(l=!1,te=ue),!l&&ke.type===1&&ke.removeResource(this.resourceLabel,this.strResource,0)}W!==-1&&(this._past=this._past.slice(0,W)),te!==-1&&(this._future=this._future.slice(te+1)),this.versionId++}getElements(){const t=[],n=[];for(const l of this._past)t.push(l.actual);for(const l of this._future)n.push(l.actual);return{past:t,future:n}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,n){for(let l=this._past.length-1;l>=0;l--)if(this._past[l]===t){n.has(this.strResource)?this._past[l]=n.get(this.strResource):this._past.splice(l,1);break}this.versionId++}splitFutureWorkspaceElement(t,n){for(let l=this._future.length-1;l>=0;l--)if(this._future[l]===t){n.has(this.strResource)?this._future[l]=n.get(this.strResource):this._future.splice(l,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class Kr{constructor(t){this.editStacks=t,this._versionIds=[];for(let n=0,l=this.editStacks.length;n<l;n++)this._versionIds[n]=this.editStacks[n].versionId}isValid(){for(let t=0,n=this.editStacks.length;t<n;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const wa=new ya("","");wa.locked=!0;let $o=class{constructor(t,n){this._dialogService=t,this._notificationService=n,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const n of this._uriComparisonKeyComputers)if(n[0]===t.scheme)return n[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);const n=[];for(const l of this._editStacks)n.push(l[1].toString());console.log(n.join(`
`))}pushElement(t,n=Os.Xt.None,l=Os.gJ.None){if(t.type===0){const R=fr(t.resource),W=this.getUriComparisonKey(t.resource);this._pushElement(new Ko(t,R,W,n.id,n.nextOrder(),l.id,l.nextOrder()))}else{const R=new Set,W=[],te=[];for(const ue of t.resources){const ke=fr(ue),Be=this.getUriComparisonKey(ue);R.has(Be)||(R.add(Be),W.push(ke),te.push(Be))}W.length===1?this._pushElement(new Ko(t,W[0],te[0],n.id,n.nextOrder(),l.id,l.nextOrder())):this._pushElement(new dl(t,W,te,n.id,n.nextOrder(),l.id,l.nextOrder()))}No&&this._print("pushElement")}_pushElement(t){for(let n=0,l=t.strResources.length;n<l;n++){const R=t.resourceLabels[n],W=t.strResources[n];let te;this._editStacks.has(W)?te=this._editStacks.get(W):(te=new ya(R,W),this._editStacks.set(W,te)),te.pushElement(t)}}getLastElement(t){const n=this.getUriComparisonKey(t);if(this._editStacks.has(n)){const l=this._editStacks.get(n);if(l.hasFutureElements())return null;const R=l.getClosestPastElement();return R?R.actual:null}return null}_splitPastWorkspaceElement(t,n){const l=t.actual.split(),R=new Map;for(const W of l){const te=fr(W.resource),ue=this.getUriComparisonKey(W.resource),ke=new Ko(W,te,ue,0,0,0,0);R.set(ke.strResource,ke)}for(const W of t.strResources){if(n&&n.has(W))continue;this._editStacks.get(W).splitPastWorkspaceElement(t,R)}}_splitFutureWorkspaceElement(t,n){const l=t.actual.split(),R=new Map;for(const W of l){const te=fr(W.resource),ue=this.getUriComparisonKey(W.resource),ke=new Ko(W,te,ue,0,0,0,0);R.set(ke.strResource,ke)}for(const W of t.strResources){if(n&&n.has(W))continue;this._editStacks.get(W).splitFutureWorkspaceElement(t,R)}}removeElements(t){const n=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(n)&&(this._editStacks.get(n).dispose(),this._editStacks.delete(n)),No&&this._print("removeElements")}setElementsValidFlag(t,n,l){const R=this.getUriComparisonKey(t);this._editStacks.has(R)&&this._editStacks.get(R).setElementsValidFlag(n,l),No&&this._print("setElementsValidFlag")}createSnapshot(t){const n=this.getUriComparisonKey(t);return this._editStacks.has(n)?this._editStacks.get(n).createSnapshot(t):new Os.YO(t,[])}restoreSnapshot(t){const n=this.getUriComparisonKey(t.resource);if(this._editStacks.has(n)){const l=this._editStacks.get(n);l.restoreSnapshot(t),!l.hasPastElements()&&!l.hasFutureElements()&&(l.dispose(),this._editStacks.delete(n))}No&&this._print("restoreSnapshot")}getElements(t){const n=this.getUriComparisonKey(t);return this._editStacks.has(n)?this._editStacks.get(n).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let n=null,l=null;for(const[R,W]of this._editStacks){const te=W.getClosestPastElement();te&&te.sourceId===t&&(!n||te.sourceOrder>n.sourceOrder)&&(n=te,l=R)}return[n,l]}canUndo(t){if(t instanceof Os.gJ){const[,l]=this._findClosestUndoElementWithSource(t.id);return!!l}const n=this.getUriComparisonKey(t);return this._editStacks.has(n)?this._editStacks.get(n).hasPastElements():!1}_onError(t,n){(0,j.dL)(t);for(const l of n.strResources)this.removeElements(l);this._notificationService.error(t)}_acquireLocks(t){for(const n of t.editStacks)if(n.locked)throw new Error("Cannot acquire edit stack lock");for(const n of t.editStacks)n.locked=!0;return()=>{for(const n of t.editStacks)n.locked=!1}}_safeInvokeWithLocks(t,n,l,R,W){const te=this._acquireLocks(l);let ue;try{ue=n()}catch(ke){return te(),R.dispose(),this._onError(ke,t)}return ue?ue.then(()=>(te(),R.dispose(),W()),ke=>(te(),R.dispose(),this._onError(ke,t))):(te(),R.dispose(),W())}_invokeWorkspacePrepare(t){return hr(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo=="undefined")return f.JT.None;const n=t.actual.prepareUndoRedo();return typeof n=="undefined"?f.JT.None:n})}_invokeResourcePrepare(t,n){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo=="undefined")return n(f.JT.None);const l=t.actual.prepareUndoRedo();return l?(0,f.Wf)(l)?n(l):l.then(R=>n(R)):n(f.JT.None)}_getAffectedEditStacks(t){const n=[];for(const l of t.strResources)n.push(this._editStacks.get(l)||wa);return new Kr(n)}_tryToSplitAndUndo(t,n,l,R){if(n.canSplit())return this._splitPastWorkspaceElement(n,l),this._notificationService.warn(R),new gr(this._undo(t,0,!0));for(const W of n.strResources)this.removeElements(W);return this._notificationService.warn(R),new gr}_checkWorkspaceUndo(t,n,l,R){if(n.removedResources)return this._tryToSplitAndUndo(t,n,n.removedResources,b.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",n.label,n.removedResources.createMessage()));if(R&&n.invalidatedResources)return this._tryToSplitAndUndo(t,n,n.invalidatedResources,b.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",n.label,n.invalidatedResources.createMessage()));const W=[];for(const ue of l.editStacks)ue.getClosestPastElement()!==n&&W.push(ue.resourceLabel);if(W.length>0)return this._tryToSplitAndUndo(t,n,null,b.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",n.label,W.join(", ")));const te=[];for(const ue of l.editStacks)ue.locked&&te.push(ue.resourceLabel);return te.length>0?this._tryToSplitAndUndo(t,n,null,b.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",n.label,te.join(", "))):l.isValid()?null:this._tryToSplitAndUndo(t,n,null,b.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",n.label))}_workspaceUndo(t,n,l){const R=this._getAffectedEditStacks(n),W=this._checkWorkspaceUndo(t,n,R,!1);return W?W.returnValue:this._confirmAndExecuteWorkspaceUndo(t,n,R,l)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,n]of this._editStacks){const l=n.getClosestPastElement();if(l){if(l===t){const R=n.getSecondClosestPastElement();if(R&&R.groupId===t.groupId)return!0}if(l.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,n,l,R){return hr(this,void 0,void 0,function*(){if(n.canSplit()&&!this._isPartOfUndoGroup(n)){let ue;(function(Je){Je[Je.All=0]="All",Je[Je.This=1]="This",Je[Je.Cancel=2]="Cancel"})(ue||(ue={}));const{result:ke}=yield this._dialogService.prompt({type:Ls.Z.Info,message:b.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",n.label),buttons:[{label:b.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",l.editStacks.length),run:()=>ue.All},{label:b.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>ue.This}],cancelButton:{run:()=>ue.Cancel}});if(ke===ue.Cancel)return;if(ke===ue.This)return this._splitPastWorkspaceElement(n,null),this._undo(t,0,!0);const Be=this._checkWorkspaceUndo(t,n,l,!1);if(Be)return Be.returnValue;R=!0}let W;try{W=yield this._invokeWorkspacePrepare(n)}catch(ue){return this._onError(ue,n)}const te=this._checkWorkspaceUndo(t,n,l,!0);if(te)return W.dispose(),te.returnValue;for(const ue of l.editStacks)ue.moveBackward(n);return this._safeInvokeWithLocks(n,()=>n.actual.undo(),l,W,()=>this._continueUndoInGroup(n.groupId,R))})}_resourceUndo(t,n,l){if(!n.isValid){t.flushAllElements();return}if(t.locked){const R=b.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",n.label);this._notificationService.warn(R);return}return this._invokeResourcePrepare(n,R=>(t.moveBackward(n),this._safeInvokeWithLocks(n,()=>n.actual.undo(),new Kr([t]),R,()=>this._continueUndoInGroup(n.groupId,l))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let n=null,l=null;for(const[R,W]of this._editStacks){const te=W.getClosestPastElement();te&&te.groupId===t&&(!n||te.groupOrder>n.groupOrder)&&(n=te,l=R)}return[n,l]}_continueUndoInGroup(t,n){if(!t)return;const[,l]=this._findClosestUndoElementInGroup(t);if(l)return this._undo(l,0,n)}undo(t){if(t instanceof Os.gJ){const[,n]=this._findClosestUndoElementWithSource(t.id);return n?this._undo(n,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,n=0,l){if(!this._editStacks.has(t))return;const R=this._editStacks.get(t),W=R.getClosestPastElement();if(!W)return;if(W.groupId){const[ue,ke]=this._findClosestUndoElementInGroup(W.groupId);if(W!==ue&&ke)return this._undo(ke,n,l)}if((W.sourceId!==n||W.confirmBeforeUndo)&&!l)return this._confirmAndContinueUndo(t,n,W);try{return W.type===1?this._workspaceUndo(t,W,l):this._resourceUndo(R,W,l)}finally{No&&this._print("undo")}}_confirmAndContinueUndo(t,n,l){return hr(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:b.NC("confirmDifferentSource","Would you like to undo '{0}'?",l.label),primaryButton:b.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:b.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(t,n,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let n=null,l=null;for(const[R,W]of this._editStacks){const te=W.getClosestFutureElement();te&&te.sourceId===t&&(!n||te.sourceOrder<n.sourceOrder)&&(n=te,l=R)}return[n,l]}canRedo(t){if(t instanceof Os.gJ){const[,l]=this._findClosestRedoElementWithSource(t.id);return!!l}const n=this.getUriComparisonKey(t);return this._editStacks.has(n)?this._editStacks.get(n).hasFutureElements():!1}_tryToSplitAndRedo(t,n,l,R){if(n.canSplit())return this._splitFutureWorkspaceElement(n,l),this._notificationService.warn(R),new gr(this._redo(t));for(const W of n.strResources)this.removeElements(W);return this._notificationService.warn(R),new gr}_checkWorkspaceRedo(t,n,l,R){if(n.removedResources)return this._tryToSplitAndRedo(t,n,n.removedResources,b.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",n.label,n.removedResources.createMessage()));if(R&&n.invalidatedResources)return this._tryToSplitAndRedo(t,n,n.invalidatedResources,b.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",n.label,n.invalidatedResources.createMessage()));const W=[];for(const ue of l.editStacks)ue.getClosestFutureElement()!==n&&W.push(ue.resourceLabel);if(W.length>0)return this._tryToSplitAndRedo(t,n,null,b.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",n.label,W.join(", ")));const te=[];for(const ue of l.editStacks)ue.locked&&te.push(ue.resourceLabel);return te.length>0?this._tryToSplitAndRedo(t,n,null,b.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",n.label,te.join(", "))):l.isValid()?null:this._tryToSplitAndRedo(t,n,null,b.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",n.label))}_workspaceRedo(t,n){const l=this._getAffectedEditStacks(n),R=this._checkWorkspaceRedo(t,n,l,!1);return R?R.returnValue:this._executeWorkspaceRedo(t,n,l)}_executeWorkspaceRedo(t,n,l){return hr(this,void 0,void 0,function*(){let R;try{R=yield this._invokeWorkspacePrepare(n)}catch(te){return this._onError(te,n)}const W=this._checkWorkspaceRedo(t,n,l,!0);if(W)return R.dispose(),W.returnValue;for(const te of l.editStacks)te.moveForward(n);return this._safeInvokeWithLocks(n,()=>n.actual.redo(),l,R,()=>this._continueRedoInGroup(n.groupId))})}_resourceRedo(t,n){if(!n.isValid){t.flushAllElements();return}if(t.locked){const l=b.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",n.label);this._notificationService.warn(l);return}return this._invokeResourcePrepare(n,l=>(t.moveForward(n),this._safeInvokeWithLocks(n,()=>n.actual.redo(),new Kr([t]),l,()=>this._continueRedoInGroup(n.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let n=null,l=null;for(const[R,W]of this._editStacks){const te=W.getClosestFutureElement();te&&te.groupId===t&&(!n||te.groupOrder<n.groupOrder)&&(n=te,l=R)}return[n,l]}_continueRedoInGroup(t){if(!t)return;const[,n]=this._findClosestRedoElementInGroup(t);if(n)return this._redo(n)}redo(t){if(t instanceof Os.gJ){const[,n]=this._findClosestRedoElementWithSource(t.id);return n?this._redo(n):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const n=this._editStacks.get(t),l=n.getClosestFutureElement();if(l){if(l.groupId){const[R,W]=this._findClosestRedoElementInGroup(l.groupId);if(l!==R&&W)return this._redo(W)}try{return l.type===1?this._workspaceRedo(t,l):this._resourceRedo(n,l)}finally{No&&this._print("redo")}}}};$o=Ur([zr(0,jo.S),zr(1,Ws.lT)],$o);class gr{constructor(t){this.returnValue=t}}(0,Pn.z)(Os.tJ,$o,1);var Ad=i(16978),cl=i(74616),La=i(25220),Da=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},$r=function(oe,t){return function(n,l){t(n,l,oe)}};let mr=class extends f.JT{constructor(t,n,l){super(),this._themeService=t,this._logService=n,this._languageService=l,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(t){return this._caches.has(t)||this._caches.set(t,new cl.$(t.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(t)}};mr=Da([$r(0,ns.XE),$r(1,Dn.VZ),$r(2,U.O)],mr),(0,Pn.z)(La.s,mr,1);var ul=i(5927),Ps=i(15463),js=i(33392),Ea=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};const pr="**",Mo="/",Go="[/\\\\]",Qo="[^/\\\\]",kd=/\//g;function Zo(oe,t){switch(oe){case 0:return"";case 1:return`${Qo}*?`;default:return`(?:${Go}|${Qo}+${Go}${t?`|${Go}${Qo}+`:""})*?`}}function vr(oe,t){if(!oe)return[];const n=[];let l=!1,R=!1,W="";for(const te of oe){switch(te){case t:if(!l&&!R){n.push(W),W="";continue}break;case"{":l=!0;break;case"}":l=!1;break;case"[":R=!0;break;case"]":R=!1;break}W+=te}return W&&n.push(W),n}function xa(oe){if(!oe)return"";let t="";const n=vr(oe,Mo);if(n.every(l=>l===pr))t=".*";else{let l=!1;n.forEach((R,W)=>{if(R===pr){if(l)return;t+=Zo(2,W===n.length-1)}else{let te=!1,ue="",ke=!1,Be="";for(const Je of R){if(Je!=="}"&&te){ue+=Je;continue}if(ke&&(Je!=="]"||!Be)){let ht;Je==="-"?ht=Je:(Je==="^"||Je==="!")&&!Be?ht="^":Je===Mo?ht="":ht=(0,s.ec)(Je),Be+=ht;continue}switch(Je){case"{":te=!0;continue;case"[":ke=!0;continue;case"}":{const Ot=`(?:${vr(ue,",").map(Bt=>xa(Bt)).join("|")})`;t+=Ot,te=!1,ue="";break}case"]":{t+="["+Be+"]",ke=!1,Be="";break}case"?":t+=Qo;continue;case"*":t+=Zo(1);continue;default:t+=(0,s.ec)(Je)}}W<n.length-1&&(n[W+1]!==pr||W+2<n.length)&&(t+=Go)}l=R===pr})}return t}const Gr=/^\*\*\/\*\.[\w\.-]+$/,Qr=/^\*\*\/([\w\.-]+)\/?$/,hl=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,fl=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Yo=/^\*\*((\/[\w\.-]+)+)\/?$/,Ia=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,_r=new Ps.z6(1e4),Zr=function(){return!1},Ks=function(){return null};function Xo(oe,t){if(!oe)return Ks;let n;typeof oe!="string"?n=oe.pattern:n=oe,n=n.trim();const l=`${n}_${!!t.trimForExclusions}`;let R=_r.get(l);if(R)return Cr(R,oe);let W;return Gr.test(n)?R=gl(n.substr(4),n):(W=Qr.exec(Yr(n,t)))?R=ml(W[1],n):(t.trimForExclusions?fl:hl).test(n)?R=Xr(n,t):(W=Yo.exec(Yr(n,t)))?R=br(W[1].substr(1),n,!0):(W=Ia.exec(Yr(n,t)))?R=br(W[1],n,!1):R=pl(n),_r.set(l,R),Cr(R,oe)}function Cr(oe,t){if(typeof t=="string")return oe;const n=function(l,R){return(0,ul.KM)(l,t.base,!G.IJ)?oe((0,s.j3)(l.substr(t.base.length),js.ir),R):null};return n.allBasenames=oe.allBasenames,n.allPaths=oe.allPaths,n.basenames=oe.basenames,n.patterns=oe.patterns,n}function Yr(oe,t){return t.trimForExclusions&&oe.endsWith("/**")?oe.substr(0,oe.length-2):oe}function gl(oe,t){return function(n,l){return typeof n=="string"&&n.endsWith(oe)?t:null}}function ml(oe,t){const n=`/${oe}`,l=`\\${oe}`,R=function(te,ue){return typeof te!="string"?null:ue?ue===oe?t:null:te===oe||te.endsWith(n)||te.endsWith(l)?t:null},W=[oe];return R.basenames=W,R.patterns=[t],R.allBasenames=W,R}function Xr(oe,t){const n=Ma(oe.slice(1,-1).split(",").map(ue=>Xo(ue,t)).filter(ue=>ue!==Ks),oe),l=n.length;if(!l)return Ks;if(l===1)return n[0];const R=function(ue,ke){for(let Be=0,Je=n.length;Be<Je;Be++)if(n[Be](ue,ke))return oe;return null},W=n.find(ue=>!!ue.allBasenames);W&&(R.allBasenames=W.allBasenames);const te=n.reduce((ue,ke)=>ke.allPaths?ue.concat(ke.allPaths):ue,[]);return te.length&&(R.allPaths=te),R}function br(oe,t,n){const l=js.ir===js.KR.sep,R=l?oe:oe.replace(kd,js.ir),W=js.ir+R,te=js.KR.sep+oe;let ue;return n?ue=function(ke,Be){return typeof ke=="string"&&(ke===R||ke.endsWith(W)||!l&&(ke===oe||ke.endsWith(te)))?t:null}:ue=function(ke,Be){return typeof ke=="string"&&(ke===R||!l&&ke===oe)?t:null},ue.allPaths=[(n?"*/":"./")+oe],ue}function pl(oe){try{const t=new RegExp(`^${xa(oe)}$`);return function(n){return t.lastIndex=0,typeof n=="string"&&t.test(n)?oe:null}}catch(t){return Ks}}function vl(oe,t,n){return!oe||typeof t!="string"?!1:Na(oe)(t,void 0,n)}function Na(oe,t={}){if(!oe)return Zr;if(typeof oe=="string"||_l(oe)){const n=Xo(oe,t);if(n===Ks)return Zr;const l=function(R,W){return!!n(R,W)};return n.allBasenames&&(l.allBasenames=n.allBasenames),n.allPaths&&(l.allPaths=n.allPaths),l}return Cl(oe,t)}function _l(oe){const t=oe;return t?typeof t.base=="string"&&typeof t.pattern=="string":!1}function Cl(oe,t){const n=Ma(Object.getOwnPropertyNames(oe).map(ue=>lo(ue,oe[ue],t)).filter(ue=>ue!==Ks)),l=n.length;if(!l)return Ks;if(!n.some(ue=>!!ue.requiresSiblings)){if(l===1)return n[0];const ue=function(Je,ht){let Ot;for(let Bt=0,oi=n.length;Bt<oi;Bt++){const bi=n[Bt](Je,ht);if(typeof bi=="string")return bi;(0,B.J8)(bi)&&(Ot||(Ot=[]),Ot.push(bi))}return Ot?(()=>Ea(this,void 0,void 0,function*(){for(const Bt of Ot){const oi=yield Bt;if(typeof oi=="string")return oi}return null}))():null},ke=n.find(Je=>!!Je.allBasenames);ke&&(ue.allBasenames=ke.allBasenames);const Be=n.reduce((Je,ht)=>ht.allPaths?Je.concat(ht.allPaths):Je,[]);return Be.length&&(ue.allPaths=Be),ue}const R=function(ue,ke,Be){let Je,ht;for(let Ot=0,Bt=n.length;Ot<Bt;Ot++){const oi=n[Ot];oi.requiresSiblings&&Be&&(ke||(ke=(0,js.EZ)(ue)),Je||(Je=ke.substr(0,ke.length-(0,js.DZ)(ue).length)));const bi=oi(ue,ke,Je,Be);if(typeof bi=="string")return bi;(0,B.J8)(bi)&&(ht||(ht=[]),ht.push(bi))}return ht?(()=>Ea(this,void 0,void 0,function*(){for(const Ot of ht){const Bt=yield Ot;if(typeof Bt=="string")return Bt}return null}))():null},W=n.find(ue=>!!ue.allBasenames);W&&(R.allBasenames=W.allBasenames);const te=n.reduce((ue,ke)=>ke.allPaths?ue.concat(ke.allPaths):ue,[]);return te.length&&(R.allPaths=te),R}function lo(oe,t,n){if(t===!1)return Ks;const l=Xo(oe,n);if(l===Ks)return Ks;if(typeof t=="boolean")return l;if(t){const R=t.when;if(typeof R=="string"){const W=(te,ue,ke,Be)=>{if(!Be||!l(te,ue))return null;const Je=R.replace("$(basename)",()=>ke),ht=Be(Je);return(0,B.J8)(ht)?ht.then(Ot=>Ot?oe:null):ht?oe:null};return W.requiresSiblings=!0,W}}return l}function Ma(oe,t){const n=oe.filter(ue=>!!ue.basenames);if(n.length<2)return oe;const l=n.reduce((ue,ke)=>{const Be=ke.basenames;return Be?ue.concat(Be):ue},[]);let R;if(t){R=[];for(let ue=0,ke=l.length;ue<ke;ue++)R.push(t)}else R=n.reduce((ue,ke)=>{const Be=ke.patterns;return Be?ue.concat(Be):ue},[]);const W=function(ue,ke){if(typeof ue!="string")return null;if(!ke){let Je;for(Je=ue.length;Je>0;Je--){const ht=ue.charCodeAt(Je-1);if(ht===47||ht===92)break}ke=ue.substr(Je)}const Be=l.indexOf(ke);return Be!==-1?R[Be]:null};W.basenames=l,W.patterns=R,W.allBasenames=l;const te=oe.filter(ue=>!ue.basenames);return te.push(W),te}function Ta(oe,t,n,l,R,W){if(Array.isArray(oe)){let te=0;for(const ue of oe){const ke=Ta(ue,t,n,l,R,W);if(ke===10)return ke;ke>te&&(te=ke)}return te}else{if(typeof oe=="string")return l?oe==="*"?5:oe===n?10:0:0;if(oe){const{language:te,pattern:ue,scheme:ke,hasAccessToAllModels:Be,notebookType:Je}=oe;if(!l&&!Be)return 0;Je&&R&&(t=R);let ht=0;if(ke)if(ke===t.scheme)ht=10;else if(ke==="*")ht=5;else return 0;if(te)if(te===n)ht=10;else if(te==="*")ht=Math.max(ht,5);else return 0;if(Je)if(Je===W)ht=10;else if(Je==="*"&&W!==void 0)ht=Math.max(ht,5);else return 0;if(ue){let Ot;if(typeof ue=="string"?Ot=ue:Ot=Object.assign(Object.assign({},ue),{base:(0,js.Fv)(ue.base)}),Ot===t.fsPath||vl(Ot,t.fsPath))ht=10;else return 0}return ht}else return 0}}function Ra(oe){return typeof oe=="string"?!1:Array.isArray(oe)?oe.every(Ra):!!oe.exclusive}class Jo{constructor(t,n,l,R){this.uri=t,this.languageId=n,this.notebookUri=l,this.notebookType=R}equals(t){var n,l;return this.notebookType===t.notebookType&&this.languageId===t.languageId&&this.uri.toString()===t.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((l=t.notebookUri)===null||l===void 0?void 0:l.toString())}}class Un{constructor(t){this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new g.Q5,this.onDidChange=this._onDidChange.event}register(t,n){let l={selector:t,provider:n,_score:-1,_time:this._clock++};return this._entries.push(l),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,f.OF)(()=>{if(l){const R=this._entries.indexOf(l);R>=0&&(this._entries.splice(R,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),l=void 0)}})}has(t){return this.all(t).length>0}all(t){if(!t)return[];this._updateScores(t);const n=[];for(const l of this._entries)l._score>0&&n.push(l.provider);return n}ordered(t){const n=[];return this._orderedForEach(t,l=>n.push(l.provider)),n}orderedGroups(t){const n=[];let l,R;return this._orderedForEach(t,W=>{l&&R===W._score?l.push(W.provider):(R=W._score,l=[W.provider],n.push(l))}),n}_orderedForEach(t,n){this._updateScores(t);for(const l of this._entries)l._score>0&&n(l)}_updateScores(t){var n,l;const R=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,t.uri),W=R?new Jo(t.uri,t.getLanguageId(),R.uri,R.type):new Jo(t.uri,t.getLanguageId(),void 0,void 0);if(!(!((l=this._lastCandidate)===null||l===void 0)&&l.equals(W))){this._lastCandidate=W;for(const te of this._entries)if(te._score=Ta(te.selector,W.uri,W.languageId,(0,P.pt)(t),W.notebookUri,W.notebookType),Ra(te.selector)&&te._score>0){for(const ue of this._entries)ue._score=0;te._score=1e3;break}this._entries.sort(Un._compareByScoreAndTime)}}static _compareByScoreAndTime(t,n){return t._score<n._score?1:t._score>n._score?-1:t._time<n._time?1:t._time>n._time?-1:0}}class gs{constructor(){this.referenceProvider=new Un(this._score.bind(this)),this.renameProvider=new Un(this._score.bind(this)),this.codeActionProvider=new Un(this._score.bind(this)),this.definitionProvider=new Un(this._score.bind(this)),this.typeDefinitionProvider=new Un(this._score.bind(this)),this.declarationProvider=new Un(this._score.bind(this)),this.implementationProvider=new Un(this._score.bind(this)),this.documentSymbolProvider=new Un(this._score.bind(this)),this.inlayHintsProvider=new Un(this._score.bind(this)),this.colorProvider=new Un(this._score.bind(this)),this.codeLensProvider=new Un(this._score.bind(this)),this.documentFormattingEditProvider=new Un(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Un(this._score.bind(this)),this.onTypeFormattingEditProvider=new Un(this._score.bind(this)),this.signatureHelpProvider=new Un(this._score.bind(this)),this.hoverProvider=new Un(this._score.bind(this)),this.documentHighlightProvider=new Un(this._score.bind(this)),this.selectionRangeProvider=new Un(this._score.bind(this)),this.foldingRangeProvider=new Un(this._score.bind(this)),this.linkProvider=new Un(this._score.bind(this)),this.inlineCompletionsProvider=new Un(this._score.bind(this)),this.completionProvider=new Un(this._score.bind(this)),this.linkedEditingRangeProvider=new Un(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Un(this._score.bind(this)),this.documentSemanticTokensProvider=new Un(this._score.bind(this)),this.documentOnDropEditProvider=new Un(this._score.bind(this)),this.documentPasteEditProvider=new Un(this._score.bind(this))}_score(t){var n;return(n=this._notebookTypeResolver)===null||n===void 0?void 0:n.call(this,t)}}(0,Pn.z)(Bi.p,gs,1);var xs=i(87415),To=i(4526),Jr=i(24467),Oa=i(107),bl=i(24222),Sl=i(58295),os=i(21760),co=i(67770),to=i(29628),Sr=i(94814);function wt(oe){return Object.isFrozen(oe)?oe:u._A(oe)}class e{constructor(t={},n=[],l=[],R){this._contents=t,this._keys=n,this._overrides=l,this.raw=R,this.overrideConfigurations=new Map}get rawConfiguration(){var t;if(!this._rawConfiguration)if(!((t=this.raw)===null||t===void 0)&&t.length){const n=this.raw.map(l=>{if(l instanceof e)return l;const R=new o("");return R.parseRaw(l),R.configurationModel});this._rawConfiguration=n.reduce((l,R)=>R===l?R:l.merge(R),n[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,ii.Mt)(this.contents,t):this.contents}inspect(t,n){const l=this.rawConfiguration.getValue(t),R=n?this.rawConfiguration.getOverrideValue(t,n):void 0,W=n?this.rawConfiguration.override(n).getValue(t):l;return{value:l,override:R,merged:W}}getOverrideValue(t,n){const l=this.getContentsForOverrideIdentifer(n);return l?t?(0,ii.Mt)(l,t):l:void 0}override(t){let n=this.overrideConfigurations.get(t);return n||(n=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,n)),n}merge(...t){var n,l;const R=u.I8(this.contents),W=u.I8(this.overrides),te=[...this.keys],ue=!((n=this.raw)===null||n===void 0)&&n.length?[...this.raw]:[this];for(const ke of t)if(ue.push(...!((l=ke.raw)===null||l===void 0)&&l.length?ke.raw:[ke]),!ke.isEmpty()){this.mergeContents(R,ke.contents);for(const Be of ke.overrides){const[Je]=W.filter(ht=>Ri.fS(ht.identifiers,Be.identifiers));Je?(this.mergeContents(Je.contents,Be.contents),Je.keys.push(...Be.keys),Je.keys=Ri.EB(Je.keys)):W.push(u.I8(Be))}for(const Be of ke.keys)te.indexOf(Be)===-1&&te.push(Be)}return new e(R,te,W,ue.every(ke=>ke instanceof e)?void 0:ue)}createOverrideConfigurationModel(t){const n=this.getContentsForOverrideIdentifer(t);if(!n||typeof n!="object"||!Object.keys(n).length)return this;const l={};for(const R of Ri.EB([...Object.keys(this.contents),...Object.keys(n)])){let W=this.contents[R];const te=n[R];te&&(typeof W=="object"&&typeof te=="object"?(W=u.I8(W),this.mergeContents(W,te)):W=te),l[R]=W}return new e(l,this.keys,this.overrides)}mergeContents(t,n){for(const l of Object.keys(n)){if(l in t&&co.Kn(t[l])&&co.Kn(n[l])){this.mergeContents(t[l],n[l]);continue}t[l]=u.I8(n[l])}}getContentsForOverrideIdentifer(t){let n=null,l=null;const R=W=>{W&&(l?this.mergeContents(l,W):l=u.I8(W))};for(const W of this.overrides)Ri.fS(W.identifiers,[t])?n=W.contents:W.identifiers.includes(t)&&R(W.contents);return R(n),l}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,n){this.updateValue(t,n,!0)}setValue(t,n){this.updateValue(t,n,!1)}removeValue(t){const n=this.keys.indexOf(t);n!==-1&&(this.keys.splice(n,1),(0,ii.xL)(this.contents,t),to.eU.test(t)&&this.overrides.splice(this.overrides.findIndex(l=>Ri.fS(l.identifiers,(0,to.ny)(t))),1))}updateValue(t,n,l){(0,ii.KV)(this.contents,t,n,R=>console.error(R)),l=l||this.keys.indexOf(t)===-1,l&&this.keys.push(t),to.eU.test(t)&&this.overrides.push({identifiers:(0,to.ny)(t),keys:Object.keys(this.contents[t]),contents:(0,ii.Od)(this.contents[t],R=>console.error(R))})}}class o{constructor(t){this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new e}parseRaw(t,n){this._raw=t;const{contents:l,keys:R,overrides:W,restricted:te,hasExcludedProperties:ue}=this.doParseRaw(t,n);this._configurationModel=new e(l,R,W,ue?[t]:void 0),this._restrictedConfigurations=te||[]}doParseRaw(t,n){const l=Sr.B.as(to.IP.Configuration).getConfigurationProperties(),R=this.filter(t,l,!0,n);t=R.raw;const W=(0,ii.Od)(t,ke=>console.error(`Conflict in settings file ${this._name}: ${ke}`)),te=Object.keys(t),ue=this.toOverrides(t,ke=>console.error(`Conflict in settings file ${this._name}: ${ke}`));return{contents:W,keys:te,overrides:ue,restricted:R.restricted,hasExcludedProperties:R.hasExcludedProperties}}filter(t,n,l,R){let W=!1;if(!(R!=null&&R.scopes)&&!(R!=null&&R.skipRestricted))return{raw:t,restricted:[],hasExcludedProperties:W};const te={},ue=[];for(const ke in t)if(to.eU.test(ke)&&l){const Be=this.filter(t[ke],n,!1,R);te[ke]=Be.raw,W=W||Be.hasExcludedProperties,ue.push(...Be.restricted)}else{const Be=n[ke],Je=Be?typeof Be.scope!="undefined"?Be.scope:3:void 0;Be!=null&&Be.restricted&&ue.push(ke),(Je===void 0||R.scopes===void 0||R.scopes.includes(Je))&&!(R.skipRestricted&&(Be!=null&&Be.restricted))?te[ke]=t[ke]:W=!0}return{raw:te,restricted:ue,hasExcludedProperties:W}}toOverrides(t,n){const l=[];for(const R of Object.keys(t))if(to.eU.test(R)){const W={};for(const te in t[R])W[te]=t[R][te];l.push({identifiers:(0,to.ny)(R),keys:Object.keys(W),contents:(0,ii.Od)(W,n)})}return l}}class v{constructor(t,n,l,R,W,te,ue,ke,Be,Je,ht,Ot,Bt){this.key=t,this.overrides=n,this._value=l,this.overrideIdentifiers=R,this.defaultConfiguration=W,this.policyConfiguration=te,this.applicationConfiguration=ue,this.userConfiguration=ke,this.localUserConfiguration=Be,this.remoteUserConfiguration=Je,this.workspaceConfiguration=ht,this.folderConfigurationModel=Ot,this.memoryConfigurationModel=Bt}inspect(t,n,l){const R=t.inspect(n,l);return{get value(){return wt(R.value)},get override(){return wt(R.override)},get merged(){return wt(R.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class k{constructor(t,n,l,R,W=new e,te=new e,ue=new Ps.Y9,ke=new e,Be=new Ps.Y9){this._defaultConfiguration=t,this._policyConfiguration=n,this._applicationConfiguration=l,this._localUserConfiguration=R,this._remoteUserConfiguration=W,this._workspaceConfiguration=te,this._folderConfigurations=ue,this._memoryConfiguration=ke,this._memoryConfigurationByResource=Be,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ps.Y9,this._userConfiguration=null}getValue(t,n,l){return this.getConsolidatedConfigurationModel(t,n,l).getValue(t)}updateValue(t,n,l={}){let R;l.resource?(R=this._memoryConfigurationByResource.get(l.resource),R||(R=new e,this._memoryConfigurationByResource.set(l.resource,R))):R=this._memoryConfiguration,n===void 0?R.removeValue(t):R.setValue(t,n),l.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,n,l){const R=this.getConsolidatedConfigurationModel(t,n,l),W=this.getFolderConfigurationModelForResource(n.resource,l),te=n.resource?this._memoryConfigurationByResource.get(n.resource)||this._memoryConfiguration:this._memoryConfiguration,ue=new Set;for(const ke of R.overrides)for(const Be of ke.identifiers)R.getOverrideValue(t,Be)!==void 0&&ue.add(Be);return new v(t,n,R.getValue(t),ue.size?[...ue]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,l?this._workspaceConfiguration:void 0,W||void 0,te)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(t,n,l){let R=this.getConsolidatedConfigurationModelForResource(n,l);return n.overrideIdentifier&&(R=R.override(n.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(t)!==void 0&&(R=R.merge(this._policyConfiguration)),R}getConsolidatedConfigurationModelForResource({resource:t},n){let l=this.getWorkspaceConsolidatedConfiguration();if(n&&t){const R=n.getFolder(t);R&&(l=this.getFolderConsolidatedConfiguration(R.uri)||l);const W=this._memoryConfigurationByResource.get(t);W&&(l=l.merge(W))}return l}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let n=this._foldersConsolidatedConfigurations.get(t);if(!n){const l=this.getWorkspaceConsolidatedConfiguration(),R=this._folderConfigurations.get(t);R?(n=l.merge(R),this._foldersConsolidatedConfigurations.set(t,n)):n=l}return n}getFolderConfigurationModelForResource(t,n){if(n&&t){const l=n.getFolder(t);if(l)return this._folderConfigurations.get(l.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,n)=>{const{contents:l,overrides:R,keys:W}=this._folderConfigurations.get(n);return t.push([n,{contents:l,overrides:R,keys:W}]),t},[])}}static parse(t){const n=this.parseConfigurationModel(t.defaults),l=this.parseConfigurationModel(t.policy),R=this.parseConfigurationModel(t.application),W=this.parseConfigurationModel(t.user),te=this.parseConfigurationModel(t.workspace),ue=t.folders.reduce((ke,Be)=>(ke.set(S.o.revive(Be[0]),this.parseConfigurationModel(Be[1])),ke),new Ps.Y9);return new k(n,l,R,W,new e,te,ue,new e,new Ps.Y9)}static parseConfigurationModel(t){return new e(t.contents,t.keys,t.overrides)}}class Z{constructor(t,n,l,R){this.change=t,this.previous=n,this.currentConfiguraiton=l,this.currentWorkspace=R,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const W of t.keys)this.affectedKeys.add(W);for(const[,W]of t.overrides)for(const te of W)this.affectedKeys.add(te);this._affectsConfigStr=this._marker;for(const W of this.affectedKeys)this._affectsConfigStr+=W+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=k.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,n){var l;const R=this._marker+t,W=this._affectsConfigStr.indexOf(R);if(W<0)return!1;const te=W+R.length;if(te>=this._affectsConfigStr.length)return!1;const ue=this._affectsConfigStr.charCodeAt(te);if(ue!==this._markerCode1&&ue!==this._markerCode2)return!1;if(n){const ke=this.previousConfiguration?this.previousConfiguration.getValue(t,n,(l=this.previous)===null||l===void 0?void 0:l.workspace):void 0,Be=this.currentConfiguraiton.getValue(t,n,this.currentWorkspace);return!u.fS(ke,Be)}return!0}}var ce=i(85498);const Ne=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class Qe extends f.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:g.ju.None}constructor(t,n,l,R,W){super(),this._contextKeyService=t,this._commandService=n,this._telemetryService=l,this._notificationService=R,this._logService=W,this._onDidUpdateKeybindings=this._register(new g.Q5),this._currentChord=null,this._currentChordChecker=new B.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=qe.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new B._F,this._logging=!1}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,n){const l=this._getResolver().lookupPrimaryKeybinding(t,n||this._contextKeyService);if(l)return l.resolvedKeybinding}dispatchEvent(t,n){return this._dispatch(t,n)}softDispatch(t,n){this._log("/ Soft dispatching keyboard event");const l=this.resolveKeyboardEvent(t);if(l.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),null;const[R]=l.getDispatchChords();if(R===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const W=this._contextKeyService.getContext(n),te=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(W,te,R)}_enterMultiChordMode(t,n){this._currentChord={keypress:t,label:n},this._currentChordStatusMessage=this._notificationService.status(b.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",n));const l=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-l>5e3&&this._leaveChordMode()},500),ce.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null,ce.F.enable()}_dispatch(t,n){return this._doDispatch(this.resolveKeyboardEvent(t),n,!1)}_singleModifierDispatch(t,n){const l=this.resolveKeyboardEvent(t),[R]=l.getSingleModifierDispatchChords();if(R)return this._ignoreSingleModifiers.has(R)?(this._log(`+ Ignoring single modifier ${R} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=qe.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=qe.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${R}.`),this._currentSingleModifier=R,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):R===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${R} ${R}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(l,n,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${R}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[W]=l.getChords();return this._ignoreSingleModifiers=new qe(W),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,n,l=!1){let R=!1;if(t.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let W=null,te=null;if(l){const[Je]=t.getSingleModifierDispatchChords();W=Je,te=Je}else[W]=t.getDispatchChords(),te=this._currentChord?this._currentChord.keypress:null;if(W===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),R;const ue=this._contextKeyService.getContext(n),ke=t.getLabel(),Be=this._getResolver().resolve(ue,te,W);return this._logService.trace("KeybindingService#dispatch",ke,Be==null?void 0:Be.commandId),Be&&Be.enterMultiChord?(R=!0,this._enterMultiChordMode(W,ke),this._log("+ Entering chord mode..."),R):(this._currentChord&&(!Be||!Be.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${ke}".`),this._notificationService.status(b.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,ke),{hideAfter:10*1e3}),R=!0),this._leaveChordMode(),Be&&Be.commandId&&(Be.bubble||(R=!0),this._log(`+ Invoking command ${Be.commandId}.`),typeof Be.commandArgs=="undefined"?this._commandService.executeCommand(Be.commandId).then(void 0,Je=>this._notificationService.warn(Je)):this._commandService.executeCommand(Be.commandId,Be.commandArgs).then(void 0,Je=>this._notificationService.warn(Je)),Ne.test(Be.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Be.commandId,from:"keybinding"})),R)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class qe{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}qe.EMPTY=new qe(null);var it=i(22437);class gt{constructor(t,n,l){this._log=l,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(const R of t){const W=R.command;W&&W.charAt(0)!=="-"&&this._defaultBoundCommands.set(W,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=gt.handleRemovals([].concat(t).concat(n));for(let R=0,W=this._keybindings.length;R<W;R++){const te=this._keybindings[R];te.chords.length!==0&&(te.when&&te.when.type===0||this._addKeyPress(te.chords[0],te))}}static _isTargetedForRemoval(t,n,l,R){return!(n&&t.chords[0]!==n||l&&t.chords[1]!==l||R&&R.type!==1&&(!t.when||!(0,Yi.Fb)(R,t.when)))}static handleRemovals(t){const n=new Map;for(let R=0,W=t.length;R<W;R++){const te=t[R];if(te.command&&te.command.charAt(0)==="-"){const ue=te.command.substring(1);n.has(ue)?n.get(ue).push(te):n.set(ue,[te])}}if(n.size===0)return t;const l=[];for(let R=0,W=t.length;R<W;R++){const te=t[R];if(!te.command||te.command.length===0){l.push(te);continue}if(te.command.charAt(0)==="-")continue;const ue=n.get(te.command);if(!ue||!te.isDefault){l.push(te);continue}let ke=!1;for(const Be of ue){const Je=Be.chords[0],ht=Be.chords[1],Ot=Be.when;if(this._isTargetedForRemoval(te,Je,ht,Ot)){ke=!0;break}}if(!ke){l.push(te);continue}}return l}_addKeyPress(t,n){const l=this._map.get(t);if(typeof l=="undefined"){this._map.set(t,[n]),this._addToLookupMap(n);return}for(let R=l.length-1;R>=0;R--){const W=l[R];if(W.command===n.command)continue;const te=W.chords.length>1,ue=n.chords.length>1;te&&ue&&W.chords[1]!==n.chords[1]||gt.whenIsEntirelyIncluded(W.when,n.when)&&this._removeFromLookupMap(W)}l.push(n),this._addToLookupMap(n)}_addToLookupMap(t){if(!t.command)return;let n=this._lookupMap.get(t.command);typeof n=="undefined"?(n=[t],this._lookupMap.set(t.command,n)):n.push(t)}_removeFromLookupMap(t){if(!t.command)return;const n=this._lookupMap.get(t.command);if(typeof n!="undefined"){for(let l=0,R=n.length;l<R;l++)if(n[l]===t){n.splice(l,1);return}}}static whenIsEntirelyIncluded(t,n){return!n||n.type===1?!0:!t||t.type===1?!1:(0,Yi.K8)(t,n)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,n){const l=this._lookupMap.get(t);if(typeof l=="undefined"||l.length===0)return null;if(l.length===1)return l[0];for(let R=l.length-1;R>=0;R--){const W=l[R];if(n.contextMatchesRules(W.when))return W}return l[l.length-1]}resolve(t,n,l){this._log(`| Resolving ${l}${n?` chorded from ${n}`:""}`);let R=null;if(n!==null){const te=this._map.get(n);if(typeof te=="undefined")return this._log("\\ No keybinding entries."),null;R=[];for(let ue=0,ke=te.length;ue<ke;ue++){const Be=te[ue];Be.chords[1]===l&&R.push(Be)}}else{const te=this._map.get(l);if(typeof te=="undefined")return this._log("\\ No keybinding entries."),null;R=te}const W=this._findCommand(t,R);return W?n===null&&W.chords.length>1&&W.chords[1]!==null?(this._log(`\\ From ${R.length} keybinding entries, matched chord, when: ${Tt(W.when)}, source: ${Nt(W)}.`),{enterMultiChord:!0,leaveMultiChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${R.length} keybinding entries, matched ${W.command}, when: ${Tt(W.when)}, source: ${Nt(W)}.`),{enterMultiChord:!1,leaveMultiChord:W.chords.length>1,commandId:W.command,commandArgs:W.commandArgs,bubble:W.bubble}):(this._log(`\\ From ${R.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,n){for(let l=n.length-1;l>=0;l--){const R=n[l];if(gt._contextMatchesRules(t,R.when))return R}return null}static _contextMatchesRules(t,n){return n?n.evaluate(t):!0}}function Tt(oe){return oe?`${oe.serialize()}`:"no when condition"}function Nt(oe){return oe.extensionId?oe.isBuiltinExtension?`built-in extension ${oe.extensionId}`:`user extension ${oe.extensionId}`:oe.isDefault?"built-in":"user"}var zt=i(59477);class Yt{constructor(t,n,l,R,W,te,ue){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.chords=t?Xt(t.getDispatchChords()):[],t&&this.chords.length===0&&(this.chords=Xt(t.getSingleModifierDispatchChords())),this.bubble=n?n.charCodeAt(0)===94:!1,this.command=this.bubble?n.substr(1):n,this.commandArgs=l,this.when=R,this.isDefault=W,this.extensionId=te,this.isBuiltinExtension=ue}}function Xt(oe){const t=[];for(let n=0,l=oe.length;n<l;n++){const R=oe[n];if(!R)return[];t.push(R)}return t}var si=i(88566);class fi extends To.f1{constructor(t,n){if(super(),n.length===0)throw(0,j.b1)("chords");this._os=t,this._chords=n}getLabel(){return si.xo.toLabel(this._os,this._chords,t=>this._getLabel(t))}getAriaLabel(){return si.X4.toLabel(this._os,this._chords,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:si.jC.toLabel(this._os,this._chords,t=>this._getElectronAccelerator(t))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(t=>this._getChord(t))}_getChord(t){return new To.aZ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchChords(){return this._chords.map(t=>this._getChordDispatch(t))}getSingleModifierDispatchChords(){return this._chords.map(t=>this._getSingleModifierChordDispatch(t))}}class _i extends fi{constructor(t,n){super(n,t)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return A.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":A.kL.toString(t.keyCode)}_getElectronAccelerator(t){return A.kL.toElectronAccelerator(t.keyCode)}_getChordDispatch(t){return _i.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let n="";return t.ctrlKey&&(n+="ctrl+"),t.shiftKey&&(n+="shift+"),t.altKey&&(n+="alt+"),t.metaKey&&(n+="meta+"),n+=A.kL.toString(t.keyCode),n}_getSingleModifierChordDispatch(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const n=A.Vd[t];if(n!==-1)return n;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _toKeyCodeChord(t){if(!t)return null;if(t instanceof To.$M)return t;const n=this._scanCodeToKeyCode(t.scanCode);return n===0?null:new To.$M(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,n)}static resolveKeybinding(t,n){const l=Xt(t.chords.map(R=>this._toKeyCodeChord(R)));return l.length>0?[new _i(l,n)]:[]}}var Ai=i(4408),Ii=i(43257),Hi=i(52199),zi=i(7631),ji=i(17349),xi=i(6753),fn=i(78215),hn=i(81186),en;(function(oe){oe[oe.AVOID=0]="AVOID",oe[oe.ALIGN=1]="ALIGN"})(en||(en={}));function gn(oe,t,n){const l=n.mode===en.ALIGN?n.offset:n.offset+n.size,R=n.mode===en.ALIGN?n.offset+n.size:n.offset;return n.position===0?t<=oe-l?l:t<=R?R-t:Math.max(oe-t,0):t<=R?R-t:t<=oe-l?l:0}class kn extends f.JT{constructor(t,n){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=f.JT.None,this.toDisposeOnSetContainer=f.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Pe.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Pe.Cp(this.view),this.setContainer(t,n),this._register((0,f.OF)(()=>this.setContainer(null,1)))}setContainer(t,n){var l;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(l=this.shadowRootHostElement)===null||l===void 0||l.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=n!==1,this.useShadowDOM=n===3,this.useShadowDOM){this.shadowRootHostElement=Pe.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const W=document.createElement("style");W.textContent=Vn,this.shadowRoot.appendChild(W),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Pe.$("slot"))}else this.container.appendChild(this.view);const R=new f.SL;kn.BUBBLE_UP_EVENTS.forEach(W=>{R.add(Pe.mu(this.container,W,te=>{this.onDOMEvent(te,!1)}))}),kn.BUBBLE_DOWN_EVENTS.forEach(W=>{R.add(Pe.mu(this.container,W,te=>{this.onDOMEvent(te,!0)},!0))}),this.toDisposeOnSetContainer=R}}show(t){var n,l;this.isVisible()&&this.hide(),Pe.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Pe.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||f.JT.None,this.delegate=t,this.doLayout(),(l=(n=this.delegate).focus)===null||l===void 0||l.call(n)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(G.gn&&fn.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let n;if(Pe.Re(t)){const ht=Pe.i(t),Ot=Pe.I8(t);n={top:ht.top*Ot,left:ht.left*Ot,width:ht.width*Ot,height:ht.height*Ot}}else n={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const l=Pe.w(this.view),R=Pe.wn(this.view),W=this.delegate.anchorPosition||0,te=this.delegate.anchorAlignment||0,ue=this.delegate.anchorAxisAlignment||0;let ke,Be;if(ue===0){const ht={offset:n.top-window.pageYOffset,size:n.height,position:W===0?0:1},Ot={offset:n.left,size:n.width,position:te===0?0:1,mode:en.ALIGN};ke=gn(window.innerHeight,R,ht)+window.pageYOffset,hn.e.intersects({start:ke,end:ke+R},{start:ht.offset,end:ht.offset+ht.size})&&(Ot.mode=en.AVOID),Be=gn(window.innerWidth,l,Ot)}else{const ht={offset:n.left,size:n.width,position:te===0?0:1},Ot={offset:n.top,size:n.height,position:W===0?0:1,mode:en.ALIGN};Be=gn(window.innerWidth,l,ht),hn.e.intersects({start:Be,end:Be+l},{start:ht.offset,end:ht.offset+ht.size})&&(Ot.mode=en.AVOID),ke=gn(window.innerHeight,R,Ot)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(W===0?"bottom":"top"),this.view.classList.add(te===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Je=Pe.i(this.container);this.view.style.top=`${ke-(this.useFixedPosition?Pe.i(this.view).top:Je.top)}px`,this.view.style.left=`${Be-(this.useFixedPosition?Pe.i(this.view).left:Je.left)}px`,this.view.style.width="initial"}hide(t){const n=this.delegate;this.delegate=null,n!=null&&n.onHide&&n.onHide(t),this.toDisposeOnClean.dispose(),Pe.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):n&&!Pe.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}kn.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],kn.BUBBLE_DOWN_EVENTS=["click"];const Vn=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var rs=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},is=function(oe,t){return function(n,l){t(n,l,oe)}};let ms=class extends f.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=f.JT.None,this.container=t.hasContainer?t.container:null,this.contextView=this._register(new kn(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,n){this.contextView.setContainer(t,n||1)}showContextView(t,n,l){n?(n!==this.container||this.shadowRoot!==l)&&(this.container=n,this.setContainer(n,l?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=l,this.contextView.show(t);const R=(0,f.OF)(()=>{this.currentViewDisposable===R&&this.hideContextView()});return this.currentViewDisposable=R,R}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};ms=rs([is(0,Io)],ms);var Wn=i(70112),es=i(9821);let As=[],yl=[],Fd=[];function Pa(oe,t=!1){ou(oe,!1,t)}function ou(oe,t,n){const l=ru(oe,t);As.push(l),l.userConfigured?Fd.push(l):yl.push(l),n&&!l.userConfigured&&As.forEach(R=>{R.mime===l.mime||R.userConfigured||(l.extension&&R.extension===l.extension&&console.warn(`Overwriting extension <<${l.extension}>> to now point to mime <<${l.mime}>>`),l.filename&&R.filename===l.filename&&console.warn(`Overwriting filename <<${l.filename}>> to now point to mime <<${l.mime}>>`),l.filepattern&&R.filepattern===l.filepattern&&console.warn(`Overwriting filepattern <<${l.filepattern}>> to now point to mime <<${l.mime}>>`),l.firstline&&R.firstline===l.firstline&&console.warn(`Overwriting firstline <<${l.firstline}>> to now point to mime <<${l.mime}>>`))})}function ru(oe,t){return{id:oe.id,mime:oe.mime,filename:oe.filename,extension:oe.extension,filepattern:oe.filepattern,firstline:oe.firstline,userConfigured:t,filenameLowercase:oe.filename?oe.filename.toLowerCase():void 0,extensionLowercase:oe.extension?oe.extension.toLowerCase():void 0,filepatternLowercase:oe.filepattern?Na(oe.filepattern.toLowerCase()):void 0,filepatternOnPath:oe.filepattern?oe.filepattern.indexOf(js.KR.sep)>=0:!1}}function au(){As=As.filter(oe=>oe.userConfigured),yl=[]}function lu(oe,t){return du(oe,t).map(n=>n.id)}function du(oe,t){let n;if(oe)switch(oe.scheme){case In.lg.file:n=oe.fsPath;break;case In.lg.data:{n=ji.Vb.parseMetaData(oe).get(ji.Vb.META_DATA_LABEL);break}case In.lg.vscodeNotebookCell:n=void 0;break;default:n=oe.path}if(!n)return[{id:"unknown",mime:Wn.v.unknown}];n=n.toLowerCase();const l=(0,js.EZ)(n),R=Bd(n,l,Fd);if(R)return[R,{id:es.bd,mime:Wn.v.text}];const W=Bd(n,l,yl);if(W)return[W,{id:es.bd,mime:Wn.v.text}];if(t){const te=cu(t);if(te)return[te,{id:es.bd,mime:Wn.v.text}]}return[{id:"unknown",mime:Wn.v.unknown}]}function Bd(oe,t,n){var l;let R,W,te;for(let ue=n.length-1;ue>=0;ue--){const ke=n[ue];if(t===ke.filenameLowercase){R=ke;break}if(ke.filepattern&&(!W||ke.filepattern.length>W.filepattern.length)){const Be=ke.filepatternOnPath?oe:t;!((l=ke.filepatternLowercase)===null||l===void 0)&&l.call(ke,Be)&&(W=ke)}ke.extension&&(!te||ke.extension.length>te.extension.length)&&t.endsWith(ke.extensionLowercase)&&(te=ke)}if(R)return R;if(W)return W;if(te)return te}function cu(oe){if((0,s.uS)(oe)&&(oe=oe.substr(1)),oe.length>0)for(let t=As.length-1;t>=0;t--){const n=As[t];if(!n.firstline)continue;const l=oe.match(n.firstline);if(l&&l.length>0)return n}}const Aa=Object.prototype.hasOwnProperty,Wd="vs.editor.nullLanguage";class uu{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Wd,0),this._register(es.bd,1),this._nextLanguageId=2}_register(t,n){this._languageIdToLanguage[n]=t,this._languageToLanguageId.set(t,n)}register(t){if(this._languageToLanguageId.has(t))return;const n=this._nextLanguageId++;this._register(t,n)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||Wd}}class qr extends f.JT{constructor(t=!0,n=!1){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,qr.instanceCount++,this._warnOnOverwrite=n,this.languageIdCodec=new uu,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(es.dQ.onDidChangeLanguages(l=>{this._initializeFromRegistry()})))}dispose(){qr.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},au();const t=[].concat(es.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const n of t)this._registerLanguage(n);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(n=>{const l=this._languages[n];l.name&&(this._nameMap[l.name]=l.identifier),l.aliases.forEach(R=>{this._lowercaseNameMap[R.toLowerCase()]=l.identifier}),l.mimetypes.forEach(R=>{this._mimeTypesMap[R]=l.identifier})}),Sr.B.as(to.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const n=t.id;let l;Aa.call(this._languages,n)?l=this._languages[n]:(this.languageIdCodec.register(n),l={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=l),this._mergeLanguage(l,t)}_mergeLanguage(t,n){const l=n.id;let R=null;if(Array.isArray(n.mimetypes)&&n.mimetypes.length>0&&(t.mimetypes.push(...n.mimetypes),R=n.mimetypes[0]),R||(R=`text/x-${l}`,t.mimetypes.push(R)),Array.isArray(n.extensions)){n.configuration?t.extensions=n.extensions.concat(t.extensions):t.extensions=t.extensions.concat(n.extensions);for(const ue of n.extensions)Pa({id:l,mime:R,extension:ue},this._warnOnOverwrite)}if(Array.isArray(n.filenames))for(const ue of n.filenames)Pa({id:l,mime:R,filename:ue},this._warnOnOverwrite),t.filenames.push(ue);if(Array.isArray(n.filenamePatterns))for(const ue of n.filenamePatterns)Pa({id:l,mime:R,filepattern:ue},this._warnOnOverwrite);if(typeof n.firstLine=="string"&&n.firstLine.length>0){let ue=n.firstLine;ue.charAt(0)!=="^"&&(ue="^"+ue);try{const ke=new RegExp(ue);(0,s.IO)(ke)||Pa({id:l,mime:R,firstline:ke},this._warnOnOverwrite)}catch(ke){console.warn(`[${n.id}]: Invalid regular expression \`${ue}\`: `,ke)}}t.aliases.push(l);let W=null;if(typeof n.aliases!="undefined"&&Array.isArray(n.aliases)&&(n.aliases.length===0?W=[null]:W=n.aliases),W!==null)for(const ue of W)!ue||ue.length===0||t.aliases.push(ue);const te=W!==null&&W.length>0;if(!(te&&W[0]===null)){const ue=(te?W[0]:null)||l;(te||!t.name)&&(t.name=ue)}n.configuration&&t.configurationFiles.push(n.configuration),n.icon&&t.icons.push(n.icon)}isRegisteredLanguageId(t){return t?Aa.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const n=t.toLowerCase();return Aa.call(this._lowercaseNameMap,n)?this._lowercaseNameMap[n]:null}getLanguageIdByMimeType(t){return t&&Aa.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,n){return!t&&!n?[]:lu(t,n)}}qr.instanceCount=0;class ea extends f.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new g.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new g.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,ea.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new qr(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){ea.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,n){const l=this._registry.guessLanguageIdByFilepathOrFirstLine(t,n);return(0,Ri.Xh)(l,null)}createById(t){return new Vd(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,n){return new Vd(this.onDidChange,()=>{const l=this.guessLanguageIdByFilepathOrFirstLine(t,n);return this._createAndGetLanguageIdentifier(l)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=es.bd),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),O.RW.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}ea.instanceCount=0;class Vd{constructor(t,n){this._onDidChangeLanguages=t,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new g.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var t;const n=this._selector();n!==this.languageId&&(this.languageId=n,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))}}var hu=i(925),ws=i(49597),wl=i(74580),Ll=i(26766),Ro=i(92759),Hd=i(1794),io=i(87683);const Dl=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,El=/(&amp;)?(&amp;)([^\s&])/g;var ka;(function(oe){oe[oe.Right=0]="Right",oe[oe.Left=1]="Left"})(ka||(ka={}));class yr extends ci.o{constructor(t,n,l,R){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const W=document.createElement("div");W.classList.add("monaco-menu"),W.setAttribute("role","presentation"),super(W,{orientation:1,actionViewItemProvider:ke=>this.doGetActionViewItem(ke,l,te),context:l.context,actionRunner:l.actionRunner,ariaLabel:l.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...G.dz||G.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=R,this.menuElement=W,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new f.SL),this.initializeOrUpdateStyleSheet(t,R),this._register(Ro.o.addTarget(W)),(0,Pe.nm)(W,Pe.tw.KEY_DOWN,ke=>{new xs.y(ke).equals(2)&&ke.preventDefault()}),l.enableMnemonics&&this.menuDisposables.add((0,Pe.nm)(W,Pe.tw.KEY_DOWN,ke=>{const Be=ke.key.toLocaleLowerCase();if(this.mnemonics.has(Be)){Pe.zB.stop(ke,!0);const Je=this.mnemonics.get(Be);if(Je.length===1&&(Je[0]instanceof zd&&Je[0].container&&this.focusItemByElement(Je[0].container),Je[0].onClick(ke)),Je.length>1){const ht=Je.shift();ht&&ht.container&&(this.focusItemByElement(ht.container),Je.push(ht)),this.mnemonics.set(Be,Je)}}})),G.IJ&&this._register((0,Pe.nm)(W,Pe.tw.KEY_DOWN,ke=>{const Be=new xs.y(ke);Be.equals(14)||Be.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Pe.zB.stop(ke,!0)):(Be.equals(13)||Be.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Pe.zB.stop(ke,!0))})),this._register((0,Pe.nm)(this.domNode,Pe.tw.MOUSE_OUT,ke=>{const Be=ke.relatedTarget;(0,Pe.jg)(Be,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),ke.stopPropagation())})),this._register((0,Pe.nm)(this.actionsList,Pe.tw.MOUSE_OVER,ke=>{let Be=ke.target;if(!(!Be||!(0,Pe.jg)(Be,this.actionsList)||Be===this.actionsList)){for(;Be.parentElement!==this.actionsList&&Be.parentElement!==null;)Be=Be.parentElement;if(Be.classList.contains("action-item")){const Je=this.focusedItem;this.setFocusedItem(Be),Je!==this.focusedItem&&this.updateFocus()}}})),this._register(Ro.o.addTarget(this.actionsList)),this._register((0,Pe.nm)(this.actionsList,Ro.t.Tap,ke=>{let Be=ke.initialTarget;if(!(!Be||!(0,Pe.jg)(Be,this.actionsList)||Be===this.actionsList)){for(;Be.parentElement!==this.actionsList&&Be.parentElement!==null;)Be=Be.parentElement;if(Be.classList.contains("action-item")){const Je=this.focusedItem;this.setFocusedItem(Be),Je!==this.focusedItem&&this.updateFocus()}}}));const te={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new vi.s$(W,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const ue=this.scrollableElement.getDomNode();ue.style.position="",this.styleScrollElement(ue,R),this._register((0,Pe.nm)(W,Ro.t.Change,ke=>{Pe.zB.stop(ke,!0);const Be=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Be-ke.translationY})})),this._register((0,Pe.nm)(ue,Pe.tw.MOUSE_UP,ke=>{ke.preventDefault()})),W.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,n=n.filter(ke=>{var Be;return!((Be=l.submenuIds)===null||Be===void 0)&&Be.has(ke.id)?(console.warn(`Found submenu cycle: ${ke.id}`),!1):!0}),this.push(n,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(ke=>!(ke instanceof jd)).forEach((ke,Be,Je)=>{ke.updatePositionInSet(Be+1,Je.length)})}initializeOrUpdateStyleSheet(t,n){this.styleSheet||((0,Pe.OO)(t)?this.styleSheet=(0,Pe.dS)(t):(yr.globalStyleSheet||(yr.globalStyleSheet=(0,Pe.dS)()),this.styleSheet=yr.globalStyleSheet)),this.styleSheet.textContent=gu(n,(0,Pe.OO)(t))}styleScrollElement(t,n){var l,R;const W=(l=n.foregroundColor)!==null&&l!==void 0?l:"",te=(R=n.backgroundColor)!==null&&R!==void 0?R:"",ue=n.borderColor?`1px solid ${n.borderColor}`:"",ke="5px",Be=n.shadowColor?`0 2px 8px ${n.shadowColor}`:"";t.style.outline=ue,t.style.borderRadius=ke,t.style.color=W,t.style.backgroundColor=te,t.style.boxShadow=Be}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const n=this.focusedItem;this.setFocusedItem(t),n!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let n=0;n<this.actionsList.children.length;n++){const l=this.actionsList.children[n];if(t===l){this.focusedItem=n;break}}}updateFocus(t){super.updateFocus(t,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,n,l){if(t instanceof Ti.Z0)return new jd(n.context,t,{icon:!0},this.menuStyles);if(t instanceof Ti.wY){const R=new zd(t,t.actions,l,Object.assign(Object.assign({},n),{submenuIds:new Set([...n.submenuIds||[],t.id])}),this.menuStyles);if(n.enableMnemonics){const W=R.getMnemonic();if(W&&R.isEnabled()){let te=[];this.mnemonics.has(W)&&(te=this.mnemonics.get(W)),te.push(R),this.mnemonics.set(W,te)}}return R}else{const R={enableMnemonics:n.enableMnemonics,useEventAsContext:n.useEventAsContext};if(n.getKeyBinding){const te=n.getKeyBinding(t);if(te){const ue=te.getLabel();ue&&(R.keybinding=ue)}}const W=new Ud(n.context,t,R,this.menuStyles);if(n.enableMnemonics){const te=W.getMnemonic();if(te&&W.isEnabled()){let ue=[];this.mnemonics.has(te)&&(ue=this.mnemonics.get(te)),ue.push(W),this.mnemonics.set(te,ue)}}return W}}}class Ud extends Hd.YH{constructor(t,n,l,R){if(l.isMenu=!0,super(n,n,l),this.menuStyle=R,this.options=l,this.options.icon=l.icon!==void 0?l.icon:!1,this.options.label=l.label!==void 0?l.label:!0,this.cssClass="",this.options.label&&l.enableMnemonics){const W=this.action.label;if(W){const te=Dl.exec(W);te&&(this.mnemonic=(te[1]?te[1]:te[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new B.pY(()=>{this.element&&(this._register((0,Pe.nm)(this.element,Pe.tw.MOUSE_UP,W=>{if(Pe.zB.stop(W,!0),Ll.isFirefox){if(new wl.n(W).rightButton)return;this.onClick(W)}else setTimeout(()=>{this.onClick(W)},0)})),this._register((0,Pe.nm)(this.element,Pe.tw.CONTEXT_MENU,W=>{Pe.zB.stop(W,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,Pe.R3)(this.element,(0,Pe.$)("a.action-menu-item")),this._action.id===Ti.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Pe.R3)(this.item,(0,Pe.$)("span.menu-item-check"+Zn.k.asCSSSelector(ei.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,Pe.R3)(this.item,(0,Pe.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Pe.R3)(this.item,(0,Pe.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var t;super.focus(),(t=this.item)===null||t===void 0||t.focus(),this.applyStyle()}updatePositionInSet(t,n){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${n}`))}updateLabel(){var t;if(this.label&&this.options.label){(0,Pe.PO)(this.label);let n=(0,io.x$)(this.action.label);if(n){const l=fu(n);this.options.enableMnemonics||(n=l),this.label.setAttribute("aria-label",l.replace(/&&/g,"&"));const R=Dl.exec(n);if(R){n=s.YU(n),El.lastIndex=0;let W=El.exec(n);for(;W&&W[1];)W=El.exec(n);const te=ue=>ue.replace(/&amp;&amp;/g,"&amp;");W?this.label.append(s.j3(te(n.substr(0,W.index))," "),(0,Pe.$)("u",{"aria-hidden":"true"},W[3]),s.oL(te(n.substr(W.index+W[0].length))," ")):this.label.innerText=te(n).trim(),(t=this.item)===null||t===void 0||t.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=n.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.action.checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const t=this.element&&this.element.classList.contains("focused"),n=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,l=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,R=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",W=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=n!=null?n:"",this.item.style.backgroundColor=l!=null?l:"",this.item.style.outline=R,this.item.style.outlineOffset=W),this.check&&(this.check.style.color=n!=null?n:"")}}class zd extends Ud{constructor(t,n,l,R,W){super(t,t,R,W),this.submenuActions=n,this.parentData=l,this.submenuOptions=R,this.mysubmenu=null,this.submenuDisposables=this._register(new f.SL),this.mouseOver=!1,this.expandDirection=R&&R.expandDirection!==void 0?R.expandDirection:ka.Right,this.showScheduler=new B.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new B.pY(()=>{this.element&&!(0,Pe.jg)((0,Pe.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Pe.R3)(this.item,(0,Pe.$)("span.submenu-indicator"+Zn.k.asCSSSelector(ei.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Pe.nm)(this.element,Pe.tw.KEY_UP,n=>{const l=new xs.y(n);(l.equals(17)||l.equals(3))&&(Pe.zB.stop(n,!0),this.createSubmenu(!0))})),this._register((0,Pe.nm)(this.element,Pe.tw.KEY_DOWN,n=>{const l=new xs.y(n);(0,Pe.vY)()===this.item&&(l.equals(17)||l.equals(3))&&Pe.zB.stop(n,!0)})),this._register((0,Pe.nm)(this.element,Pe.tw.MOUSE_OVER,n=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Pe.nm)(this.element,Pe.tw.MOUSE_LEAVE,n=>{this.mouseOver=!1})),this._register((0,Pe.nm)(this.element,Pe.tw.FOCUS_OUT,n=>{this.element&&!(0,Pe.jg)((0,Pe.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(t){Pe.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(n){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,n,l,R){const W={top:0,left:0};return W.left=gn(t.width,n.width,{position:R===ka.Right?0:1,offset:l.left,size:l.width}),W.left>=l.left&&W.left<l.left+l.width&&(l.left+10+n.width<=t.width&&(W.left=l.left+10),l.top+=10,l.height=0),W.top=gn(t.height,n.height,{position:0,offset:l.top,size:0}),W.top+n.height===l.top&&W.top+l.height+n.height<=t.height&&(W.top+=l.height),W}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Pe.R3)(this.element,(0,Pe.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const n=getComputedStyle(this.parentData.parent.domNode),l=parseFloat(n.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new yr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Ti.eZ],this.submenuOptions,this.menuStyle);const R=this.element.getBoundingClientRect(),W={top:R.top-l,left:R.left,height:R.height+2*l,width:R.width},te=this.submenuContainer.getBoundingClientRect(),{top:ue,left:ke}=this.calculateSubmenuMenuLayout(new Pe.Ro(window.innerWidth,window.innerHeight),Pe.Ro.lift(te),W,this.expandDirection);this.submenuContainer.style.left=`${ke-te.left}px`,this.submenuContainer.style.top=`${ue-te.top}px`,this.submenuDisposables.add((0,Pe.nm)(this.submenuContainer,Pe.tw.KEY_UP,Be=>{new xs.y(Be).equals(15)&&(Pe.zB.stop(Be,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Pe.nm)(this.submenuContainer,Pe.tw.KEY_DOWN,Be=>{new xs.y(Be).equals(15)&&Pe.zB.stop(Be,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var n;this.item&&((n=this.item)===null||n===void 0||n.setAttribute("aria-expanded",t))}applyStyle(){super.applyStyle();const n=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=n!=null?n:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class jd extends Hd.gU{constructor(t,n,l,R){super(t,n,l),this.menuStyles=R}render(t){super.render(t),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function fu(oe){const t=Dl,n=t.exec(oe);if(!n)return oe;const l=!n[1];return oe.replace(t,l?"$2$3":"").trim()}function Kd(oe){const t=(0,ei.u)()[oe.id];return`.codicon-${oe.id}:before { content: '\\${t.toString(16)}'; }`}function gu(oe,t){let n=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Kd(ei.l.menuSelection)}
${Kd(ei.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(t){n+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const l=oe.scrollbarShadow;l&&(n+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${l} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${l} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${l} 6px 6px 6px -6px inset;
				}
			`);const R=oe.scrollbarSliderBackground;R&&(n+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${R};
				}
			`);const W=oe.scrollbarSliderHoverBackground;W&&(n+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${W};
				}
			`);const te=oe.scrollbarSliderActiveBackground;te&&(n+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${te};
				}
			`)}return n}var Oo=i(74964);class mu{constructor(t,n,l,R){this.contextViewService=t,this.telemetryService=n,this.notificationService=l,this.keybindingService=R,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const n=t.getActions();if(!n.length)return;this.focusToReturn=document.activeElement;let l;const R=(0,Pe.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:W=>{var te;this.lastContainer=W;const ue=t.getMenuClassName?t.getMenuClassName():"";ue&&(W.className+=" "+ue),this.options.blockMouse&&(this.block=W.appendChild((0,Pe.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(te=this.blockDisposable)===null||te===void 0||te.dispose(),this.blockDisposable=(0,Pe.nm)(this.block,Pe.tw.MOUSE_DOWN,Je=>Je.stopPropagation()));const ke=new f.SL,Be=t.actionRunner||new Ti.Wi;return Be.onWillRun(Je=>this.onActionRun(Je,!t.skipTelemetry),this,ke),Be.onDidRun(this.onDidActionRun,this,ke),l=new yr(W,n,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:Be,getKeyBinding:t.getKeyBinding?t.getKeyBinding:Je=>this.keybindingService.lookupKeybinding(Je.id)},Oo.ZR),l.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,ke),l.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,ke),ke.add((0,Pe.nm)(window,Pe.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),ke.add((0,Pe.nm)(window,Pe.tw.MOUSE_DOWN,Je=>{if(Je.defaultPrevented)return;const ht=new wl.n(Je);let Ot=ht.target;if(!ht.rightButton){for(;Ot;){if(Ot===W)return;Ot=Ot.parentElement}this.contextViewService.hideContextView(!0)}})),(0,f.F8)(ke,l)},focus:()=>{l==null||l.focus(!!t.autoSelectFirstItem)},onHide:W=>{var te,ue,ke;(te=t.onHide)===null||te===void 0||te.call(t,!!W),this.block&&(this.block.remove(),this.block=null),(ue=this.blockDisposable)===null||ue===void 0||ue.dispose(),this.blockDisposable=null,this.lastContainer&&((0,Pe.vY)()===this.lastContainer||(0,Pe.jg)((0,Pe.vY)(),this.lastContainer))&&((ke=this.focusToReturn)===null||ke===void 0||ke.focus()),this.lastContainer=null}},R,!!R)}onActionRun(t,n){n&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(t){t.error&&!(0,j.n2)(t.error)&&this.notificationService.error(t.error)}}var pu=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},wr=function(oe,t){return function(n,l){t(n,l,oe)}};let xl=class extends f.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new mu(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(t,n,l,R,W,te){super(),this.telemetryService=t,this.notificationService=n,this.contextViewService=l,this.keybindingService=R,this.menuService=W,this.contextKeyService=te,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new g.Q5),this._onDidHideContextMenu=this._store.add(new g.Q5)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){t=Il.transform(t,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:n=>{var l;(l=t.onHide)===null||l===void 0||l.call(t,n),this._onDidHideContextMenu.fire()}})),Pe._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};xl=pu([wr(0,Ii.b),wr(1,Ws.lT),wr(2,vs.u),wr(3,it.d),wr(4,ws.co),wr(5,Yi.i6)],xl);var Il;(function(oe){function t(l){return l&&l.menuId instanceof ws.eH}function n(l,R,W){if(!t(l))return l;const{menuId:te,menuActionOptions:ue,contextKeyService:ke}=l;return Object.assign(Object.assign({},l),{getActions:()=>{const Be=[];if(te){const Je=R.createMenu(te,ke!=null?ke:W);(0,hu.LJ)(Je,ue,Be),Je.dispose()}return l.getActions?Ti.Z0.join(l.getActions(),Be):Be}})}oe.transform=n})(Il||(Il={}));var $d=i(13540),Fa;(function(oe){oe[oe.API=0]="API",oe[oe.USER=1]="USER"})(Fa||(Fa={}));var Lr=i(20009),Nl=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Ba=function(oe,t){return function(n,l){t(n,l,oe)}},qo=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};let Ml=class{constructor(t){this._commandService=t}open(t,n){return qo(this,void 0,void 0,function*(){if(!(0,Lr.xn)(t,In.lg.command))return!1;if(!(n!=null&&n.allowCommands)||(typeof t=="string"&&(t=S.o.parse(t)),Array.isArray(n.allowCommands)&&!n.allowCommands.includes(t.path)))return!0;let l=[];try{l=(0,$d.Q)(decodeURIComponent(t.query))}catch(R){try{l=(0,$d.Q)(t.query)}catch(W){}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(t.path,...l),!0})}};Ml=Nl([Ba(0,os.H)],Ml);let Tl=class{constructor(t){this._editorService=t}open(t,n){return qo(this,void 0,void 0,function*(){typeof t=="string"&&(t=S.o.parse(t));const{selection:l,uri:R}=(0,Lr.xI)(t);return t=R,t.scheme===In.lg.file&&(t=(0,ji.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:l,source:n!=null&&n.fromUserGesture?Fa.USER:Fa.API},n==null?void 0:n.editorOptions)},this._editorService.getFocusedCodeEditor(),n==null?void 0:n.openToSide),!0})}};Tl=Nl([Ba(0,m.$)],Tl);let Rl=class{constructor(t,n){this._openers=new ds.S,this._validators=new ds.S,this._resolvers=new ds.S,this._resolvedUriTargets=new Ps.Y9(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ds.S,this._defaultExternalOpener={openExternal:l=>qo(this,void 0,void 0,function*(){return(0,Lr.Gs)(l,In.lg.http,In.lg.https)?Pe.V3(l):window.location.href=l,!0})},this._openers.push({open:(l,R)=>qo(this,void 0,void 0,function*(){return R!=null&&R.openExternal||(0,Lr.Gs)(l,In.lg.mailto,In.lg.http,In.lg.https,In.lg.vsls)?(yield this._doOpenExternal(l,R),!0):!1})}),this._openers.push(new Ml(n)),this._openers.push(new Tl(t))}open(t,n){var l;return qo(this,void 0,void 0,function*(){const R=typeof t=="string"?S.o.parse(t):t,W=(l=this._resolvedUriTargets.get(R))!==null&&l!==void 0?l:t;for(const te of this._validators)if(!(yield te.shouldOpen(W,n)))return!1;for(const te of this._openers)if(yield te.open(t,n))return!0;return!1})}resolveExternalUri(t,n){return qo(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const R=yield l.resolveExternalUri(t,n);if(R)return this._resolvedUriTargets.has(R.resolved)||this._resolvedUriTargets.set(R.resolved,t),R}catch(R){}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,n){return qo(this,void 0,void 0,function*(){const l=typeof t=="string"?S.o.parse(t):t;let R;try{R=(yield this.resolveExternalUri(l,n)).resolved}catch(te){R=l}let W;if(typeof t=="string"&&l.toString()===R.toString()?W=t:W=encodeURI(R.toString(!0)),n!=null&&n.allowContributedOpeners){const te=typeof(n==null?void 0:n.allowContributedOpeners)=="string"?n==null?void 0:n.allowContributedOpeners:void 0;for(const ue of this._externalOpeners)if(yield ue.openExternal(W,{sourceUri:l,preferredOpenerId:te},F.T.None))return!0}return this._defaultExternalOpener.openExternal(W,{sourceUri:l},F.T.None)})}dispose(){this._validators.clear()}};Rl=Nl([Ba(0,m.$),Ba(1,os.H)],Rl);var ks=i(85901),Ol=i(34467),vu=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Gd=function(oe,t){return function(n,l){t(n,l,oe)}};class _u extends f.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,f.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,n){const l=[...this._markersData.keys()];this._markersData.clear();const R=this.model.deltaDecorations(l,n);for(let W=0;W<R.length;W++)this._markersData.set(R[W],t[W]);return l.length!==0||R.length!==0}getMarker(t){return this._markersData.get(t.id)}}let Pl=class extends f.JT{constructor(t,n){super(),this._markerService=n,this._onDidChangeMarker=this._register(new g.Q5),this._markerDecorations=new Ps.Y9,t.getModels().forEach(l=>this._onModelAdded(l)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,n){const l=this._markerDecorations.get(t);return l&&l.getMarker(n)||null}_handleMarkerChange(t){t.forEach(n=>{const l=this._markerDecorations.get(n);l&&this._updateDecorations(l)})}_onModelAdded(t){const n=new _u(t);this._markerDecorations.set(t.uri,n),this._updateDecorations(n)}_onModelRemoved(t){var n;const l=this._markerDecorations.get(t.uri);l&&(l.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===In.lg.inMemory||t.uri.scheme===In.lg.internal||t.uri.scheme===In.lg.vscode)&&((n=this._markerService)===null||n===void 0||n.read({resource:t.uri}).map(R=>R.owner).forEach(R=>this._markerService.remove(R,[t.uri])))}_updateDecorations(t){const n=this._markerService.read({resource:t.model.uri,take:500}),l=n.map(R=>({range:this._createDecorationRange(t.model,R),options:this._createDecorationOption(R)}));t.update(n,l)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,n){let l=N.e.lift(n);if(n.severity===ks.ZL.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(l=l.setEndPosition(l.startLineNumber,l.startColumn+2)),l=t.validateRange(l),l.isEmpty()){const R=t.getLineLastNonWhitespaceColumn(l.startLineNumber)||t.getLineMaxColumn(l.startLineNumber);if(R===1||l.endColumn>=R)return l;const W=t.getWordAtPosition(l.getStartPosition());W&&(l=new N.e(l.startLineNumber,W.startColumn,l.endLineNumber,W.endColumn))}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&l.startLineNumber===l.endLineNumber){const R=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);R<l.endColumn&&(l=new N.e(l.startLineNumber,R,l.endLineNumber,l.endColumn),n.startColumn=R)}return l}_createDecorationOption(t){let n,l,R,W,te;switch(t.severity){case ks.ZL.Hint:this._hasMarkerTag(t,2)?n=void 0:this._hasMarkerTag(t,1)?n="squiggly-unnecessary":n="squiggly-hint",R=0;break;case ks.ZL.Warning:n="squiggly-warning",l=(0,ns.EN)(Ol.Re),R=20,te={color:(0,ns.EN)(Bn.Ivo),position:P.F5.Inline};break;case ks.ZL.Info:n="squiggly-info",l=(0,ns.EN)(Ol.eS),R=10;break;case ks.ZL.Error:default:n="squiggly-error",l=(0,ns.EN)(Ol.lK),R=30,te={color:(0,ns.EN)(Bn.Gj_),position:P.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(W="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(W="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:l,position:P.sh.Right},minimap:te,zIndex:R,inlineClassName:W}}_hasMarkerTag(t,n){return t.tags?t.tags.indexOf(n)>=0:!1}};Pl=vu([Gd(0,L.q),Gd(1,ks.lT)],Pl);var Cu=i(91680),Dr=i(28764),bu=i(41397),Er=i(94207),Su=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},ta=function(oe,t){return function(n,l){t(n,l,oe)}};function Po(oe){return oe.toString()}function Qd(oe){const t=new bu.yP,n=oe.createSnapshot();let l;for(;l=n.read();)t.update(l);return t.digest()}class yu{constructor(t,n,l){this._modelEventListeners=new f.SL,this.model=t,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(t.onWillDispose(()=>n(t))),this._modelEventListeners.add(t.onDidChangeLanguage(R=>l(t,R)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(t,n){this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(t.languageId,n)),this.model.setMode(t.languageId,n)}}const wu=G.IJ||G.dz?1:2;class Lu{constructor(t,n,l,R,W,te,ue,ke){this.uri=t,this.initialUndoRedoSnapshot=n,this.time=l,this.sharesUndoRedoStack=R,this.heapSize=W,this.sha1=te,this.versionId=ue,this.alternativeVersionId=ke}}let Wa=class ma extends f.JT{constructor(t,n,l,R,W){super(),this._configurationService=t,this._resourcePropertiesService=n,this._undoRedoService=l,this._languageService=R,this._languageConfigurationService=W,this._onModelAdded=this._register(new g.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new g.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new g.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(te=>this._updateModelOptions(te))),this._updateModelOptions(void 0)}static _readModelOptions(t,n){var l;let R=Dr.D.tabSize;if(t.editor&&typeof t.editor.tabSize!="undefined"){const Bt=parseInt(t.editor.tabSize,10);isNaN(Bt)||(R=Bt),R<1&&(R=1)}let W="tabSize";if(t.editor&&typeof t.editor.indentSize!="undefined"&&t.editor.indentSize!=="tabSize"){const Bt=parseInt(t.editor.indentSize,10);isNaN(Bt)||(W=Math.max(Bt,1))}let te=Dr.D.insertSpaces;t.editor&&typeof t.editor.insertSpaces!="undefined"&&(te=t.editor.insertSpaces==="false"?!1:Boolean(t.editor.insertSpaces));let ue=wu;const ke=t.eol;ke===`\r
`?ue=2:ke===`
`&&(ue=1);let Be=Dr.D.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace!="undefined"&&(Be=t.editor.trimAutoWhitespace==="false"?!1:Boolean(t.editor.trimAutoWhitespace));let Je=Dr.D.detectIndentation;t.editor&&typeof t.editor.detectIndentation!="undefined"&&(Je=t.editor.detectIndentation==="false"?!1:Boolean(t.editor.detectIndentation));let ht=Dr.D.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations!="undefined"&&(ht=t.editor.largeFileOptimizations==="false"?!1:Boolean(t.editor.largeFileOptimizations));let Ot=Dr.D.bracketPairColorizationOptions;return!((l=t.editor)===null||l===void 0)&&l.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(Ot={enabled:!!t.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!t.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:n,tabSize:R,indentSize:W,insertSpaces:te,detectIndentation:Je,defaultEOL:ue,trimAutoWhitespace:Be,largeFileOptimizations:ht,bracketPairColorizationOptions:Ot}}_getEOL(t,n){if(t)return this._resourcePropertiesService.getEOL(t,n);const l=this._configurationService.getValue("files.eol",{overrideIdentifier:n});return l&&typeof l=="string"&&l!=="auto"?l:G.OS===3||G.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,n,l){let R=this._modelCreationOptionsByLanguageAndResource[t+n];if(!R){const W=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),te=this._getEOL(n,t);R=ma._readModelOptions({editor:W,eol:te},l),this._modelCreationOptionsByLanguageAndResource[t+n]=R}return R}_updateModelOptions(t){const n=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const l=Object.keys(this._models);for(let R=0,W=l.length;R<W;R++){const te=l[R],ue=this._models[te],ke=ue.model.getLanguageId(),Be=ue.model.uri;if(t&&!t.affectsConfiguration("editor",{overrideIdentifier:ke,resource:Be})&&!t.affectsConfiguration("files.eol",{overrideIdentifier:ke,resource:Be}))continue;const Je=n[ke+Be],ht=this.getCreationOptions(ke,Be,ue.model.isForSimpleWidget);ma._setModelOptionsForModel(ue.model,ht,Je)}}static _setModelOptionsForModel(t,n,l){l&&l.defaultEOL!==n.defaultEOL&&t.getLineCount()===1&&t.setEOL(n.defaultEOL===1?0:1),!(l&&l.detectIndentation===n.detectIndentation&&l.insertSpaces===n.insertSpaces&&l.tabSize===n.tabSize&&l.indentSize===n.indentSize&&l.trimAutoWhitespace===n.trimAutoWhitespace&&(0,u.fS)(l.bracketPairColorizationOptions,n.bracketPairColorizationOptions))&&(n.detectIndentation?(t.detectIndentation(n.insertSpaces,n.tabSize),t.updateOptions({trimAutoWhitespace:n.trimAutoWhitespace,bracketColorizationOptions:n.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.indentSize,trimAutoWhitespace:n.trimAutoWhitespace,bracketColorizationOptions:n.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Po(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const n=this._disposedModels.get(Po(t));return n&&(this._disposedModelsHeapSize-=n.heapSize),this._disposedModels.delete(Po(t)),n}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const n=[];for(this._disposedModels.forEach(l=>{l.sharesUndoRedoStack||n.push(l)}),n.sort((l,R)=>l.time-R.time);n.length>0&&this._disposedModelsHeapSize>t;){const l=n.shift();this._removeDisposedModel(l.uri),l.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(l.initialUndoRedoSnapshot)}}}_createModelData(t,n,l,R){const W=this.getCreationOptions(n,l,R),te=new Ts.yO(t,n,W,l,this._undoRedoService,this._languageService,this._languageConfigurationService);if(l&&this._disposedModels.has(Po(l))){const Be=this._removeDisposedModel(l),Je=this._undoRedoService.getElements(l),ht=Qd(te)===Be.sha1;if(ht||Be.sharesUndoRedoStack){for(const Ot of Je.past)(0,Er.e9)(Ot)&&Ot.matchesResource(l)&&Ot.setModel(te);for(const Ot of Je.future)(0,Er.e9)(Ot)&&Ot.matchesResource(l)&&Ot.setModel(te);this._undoRedoService.setElementsValidFlag(l,!0,Ot=>(0,Er.e9)(Ot)&&Ot.matchesResource(l)),ht&&(te._overwriteVersionId(Be.versionId),te._overwriteAlternativeVersionId(Be.alternativeVersionId),te._overwriteInitialUndoRedoSnapshot(Be.initialUndoRedoSnapshot))}else Be.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Be.initialUndoRedoSnapshot)}const ue=Po(te.uri);if(this._models[ue])throw new Error("ModelService: Cannot add model because it already exists!");const ke=new yu(te,Be=>this._onWillDispose(Be),(Be,Je)=>this._onDidChangeLanguage(Be,Je));return this._models[ue]=ke,ke}createModel(t,n,l,R=!1){let W;return n?(W=this._createModelData(t,n.languageId,l,R),this.setMode(W.model,n)):W=this._createModelData(t,es.bd,l,R),this._onModelAdded.fire(W.model),W.model}setMode(t,n,l){if(!n)return;const R=this._models[Po(t.uri)];R&&R.setLanguage(n,l)}getModels(){const t=[],n=Object.keys(this._models);for(let l=0,R=n.length;l<R;l++){const W=n[l];t.push(this._models[W].model)}return t}getModel(t){const n=Po(t),l=this._models[n];return l?l.model:null}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===In.lg.file||t.scheme===In.lg.vscodeRemote||t.scheme===In.lg.vscodeUserData||t.scheme===In.lg.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const n=Po(t.uri),l=this._models[n],R=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let W=!1,te=0;if(R||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const ke=this._undoRedoService.getElements(t.uri);if(ke.past.length>0||ke.future.length>0){for(const Be of ke.past)(0,Er.e9)(Be)&&Be.matchesResource(t.uri)&&(W=!0,te+=Be.heapSize(t.uri),Be.setModel(t.uri));for(const Be of ke.future)(0,Er.e9)(Be)&&Be.matchesResource(t.uri)&&(W=!0,te+=Be.heapSize(t.uri),Be.setModel(t.uri))}}const ue=ma.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(W)if(!R&&te>ue){const ke=l.model.getInitialUndoRedoSnapshot();ke!==null&&this._undoRedoService.restoreSnapshot(ke)}else this._ensureDisposedModelsHeapSize(ue-te),this._undoRedoService.setElementsValidFlag(t.uri,!1,ke=>(0,Er.e9)(ke)&&ke.matchesResource(t.uri)),this._insertDisposedModel(new Lu(t.uri,l.model.getInitialUndoRedoSnapshot(),Date.now(),R,te,Qd(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!R){const ke=l.model.getInitialUndoRedoSnapshot();ke!==null&&this._undoRedoService.restoreSnapshot(ke)}delete this._models[n],l.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const l=n.oldLanguage,R=t.getLanguageId(),W=this.getCreationOptions(l,t.uri,t.isForSimpleWidget),te=this.getCreationOptions(R,t.uri,t.isForSimpleWidget);ma._setModelOptionsForModel(t,te,W),this._onModelModeChanged.fire({model:t,oldLanguageId:l})}};Wa.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Wa=Su([ta(0,ii.Ui),ta(1,Zi.y),ta(2,Os.tJ),ta(3,U.O),ta(4,X.c_)],Wa);var Al=i(14023),kl=i(52473),Zd=i(27599),Fs=i(93611),Du=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Yd=function(oe,t){return function(n,l){t(n,l,oe)}};let Fl=class extends f.JT{constructor(t,n){super(),this.quickInputService=t,this.instantiationService=n,this.registry=Sr.B.as(Zd.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",n){this.doShowOrPick(t,!1,n)}doShowOrPick(t,n,l){var R;const[W,te]=this.getOrInstantiateProvider(t),ue=this.visibleQuickAccess,ke=ue==null?void 0:ue.descriptor;if(ue&&te&&ke===te){t!==te.prefix&&!(l!=null&&l.preserveValue)&&(ue.picker.value=t),this.adjustValueSelection(ue.picker,te,l);return}if(te&&!(l!=null&&l.preserveValue)){let Bt;if(ue&&ke&&ke!==te){const oi=ue.value.substr(ke.prefix.length);oi&&(Bt=`${te.prefix}${oi}`)}if(!Bt){const oi=W==null?void 0:W.defaultFilterValue;oi===Zd.Ry.LAST?Bt=this.lastAcceptedPickerValues.get(te):typeof oi=="string"&&(Bt=`${te.prefix}${oi}`)}typeof Bt=="string"&&(t=Bt)}const Be=new f.SL,Je=Be.add(this.quickInputService.createQuickPick());Je.value=t,this.adjustValueSelection(Je,te,l),Je.placeholder=te==null?void 0:te.placeholder,Je.quickNavigate=l==null?void 0:l.quickNavigateConfiguration,Je.hideInput=!!Je.quickNavigate&&!ue,(typeof(l==null?void 0:l.itemActivation)=="number"||l!=null&&l.quickNavigateConfiguration)&&(Je.itemActivation=(R=l==null?void 0:l.itemActivation)!==null&&R!==void 0?R:Fs.jG.SECOND),Je.contextKey=te==null?void 0:te.contextKey,Je.filterValue=Bt=>Bt.substring(te?te.prefix.length:0),te!=null&&te.placeholder&&(Je.ariaLabel=te==null?void 0:te.placeholder);let ht;n&&(ht=new B.CR,Be.add((0,kl.I)(Je.onWillAccept)(Bt=>{Bt.veto(),Je.hide()}))),Be.add(this.registerPickerListeners(Je,W,te,t,l==null?void 0:l.providerOptions));const Ot=Be.add(new F.A);if(W&&Be.add(W.provide(Je,Ot.token,l==null?void 0:l.providerOptions)),(0,kl.I)(Je.onDidHide)(()=>{Je.selectedItems.length===0&&Ot.cancel(),Be.dispose(),ht==null||ht.complete(Je.selectedItems.slice(0))}),Je.show(),n)return ht==null?void 0:ht.p}adjustValueSelection(t,n,l){var R;let W;l!=null&&l.preserveValue?W=[t.value.length,t.value.length]:W=[(R=n==null?void 0:n.prefix.length)!==null&&R!==void 0?R:0,t.value.length],t.valueSelection=W}registerPickerListeners(t,n,l,R,W){const te=new f.SL,ue=this.visibleQuickAccess={picker:t,descriptor:l,value:R};return te.add((0,f.OF)(()=>{ue===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),te.add(t.onDidChangeValue(ke=>{const[Be]=this.getOrInstantiateProvider(ke);Be!==n?this.show(ke,{preserveValue:!0,providerOptions:W}):ue.value=ke})),l&&te.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,t.value)})),te}getOrInstantiateProvider(t){const n=this.registry.getQuickAccessProvider(t);if(!n)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(n);return l||(l=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,l)),[l,n]}};Fl=Du([Yd(0,Fs.eJ),Yd(1,_.TG)],Fl);var Xd=i(20915),Bl=i(87799);const gg={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:Bl.Il.white.toString(),buttonForeground:Bl.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class Jd extends f.JT{get onDidClick(){return this._onDidClick.event}constructor(t,n){super(),this._onDidClick=this._register(new g.Q5),this.options=n,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button");const l=n.secondary?n.buttonSecondaryBackground:n.buttonBackground,R=n.secondary?n.buttonSecondaryForeground:n.buttonForeground;this._element.style.color=R||"",this._element.style.backgroundColor=l||"",n.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),t.appendChild(this._element),this._register(Ro.o.addTarget(this._element)),[Pe.tw.CLICK,Ro.t.Tap].forEach(W=>{this._register((0,Pe.nm)(this._element,W,te=>{if(!this.enabled){Pe.zB.stop(te);return}this._onDidClick.fire(te)}))}),this._register((0,Pe.nm)(this._element,Pe.tw.KEY_DOWN,W=>{const te=new xs.y(W);let ue=!1;this.enabled&&(te.equals(3)||te.equals(10))?(this._onDidClick.fire(W),ue=!0):te.equals(9)&&(this._element.blur(),ue=!0),ue&&Pe.zB.stop(te,!0)})),this._register((0,Pe.nm)(this._element,Pe.tw.MOUSE_OVER,W=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,Pe.nm)(this._element,Pe.tw.MOUSE_OUT,W=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,Pe.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}getContentElements(t){const n=[];for(let l of(0,Xd.T)(t))if(typeof l=="string"){if(l=l.trim(),l==="")continue;const R=document.createElement("span");R.textContent=l,n.push(R)}else n.push(l);return n}updateBackground(t){let n;this.options.secondary?n=t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:n=t?this.options.buttonHoverBackground:this.options.buttonBackground,n&&(this._element.style.backgroundColor=n)}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button");const n=this.options.supportShortLabel?this._labelElement:this._element;this.options.supportIcons?(0,Pe.mc)(n,...this.getContentElements(t)):n.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var qd=i(556);const ec="done",tc="active",Wl="infinite",Vl="infinite-long-running",ic="discrete";class Va extends f.JT{constructor(t,n){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new B.pY(()=>(0,Pe.$Z)(this.element),0)),this.longRunningScheduler=this._register(new B.pY(()=>this.infiniteLongRunning(),Va.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t,n)}create(t,n){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(n==null?void 0:n.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(tc,Wl,Vl,ic),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(ec),this.element.classList.contains(Wl)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(ic,ec,Vl),this.element.classList.add(tc,Wl),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Vl)}getContainer(){return this.element}}Va.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Eu=i(27654),xu=i(79402);const Iu=Pe.$;class Nu extends f.JT{constructor(t,n,l){super(),this.parent=t,this.onKeyDown=R=>Pe.nm(this.findInput.inputBox.inputElement,Pe.tw.KEY_DOWN,W=>{R(new xs.y(W))}),this.onMouseDown=R=>Pe.nm(this.findInput.inputBox.inputElement,Pe.tw.MOUSE_DOWN,W=>{R(new wl.n(W))}),this.onDidChange=R=>this.findInput.onDidChange(R),this.container=Pe.R3(this.parent,Iu(".quick-input-box")),this.findInput=this._register(new xu.V(this.container,void 0,{label:"",inputBoxStyles:n,toggleStyles:l}))}get value(){return this.findInput.getValue()}set value(t){this.findInput.setValue(t)}select(t=null){this.findInput.inputBox.select(t)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.findInput.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.findInput.inputBox.getAriaLabel()}set ariaLabel(t){this.findInput.inputBox.setAriaLabel(t)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(t){this.findInput.inputBox.inputElement.type=t?"password":"text"}set enabled(t){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!t)}set toggles(t){this.findInput.setAdditionalToggles(t)}setAttribute(t,n){this.findInput.inputBox.inputElement.setAttribute(t,n)}removeAttribute(t){this.findInput.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===Ls.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:t===Ls.Z.Info?1:t===Ls.Z.Warning?2:3,content:""})}stylesForType(t){return this.findInput.inputBox.stylesForType(t===Ls.Z.Info?1:t===Ls.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var nc=i(1918),Mu=i(47258),Hl=i(48911);const sc=new Hl.o(()=>{const oe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:oe,collatorIsNumeric:oe.resolvedOptions().numeric}}),mg=new Hl.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),pg=new Hl.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function Tu(oe,t,n=!1){const l=oe||"",R=t||"",W=sc.value.collator.compare(l,R);return sc.value.collatorIsNumeric&&W===0&&l!==R?l<R?-1:1:W}function Ru(oe,t,n){const l=oe.toLowerCase(),R=t.toLowerCase(),W=Ou(oe,t,n);if(W)return W;const te=l.endsWith(n),ue=R.endsWith(n);if(te!==ue)return te?-1:1;const ke=Tu(l,R);return ke!==0?ke:l.localeCompare(R)}function Ou(oe,t,n){const l=oe.toLowerCase(),R=t.toLowerCase(),W=l.startsWith(n),te=R.startsWith(n);if(W!==te)return W?-1:1;if(W&&te){if(l.length<R.length)return-1;if(l.length>R.length)return 1}return 0}var Ul=i(69398),zl=i(25396),Pu=i(59089),Au=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W};class oc{constructor(t){this.nodes=t}toString(){return this.nodes.map(t=>typeof t=="string"?t:t.label).join("")}}Au([Ul.H],oc.prototype,"toString",null);const ku=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Fu(oe){const t=[];let n=0,l;for(;l=ku.exec(oe);){l.index-n>0&&t.push(oe.substring(n,l.index));const[,R,W,,te]=l;te?t.push({label:R,href:W,title:te}):t.push({label:R,href:W}),n=l.index+l[0].length}return n<oe.length&&t.push(oe.substring(n)),new oc(t)}const jl={},Bu=new Pu.R("quick-input-button-icon-");function Kl(oe){if(!oe)return;let t;const n=oe.dark.toString();return jl[n]?t=jl[n]:(t=Bu.nextId(),Pe.fk(`.${t}, .hc-light .${t}`,`background-image: ${Pe.wY(oe.light||oe.dark)}`),Pe.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${Pe.wY(oe.dark)}`),jl[n]=t),t}function Wu(oe,t,n){Pe.mc(t);const l=Fu(oe);let R=0;for(const W of l.nodes)if(typeof W=="string")t.append(...(0,Xd.T)(W));else{let te=W.title;!te&&W.href.startsWith("command:")?te=(0,b.NC)("executeCommand","Click to execute command '{0}'",W.href.substring(8)):te||(te=W.href);const ue=Pe.$("a",{href:W.href,title:te,tabIndex:R++},W.label);ue.style.textDecoration="underline";const ke=Bt=>{Pe.cl(Bt)&&Pe.zB.stop(Bt,!0),n.callback(W.href)},Be=n.disposables.add(new zl.Y(ue,Pe.tw.CLICK)).event,Je=n.disposables.add(new zl.Y(ue,Pe.tw.KEY_DOWN)).event,ht=n.disposables.add(g.ju.chain(Je)).filter(Bt=>{const oi=new xs.y(Bt);return oi.equals(10)||oi.equals(3)}).event;n.disposables.add(Ro.o.addTarget(ue));const Ot=n.disposables.add(new zl.Y(ue,Ro.t.Tap)).event;g.ju.any(Be,Ot,ht)(ke,null,n.disposables),t.appendChild(ue)}}var rc=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},ac=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};const vo=Pe.$;class Vu{get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}constructor(t){this.hidden=!1,this._onChecked=new g.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}dispose(){this._onChecked.dispose()}}class ia{get templateId(){return ia.ID}renderTemplate(t){const n=Object.create(null);n.toDisposeElement=[],n.toDisposeTemplate=[],n.entry=Pe.R3(t,vo(".quick-input-list-entry"));const l=Pe.R3(n.entry,vo("label.quick-input-list-label"));n.toDisposeTemplate.push(Pe.mu(l,Pe.tw.CLICK,Be=>{n.checkbox.offsetParent||Be.preventDefault()})),n.checkbox=Pe.R3(l,vo("input.quick-input-list-checkbox")),n.checkbox.type="checkbox",n.toDisposeTemplate.push(Pe.mu(n.checkbox,Pe.tw.CHANGE,Be=>{n.element.checked=n.checkbox.checked}));const R=Pe.R3(l,vo(".quick-input-list-rows")),W=Pe.R3(R,vo(".quick-input-list-row")),te=Pe.R3(R,vo(".quick-input-list-row"));n.label=new nc.g(W,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const ue=Pe.R3(W,vo(".quick-input-list-entry-keybinding"));n.keybinding=new Mu.e(ue,G.OS);const ke=Pe.R3(te,vo(".quick-input-list-label-meta"));return n.detail=new nc.g(ke,{supportHighlights:!0,supportIcons:!0}),n.separator=Pe.R3(n.entry,vo(".quick-input-list-separator")),n.actionBar=new ci.o(n.entry),n.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),n.toDisposeTemplate.push(n.actionBar),n}renderElement(t,n,l){l.element=t,t.element=(0,co.f6)(l.entry);const R=t.item?t.item:t.separator;l.checkbox.checked=t.checked,l.toDisposeElement.push(t.onChecked(Je=>l.checkbox.checked=Je));const{labelHighlights:W,descriptionHighlights:te,detailHighlights:ue}=t,ke=Object.create(null);ke.matches=W||[],ke.descriptionTitle=t.saneDescription,ke.descriptionMatches=te||[],R.type!=="separator"?(ke.extraClasses=R.iconClasses,ke.italic=R.italic,ke.strikethrough=R.strikethrough,l.entry.classList.remove("quick-input-list-separator-as-item")):l.entry.classList.add("quick-input-list-separator-as-item"),l.label.setLabel(t.saneLabel,t.saneDescription,ke),l.keybinding.set(R.type==="separator"?void 0:R.keybinding),t.saneDetail&&l.detail.setLabel(t.saneDetail,void 0,{matches:ue,title:t.saneDetail}),t.item&&t.separator&&t.separator.label?(l.separator.textContent=t.separator.label,l.separator.style.display=""):l.separator.style.display="none",l.entry.classList.toggle("quick-input-list-separator-border",!!t.separator);const Be=R.buttons;Be&&Be.length?(l.actionBar.push(Be.map((Je,ht)=>{let Ot=Je.iconClass||(Je.iconPath?Kl(Je.iconPath):void 0);return Je.alwaysVisible&&(Ot=Ot?`${Ot} always-visible`:"always-visible"),{id:`id-${ht}`,class:Ot,enabled:!0,label:"",tooltip:Je.tooltip||"",run:()=>{R.type!=="separator"?t.fireButtonTriggered({button:Je,item:R}):t.fireSeparatorButtonTriggered({button:Je,separator:R})}}}),{icon:!0,label:!1}),l.entry.classList.add("has-actions")):l.entry.classList.remove("has-actions")}disposeElement(t,n,l){l.toDisposeElement=(0,f.B9)(l.toDisposeElement),l.actionBar.clear()}disposeTemplate(t){t.toDisposeElement=(0,f.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,f.B9)(t.toDisposeTemplate)}}ia.ID="listelement";class Hu{getHeight(t){return t.item?t.saneDetail?44:22:24}getTemplateId(t){return ia.ID}}var as;(function(oe){oe[oe.First=1]="First",oe[oe.Second=2]="Second",oe[oe.Last=3]="Last",oe[oe.Next=4]="Next",oe[oe.Previous=5]="Previous",oe[oe.NextPage=6]="NextPage",oe[oe.PreviousPage=7]="PreviousPage"})(as||(as={}));class $l{constructor(t,n,l){this.parent=t,this.options=l,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new g.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new g.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new g.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new g.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new g.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new g.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new g.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new g.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=n,this.container=Pe.R3(this.parent,vo(".quick-input-list"));const R=new Hu,W=new ju;this.list=l.createList("QuickInput",this.container,R,[new ia],{identityProvider:{getId:ue=>ue.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:W}),this.list.getHTMLElement().id=n,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(ue=>{const ke=new xs.y(ue);switch(ke.keyCode){case 10:this.toggleCheckbox();break;case 31:(G.dz?ue.metaKey:ue.ctrlKey)&&this.list.setFocus((0,Ri.w6)(this.list.length));break;case 16:{const Be=this.list.getFocus();Be.length===1&&Be[0]===0&&this._onLeave.fire();break}case 18:{const Be=this.list.getFocus();Be.length===1&&Be[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(ke)})),this.disposables.push(this.list.onMouseDown(ue=>{ue.browserEvent.button!==2&&ue.browserEvent.preventDefault()})),this.disposables.push(Pe.nm(this.container,Pe.tw.CLICK,ue=>{(ue.x||ue.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(ue=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(ue=>{typeof ue.index=="number"&&(ue.browserEvent.preventDefault(),this.list.setSelection([ue.index]))}));const te=new B.rH(l.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(ue=>ac(this,void 0,void 0,function*(){var ke;if(ue.browserEvent.target instanceof HTMLAnchorElement){te.cancel();return}!(ue.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Pe.jg(ue.browserEvent.relatedTarget,(ke=ue.element)===null||ke===void 0?void 0:ke.element)||(yield te.trigger(()=>ac(this,void 0,void 0,function*(){ue.element&&this.showHover(ue.element)})))}))),this.disposables.push(this.list.onMouseOut(ue=>{var ke;Pe.jg(ue.browserEvent.relatedTarget,(ke=ue.element)===null||ke===void 0?void 0:ke.element)||te.cancel()})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,te)}get onDidChangeFocus(){return g.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(n=>n.item))}get onDidChangeSelection(){return g.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(n=>n.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,n=!0){for(let l=0,R=t.length;l<R;l++){const W=t[l];if(!W.hidden)if(W.checked)n=!0;else return!1}return n}getCheckedCount(){let t=0;const n=this.elements;for(let l=0,R=n.length;l<R;l++)n[l].checked&&t++;return t}getVisibleCount(){let t=0;const n=this.elements;for(let l=0,R=n.length;l<R;l++)n[l].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(n=>{n.hidden||(n.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,f.B9)(this.elementDisposables);const n=R=>this.fireButtonTriggered(R),l=R=>this.fireSeparatorButtonTriggered(R);this.inputElements=t,this.elements=t.reduce((R,W,te)=>{var ue,ke,Be;const Je=te&&t[te-1],ht=W.label?W.label.replace(/\r?\n/g," "):"",Ot=(0,io.Ho)(ht).text.trim();let Bt,oi,bi,Li,Mi,Gi,Wi;W.type!=="separator"&&(Bt=W.meta&&W.meta.replace(/\r?\n/g," "),oi=W.description&&W.description.replace(/\r?\n/g," "),bi=W.detail&&W.detail.replace(/\r?\n/g," "),Li=(ue=W.highlights)===null||ue===void 0?void 0:ue.label,Mi=(ke=W.highlights)===null||ke===void 0?void 0:ke.description,Gi=(Be=W.highlights)===null||Be===void 0?void 0:Be.detail,Wi=W.tooltip);const Ki=W.ariaLabel||[ht,oi,bi].map(ki=>(0,io.JL)(ki)).filter(ki=>!!ki).join(", "),Mn=this.parent.classList.contains("show-checkboxes");let Ln;if(W.type==="separator"){if(!W.buttons)return R;Ln=W}else Je&&Je.type==="separator"&&!Je.buttons&&(Ln=Je);const dn=new Vu({hasCheckbox:Mn,index:te,item:W.type!=="separator"?W:void 0,saneLabel:ht,saneSortLabel:Ot,saneMeta:Bt,saneAriaLabel:Ki,saneDescription:oi,saneDetail:bi,saneTooltip:Wi,labelHighlights:Li,descriptionHighlights:Mi,detailHighlights:Gi,checked:!1,separator:Ln,fireButtonTriggered:n,fireSeparatorButtonTriggered:l});return this.elementDisposables.push(dn),this.elementDisposables.push(dn.onChecked(()=>this.fireCheckedEvents())),R.push(dn),R},[]),this.elementsToIndexes=this.elements.reduce((R,W,te)=>{var ue;return R.set((ue=W.item)!==null&&ue!==void 0?ue:W.separator,te),R},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(n=>this.elementsToIndexes.has(n)).map(n=>this.elementsToIndexes.get(n))),t.length>0){const n=this.list.getFocus()[0];typeof n=="number"&&this.list.reveal(n)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(n=>this.elementsToIndexes.has(n)).map(n=>this.elementsToIndexes.get(n)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item).filter(t=>!!t)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const n=new Set;for(const l of t)n.add(l);for(const l of this.elements)l.checked=n.has(l.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===as.Second&&this.list.length<2&&(t=as.First),t){case as.First:this.list.scrollTop=0,this.list.focusFirst(void 0,l=>!!l.item);break;case as.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,l=>!!l.item);break;case as.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,l=>!!l.item);break;case as.Next:{this.list.focusNext(void 0,!0,void 0,R=>!!R.item);const l=this.list.getFocus()[0];l!==0&&!this.elements[l-1].item&&this.list.firstVisibleIndex>l-1&&this.list.reveal(l-1);break}case as.Previous:{this.list.focusPrevious(void 0,!0,void 0,R=>!!R.item);const l=this.list.getFocus()[0];l!==0&&!this.elements[l-1].item&&this.list.firstVisibleIndex>l-1&&this.list.reveal(l-1);break}case as.NextPage:this.list.focusNextPage(void 0,l=>!!l.item);break;case as.PreviousPage:this.list.focusPreviousPage(void 0,l=>!!l.item);break}const n=this.list.getFocus()[0];typeof n=="number"&&this.list.reveal(n)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(t){var n,l,R;this._lastHover&&!this._lastHover.isDisposed&&((l=(n=this.options.hoverDelegate).onDidHideHover)===null||l===void 0||l.call(n),(R=this._lastHover)===null||R===void 0||R.dispose()),!(!t.element||!t.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:t.saneTooltip,target:t.element,linkHandler:W=>{this.options.linkOpenerDelegate(W)},showPointer:!0,container:this.container,hoverPosition:1},!1))}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const n=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(R=>{R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!1;const W=R.index&&this.inputElements[R.index-1];R.item&&(R.separator=W&&W.type==="separator"&&!W.buttons?W:void 0)});else{let R;this.elements.forEach(W=>{let te;this.matchOnLabelMode==="fuzzy"?te=this.matchOnLabel?(0,co.f6)((0,io.Gt)(t,(0,io.Ho)(W.saneLabel))):void 0:te=this.matchOnLabel?(0,co.f6)(Uu(n,(0,io.Ho)(W.saneLabel))):void 0;const ue=this.matchOnDescription?(0,co.f6)((0,io.Gt)(t,(0,io.Ho)(W.saneDescription||""))):void 0,ke=this.matchOnDetail?(0,co.f6)((0,io.Gt)(t,(0,io.Ho)(W.saneDetail||""))):void 0,Be=this.matchOnMeta?(0,co.f6)((0,io.Gt)(t,(0,io.Ho)(W.saneMeta||""))):void 0;if(te||ue||ke||Be?(W.labelHighlights=te,W.descriptionHighlights=ue,W.detailHighlights=ke,W.hidden=!1):(W.labelHighlights=void 0,W.descriptionHighlights=void 0,W.detailHighlights=void 0,W.hidden=W.item?!W.item.alwaysShow:!0),!this.sortByLabel){const Je=W.index&&this.inputElements[W.index-1];R=Je&&Je.type==="separator"?Je:R,R&&!W.hidden&&(W.separator=R,R=void 0)}})}const l=this.elements.filter(R=>!R.hidden);if(this.sortByLabel&&t){const R=t.toLowerCase();l.sort((W,te)=>zu(W,te,R))}return this.elementsToIndexes=l.reduce((R,W,te)=>{var ue;return R.set((ue=W.item)!==null&&ue!==void 0?ue:W.separator,te),R},new Map),this.list.splice(0,this.list.length,l),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(l.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),n=this.allVisibleChecked(t);for(const l of t)l.checked=!n}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,f.B9)(this.elementDisposables),this.disposables=(0,f.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}fireSeparatorButtonTriggered(t){this._onSeparatorButtonTriggered.fire(t)}style(t){this.list.style(t)}toggleHover(){if(!this.list.getFocusedElements()[0].saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const n=this.list.getFocusedElements()[0];if(!n)return;this.showHover(n);const l=new f.SL;l.add(this.list.onDidChangeFocus(R=>{R.indexes.length&&this.showHover(R.elements[0])})),this._lastHover&&l.add(this._lastHover),this._toggleHover=l,this.elementDisposables.push(this._toggleHover)}}rc([Ul.H],$l.prototype,"onDidChangeFocus",null),rc([Ul.H],$l.prototype,"onDidChangeSelection",null);function Uu(oe,t){const{text:n,iconOffsets:l}=t;if(!l||l.length===0)return lc(oe,n);const R=(0,s.j3)(n," "),W=n.length-R.length,te=lc(oe,R);if(te)for(const ue of te){const ke=l[ue.start+W]+W;ue.start+=ke,ue.end+=ke}return te}function lc(oe,t){const n=t.toLowerCase().indexOf(oe.toLowerCase());return n!==-1?[{start:n,end:n+oe.length}]:null}function zu(oe,t,n){const l=oe.labelHighlights||[],R=t.labelHighlights||[];return l.length&&!R.length?-1:!l.length&&R.length?1:l.length===0&&R.length===0?0:Ru(oe.saneSortLabel,t.saneSortLabel,n)}class ju{getWidgetAriaLabel(){return(0,b.NC)("quickInput","Quick Input")}getAriaLabel(t){var n;return!((n=t.separator)===null||n===void 0)&&n.label?`${t.saneAriaLabel}, ${t.separator.label}`:t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(t){return t.hasCheckbox?"checkbox":"option"}isChecked(t){if(t.hasCheckbox)return{value:t.checked,onDidChange:t.onChecked}}}var dc=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};const $s=Pe.$,Gl={iconClass:Zn.k.asClassName(ei.l.quickInputBack),tooltip:(0,b.NC)("quickInput.back","Back"),handle:-1};class na extends f.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=na.noPromptMessage,this._severity=Ls.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new g.Q5),this.onDidHideEmitter=this._register(new g.Q5),this.onDisposeEmitter=this._register(new g.Q5),this.visibleDisposables=this._register(new f.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const n=this._ignoreFocusOut!==t&&!G.gn;this._ignoreFocusOut=t&&!G.gn,n&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(t){this._toggles=t!=null?t:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=Fs.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){var t,n;if(!this.visible)return;const l=this.getTitle();l&&this.ui.title.textContent!==l?this.ui.title.textContent=l:!l&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new B._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const te=this.buttons.filter(ke=>ke===Gl);this.ui.leftActionBar.push(te.map((ke,Be)=>{const Je=new Ti.aU(`id-${Be}`,"",ke.iconClass||Kl(ke.iconPath),!0,()=>dc(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ke)}));return Je.tooltip=ke.tooltip||"",Je}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const ue=this.buttons.filter(ke=>ke!==Gl);this.ui.rightActionBar.push(ue.map((ke,Be)=>{const Je=new Ti.aU(`id-${Be}`,"",ke.iconClass||Kl(ke.iconPath),!0,()=>dc(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ke)}));return Je.tooltip=ke.tooltip||"",Je}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const te=(n=(t=this.toggles)===null||t===void 0?void 0:t.filter(ue=>ue instanceof Eu.Z))!==null&&n!==void 0?n:[];this.ui.inputBox.toggles=te}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const W=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==W&&(this._lastValidationMessage=W,Pe.mc(this.ui.message),Wu(W,this.ui.message,{callback:te=>{this.ui.linkOpenerDelegate(te)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,b.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Ls.Z.Ignore){const n=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=n.foreground?`${n.foreground}`:"",this.ui.message.style.backgroundColor=n.background?`${n.background}`:"",this.ui.message.style.border=n.border?`1px solid ${n.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}na.noPromptMessage=(0,b.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class sa extends na{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new g.Q5),this.onWillAcceptEmitter=this._register(new g.Q5),this.onDidAcceptEmitter=this._register(new g.Q5),this.onDidCustomEmitter=this._register(new g.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Fs.jG.NONE:Fs.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new g.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new g.Q5),this.onDidTriggerItemButtonEmitter=this._register(new g.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new g.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this.doSetValue(t)}doSetValue(t,n){this._value!==t&&(this._value=t,n||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Fs.X5:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(as.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{this.doSetValue(t,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(as.Next),this.canSelectMany&&this.ui.list.domFocus(),Pe.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(as.Previous):this.ui.list.focus(as.Last),this.canSelectMany&&this.ui.list.domFocus(),Pe.zB.stop(t,!0);break;case 12:this.ui.list.focus(as.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Pe.zB.stop(t,!0);break;case 11:this.ui.list.focus(as.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Pe.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(as.First),Pe.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(as.Last),Pe.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Ri.fS)(t,this._activeItems,(n,l)=>n===l)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:n})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,Ri.fS)(t,this._selectedItems,(l,R)=>l===R)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(n instanceof MouseEvent&&n.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,Ri.fS)(t,this._selectedItems,(n,l)=>n===l)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(t=>this.onDidTriggerSeparatorButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let n=!1;this.onWillAcceptEmitter.fire({veto:()=>n=!0}),n||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return Pe.nm(this.ui.container,Pe.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const n=new xs.y(t),l=n.keyCode;this._quickNavigate.keybindings.some(te=>{const[ue,ke]=te.getChords();return ke?!1:ue.shiftKey&&l===4?!(n.ctrlKey||n.altKey||n.metaKey):!!(ue.altKey&&l===6||ue.ctrlKey&&l===5||ue.metaKey&&l===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,n=!!this.description,l={title:!!this.title||!!this.step||!!this.buttons.length,description:n,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||n,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(l),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let R=this.ariaLabel;if(R||(R=this.placeholder||sa.DEFAULT_ARIA_LABEL,this.title&&(R+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==R&&(this.ui.inputBox.ariaLabel=R),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Fs.jG.NONE:this._itemActivation=Fs.jG.FIRST;break;case Fs.jG.SECOND:this.ui.list.focus(as.Second),this._itemActivation=Fs.jG.FIRST;break;case Fs.jG.LAST:this.ui.list.focus(as.Last),this._itemActivation=Fs.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),l.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(as.First)),this.keepScrollPosition&&(this.scrollTop=t)}}sa.DEFAULT_ARIA_LABEL=(0,b.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Ku extends na{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new g.Q5),this.onDidAcceptEmitter=this._register(new g.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(t){this._value=t||"",this.update()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get password(){return this._password}set password(t){this._password=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{t!==this.value&&(this._value=t,this.onDidValueChangeEmitter.fire(t))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const t={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(t),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class Ha extends f.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new g.Q5),this.onDidCustomEmitter=this._register(new g.Q5),this.onDidTriggerButtonEmitter=this._register(new g.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new g.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new g.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=n=>{this.keyMods.ctrlCmd=n.ctrlKey||n.metaKey,this.keyMods.alt=n.altKey};this._register(Pe.nm(window,Pe.tw.KEY_DOWN,t,!0)),this._register(Pe.nm(window,Pe.tw.KEY_UP,t,!0)),this._register(Pe.nm(window,Pe.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=Pe.R3(this.parentElement,$s(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const n=Pe.dS(t),l=Pe.R3(t,$s(".quick-input-titlebar")),R=this._register(new ci.o(l));R.domNode.classList.add("quick-input-left-action-bar");const W=Pe.R3(l,$s(".quick-input-title")),te=this._register(new ci.o(l));te.domNode.classList.add("quick-input-right-action-bar");const ue=Pe.R3(t,$s(".quick-input-description")),ke=Pe.R3(t,$s(".quick-input-header")),Be=Pe.R3(ke,$s("input.quick-input-check-all"));Be.type="checkbox",Be.setAttribute("aria-label",(0,b.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Pe.mu(Be,Pe.tw.CHANGE,Ji=>{const Nn=Be.checked;ki.setAllVisibleChecked(Nn)})),this._register(Pe.nm(Be,Pe.tw.CLICK,Ji=>{(Ji.x||Ji.y)&&Bt.setFocus()}));const Je=Pe.R3(ke,$s(".quick-input-description")),ht=Pe.R3(ke,$s(".quick-input-and-message")),Ot=Pe.R3(ht,$s(".quick-input-filter")),Bt=this._register(new Nu(Ot,this.styles.inputBox,this.styles.toggle));Bt.setAttribute("aria-describedby",`${this.idPrefix}message`);const oi=Pe.R3(Ot,$s(".quick-input-visible-count"));oi.setAttribute("aria-live","polite"),oi.setAttribute("aria-atomic","true");const bi=new qd.Z(oi,{countFormat:(0,b.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),Li=Pe.R3(Ot,$s(".quick-input-count"));Li.setAttribute("aria-live","polite");const Mi=new qd.Z(Li,{countFormat:(0,b.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Gi=Pe.R3(ke,$s(".quick-input-action")),Wi=new Jd(Gi,this.styles.button);Wi.label=(0,b.NC)("ok","OK"),this._register(Wi.onDidClick(Ji=>{this.onDidAcceptEmitter.fire()}));const Ki=Pe.R3(ke,$s(".quick-input-action")),Mn=new Jd(Ki,this.styles.button);Mn.label=(0,b.NC)("custom","Custom"),this._register(Mn.onDidClick(Ji=>{this.onDidCustomEmitter.fire()}));const Ln=Pe.R3(ht,$s(`#${this.idPrefix}message.quick-input-message`)),dn=new Va(t,this.styles.progressBar);dn.getContainer().classList.add("quick-input-progress");const ki=this._register(new $l(t,this.idPrefix+"list",this.options));this._register(ki.onChangedAllVisibleChecked(Ji=>{Be.checked=Ji})),this._register(ki.onChangedVisibleCount(Ji=>{bi.setCount(Ji)})),this._register(ki.onChangedCheckedCount(Ji=>{Mi.setCount(Ji)})),this._register(ki.onLeave(()=>{setTimeout(()=>{Bt.setFocus(),this.controller instanceof sa&&this.controller.canSelectMany&&ki.clearFocus()},0)})),this._register(ki.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const vn=Pe.go(t);return this._register(vn),this._register(Pe.nm(t,Pe.tw.FOCUS,Ji=>{this.previousFocusElement=Ji.relatedTarget instanceof HTMLElement?Ji.relatedTarget:void 0},!0)),this._register(vn.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Fs.Jq.Blur),this.previousFocusElement=void 0})),this._register(Pe.nm(t,Pe.tw.FOCUS,Ji=>{Bt.setFocus()})),this._register(Pe.nm(t,Pe.tw.KEY_DOWN,Ji=>{const Nn=new xs.y(Ji);switch(Nn.keyCode){case 3:Pe.zB.stop(Ji,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Pe.zB.stop(Ji,!0),this.hide(Fs.Jq.Gesture);break;case 2:if(!Nn.altKey&&!Nn.ctrlKey&&!Nn.metaKey){const jn=[".action-label.codicon"];t.classList.contains("show-checkboxes")?jn.push("input"):jn.push("input[type=text]"),this.getUI().list.isDisplayed()&&jn.push(".monaco-list"),this.getUI().message&&jn.push(".quick-input-message a");const _n=t.querySelectorAll(jn.join(", "));Nn.shiftKey&&Nn.target===_n[0]?(Pe.zB.stop(Ji,!0),_n[_n.length-1].focus()):!Nn.shiftKey&&Nn.target===_n[_n.length-1]&&(Pe.zB.stop(Ji,!0),_n[0].focus())}break;case 10:Nn.ctrlKey&&(Pe.zB.stop(Ji,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:n,leftActionBar:R,titleBar:l,title:W,description1:ue,description2:Je,rightActionBar:te,checkAll:Be,filterContainer:Ot,inputBox:Bt,visibleCountContainer:oi,visibleCount:bi,countContainer:Li,count:Mi,okContainer:Gi,ok:Wi,message:Ln,customButtonContainer:Ki,customButton:Mn,list:ki,progressBar:dn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Ji=>this.show(Ji),hide:()=>this.hide(),setVisibilities:Ji=>this.setVisibilities(Ji),setComboboxAccessibility:Ji=>this.setComboboxAccessibility(Ji),setEnabled:Ji=>this.setEnabled(Ji),setContextKey:Ji=>this.options.setContextKey(Ji),linkOpenerDelegate:Ji=>this.options.linkOpenerDelegate(Ji)},this.updateStyles(),this.ui}pick(t,n={},l=F.T.None){return new Promise((R,W)=>{let te=Je=>{var ht;te=R,(ht=n.onKeyMods)===null||ht===void 0||ht.call(n,ue.keyMods),R(Je)};if(l.isCancellationRequested){te(void 0);return}const ue=this.createQuickPick();let ke;const Be=[ue,ue.onDidAccept(()=>{if(ue.canSelectMany)te(ue.selectedItems.slice()),ue.hide();else{const Je=ue.activeItems[0];Je&&(te(Je),ue.hide())}}),ue.onDidChangeActive(Je=>{const ht=Je[0];ht&&n.onDidFocus&&n.onDidFocus(ht)}),ue.onDidChangeSelection(Je=>{if(!ue.canSelectMany){const ht=Je[0];ht&&(te(ht),ue.hide())}}),ue.onDidTriggerItemButton(Je=>n.onDidTriggerItemButton&&n.onDidTriggerItemButton(Object.assign(Object.assign({},Je),{removeItem:()=>{const ht=ue.items.indexOf(Je.item);if(ht!==-1){const Ot=ue.items.slice(),Bt=Ot.splice(ht,1),oi=ue.activeItems.filter(Li=>Li!==Bt[0]),bi=ue.keepScrollPosition;ue.keepScrollPosition=!0,ue.items=Ot,oi&&(ue.activeItems=oi),ue.keepScrollPosition=bi}}}))),ue.onDidTriggerSeparatorButton(Je=>{var ht;return(ht=n.onDidTriggerSeparatorButton)===null||ht===void 0?void 0:ht.call(n,Je)}),ue.onDidChangeValue(Je=>{ke&&!Je&&(ue.activeItems.length!==1||ue.activeItems[0]!==ke)&&(ue.activeItems=[ke])}),l.onCancellationRequested(()=>{ue.hide()}),ue.onDidHide(()=>{(0,f.B9)(Be),te(void 0)})];ue.title=n.title,ue.canSelectMany=!!n.canPickMany,ue.placeholder=n.placeHolder,ue.ignoreFocusOut=!!n.ignoreFocusLost,ue.matchOnDescription=!!n.matchOnDescription,ue.matchOnDetail=!!n.matchOnDetail,ue.matchOnLabel=n.matchOnLabel===void 0||n.matchOnLabel,ue.autoFocusOnList=n.autoFocusOnList===void 0||n.autoFocusOnList,ue.quickNavigate=n.quickNavigate,ue.hideInput=!!n.hideInput,ue.contextKey=n.contextKey,ue.busy=!0,Promise.all([t,n.activeItem]).then(([Je,ht])=>{ke=ht,ue.busy=!1,ue.items=Je,ue.canSelectMany&&(ue.selectedItems=Je.filter(Ot=>Ot.type!=="separator"&&Ot.picked)),ke&&(ue.activeItems=[ke])}),ue.show(),Promise.resolve(t).then(void 0,Je=>{W(Je),ue.hide()})})}createQuickPick(){const t=this.getUI();return new sa(t)}createInputBox(){const t=this.getUI();return new Ku(t)}show(t){const n=this.getUI();this.onShowEmitter.fire();const l=this.controller;this.controller=t,l==null||l.didHide(),this.setEnabled(!0),n.leftActionBar.clear(),n.title.textContent="",n.description1.textContent="",n.description2.textContent="",n.rightActionBar.clear(),n.checkAll.checked=!1,n.inputBox.placeholder="",n.inputBox.password=!1,n.inputBox.showDecoration(Ls.Z.Ignore),n.visibleCount.setCount(0),n.count.setCount(0),Pe.mc(n.message),n.progressBar.stop(),n.list.setElements([]),n.list.matchOnDescription=!1,n.list.matchOnDetail=!1,n.list.matchOnLabel=!0,n.list.sortByLabel=!0,n.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),n.inputBox.ariaLabel="",n.inputBox.toggles=void 0;const R=this.options.backKeybindingLabel();Gl.tooltip=R?(0,b.NC)("quickInput.backWithKeybinding","Back ({0})",R):(0,b.NC)("quickInput.back","Back"),n.container.style.display="",this.updateLayout(),n.inputBox.setFocus()}setVisibilities(t){const n=this.getUI();n.title.style.display=t.title?"":"none",n.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",n.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",n.checkAll.style.display=t.checkAll?"":"none",n.filterContainer.style.display=t.inputBox?"":"none",n.visibleCountContainer.style.display=t.visibleCount?"":"none",n.countContainer.style.display=t.count?"":"none",n.okContainer.style.display=t.ok?"":"none",n.customButtonContainer.style.display=t.customButton?"":"none",n.message.style.display=t.message?"":"none",n.progressBar.getContainer().style.display=t.progressBar?"":"none",n.list.display(!!t.list),n.container.classList.toggle("show-checkboxes",!!t.checkBox),n.container.classList.toggle("hidden-input",!t.inputBox&&!t.description),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const n=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(n.inputBox.setAttribute("role","combobox"),n.inputBox.setAttribute("aria-haspopup","true"),n.inputBox.setAttribute("aria-autocomplete","list"),n.inputBox.setAttribute("aria-activedescendant",n.list.getActiveDescendant()||"")):(n.inputBox.removeAttribute("role"),n.inputBox.removeAttribute("aria-haspopup"),n.inputBox.removeAttribute("aria-autocomplete"),n.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const n of this.getUI().leftActionBar.viewItems)n.action.enabled=t;for(const n of this.getUI().rightActionBar.viewItems)n.action.enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().inputBox.enabled=t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var n;const l=this.controller;if(l){const R=!(!((n=this.ui)===null||n===void 0)&&n.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!R){let W=this.previousFocusElement;for(;W&&!W.offsetParent;)W=(0,co.f6)(W.parentElement);W!=null&&W.offsetParent?(W.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}l.didHide(t)}}layout(t,n){this.dimension=t,this.titleBarOffset=n,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,n=Math.min(this.dimension.width*.62,Ha.MAX_WIDTH);t.width=n+"px",t.marginLeft="-"+n/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:n,quickInputForeground:l,widgetBorder:R,widgetShadow:W}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t!=null?t:"",this.ui.container.style.backgroundColor=n!=null?n:"",this.ui.container.style.color=l!=null?l:"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=W?`0 0 8px 2px ${W}`:"",this.ui.list.style(this.styles.list);const te=[];this.styles.pickerGroup.pickerGroupBorder&&te.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&te.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&te.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(te.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&te.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&te.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&te.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&te.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&te.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),te.push("}"));const ue=te.join(`
`);ue!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=ue)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}Ha.MAX_WIDTH=600;var $u=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},oa=function(oe,t){return function(n,l){t(n,l,oe)}};let Ql=class extends ns.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Fl))),this._quickAccess}constructor(t,n,l,R,W){super(l),this.instantiationService=t,this.contextKeyService=n,this.accessibilityService=R,this.layoutService=W,this._onShow=this._register(new g.Q5),this._onHide=this._register(new g.Q5),this.contexts=new Map}createController(t=this.layoutService,n){const l={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:W=>this.setContextKey(W),linkOpenerDelegate:W=>{this.instantiationService.invokeFunction(te=>{te.get(Lr.v4).open(W,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>t.focus(),createList:(W,te,ue,ke,Be)=>this.instantiationService.createInstance(Al.ev,W,te,ue,ke,Be),hoverDelegate:{showHover(W,te){},delay:200},styles:this.computeStyles()},R=this._register(new Ha(Object.assign(Object.assign({},l),n)));return R.layout(t.dimension,t.offset.quickPickTop),this._register(t.onDidLayout(W=>R.layout(W,t.offset.quickPickTop))),this._register(R.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(R.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),R}setContextKey(t){let n;t&&(n=this.contexts.get(t),n||(n=new Yi.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,n))),!(n&&n.get())&&(this.resetContextKeys(),n==null||n.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,n={},l=F.T.None){return this.controller.pick(t,n,l)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Bn.n_1)(Bn.zKr),quickInputForeground:(0,Bn.n_1)(Bn.tZ6),quickInputTitleBackground:(0,Bn.n_1)(Bn.loF),widgetBorder:(0,Bn.n_1)(Bn.A42),widgetShadow:(0,Bn.n_1)(Bn.rh)},inputBox:Oo.Hc,toggle:Oo.pl,countBadge:Oo.ku,button:Oo.wG,progressBar:Oo.b5,keybindingLabel:Oo.eO,list:(0,Oo.TU)({listBackground:Bn.zKr,listFocusBackground:Bn.Vqd,listFocusForeground:Bn.NPS,listInactiveFocusForeground:Bn.NPS,listInactiveSelectionIconForeground:Bn.cbQ,listInactiveFocusBackground:Bn.Vqd,listFocusOutline:Bn.xL1,listInactiveFocusOutline:Bn.xL1}),pickerGroup:{pickerGroupBorder:(0,Bn.n_1)(Bn.opG),pickerGroupForeground:(0,Bn.n_1)(Bn.kJk)}}}};Ql=$u([oa(0,_.TG),oa(1,Yi.i6),oa(2,ns.XE),oa(3,I.F),oa(4,Io)],Ql);var cc=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},er=function(oe,t){return function(n,l){t(n,l,oe)}};let Zl=class extends Ql{constructor(t,n,l,R,W,te){super(n,l,R,W,new zo(t.getContainerDomNode(),te)),this.host=void 0;const ue=xr.get(t);if(ue){const ke=ue.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return ke.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Zl=cc([er(1,_.TG),er(2,Yi.i6),er(3,ns.XE),er(4,I.F),er(5,m.$)],Zl);let Yl=class{get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let n=this.mapEditorToService.get(t);if(!n){const l=n=this.instantiationService.createInstance(Zl,t);this.mapEditorToService.set(t,n),(0,kl.I)(t.onDidDispose)(()=>{l.dispose(),this.mapEditorToService.delete(t)})}return n}get quickAccess(){return this.activeService.quickAccess}constructor(t,n){this.instantiationService=t,this.codeEditorService=n,this.mapEditorToService=new Map}pick(t,n={},l=F.T.None){return this.activeService.pick(t,n,l)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};Yl=cc([er(0,_.TG),er(1,m.$)],Yl);class xr{static get(t){return t.getContribution(xr.ID)}constructor(t){this.editor=t,this.widget=new Ua(this.editor)}dispose(){this.widget.dispose()}}xr.ID="editor.controller.quickInput";class Ua{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Ua.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Ua.ID="editor.contrib.quickInputWidget",(0,mi._K)(xr.ID,xr,4);var Gu=i(29321),no=i(38665),Qu=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},Xl=function(oe,t){return function(n,l){t(n,l,oe)}};let Jl=class extends f.JT{constructor(t,n,l){super(),this._contextKeyService=t,this._layoutService=n,this._configurationService=l,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new g.Q5,this._onDidChangeReducedMotion=new g.Q5,this._accessibilityModeEnabledContext=I.U.bindTo(this._contextKeyService);const R=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(te=>{te.affectsConfiguration("editor.accessibilitySupport")&&(R(),this._onDidChangeScreenReaderOptimized.fire()),te.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),R(),this._register(this.onDidChangeScreenReaderOptimized(()=>R()));const W=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=W.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(W)}initReducedMotionListeners(t){if(!this._layoutService.hasContainer)return;this._register((0,Pe.nm)(t,"change",()=>{this._systemMotionReduced=t.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const n=()=>{const l=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",l),this._layoutService.container.classList.toggle("enable-motion",!l)};n(),this._register(this.onDidChangeReducedMotion(()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Jl=Qu([Xl(0,Yi.i6),Xl(1,Io),Xl(2,ii.Ui)],Jl);var za=i(47955),ja=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},tr=function(oe,t){return function(n,l){t(n,l,oe)}};let ql=class{constructor(t,n){this._commandService=t,this._hiddenStates=new Ka(n)}createMenu(t,n,l){return new td(t,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},l),this._commandService,n)}resetHiddenStates(t){this._hiddenStates.reset(t)}};ql=ja([tr(0,os.H),tr(1,za.Uy)],ql);let Ka=class pa{constructor(t){this._storageService=t,this._disposables=new f.SL,this._onDidChange=new g.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const n=t.get(pa._key,0,"{}");this._data=JSON.parse(n)}catch(n){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(n=>{if(n.key===pa._key){if(!this._ignoreChangeEvent)try{const l=t.get(pa._key,0,"{}");this._data=JSON.parse(l)}catch(l){console.log("FAILED to read storage after UPDATE",l)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(t,n){var l;return(l=this._hiddenByDefaultCache.get(`${t.id}/${n}`))!==null&&l!==void 0?l:!1}setDefaultState(t,n,l){this._hiddenByDefaultCache.set(`${t.id}/${n}`,l)}isHidden(t,n){var l,R;const W=this._isHiddenByDefault(t,n),te=(R=(l=this._data[t.id])===null||l===void 0?void 0:l.includes(n))!==null&&R!==void 0?R:!1;return W?!te:te}updateHidden(t,n,l){this._isHiddenByDefault(t,n)&&(l=!l);const W=this._data[t.id];if(l)W?W.indexOf(n)<0&&W.push(n):this._data[t.id]=[n];else if(W){const te=W.indexOf(n);te>=0&&(0,Ri.LS)(W,te),W.length===0&&delete this._data[t.id]}this._persist()}reset(t){if(t===void 0)this._data=Object.create(null),this._persist();else{for(const{id:n}of t)this._data[n]&&delete this._data[n];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(pa._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};Ka._key="menu.hiddenCommands",Ka=ja([tr(0,za.Uy)],Ka);let ed=class sr{constructor(t,n,l,R,W){this._id=t,this._hiddenStates=n,this._collectContextKeysForSubmenus=l,this._commandService=R,this._contextKeyService=W,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const t=ws.BH.getMenuItems(this._id);let n;t.sort(sr._compareMenuItems);for(const l of t){const R=l.group||"";(!n||n[0]!==R)&&(n=[R,[]],this._menuGroups.push(n)),n[1].push(l),this._collectContextKeys(l)}}_collectContextKeys(t){if(sr._fillInKbExprKeys(t.when,this._structureContextKeys),(0,ws.vr)(t)){if(t.command.precondition&&sr._fillInKbExprKeys(t.command.precondition,this._preconditionContextKeys),t.command.toggled){const n=t.command.toggled.condition||t.command.toggled;sr._fillInKbExprKeys(n,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&ws.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}createActionGroups(t){const n=[];for(const l of this._menuGroups){const[R,W]=l,te=[];for(const ue of W)if(this._contextKeyService.contextMatchesRules(ue.when)){const ke=(0,ws.vr)(ue);ke&&this._hiddenStates.setDefaultState(this._id,ue.command.id,!!ue.isHiddenByDefault);const Be=Zu(this._id,ke?ue.command:ue,this._hiddenStates);if(ke)te.push(new ws.U8(ue.command,ue.alt,t,Be,this._contextKeyService,this._commandService));else{const Je=new sr(ue.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(t),ht=Ti.Z0.join(...Je.map(Ot=>Ot[1]));ht.length>0&&te.push(new ws.NZ(ue,Be,ht))}}te.length>0&&n.push([R,te])}return n}static _fillInKbExprKeys(t,n){if(t)for(const l of t.keys())n.add(l)}static _compareMenuItems(t,n){const l=t.group,R=n.group;if(l!==R){if(l){if(!R)return-1}else return 1;if(l==="navigation")return-1;if(R==="navigation")return 1;const ue=l.localeCompare(R);if(ue!==0)return ue}const W=t.order||0,te=n.order||0;return W<te?-1:W>te?1:sr._compareTitles((0,ws.vr)(t)?t.command.title:t.title,(0,ws.vr)(n)?n.command.title:n.title)}static _compareTitles(t,n){const l=typeof t=="string"?t:t.original,R=typeof n=="string"?n:n.original;return l.localeCompare(R)}};ed=ja([tr(3,os.H),tr(4,Yi.i6)],ed);let td=class{constructor(t,n,l,R,W){this._disposables=new f.SL,this._menuInfo=new ed(t,n,l.emitEventsForSubmenuChanges,R,W);const te=new B.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},l.eventDebounceDelay);this._disposables.add(te),this._disposables.add(ws.BH.onDidChangeMenu(Je=>{Je.has(t)&&te.schedule()}));const ue=this._disposables.add(new f.SL),ke=Je=>{let ht=!1,Ot=!1,Bt=!1;for(const oi of Je)if(ht=ht||oi.isStructuralChange,Ot=Ot||oi.isEnablementChange,Bt=Bt||oi.isToggleChange,ht&&Ot&&Bt)break;return{menu:this,isStructuralChange:ht,isEnablementChange:Ot,isToggleChange:Bt}},Be=()=>{ue.add(W.onDidChangeContext(Je=>{const ht=Je.affectsSome(this._menuInfo.structureContextKeys),Ot=Je.affectsSome(this._menuInfo.preconditionContextKeys),Bt=Je.affectsSome(this._menuInfo.toggledContextKeys);(ht||Ot||Bt)&&this._onDidChange.fire({menu:this,isStructuralChange:ht,isEnablementChange:Ot,isToggleChange:Bt})})),ue.add(n.onDidChange(Je=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new g.D0({onWillAddFirstListener:Be,onDidRemoveLastListener:ue.clear.bind(ue),delay:l.eventDebounceDelay,merge:ke}),this.onDidChange=this._onDidChange.event}getActions(t){return this._menuInfo.createActionGroups(t)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};td=ja([tr(3,os.H),tr(4,Yi.i6)],td);function Zu(oe,t,n){const l=(0,ws.f6)(t)?t.submenu.id:t.id,R=typeof t.title=="string"?t.title:t.title.value,W=(0,Ti.xw)({id:`hide/${oe.id}/${l}`,label:(0,b.NC)("hide.label","Hide '{0}'",R),run(){n.updateHidden(oe,l,!0)}}),te=(0,Ti.xw)({id:`toggle/${oe.id}/${l}`,label:R,get checked(){return!n.isHidden(oe,l)},run(){n.updateHidden(oe,l,!!this.checked)}});return{hide:W,toggle:te,get isHidden(){return!te.checked}}}var Yu=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},uc=function(oe,t){return function(n,l){t(n,l,oe)}},Ir=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};let id=class extends f.JT{constructor(t,n){super(),this.layoutService=t,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],(Ll.isSafari||Ll.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const t=()=>{const n=new B.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(l=>Ir(this,void 0,void 0,function*(){(!(l instanceof Error)||l.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(l)}))};this.layoutService.hasContainer&&(this._register((0,Pe.nm)(this.layoutService.container,"click",t)),this._register((0,Pe.nm)(this.layoutService.container,"keydown",t)))}writeText(t,n){return Ir(this,void 0,void 0,function*(){if(n){this.mapTextToType.set(n,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return yield navigator.clipboard.writeText(t)}catch(W){console.error(W)}const l=document.activeElement,R=document.body.appendChild((0,Pe.$)("textarea",{"aria-hidden":!0}));R.style.height="1px",R.style.width="1px",R.style.position="absolute",R.value=t,R.focus(),R.select(),document.execCommand("copy"),l instanceof HTMLElement&&l.focus(),document.body.removeChild(R)})}readText(t){return Ir(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(n){return console.error(n),""}})}readFindText(){return Ir(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return Ir(this,void 0,void 0,function*(){this.findText=t})}readResources(){return Ir(this,void 0,void 0,function*(){return this.resources})}};id=Yu([uc(0,Io),uc(1,Dn.VZ)],id);var Nr=i(62841),Xu=i(71818),Ju=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},qu=function(oe,t){return function(n,l){t(n,l,oe)}};const ra="data-keybinding-context";class nd{constructor(t,n){this._id=t,this._parent=n,this._value=Object.create(null),this._value._contextId=t}get value(){return Object.assign({},this._value)}setValue(t,n){return this._value[t]!==n?(this._value[t]=n,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const n=this._value[t];return typeof n=="undefined"&&this._parent?this._parent.getValue(t):n}}class Mr extends nd{constructor(){super(-1,null)}setValue(t,n){return!1}removeValue(t){return!1}getValue(t){}}Mr.INSTANCE=new Mr;class aa extends nd{constructor(t,n,l){super(t,null),this._configurationService=n,this._values=Xu.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(R=>{if(R.source===7){const W=Array.from(this._values,([te])=>te);this._values.clear(),l.fire(new fc(W))}else{const W=[];for(const te of R.affectedKeys){const ue=`config.${te}`,ke=this._values.findSuperstr(ue);ke!==void 0&&(W.push(...Nr.$.map(ke,([Be])=>Be)),this._values.deleteSuperstr(ue)),this._values.has(ue)&&(W.push(ue),this._values.delete(ue))}l.fire(new fc(W))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(aa._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const n=t.substr(aa._keyPrefix.length),l=this._configurationService.getValue(n);let R;switch(typeof l){case"number":case"boolean":case"string":R=l;break;default:Array.isArray(l)?R=JSON.stringify(l):R=l}return this._values.set(t,R),R}setValue(t,n){return super.setValue(t,n)}removeValue(t){return super.removeValue(t)}}aa._keyPrefix="config.";class eh{constructor(t,n,l){this._service=t,this._key=n,this._defaultValue=l,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class hc{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}allKeysContainedIn(t){return this.affectsSome(t)}}class fc{constructor(t){this.keys=t}affectsSome(t){for(const n of this.keys)if(t.has(n))return!0;return!1}allKeysContainedIn(t){return this.keys.every(n=>t.has(n))}}class th{constructor(t){this.events=t}affectsSome(t){for(const n of this.events)if(n.affectsSome(t))return!0;return!1}allKeysContainedIn(t){return this.events.every(n=>n.allKeysContainedIn(t))}}function ih(oe,t){return oe.allKeysContainedIn(new Set(Object.keys(t)))}class gc{constructor(t){this._onDidChangeContext=new g.K3({merge:n=>new th(n)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,n){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new eh(this,t,n)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new nh(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const n=this.getContextValuesContainer(this._myContextId);return t?t.evaluate(n):!0}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,n){if(this._isDisposed)return;const l=this.getContextValuesContainer(this._myContextId);l&&l.setValue(t,n)&&this._onDidChangeContext.fire(new hc(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new hc(t))}getContext(t){return this._isDisposed?Mr.INSTANCE:this.getContextValuesContainer(sh(t))}}let sd=class extends gc{constructor(t){super(0),this._contexts=new Map,this._toDispose=new f.SL,this._lastContextId=0;const n=new aa(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,n),this._toDispose.add(n)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?Mr.INSTANCE:this._contexts.get(t)||Mr.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const n=++this._lastContextId;return this._contexts.set(n,new nd(n,this.getContextValuesContainer(t))),n}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};sd=Ju([qu(0,ii.Ui)],sd);class nh extends gc{constructor(t,n){if(super(t.createChildContext()),this._parentChangeListener=new f.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=n,this._domNode.hasAttribute(ra)){let l="";this._domNode.classList&&(l=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${l?": "+l:""}`)}this._domNode.setAttribute(ra,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(t=>{const l=this._parent.getContextValuesContainer(this._myContextId).value;ih(t,l)||this._onDidChangeContext.fire(t)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(ra),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?Mr.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function sh(oe){for(;oe;){if(oe.hasAttribute(ra)){const t=oe.getAttribute(ra);return t?parseInt(t,10):NaN}oe=oe.parentElement}return 0}function oh(oe,t,n){oe.get(Yi.i6).createKey(String(t),rh(n))}function rh(oe){return(0,u.rs)(oe,t=>{if(typeof t=="object"&&t.$mid===1)return S.o.revive(t).toString();if(t instanceof S.o)return t.toString()})}os.P.registerCommand("_setContext",oh),os.P.registerCommand({id:"getContextKeyInfo",handler(){return[...Yi.uy.all()].sort((oe,t)=>oe.key.localeCompare(t.key))},description:{description:(0,b.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),os.P.registerCommand("_generateContextKeyInfo",function(){const oe=[],t=new Set;for(const n of Yi.uy.all())t.has(n.key)||(t.add(n.key),oe.push(n));oe.sort((n,l)=>n.key.localeCompare(l.key)),console.log(JSON.stringify(oe,void 0,2))});var Ao=i(33321);class ah{constructor(t,n){this.key=t,this.data=n,this.incoming=new Map,this.outgoing=new Map}}class mc{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(const n of this._nodes.values())n.outgoing.size===0&&t.push(n);return t}insertEdge(t,n){const l=this.lookupOrInsertNode(t),R=this.lookupOrInsertNode(n);l.outgoing.set(R.key,R),R.incoming.set(l.key,l)}removeNode(t){const n=this._hashFn(t);this._nodes.delete(n);for(const l of this._nodes.values())l.outgoing.delete(n),l.incoming.delete(n)}lookupOrInsertNode(t){const n=this._hashFn(t);let l=this._nodes.get(n);return l||(l=new ah(n,t),this._nodes.set(n,l)),l}isEmpty(){return this._nodes.size===0}toString(){const t=[];for(const[n,l]of this._nodes)t.push(`${n}
	(-> incoming)[${[...l.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...l.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(const[t,n]of this._nodes){const l=new Set([t]),R=this._findCycle(n,l);if(R)return R}}_findCycle(t,n){for(const[l,R]of t.outgoing){if(n.has(l))return[...n,l].join(" -> ");n.add(l);const W=this._findCycle(R,n);if(W)return W;n.delete(l)}}}const lh=!1;class pc extends Error{constructor(t){var n;super("cyclic dependency between services"),this.message=(n=t.findCycleSlow())!==null&&n!==void 0?n:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class $a{constructor(t=new ro.y,n=!1,l,R=lh){var W;this._services=t,this._strict=n,this._parent=l,this._enableTracing=R,this._activeInstantiations=new Set,this._services.set(_.TG,this),this._globalGraph=R?(W=l==null?void 0:l._globalGraph)!==null&&W!==void 0?W:new mc(te=>te):void 0}createChild(t){return new $a(t,this._strict,this,this._enableTracing)}invokeFunction(t,...n){const l=Is.traceInvocation(this._enableTracing,t);let R=!1;try{return t({get:te=>{if(R)throw(0,j.L6)("service accessor is only valid during the invocation of its target method");const ue=this._getOrCreateServiceInstance(te,l);if(!ue)throw new Error(`[invokeFunction] unknown service '${te}'`);return ue}},...n)}finally{R=!0,l.stop()}}createInstance(t,...n){let l,R;return t instanceof Ao.M?(l=Is.traceCreation(this._enableTracing,t.ctor),R=this._createInstance(t.ctor,t.staticArguments.concat(n),l)):(l=Is.traceCreation(this._enableTracing,t),R=this._createInstance(t,n,l)),l.stop(),R}_createInstance(t,n=[],l){const R=_.I8.getServiceDependencies(t).sort((ue,ke)=>ue.index-ke.index),W=[];for(const ue of R){const ke=this._getOrCreateServiceInstance(ue.id,l);ke||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${ue.id}.`,!1),W.push(ke)}const te=R.length>0?R[0].index:n.length;if(n.length!==te){console.trace(`[createInstance] First service dependency of ${t.name} at position ${te+1} conflicts with ${n.length} static arguments`);const ue=te-n.length;ue>0?n=n.concat(new Array(ue)):n=n.slice(0,te)}return Reflect.construct(t,n.concat(W))}_setServiceInstance(t,n){if(this._services.get(t)instanceof Ao.M)this._services.set(t,n);else if(this._parent)this._parent._setServiceInstance(t,n);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const n=this._services.get(t);return!n&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):n}_getOrCreateServiceInstance(t,n){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));const l=this._getServiceInstanceOrDescriptor(t);return l instanceof Ao.M?this._safeCreateAndCacheServiceInstance(t,l,n.branch(t,!0)):(n.branch(t,!1),l)}_safeCreateAndCacheServiceInstance(t,n,l){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,n,l)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,n,l){var R;const W=new mc(ke=>ke.id.toString());let te=0;const ue=[{id:t,desc:n,_trace:l}];for(;ue.length;){const ke=ue.pop();if(W.lookupOrInsertNode(ke),te++>1e3)throw new pc(W);for(const Be of _.I8.getServiceDependencies(ke.desc.ctor)){const Je=this._getServiceInstanceOrDescriptor(Be.id);if(Je||this._throwIfStrict(`[createInstance] ${t} depends on ${Be.id} which is NOT registered.`,!0),(R=this._globalGraph)===null||R===void 0||R.insertEdge(String(ke.id),String(Be.id)),Je instanceof Ao.M){const ht={id:Be.id,desc:Je,_trace:ke._trace.branch(Be.id,!0)};W.insertEdge(ke,ht),ue.push(ht)}}}for(;;){const ke=W.roots();if(ke.length===0){if(!W.isEmpty())throw new pc(W);break}for(const{data:Be}of ke){if(this._getServiceInstanceOrDescriptor(Be.id)instanceof Ao.M){const ht=this._createServiceInstanceWithOwner(Be.id,Be.desc.ctor,Be.desc.staticArguments,Be.desc.supportsDelayedInstantiation,Be._trace);this._setServiceInstance(Be.id,ht)}W.removeNode(Be)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,n,l=[],R,W){if(this._services.get(t)instanceof Ao.M)return this._createServiceInstance(t,n,l,R,W);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,n,l,R,W);throw new Error(`illegalState - creating UNKNOWN service instance ${n.name}`)}_createServiceInstance(t,n,l=[],R,W){if(R){const te=new $a(void 0,this._strict,this,this._enableTracing);te._globalGraphImplicitDependency=String(t);const ue=new Map,ke=new B.Ue(()=>{const Be=te._createInstance(n,l,W);for(const[Je,ht]of ue){const Ot=Be[Je];if(typeof Ot=="function")for(const Bt of ht)Ot.apply(Be,Bt)}return ue.clear(),Be});return new Proxy(Object.create(null),{get(Be,Je){if(!ke.isInitialized&&typeof Je=="string"&&(Je.startsWith("onDid")||Je.startsWith("onWill"))){let Bt=ue.get(Je);return Bt||(Bt=new ds.S,ue.set(Je,Bt)),(bi,Li,Mi)=>{const Gi=Bt.push([bi,Li,Mi]);return(0,f.OF)(Gi)}}if(Je in Be)return Be[Je];const ht=ke.value;let Ot=ht[Je];return typeof Ot!="function"||(Ot=Ot.bind(ht),Be[Je]=Ot),Ot},set(Be,Je,ht){return ke.value[Je]=ht,!0},getPrototypeOf(Be){return n.prototype}})}else return this._createInstance(n,l,W)}_throwIfStrict(t,n){if(n&&console.warn(t),this._strict)throw new Error(t)}}class Is{static traceInvocation(t,n){return t?new Is(2,n.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):Is._None}static traceCreation(t,n){return t?new Is(1,n.name):Is._None}constructor(t,n){this.type=t,this.name=n,this._start=Date.now(),this._dep=[]}branch(t,n){const l=new Is(3,t.toString());return this._dep.push([t,n,l]),l}stop(){const t=Date.now()-this._start;Is._totals+=t;let n=!1;function l(W,te){const ue=[],ke=new Array(W+1).join("	");for(const[Be,Je,ht]of te._dep)if(Je&&ht){n=!0,ue.push(`${ke}CREATES -> ${Be}`);const Ot=l(W+1,ht);Ot&&ue.push(Ot)}else ue.push(`${ke}uses -> ${Be}`);return ue.join(`
`)}const R=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${Is._totals.toFixed(2)}ms)`];(t>2||n)&&Is.all.add(R.join(`
`))}}Is.all=new Set,Is._None=new class extends Is{constructor(){super(0,null)}stop(){}branch(){return this}},Is._totals=0;const dh=new Set([In.lg.inMemory,In.lg.vscodeSourceControl,In.lg.walkThrough,In.lg.walkThroughSnippet]);class ch{constructor(){this._byResource=new Ps.Y9,this._byOwner=new Map}set(t,n,l){let R=this._byResource.get(t);R||(R=new Map,this._byResource.set(t,R)),R.set(n,l);let W=this._byOwner.get(n);W||(W=new Ps.Y9,this._byOwner.set(n,W)),W.set(t,l)}get(t,n){const l=this._byResource.get(t);return l==null?void 0:l.get(n)}delete(t,n){let l=!1,R=!1;const W=this._byResource.get(t);W&&(l=W.delete(n));const te=this._byOwner.get(n);if(te&&(R=te.delete(t)),l!==R)throw new Error("illegal state");return l&&R}values(t){var n,l,R,W;return typeof t=="string"?(l=(n=this._byOwner.get(t))===null||n===void 0?void 0:n.values())!==null&&l!==void 0?l:Nr.$.empty():S.o.isUri(t)?(W=(R=this._byResource.get(t))===null||R===void 0?void 0:R.values())!==null&&W!==void 0?W:Nr.$.empty():Nr.$.map(Nr.$.concat(...this._byOwner.values()),te=>te[1])}}class uh{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ps.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const n of t){const l=this._data.get(n);l&&this._substract(l);const R=this._resourceStats(n);this._add(R),this._data.set(n,R)}}_resourceStats(t){const n={errors:0,warnings:0,infos:0,unknowns:0};if(dh.has(t.scheme))return n;for(const{severity:l}of this._service.read({resource:t}))l===ks.ZL.Error?n.errors+=1:l===ks.ZL.Warning?n.warnings+=1:l===ks.ZL.Info?n.infos+=1:n.unknowns+=1;return n}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class ko{constructor(){this._onMarkerChanged=new g.D0({delay:0,merge:ko._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ch,this._stats=new uh(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,n){for(const l of n||[])this.changeOne(t,l,[])}changeOne(t,n,l){if((0,Ri.XY)(l))this._data.delete(n,t)&&this._onMarkerChanged.fire([n]);else{const R=[];for(const W of l){const te=ko._toMarker(t,n,W);te&&R.push(te)}this._data.set(n,t,R),this._onMarkerChanged.fire([n])}}static _toMarker(t,n,l){let{code:R,severity:W,message:te,source:ue,startLineNumber:ke,startColumn:Be,endLineNumber:Je,endColumn:ht,relatedInformation:Ot,tags:Bt}=l;if(te)return ke=ke>0?ke:1,Be=Be>0?Be:1,Je=Je>=ke?Je:ke,ht=ht>0?ht:Be,{resource:n,owner:t,code:R,severity:W,message:te,source:ue,startLineNumber:ke,startColumn:Be,endLineNumber:Je,endColumn:ht,relatedInformation:Ot,tags:Bt}}changeAll(t,n){const l=[],R=this._data.values(t);if(R)for(const W of R){const te=Nr.$.first(W);te&&(l.push(te.resource),this._data.delete(te.resource,t))}if((0,Ri.Of)(n)){const W=new Ps.Y9;for(const{resource:te,marker:ue}of n){const ke=ko._toMarker(t,te,ue);if(!ke)continue;const Be=W.get(te);Be?Be.push(ke):(W.set(te,[ke]),l.push(te))}for(const[te,ue]of W)this._data.set(te,t,ue)}l.length>0&&this._onMarkerChanged.fire(l)}read(t=Object.create(null)){let{owner:n,resource:l,severities:R,take:W}=t;if((!W||W<0)&&(W=-1),n&&l){const te=this._data.get(l,n);if(te){const ue=[];for(const ke of te)if(ko._accept(ke,R)){const Be=ue.push(ke);if(W>0&&Be===W)break}return ue}else return[]}else if(!n&&!l){const te=[];for(const ue of this._data.values())for(const ke of ue)if(ko._accept(ke,R)){const Be=te.push(ke);if(W>0&&Be===W)return te}return te}else{const te=this._data.values(l!=null?l:n),ue=[];for(const ke of te)for(const Be of ke)if(ko._accept(Be,R)){const Je=ue.push(Be);if(W>0&&Je===W)return ue}return ue}}static _accept(t,n){return n===void 0||(n&t.severity)===t.severity}static _merge(t){const n=new Ps.Y9;for(const l of t)for(const R of l)n.set(R,!0);return Array.from(n.keys())}}class hh extends f.JT{constructor(){super(...arguments),this._configurationModel=new e}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new e;const t=Sr.B.as(to.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(t),t)}updateConfigurationModel(t,n){const l=this.getConfigurationDefaultOverrides();for(const R of t){const W=l[R],te=n[R];W!==void 0?this._configurationModel.addValue(R,W):te?this._configurationModel.addValue(R,te.default):this._configurationModel.removeValue(R)}}}class fh extends f.JT{constructor(t,n=[]){super(),this.logger=new Dn.qA([t,...n]),this._register(t.onDidChangeLogLevel(l=>this.setLevel(l)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...n){this.logger.trace(t,...n)}debug(t,...n){this.logger.debug(t,...n)}info(t,...n){this.logger.info(t,...n)}error(t,...n){this.logger.error(t,...n)}}var gh=i(26163),Fo=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},cs=function(oe,t){return function(n,l){t(n,l,oe)}},Tr=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};class mh{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new g.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let od=class{constructor(t){this.modelService=t}createModelReference(t){const n=this.modelService.getModel(t);return n?Promise.resolve(new f.Jz(new mh(n))):Promise.reject(new Error("Model not found"))}};od=Fo([cs(0,L.q)],od);class Ga{show(){return Ga.NULL_PROGRESS_RUNNER}showWhile(t,n){return Tr(this,void 0,void 0,function*(){yield t})}}Ga.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ph{withProgress(t,n,l){return n({report:()=>{}})}}class vh{confirm(t){return Tr(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(t.message,t.detail),checkboxChecked:!1}})}doConfirm(t,n){let l=t;return n&&(l=l+`

`+n),window.confirm(l)}prompt(t){var n,l;return Tr(this,void 0,void 0,function*(){let R;if(this.doConfirm(t.message,t.detail)){const te=[...(n=t.buttons)!==null&&n!==void 0?n:[]];t.cancelButton&&typeof t.cancelButton!="string"&&typeof t.cancelButton!="boolean"&&te.push(t.cancelButton),R=yield(l=te[0])===null||l===void 0?void 0:l.run({checkboxChecked:!1})}return{result:R}})}error(t,n){return Tr(this,void 0,void 0,function*(){yield this.prompt({type:Ls.Z.Error,message:t,detail:n})})}}class la{info(t){return this.notify({severity:Ls.Z.Info,message:t})}warn(t){return this.notify({severity:Ls.Z.Warning,message:t})}error(t){return this.notify({severity:Ls.Z.Error,message:t})}notify(t){switch(t.severity){case Ls.Z.Error:console.error(t.message);break;case Ls.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return la.NO_OP}prompt(t,n,l,R){return la.NO_OP}status(t,n){return f.JT.None}}la.NO_OP=new Ws.EO;let rd=class{constructor(t){this._onWillExecuteCommand=new g.Q5,this._onDidExecuteCommand=new g.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...n){const l=os.P.getCommand(t);if(!l)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:n});const R=this._instantiationService.invokeFunction.apply(this._instantiationService,[l.handler,...n]);return this._onDidExecuteCommand.fire({commandId:t,args:n}),Promise.resolve(R)}catch(R){return Promise.reject(R)}}};rd=Fo([cs(0,_.TG)],rd);let Rr=class extends Qe{constructor(t,n,l,R,W,te){super(t,n,l,R,W),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const ue=Bt=>{const oi=new f.SL;oi.add(Pe.nm(Bt,Pe.tw.KEY_DOWN,bi=>{const Li=new xs.y(bi);this._dispatch(Li,Li.target)&&(Li.preventDefault(),Li.stopPropagation())})),oi.add(Pe.nm(Bt,Pe.tw.KEY_UP,bi=>{const Li=new xs.y(bi);this._singleModifierDispatch(Li,Li.target)&&Li.preventDefault()})),this._domNodeListeners.push(new _h(Bt,oi))},ke=Bt=>{for(let oi=0;oi<this._domNodeListeners.length;oi++){const bi=this._domNodeListeners[oi];bi.domNode===Bt&&(this._domNodeListeners.splice(oi,1),bi.dispose())}},Be=Bt=>{Bt.getOption(58)||ue(Bt.getContainerDomNode())},Je=Bt=>{Bt.getOption(58)||ke(Bt.getContainerDomNode())};this._register(te.onCodeEditorAdd(Be)),this._register(te.onCodeEditorRemove(Je)),te.listCodeEditors().forEach(Be);const ht=Bt=>{ue(Bt.getContainerDomNode())},Ot=Bt=>{ke(Bt.getContainerDomNode())};this._register(te.onDiffEditorAdd(ht)),this._register(te.onDiffEditorRemove(Ot)),te.listDiffEditors().forEach(ht)}addDynamicKeybinding(t,n,l,R){return(0,f.F8)(os.P.registerCommand(t,l),this.addDynamicKeybindings([{keybinding:n,command:t,when:R}]))}addDynamicKeybindings(t){const n=t.map(l=>{var R;return{keybinding:(0,To.Z9)(l.keybinding,G.OS),command:(R=l.command)!==null&&R!==void 0?R:null,commandArgs:l.commandArgs,when:l.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(n),this.updateResolver(),(0,f.OF)(()=>{for(let l=0;l<this._dynamicKeybindings.length;l++)if(this._dynamicKeybindings[l]===n[0]){this._dynamicKeybindings.splice(l,n.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(zt.W.getDefaultKeybindings(),!0),n=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new gt(t,n,l=>this._log(l))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,n){const l=[];let R=0;for(const W of t){const te=W.when||void 0,ue=W.keybinding;if(!ue)l[R++]=new Yt(void 0,W.command,W.commandArgs,te,n,null,!1);else{const ke=_i.resolveKeybinding(ue,G.OS);for(const Be of ke)l[R++]=new Yt(Be,W.command,W.commandArgs,te,n,null,!1)}}return l}resolveKeyboardEvent(t){const n=new To.$M(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return new _i([n],G.OS)}};Rr=Fo([cs(0,Yi.i6),cs(1,os.H),cs(2,Ii.b),cs(3,Ws.lT),cs(4,Dn.VZ),cs(5,m.$)],Rr);class _h extends f.JT{constructor(t,n){super(),this.domNode=t,this._register(n)}}function vc(oe){return oe&&typeof oe=="object"&&(!oe.overrideIdentifier||typeof oe.overrideIdentifier=="string")&&(!oe.resource||oe.resource instanceof S.o)}class _c{constructor(){this._onDidChangeConfiguration=new g.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const t=new hh;this._configuration=new k(t.reload(),new e,new e,new e),t.dispose()}getValue(t,n){const l=typeof t=="string"?t:void 0,R=vc(t)?t:vc(n)?n:{};return this._configuration.getValue(l,R,void 0)}updateValues(t){const n={data:this._configuration.toData()},l=[];for(const R of t){const[W,te]=R;this.getValue(W)!==te&&(this._configuration.updateValue(W,te),l.push(W))}if(l.length>0){const R=new Z({keys:l,overrides:[]},n,this._configuration);R.source=8,R.sourceConfig=null,this._onDidChangeConfiguration.fire(R)}return Promise.resolve()}updateValue(t,n,l,R){return this.updateValues([[t,n]])}inspect(t,n={}){return this._configuration.inspect(t,n,void 0)}}let ad=class{constructor(t,n,l){this.configurationService=t,this.modelService=n,this.languageService=l,this._onDidChangeConfiguration=new g.Q5,this.configurationService.onDidChangeConfiguration(R=>{this._onDidChangeConfiguration.fire({affectedKeys:R.affectedKeys,affectsConfiguration:(W,te)=>R.affectsConfiguration(te)})})}getValue(t,n,l){const R=$.L.isIPosition(n)?n:null,W=R?typeof l=="string"?l:void 0:typeof n=="string"?n:void 0,te=t?this.getLanguage(t,R):void 0;return typeof W=="undefined"?this.configurationService.getValue({resource:t,overrideIdentifier:te}):this.configurationService.getValue(W,{resource:t,overrideIdentifier:te})}getLanguage(t,n){const l=this.modelService.getModel(t);return l?n?l.getLanguageIdAtPosition(n.lineNumber,n.column):l.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(t)}};ad=Fo([cs(0,ii.Ui),cs(1,L.q),cs(2,U.O)],ad);let ld=class{constructor(t){this.configurationService=t}getEOL(t,n){const l=this.configurationService.getValue("files.eol",{overrideIdentifier:n,resource:t});return l&&typeof l=="string"&&l!=="auto"?l:G.IJ||G.dz?`
`:`\r
`}};ld=Fo([cs(0,ii.Ui)],ld);class Ch{publicLog(t,n){return Promise.resolve(void 0)}publicLog2(t,n){return this.publicLog(t,n)}}class da{constructor(){const t=S.o.from({scheme:da.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Hi.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(t){return t&&t.scheme===da.SCHEME?this.workspace.folders[0]:null}}da.SCHEME="inmemory";function Qa(oe,t,n){if(!t||!(oe instanceof _c))return;const l=[];Object.keys(t).forEach(R=>{(0,Oa.ei)(R)&&l.push([`editor.${R}`,t[R]]),n&&(0,Oa.Pe)(R)&&l.push([`diffEditor.${R}`,t[R]])}),l.length>0&&oe.updateValues(l)}let dd=class{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,n){return Tr(this,void 0,void 0,function*(){const l=Array.isArray(t)?t:Jr.fo.convert(t),R=new Map;for(const ue of l){if(!(ue instanceof Jr.Gl))throw new Error("bad edit - only text edits are supported");const ke=this._modelService.getModel(ue.resource);if(!ke)throw new Error("bad edit - model not found");if(typeof ue.versionId=="number"&&ke.getVersionId()!==ue.versionId)throw new Error("bad state - model changed in the meantime");let Be=R.get(ke);Be||(Be=[],R.set(ke,Be)),Be.push(bl.h.replaceMove(N.e.lift(ue.textEdit.range),ue.textEdit.text))}let W=0,te=0;for(const[ue,ke]of R)ue.pushStackElement(),ue.pushEditOperations([],ke,()=>[]),ue.pushStackElement(),te+=1,W+=ke.length;return{ariaSummary:s.WU(zi.iN.bulkEditServiceSummary,W,te),isApplied:W>0}})}};dd=Fo([cs(0,L.q)],dd);class bh{getUriLabel(t,n){return t.scheme==="file"?t.fsPath:t.path}getUriBasenameLabel(t){return(0,ji.EZ)(t)}}let cd=class extends ms{constructor(t,n){super(t),this._codeEditorService=n}showContextView(t,n,l){if(!n){const R=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();R&&(n=R.getContainerDomNode())}return super.showContextView(t,n,l)}};cd=Fo([cs(0,Io),cs(1,m.$)],cd);class Sh{constructor(){this._neverEmitter=new g.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class yh extends ea{constructor(){super()}}class wh extends fh{constructor(){super(new Dn.kw)}}let ud=class extends xl{constructor(t,n,l,R,W,te){super(t,n,l,R,W,te),this.configure({blockMouse:!1})}};ud=Fo([cs(0,Ii.b),cs(1,Ws.lT),cs(2,vs.u),cs(3,it.d),cs(4,ws.co),cs(5,Yi.i6)],ud);class Lh{playAudioCue(t,n){return Tr(this,void 0,void 0,function*(){})}}(0,Pn.z)(ii.Ui,_c,0),(0,Pn.z)(Zi.V,ad,0),(0,Pn.z)(Zi.y,ld,0),(0,Pn.z)(Hi.ec,da,0),(0,Pn.z)(Ai.e,bh,0),(0,Pn.z)(Ii.b,Ch,0),(0,Pn.z)(jo.S,vh,0),(0,Pn.z)(Ws.lT,la,0),(0,Pn.z)(ks.lT,ko,0),(0,Pn.z)(U.O,yh,0),(0,Pn.z)(no.Z,Gu.nI,0),(0,Pn.z)(Dn.VZ,wh,0),(0,Pn.z)(L.q,Wa,0),(0,Pn.z)(Cu.i,Pl,0),(0,Pn.z)(Yi.i6,sd,0),(0,Pn.z)(yo.R9,ph,0),(0,Pn.z)(yo.ek,Ga,0),(0,Pn.z)(za.Uy,za.vm,0),(0,Pn.z)(kr.p,We,0),(0,Pn.z)(Jr.vu,dd,0),(0,Pn.z)(xi.Y,Sh,0),(0,Pn.z)(Sl.S,od,0),(0,Pn.z)(I.F,Jl,0),(0,Pn.z)(Al.Lw,Al.XN,0),(0,Pn.z)(os.H,rd,0),(0,Pn.z)(it.d,Rr,0),(0,Pn.z)(Fs.eJ,Yl,0),(0,Pn.z)(vs.u,cd,0),(0,Pn.z)(Lr.v4,Rl,0),(0,Pn.z)(Zs.p,id,0),(0,Pn.z)(vs.i,ud,0),(0,Pn.z)(ws.co,ql,0),(0,Pn.z)(E,Lh,0);var Xi;(function(oe){const t=new ro.y;for(const[te,ue]of(0,Pn.d)())t.set(te,ue);const n=new $a(t,!0);t.set(_.TG,n);function l(te){const ue=t.get(te);if(!ue)throw new Error("Missing service "+te);return ue instanceof Ao.M?n.invokeFunction(ke=>ke.get(te)):ue}oe.get=l;let R=!1;function W(te){if(R)return n;R=!0;for(const[ke,Be]of(0,Pn.d)())t.get(ke)||t.set(ke,Be);for(const ke in te)if(te.hasOwnProperty(ke)){const Be=(0,_.yh)(ke);t.get(Be)instanceof Ao.M&&t.set(Be,te[ke])}const ue=(0,gh.n)();for(const ke of ue)try{n.createInstance(ke)}catch(Be){(0,j.dL)(Be)}return n}oe.initialize=W})(Xi||(Xi={}));var hd=function(oe,t,n,l){var R=arguments.length,W=R<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,n):l,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(oe,t,n,l);else for(var ue=oe.length-1;ue>=0;ue--)(te=oe[ue])&&(W=(R<3?te(W):R>3?te(t,n,W):te(t,n))||W);return R>3&&W&&Object.defineProperty(t,n,W),W},zn=function(oe,t){return function(n,l){t(n,l,oe)}};let Dh=0,Cc=!1;function Eh(oe){if(!oe){if(Cc)return;Cc=!0}Ee.wW(oe||document.body)}let Za=class extends Xe.Gm{constructor(t,n,l,R,W,te,ue,ke,Be,Je,ht,Ot){const Bt=Object.assign({},n);Bt.ariaLabel=Bt.ariaLabel||zi.B8.editorViewAccessibleLabel,Bt.ariaLabel=Bt.ariaLabel+";"+zi.B8.accessibilityHelpMessage,super(t,Bt,{},l,R,W,te,ke,Be,Je,ht,Ot),ue instanceof Rr?this._standaloneKeybindingService=ue:this._standaloneKeybindingService=null,Eh(Bt.ariaContainerElement)}addCommand(t,n,l){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const R="DYNAMIC_"+ ++Dh,W=Yi.Ao.deserialize(l);return this._standaloneKeybindingService.addDynamicKeybinding(R,t,n,W),R}createContextKey(t,n){return this._contextKeyService.createKey(t,n)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.JT.None;const n=t.id,l=t.label,R=Yi.Ao.and(Yi.Ao.equals("editorId",this.getId()),Yi.Ao.deserialize(t.precondition)),W=t.keybindings,te=Yi.Ao.and(R,Yi.Ao.deserialize(t.keybindingContext)),ue=t.contextMenuGroupId||null,ke=t.contextMenuOrder||0,Be=(Bt,...oi)=>Promise.resolve(t.run(this,...oi)),Je=new f.SL,ht=this.getId()+":"+n;if(Je.add(os.P.registerCommand(ht,Be)),ue){const Bt={command:{id:ht,title:l},when:R,group:ue,order:ke};Je.add(ws.BH.appendMenuItem(ws.eH.EditorContext,Bt))}if(Array.isArray(W))for(const Bt of W)Je.add(this._standaloneKeybindingService.addDynamicKeybinding(ht,Bt,Be,te));const Ot=new Yn.p(ht,l,l,R,Be,this._contextKeyService);return this._actions.set(n,Ot),Je.add((0,f.OF)(()=>{this._actions.delete(n)})),Je}_triggerCommand(t,n){if(this._codeEditorService instanceof po)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,n)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,n)}};Za=hd([zn(2,_.TG),zn(3,m.$),zn(4,os.H),zn(5,Yi.i6),zn(6,it.d),zn(7,ns.XE),zn(8,Ws.lT),zn(9,I.F),zn(10,X.c_),zn(11,Bi.p)],Za);let fd=class extends Za{constructor(t,n,l,R,W,te,ue,ke,Be,Je,ht,Ot,Bt,oi,bi){const Li=Object.assign({},n);Qa(Je,Li,!1);const Mi=ke.registerEditorContainer(t);typeof Li.theme=="string"&&ke.setTheme(Li.theme),typeof Li.autoDetectHighContrast!="undefined"&&ke.setAutoDetectHighContrast(Boolean(Li.autoDetectHighContrast));const Gi=Li.model;delete Li.model,super(t,Li,l,R,W,te,ue,ke,Be,ht,oi,bi),this._configurationService=Je,this._standaloneThemeService=ke,this._register(Mi);let Wi;if(typeof Gi=="undefined"){const Ki=Bt.getLanguageIdByMimeType(Li.language)||Li.language||es.bd;Wi=bc(Ot,Bt,Li.value||"",Ki,void 0),this._ownsModel=!0}else Wi=Gi,this._ownsModel=!1;if(this._attachModel(Wi),Wi){const Ki={oldModelUrl:null,newModelUrl:Wi.uri};this._onDidChangeModel.fire(Ki)}}dispose(){super.dispose()}updateOptions(t){Qa(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};fd=hd([zn(2,_.TG),zn(3,m.$),zn(4,os.H),zn(5,Yi.i6),zn(6,it.d),zn(7,no.Z),zn(8,Ws.lT),zn(9,ii.Ui),zn(10,I.F),zn(11,L.q),zn(12,U.O),zn(13,X.c_),zn(14,Bi.p)],fd);let gd=class extends ao{constructor(t,n,l,R,W,te,ue,ke,Be,Je,ht){const Ot=Object.assign({},n);Qa(ke,Ot,!0);const Bt=te.registerEditorContainer(t);typeof Ot.theme=="string"&&te.setTheme(Ot.theme),typeof Ot.autoDetectHighContrast!="undefined"&&te.setAutoDetectHighContrast(Boolean(Ot.autoDetectHighContrast)),super(t,Ot,{},ht,R,l,W,te,ue,Be,Je),this._configurationService=ke,this._standaloneThemeService=te,this._register(Bt)}dispose(){super.dispose()}updateOptions(t){Qa(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_createInnerEditor(t,n,l){return t.createInstance(Za,n,l)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,n,l){return this.getModifiedEditor().addCommand(t,n,l)}createContextKey(t,n){return this.getModifiedEditor().createContextKey(t,n)}addAction(t){return this.getModifiedEditor().addAction(t)}};gd=hd([zn(2,_.TG),zn(3,Yi.i6),zn(4,m.$),zn(5,no.Z),zn(6,Ws.lT),zn(7,ii.Ui),zn(8,vs.i),zn(9,yo.ek),zn(10,Zs.p)],gd);function bc(oe,t,n,l,R){if(n=n||"",!l){const W=n.indexOf(`
`);let te=n;return W!==-1&&(te=n.substring(0,W)),Sc(oe,n,t.createByFilepathOrFirstLine(R||null,te),R)}return Sc(oe,n,t.createById(l),R)}function Sc(oe,t,n,l){return oe.createModel(t,n,l)}function xh(oe,t,n){return Xi.initialize(n||{}).createInstance(fd,oe,t)}function Ih(oe){return Xi.get(m.$).onCodeEditorAdd(n=>{oe(n)})}function Nh(oe){return Xi.get(m.$).onDiffEditorAdd(n=>{oe(n)})}function Mh(){return Xi.get(m.$).listCodeEditors()}function Th(){return Xi.get(m.$).listDiffEditors()}function Rh(oe,t,n){return Xi.initialize(n||{}).createInstance(gd,oe,t)}function Oh(oe,t){return Xi.initialize({}).createInstance(Q,oe,t)}function Ph(oe){if(typeof oe.id!="string"||typeof oe.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return os.P.registerCommand(oe.id,oe.run)}function Ah(oe){if(typeof oe.id!="string"||typeof oe.label!="string"||typeof oe.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=Yi.Ao.deserialize(oe.precondition),n=(R,...W)=>mi._l.runEditorCommand(R,W,t,(te,ue,ke)=>Promise.resolve(oe.run(ue,...ke))),l=new f.SL;if(l.add(os.P.registerCommand(oe.id,n)),oe.contextMenuGroupId){const R={command:{id:oe.id,title:oe.label},when:t,group:oe.contextMenuGroupId,order:oe.contextMenuOrder||0};l.add(ws.BH.appendMenuItem(ws.eH.EditorContext,R))}if(Array.isArray(oe.keybindings)){const R=Xi.get(it.d);if(!(R instanceof Rr))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const W=Yi.Ao.and(t,Yi.Ao.deserialize(oe.keybindingContext));l.add(R.addDynamicKeybindings(oe.keybindings.map(te=>({keybinding:te,command:oe.id,when:W}))))}}return l}function kh(oe){return yc([oe])}function yc(oe){const t=Xi.get(it.d);return t instanceof Rr?t.addDynamicKeybindings(oe.map(n=>({keybinding:n.keybinding,command:n.command,commandArgs:n.commandArgs,when:Yi.Ao.deserialize(n.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.JT.None)}function Fh(oe,t,n){const l=Xi.get(U.O),R=l.getLanguageIdByMimeType(t)||t;return bc(Xi.get(L.q),l,oe,R,n)}function Bh(oe,t){const n=Xi.get(U.O),l=Xi.get(L.q),R=n.getLanguageIdByMimeType(t)||t||es.bd;l.setMode(oe,n.createById(R))}function Wh(oe,t,n){oe&&Xi.get(ks.lT).changeOne(t,oe.uri,n)}function Vh(oe){Xi.get(ks.lT).changeAll(oe,[])}function Hh(oe){return Xi.get(ks.lT).read(oe)}function Uh(oe){return Xi.get(ks.lT).onMarkerChanged(oe)}function zh(oe){return Xi.get(L.q).getModel(oe)}function jh(){return Xi.get(L.q).getModels()}function Kh(oe){return Xi.get(L.q).onModelAdded(oe)}function $h(oe){return Xi.get(L.q).onModelRemoved(oe)}function Gh(oe){return Xi.get(L.q).onModelLanguageChanged(n=>{oe({model:n.model,oldLanguage:n.oldLanguageId})})}function Qh(oe){return Jt(Xi.get(L.q),Xi.get(X.c_),oe)}function Zh(oe,t){const n=Xi.get(U.O),l=Xi.get(no.Z);return l.registerEditorContainer(oe),yt.colorizeElement(l,n,oe,t)}function Yh(oe,t,n){const l=Xi.get(U.O);return Xi.get(no.Z).registerEditorContainer(document.body),yt.colorize(l,oe,t,n)}function Xh(oe,t,n=4){return Xi.get(no.Z).registerEditorContainer(document.body),yt.colorizeModelLine(oe,t,n)}function Jh(oe){const t=O.RW.get(oe);return t||{getInitialState:()=>q.TJ,tokenize:(n,l,R)=>(0,q.Ri)(oe,R)}}function qh(oe,t){O.RW.getOrCreate(t);const n=Jh(t),l=(0,s.uq)(oe),R=[];let W=n.getInitialState();for(let te=0,ue=l.length;te<ue;te++){const ke=l[te],Be=n.tokenize(ke,!0,W);R[te]=Be.tokens,W=Be.endState}return R}function ef(oe,t){Xi.get(no.Z).defineTheme(oe,t)}function tf(oe){Xi.get(no.Z).setTheme(oe)}function nf(){r.g.clearAllFontInfos()}function sf(oe,t){return os.P.registerCommand({id:oe,handler:t})}function of(){return{create:xh,getEditors:Mh,getDiffEditors:Th,onDidCreateEditor:Ih,onDidCreateDiffEditor:Nh,createDiffEditor:Rh,createDiffNavigator:Oh,addCommand:Ph,addEditorAction:Ah,addKeybindingRule:kh,addKeybindingRules:yc,createModel:Fh,setModelLanguage:Bh,setModelMarkers:Wh,getModelMarkers:Hh,removeAllMarkers:Vh,onDidChangeMarkers:Uh,getModels:jh,getModel:zh,onDidCreateModel:Kh,onWillDisposeModel:$h,onDidChangeModelLanguage:Gh,createWebWorker:Qh,colorizeElement:Zh,colorize:Yh,colorizeModelLine:Xh,tokenize:qh,defineTheme:ef,setTheme:tf,remeasureFonts:nf,registerCommand:sf,AccessibilitySupport:p.ao,ContentWidgetPositionPreference:p.r3,CursorChangeReason:p.Vi,DefaultEndOfLine:p._x,EditorAutoIndentStrategy:p.rf,EditorOption:p.wT,EndOfLinePreference:p.gm,EndOfLineSequence:p.jl,MinimapPosition:p.F5,MouseTargetType:p.MG,OverlayWidgetPositionPreference:p.E$,OverviewRulerLane:p.sh,RenderLineNumbersType:p.Lu,RenderMinimap:p.vQ,ScrollbarVisibility:p.g_,ScrollType:p.g4,TextEditorCursorBlinkingStyle:p.In,TextEditorCursorStyle:p.d2,TrackedRangeStickiness:p.OI,WrappingIndent:p.up,InjectedTextCursorStops:p.RM,PositionAffinity:p.py,ConfigurationChangedEvent:c.Bb,BareFontInfo:Y.E4,FontInfo:Y.pR,TextModelResolvedOptions:P.dJ,FindMatch:P.tk,ApplyUpdateResult:c.rk,LineRange:Ze,LineRangeMapping:Ft,RangeMapping:Et,EditorType:H.g,EditorOptions:c.BH}}function rf(oe,t){if(!t||!Array.isArray(t))return!1;for(const n of t)if(!oe(n))return!1;return!0}function Ya(oe,t){return typeof oe=="boolean"?oe:t}function wc(oe,t){return typeof oe=="string"?oe:t}function af(oe){const t={};for(const n of oe)t[n]=!0;return t}function Lc(oe,t=!1){t&&(oe=oe.map(function(l){return l.toLowerCase()}));const n=af(oe);return t?function(l){return n[l.toLowerCase()]!==void 0&&n.hasOwnProperty(l.toLowerCase())}:function(l){return n[l]!==void 0&&n.hasOwnProperty(l)}}function md(oe,t){t=t.replace(/@@/g,"");let n=0,l;do l=!1,t=t.replace(/@(\w+)/g,function(W,te){l=!0;let ue="";if(typeof oe[te]=="string")ue=oe[te];else if(oe[te]&&oe[te]instanceof RegExp)ue=oe[te].source;else throw oe[te]===void 0?mn(oe,"language definition does not contain attribute '"+te+"', used at: "+t):mn(oe,"attribute reference '"+te+"' must be a string, used at: "+t);return cn(ue)?"":"(?:"+ue+")"}),n++;while(l&&n<5);t=t.replace(/\x01/g,"@");const R=(oe.ignoreCase?"i":"")+(oe.unicode?"u":"");return new RegExp(t,R)}function lf(oe,t,n,l){if(l<0)return oe;if(l<t.length)return t[l];if(l>=100){l=l-100;const R=n.split(".");if(R.unshift(n),l<R.length)return R[l]}return null}function df(oe,t,n,l){let R=-1,W=n,te=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);te&&(te[3]&&(R=parseInt(te[3]),te[2]&&(R=R+100)),W=te[4]);let ue="~",ke=W;!W||W.length===0?(ue="!=",ke=""):/^\w*$/.test(ke)?ue="==":(te=W.match(/^(@|!@|~|!~|==|!=)(.*)$/),te&&(ue=te[1],ke=te[2]));let Be;if((ue==="~"||ue==="!~")&&/^(\w|\|)*$/.test(ke)){const Je=Lc(ke.split("|"),oe.ignoreCase);Be=function(ht){return ue==="~"?Je(ht):!Je(ht)}}else if(ue==="@"||ue==="!@"){const Je=oe[ke];if(!Je)throw mn(oe,"the @ match target '"+ke+"' is not defined, in rule: "+t);if(!rf(function(Ot){return typeof Ot=="string"},Je))throw mn(oe,"the @ match target '"+ke+"' must be an array of strings, in rule: "+t);const ht=Lc(Je,oe.ignoreCase);Be=function(Ot){return ue==="@"?ht(Ot):!ht(Ot)}}else if(ue==="~"||ue==="!~")if(ke.indexOf("$")<0){const Je=md(oe,"^"+ke+"$");Be=function(ht){return ue==="~"?Je.test(ht):!Je.test(ht)}}else Be=function(Je,ht,Ot,Bt){return md(oe,"^"+Xn(oe,ke,ht,Ot,Bt)+"$").test(Je)};else if(ke.indexOf("$")<0){const Je=En(oe,ke);Be=function(ht){return ue==="=="?ht===Je:ht!==Je}}else{const Je=En(oe,ke);Be=function(ht,Ot,Bt,oi,bi){const Li=Xn(oe,Je,Ot,Bt,oi);return ue==="=="?ht===Li:ht!==Li}}return R===-1?{name:n,value:l,test:function(Je,ht,Ot,Bt){return Be(Je,Je,ht,Ot,Bt)}}:{name:n,value:l,test:function(Je,ht,Ot,Bt){const oi=lf(Je,ht,Ot,R);return Be(oi||"",Je,ht,Ot,Bt)}}}function pd(oe,t,n){if(n){if(typeof n=="string")return n;if(n.token||n.token===""){if(typeof n.token!="string")throw mn(oe,"a 'token' attribute must be of type string, in rule: "+t);{const l={token:n.token};if(n.token.indexOf("$")>=0&&(l.tokenSubst=!0),typeof n.bracket=="string")if(n.bracket==="@open")l.bracket=1;else if(n.bracket==="@close")l.bracket=-1;else throw mn(oe,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(n.next){if(typeof n.next!="string")throw mn(oe,"the next state must be a string value in rule: "+t);{let R=n.next;if(!/^(@pop|@push|@popall)$/.test(R)&&(R[0]==="@"&&(R=R.substr(1)),R.indexOf("$")<0&&!qi(oe,Xn(oe,R,"",[],""))))throw mn(oe,"the next state '"+n.next+"' is not defined in rule: "+t);l.next=R}}return typeof n.goBack=="number"&&(l.goBack=n.goBack),typeof n.switchTo=="string"&&(l.switchTo=n.switchTo),typeof n.log=="string"&&(l.log=n.log),typeof n.nextEmbedded=="string"&&(l.nextEmbedded=n.nextEmbedded,oe.usesEmbedded=!0),l}}else if(Array.isArray(n)){const l=[];for(let R=0,W=n.length;R<W;R++)l[R]=pd(oe,t,n[R]);return{group:l}}else if(n.cases){const l=[];for(const W in n.cases)if(n.cases.hasOwnProperty(W)){const te=pd(oe,t,n.cases[W]);W==="@default"||W==="@"||W===""?l.push({test:void 0,value:te,name:W}):W==="@eos"?l.push({test:function(ue,ke,Be,Je){return Je},value:te,name:W}):l.push(df(oe,t,W,te))}const R=oe.defaultToken;return{test:function(W,te,ue,ke){for(const Be of l)if(!Be.test||Be.test(W,te,ue,ke))return Be.value;return R}}}else throw mn(oe,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class cf{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,n){let l;if(typeof n=="string")l=n;else if(n instanceof RegExp)l=n.source;else throw mn(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=l.length>0&&l[0]==="^",this.name=this.name+": "+l,this.regex=md(t,"^(?:"+(this.matchOnlyAtLineStart?l.substr(1):l)+")")}setAction(t,n){this.action=pd(t,this.name,n)}}function Dc(oe,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");const n={};n.languageId=oe,n.includeLF=Ya(t.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start=typeof t.start=="string"?t.start:null,n.ignoreCase=Ya(t.ignoreCase,!1),n.unicode=Ya(t.unicode,!1),n.tokenPostfix=wc(t.tokenPostfix,"."+n.languageId),n.defaultToken=wc(t.defaultToken,"source"),n.usesEmbedded=!1;const l=t;l.languageId=oe,l.includeLF=n.includeLF,l.ignoreCase=n.ignoreCase,l.unicode=n.unicode,l.noThrow=n.noThrow,l.usesEmbedded=n.usesEmbedded,l.stateNames=t.tokenizer,l.defaultToken=n.defaultToken;function R(te,ue,ke){for(const Be of ke){let Je=Be.include;if(Je){if(typeof Je!="string")throw mn(n,"an 'include' attribute must be a string at: "+te);if(Je[0]==="@"&&(Je=Je.substr(1)),!t.tokenizer[Je])throw mn(n,"include target '"+Je+"' is not defined at: "+te);R(te+"."+Je,ue,t.tokenizer[Je])}else{const ht=new cf(te);if(Array.isArray(Be)&&Be.length>=1&&Be.length<=3)if(ht.setRegex(l,Be[0]),Be.length>=3)if(typeof Be[1]=="string")ht.setAction(l,{token:Be[1],next:Be[2]});else if(typeof Be[1]=="object"){const Ot=Be[1];Ot.next=Be[2],ht.setAction(l,Ot)}else throw mn(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+te);else ht.setAction(l,Be[1]);else{if(!Be.regex)throw mn(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+te);Be.name&&typeof Be.name=="string"&&(ht.name=Be.name),Be.matchOnlyAtStart&&(ht.matchOnlyAtLineStart=Ya(Be.matchOnlyAtLineStart,!1)),ht.setRegex(l,Be.regex),ht.setAction(l,Be.action)}ue.push(ht)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw mn(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(const te in t.tokenizer)if(t.tokenizer.hasOwnProperty(te)){n.start||(n.start=te);const ue=t.tokenizer[te];n.tokenizer[te]=new Array,R("tokenizer."+te,n.tokenizer[te],ue)}if(n.usesEmbedded=l.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw mn(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const W=[];for(const te of t.brackets){let ue=te;if(ue&&Array.isArray(ue)&&ue.length===3&&(ue={token:ue[2],open:ue[0],close:ue[1]}),ue.open===ue.close)throw mn(n,"open and close brackets in a 'brackets' attribute must be different: "+ue.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof ue.open=="string"&&typeof ue.token=="string"&&typeof ue.close=="string")W.push({token:ue.token+n.tokenPostfix,open:En(n,ue.open),close:En(n,ue.close)});else throw mn(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return n.brackets=W,n.noThrow=!0,n}var uf=function(oe,t,n,l){function R(W){return W instanceof n?W:new n(function(te){te(W)})}return new(n||(n=Promise))(function(W,te){function ue(Je){try{Be(l.next(Je))}catch(ht){te(ht)}}function ke(Je){try{Be(l.throw(Je))}catch(ht){te(ht)}}function Be(Je){Je.done?W(Je.value):R(Je.value).then(ue,ke)}Be((l=l.apply(oe,t||[])).next())})};function hf(oe){es.dQ.registerLanguage(oe)}function ff(){let oe=[];return oe=oe.concat(es.dQ.getLanguages()),oe}function gf(oe){return Xi.get(U.O).languageIdCodec.encodeLanguageId(oe)}function mf(oe,t){const l=Xi.get(U.O).onDidEncounterLanguage(R=>{R===oe&&(l.dispose(),t())});return l}function pf(oe,t){if(!Xi.get(U.O).isRegisteredLanguageId(oe))throw new Error(`Cannot set configuration for unknown language ${oe}`);return Xi.get(X.c_).register(oe,t,100)}class vf{constructor(t,n){this._languageId=t,this._actual=n}getInitialState(){return this._actual.getInitialState()}tokenize(t,n,l){if(typeof this._actual.tokenize=="function")return ca.adaptTokenize(this._languageId,this._actual,t,l);throw new Error("Not supported!")}tokenizeEncoded(t,n,l){const R=this._actual.tokenizeEncoded(t,l);return new O.DI(R.tokens,R.endState)}}class ca{constructor(t,n,l,R){this._languageId=t,this._actual=n,this._languageService=l,this._standaloneThemeService=R}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,n){const l=[];let R=0;for(let W=0,te=t.length;W<te;W++){const ue=t[W];let ke=ue.startIndex;W===0?ke=0:ke<R&&(ke=R),l[W]=new O.WU(ke,ue.scopes,n),R=ke}return l}static adaptTokenize(t,n,l,R){const W=n.tokenize(l,R),te=ca._toClassicTokens(W.tokens,t);let ue;return W.endState.equals(R)?ue=R:ue=W.endState,new O.hG(te,ue)}tokenize(t,n,l){return ca.adaptTokenize(this._languageId,this._actual,t,l)}_toBinaryTokens(t,n){const l=t.encodeLanguageId(this._languageId),R=this._standaloneThemeService.getColorTheme().tokenTheme,W=[];let te=0,ue=0;for(let Be=0,Je=n.length;Be<Je;Be++){const ht=n[Be],Ot=R.match(l,ht.scopes);if(te>0&&W[te-1]===Ot)continue;let Bt=ht.startIndex;Be===0?Bt=0:Bt<ue&&(Bt=ue),W[te++]=Bt,W[te++]=Ot,ue=Bt}const ke=new Uint32Array(te);for(let Be=0;Be<te;Be++)ke[Be]=W[Be];return ke}tokenizeEncoded(t,n,l){const R=this._actual.tokenize(t,l),W=this._toBinaryTokens(this._languageService.languageIdCodec,R.tokens);let te;return R.endState.equals(l)?te=l:te=R.endState,new O.DI(W,te)}}function _f(oe){return typeof oe.getInitialState=="function"}function Cf(oe){return"tokenizeEncoded"in oe}function Ec(oe){return oe&&typeof oe.then=="function"}function bf(oe){const t=Xi.get(no.Z);if(oe){const n=[null];for(let l=1,R=oe.length;l<R;l++)n[l]=Bl.Il.fromHex(oe[l]);t.setColorMapOverride(n)}else t.setColorMapOverride(null)}function xc(oe,t){return Cf(t)?new vf(oe,t):new ca(oe,t,Xi.get(U.O),Xi.get(no.Z))}function vd(oe,t){const n={createTokenizationSupport:()=>uf(this,void 0,void 0,function*(){const l=yield Promise.resolve(t.create());return l?_f(l)?xc(oe,l):new ee(Xi.get(U.O),Xi.get(no.Z),oe,Dc(oe,l),Xi.get(ii.Ui)):null})};return O.RW.registerFactory(oe,n)}function Sf(oe,t){if(!Xi.get(U.O).isRegisteredLanguageId(oe))throw new Error(`Cannot set tokens provider for unknown language ${oe}`);return Ec(t)?vd(oe,{create:()=>t}):O.RW.register(oe,xc(oe,t))}function yf(oe,t){const n=l=>new ee(Xi.get(U.O),Xi.get(no.Z),oe,Dc(oe,l),Xi.get(ii.Ui));return Ec(t)?vd(oe,{create:()=>t}):O.RW.register(oe,n(t))}function wf(oe,t){return Xi.get(Bi.p).referenceProvider.register(oe,t)}function Lf(oe,t){return Xi.get(Bi.p).renameProvider.register(oe,t)}function Df(oe,t){return Xi.get(Bi.p).signatureHelpProvider.register(oe,t)}function Ef(oe,t){return Xi.get(Bi.p).hoverProvider.register(oe,{provideHover:(l,R,W)=>{const te=l.getWordAtPosition(R);return Promise.resolve(t.provideHover(l,R,W)).then(ue=>{if(ue)return!ue.range&&te&&(ue.range=new N.e(R.lineNumber,te.startColumn,R.lineNumber,te.endColumn)),ue.range||(ue.range=new N.e(R.lineNumber,R.column,R.lineNumber,R.column)),ue})}})}function xf(oe,t){return Xi.get(Bi.p).documentSymbolProvider.register(oe,t)}function If(oe,t){return Xi.get(Bi.p).documentHighlightProvider.register(oe,t)}function Nf(oe,t){return Xi.get(Bi.p).linkedEditingRangeProvider.register(oe,t)}function Mf(oe,t){return Xi.get(Bi.p).definitionProvider.register(oe,t)}function Tf(oe,t){return Xi.get(Bi.p).implementationProvider.register(oe,t)}function Rf(oe,t){return Xi.get(Bi.p).typeDefinitionProvider.register(oe,t)}function Of(oe,t){return Xi.get(Bi.p).codeLensProvider.register(oe,t)}function Pf(oe,t,n){return Xi.get(Bi.p).codeActionProvider.register(oe,{providedCodeActionKinds:n==null?void 0:n.providedCodeActionKinds,documentation:n==null?void 0:n.documentation,provideCodeActions:(R,W,te,ue)=>{const Be=Xi.get(ks.lT).read({resource:R.uri}).filter(Je=>N.e.areIntersectingOrTouching(Je,W));return t.provideCodeActions(R,W,{markers:Be,only:te.only,trigger:te.trigger},ue)},resolveCodeAction:t.resolveCodeAction})}function Af(oe,t){return Xi.get(Bi.p).documentFormattingEditProvider.register(oe,t)}function kf(oe,t){return Xi.get(Bi.p).documentRangeFormattingEditProvider.register(oe,t)}function Ff(oe,t){return Xi.get(Bi.p).onTypeFormattingEditProvider.register(oe,t)}function Bf(oe,t){return Xi.get(Bi.p).linkProvider.register(oe,t)}function Wf(oe,t){return Xi.get(Bi.p).completionProvider.register(oe,t)}function Vf(oe,t){return Xi.get(Bi.p).colorProvider.register(oe,t)}function Hf(oe,t){return Xi.get(Bi.p).foldingRangeProvider.register(oe,t)}function Uf(oe,t){return Xi.get(Bi.p).declarationProvider.register(oe,t)}function zf(oe,t){return Xi.get(Bi.p).selectionRangeProvider.register(oe,t)}function jf(oe,t){return Xi.get(Bi.p).documentSemanticTokensProvider.register(oe,t)}function Kf(oe,t){return Xi.get(Bi.p).documentRangeSemanticTokensProvider.register(oe,t)}function $f(oe,t){return Xi.get(Bi.p).inlineCompletionsProvider.register(oe,t)}function Gf(oe,t){return Xi.get(Bi.p).inlayHintsProvider.register(oe,t)}function Qf(){return{register:hf,getLanguages:ff,onLanguage:mf,getEncodedLanguageId:gf,setLanguageConfiguration:pf,setColorMap:bf,registerTokensProviderFactory:vd,setTokensProvider:Sf,setMonarchTokensProvider:yf,registerReferenceProvider:wf,registerRenameProvider:Lf,registerCompletionItemProvider:Wf,registerSignatureHelpProvider:Df,registerHoverProvider:Ef,registerDocumentSymbolProvider:xf,registerDocumentHighlightProvider:If,registerLinkedEditingRangeProvider:Nf,registerDefinitionProvider:Mf,registerImplementationProvider:Tf,registerTypeDefinitionProvider:Rf,registerCodeLensProvider:Of,registerCodeActionProvider:Pf,registerDocumentFormattingEditProvider:Af,registerDocumentRangeFormattingEditProvider:kf,registerOnTypeFormattingEditProvider:Ff,registerLinkProvider:Bf,registerColorProvider:Vf,registerFoldingRangeProvider:Hf,registerDeclarationProvider:Uf,registerSelectionRangeProvider:zf,registerDocumentSemanticTokensProvider:jf,registerDocumentRangeSemanticTokensProvider:Kf,registerInlineCompletionsProvider:$f,registerInlayHintsProvider:Gf,DocumentHighlightKind:p.MY,CompletionItemKind:p.cm,CompletionItemTag:p.we,CompletionItemInsertTextRule:p.a7,SymbolKind:p.cR,SymbolTag:p.r4,IndentAction:p.wU,CompletionTriggerKind:p.Ij,SignatureHelpTriggerKind:p.WW,InlayHintKind:p.gl,InlineCompletionTriggerKind:p.bw,CodeActionTriggerType:p.np,FoldingRangeKind:O.AD}}var Zf=i(97113),_d;c.BH.wrappingIndent.defaultValue=0,c.BH.glyphMargin.defaultValue=!1,c.BH.autoIndent.defaultValue=3,c.BH.overviewRulerLanes.defaultValue=2,Zf.xC.setFormatterSelector((oe,t,n)=>Promise.resolve(oe[0]));const Ds=d();Ds.editor=of(),Ds.languages=Qf();const Yf=Ds.CancellationTokenSource,Xf=Ds.Emitter,Jf=Ds.KeyCode,qf=Ds.KeyMod,eg=Ds.Position,tg=Ds.Range,ig=Ds.Selection,ng=Ds.SelectionDirection,sg=Ds.MarkerSeverity,og=Ds.MarkerTag,rg=Ds.Uri,ag=Ds.Token,lg=Ds.editor,dg=Ds.languages;(!((_d=G.li.MonacoEnvironment)===null||_d===void 0)&&_d.globalAPI||typeof define=="function"&&i.amdO)&&(self.monaco=Ds),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},86112:function(vt,be,i){"use strict";i.r(be);var c=i(16563),F=i(56693),g=i(42683),A=i(26017),S=i(89021),$=i(52357),N=i(41420),x=i(30613),O=i(39508),p=i(98981),a=i(73805),d=i(71450),f=i(23286),s=i(64700),r=i(22437),m=i(20009),C=i(7631),u=function(K,z,Q,Y){var H=arguments.length,P=H<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,Q):Y,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(K,z,Q,Y);else for(var q=K.length-1;q>=0;q--)(X=K[q])&&(P=(H<3?X(P):H>3?X(z,Q,P):X(z,Q))||P);return H>3&&P&&Object.defineProperty(z,Q,P),P},_=function(K,z){return function(Q,Y){z(Q,Y,K)}};const b=new f.uy("accessibilityHelpWidgetVisible",!1);let E=class nu extends $.JT{static get(z){return z.getContribution(nu.ID)}constructor(z,Q){super(),this._editor=z,this._widget=this._register(Q.createInstance(w,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};E.ID="editor.contrib.accessibilityHelpController",E=u([_(1,s.TG)],E);function D(K,z){return!K||K.length===0?C.Oe.noSelection:K.length===1?z?x.WU(C.Oe.singleSelectionRange,K[0].positionLineNumber,K[0].positionColumn,z):x.WU(C.Oe.singleSelection,K[0].positionLineNumber,K[0].positionColumn):z?x.WU(C.Oe.multiSelectionRange,K.length,z):K.length>0?x.WU(C.Oe.multiSelection,K.length):""}let w=class sl extends S.${constructor(z,Q,Y,H){super(),this._contextKeyService=Q,this._keybindingService=Y,this._openerService=H,this._editor=z,this._isVisibleKey=b.bindTo(this._contextKeyService),this._domNode=(0,F.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,F.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(c.mu(this._contentDomNode.domNode,"keydown",P=>{if(this._isVisible&&(P.equals(2083)&&((0,A.Z9)(C.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),c.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2086))){(0,A.Z9)(C.Oe.openingDocs);let X=this._editor.getRawOptions().accessibilityHelpUrl;typeof X=="undefined"&&(X="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(O.o.parse(X)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return sl.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(z,Q,Y){const H=this._keybindingService.lookupKeybinding(z);return H?x.WU(Q,H.getAriaLabel()):x.WU(Y,z)}_buildContent(){const z=this._editor.getOptions(),Q=this._editor.getSelections();let Y=0;if(Q){const q=this._editor.getModel();q&&Q.forEach(U=>{Y+=q.getValueLengthInRange(U)})}let H=D(Q,Y);z.get(58)?z.get(86)?H+=C.Oe.readonlyDiffEditor:H+=C.Oe.editableDiffEditor:z.get(86)?H+=C.Oe.readonlyEditor:H+=C.Oe.editableEditor;const P=N.dz?C.Oe.changeConfigToOnMac:C.Oe.changeConfigToOnWinLinux;switch(z.get(2)){case 0:H+=`

 - `+P;break;case 2:H+=`

 - `+C.Oe.auto_on;break;case 1:H+=`

 - `+C.Oe.auto_off,H+=" "+P;break}z.get(137)?H+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,C.Oe.tabFocusModeOnMsg,C.Oe.tabFocusModeOnMsgNoKb):H+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,C.Oe.tabFocusModeOffMsg,C.Oe.tabFocusModeOffMsgNoKb);const X=N.dz?C.Oe.openDocMac:C.Oe.openDocWinLinux;H+=`

 - `+X,H+=`

`+C.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,g.BO)(H)),this._contentDomNode.domNode.setAttribute("aria-label",H)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,c.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const z=this._editor.getLayoutInfo(),Q=Math.max(5,Math.min(sl.WIDTH,z.width-40)),Y=Math.max(5,Math.min(sl.HEIGHT,z.height-40));this._domNode.setWidth(Q),this._domNode.setHeight(Y);const H=Math.round((z.height-Y)/2);this._domNode.setTop(H);const P=Math.round((z.width-Q)/2);this._domNode.setLeft(P)}};w.ID="editor.contrib.accessibilityHelpWidget",w.WIDTH=500,w.HEIGHT=300,w=u([_(1,f.i6),_(2,r.d),_(3,m.v4)],w);class I extends p.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:C.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(z,Q){const Y=E.get(Q);Y==null||Y.show()}}(0,p._K)(E.ID,E,4),(0,p.Qr)(I);const M=p._l.bindToContribution(E.get);(0,p.fK)(new M({id:"closeAccessibilityHelp",precondition:b,handler:K=>K.hide(),kbOpts:{weight:100+100,kbExpr:a.u.focus,primary:9,secondary:[1033]}}))},33474:function(vt,be,i){"use strict";i.r(be),i.d(be,{IPadShowKeyboard:function(){return S}});var c=i(16563),F=i(52357),g=i(98981),A=i(41420);class S extends F.JT{constructor(x){super(),this.editor=x,this.widget=null,A.gn&&(this._register(x.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const x=!this.editor.getOption(86);!this.widget&&x?this.widget=new $(this.editor):this.widget&&!x&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}S.ID="editor.contrib.iPadShowKeyboard";class $ extends F.JT{constructor(x){super(),this.editor=x,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(c.nm(this._domNode,"touchstart",O=>{this.editor.focus()})),this._register(c.nm(this._domNode,"focus",O=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return $.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}$.ID="editor.contrib.ShowKeyboardWidget",(0,g._K)(S.ID,S,3)},99660:function(vt,be,i){"use strict";i.r(be);var c=i(16563),F=i(87799),g=i(52357),A=i(98981),S=i(33686),$=i(58848),N=i(82652),x=i(18426),O=i(38665),p=i(7631),a=function(u,_,b,E){var D=arguments.length,w=D<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,b):E,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,_,b,E);else for(var M=u.length-1;M>=0;M--)(I=u[M])&&(w=(D<3?I(w):D>3?I(_,b,w):I(_,b))||w);return D>3&&w&&Object.defineProperty(_,b,w),w},d=function(u,_){return function(b,E){_(b,E,u)}};let f=class su extends g.JT{static get(_){return _.getContribution(su.ID)}constructor(_,b,E){super(),this._editor=_,this._languageService=E,this._widget=null,this._register(this._editor.onDidChangeModel(D=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(D=>this.stop())),this._register(S.RW.onDidChange(D=>this.stop())),this._register(this._editor.onKeyUp(D=>D.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new C(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};f.ID="editor.contrib.inspectTokens",f=a([d(1,O.Z),d(2,x.O)],f);class s extends A.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(_,b){const E=f.get(b);E==null||E.launch()}}function r(u){let _="";for(let b=0,E=u.length;b<E;b++){const D=u.charCodeAt(b);switch(D){case 9:_+="\u2192";break;case 32:_+="\xB7";break;default:_+=String.fromCharCode(D)}}return _}function m(u,_){const b=S.RW.get(_);if(b)return b;const E=u.encodeLanguageId(_);return{getInitialState:()=>N.TJ,tokenize:(D,w,I)=>(0,N.Ri)(_,I),tokenizeEncoded:(D,w,I)=>(0,N.Dy)(E,I)}}class C extends g.JT{constructor(_,b){super(),this.allowEditorOverflow=!0,this._editor=_,this._languageService=b,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=m(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(E=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return C._ID}_compute(_){const b=this._getTokensAtLine(_.lineNumber);let E=0;for(let K=b.tokens1.length-1;K>=0;K--){const z=b.tokens1[K];if(_.column-1>=z.offset){E=K;break}}let D=0;for(let K=b.tokens2.length>>>1;K>=0;K--)if(_.column-1>=b.tokens2[K<<1]){D=K;break}const w=this._model.getLineContent(_.lineNumber);let I="";if(E<b.tokens1.length){const K=b.tokens1[E].offset,z=E+1<b.tokens1.length?b.tokens1[E+1].offset:w.length;I=w.substring(K,z)}(0,c.mc)(this._domNode,(0,c.$)("h2.tm-token",void 0,r(I),(0,c.$)("span.tm-token-length",void 0,`${I.length} ${I.length===1?"char":"chars"}`))),(0,c.R3)(this._domNode,(0,c.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const M=(D<<1)+1<b.tokens2.length?this._decodeMetadata(b.tokens2[(D<<1)+1]):null;(0,c.R3)(this._domNode,(0,c.$)("table.tm-metadata-table",void 0,(0,c.$)("tbody",void 0,(0,c.$)("tr",void 0,(0,c.$)("td.tm-metadata-key",void 0,"language"),(0,c.$)("td.tm-metadata-value",void 0,`${M?M.languageId:"-?-"}`)),(0,c.$)("tr",void 0,(0,c.$)("td.tm-metadata-key",void 0,"token type"),(0,c.$)("td.tm-metadata-value",void 0,`${M?this._tokenTypeToString(M.tokenType):"-?-"}`)),(0,c.$)("tr",void 0,(0,c.$)("td.tm-metadata-key",void 0,"font style"),(0,c.$)("td.tm-metadata-value",void 0,`${M?this._fontStyleToString(M.fontStyle):"-?-"}`)),(0,c.$)("tr",void 0,(0,c.$)("td.tm-metadata-key",void 0,"foreground"),(0,c.$)("td.tm-metadata-value",void 0,`${M?F.Il.Format.CSS.formatHex(M.foreground):"-?-"}`)),(0,c.$)("tr",void 0,(0,c.$)("td.tm-metadata-key",void 0,"background"),(0,c.$)("td.tm-metadata-value",void 0,`${M?F.Il.Format.CSS.formatHex(M.background):"-?-"}`))))),(0,c.R3)(this._domNode,(0,c.$)("hr.tokens-inspect-separator")),E<b.tokens1.length&&(0,c.R3)(this._domNode,(0,c.$)("span.tm-token-type",void 0,b.tokens1[E].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(_){const b=S.RW.getColorMap(),E=$.N.getLanguageId(_),D=$.N.getTokenType(_),w=$.N.getFontStyle(_),I=$.N.getForeground(_),M=$.N.getBackground(_);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(E),tokenType:D,fontStyle:w,foreground:b[I],background:b[M]}}_tokenTypeToString(_){switch(_){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(_){let b="";return _&1&&(b+="italic "),_&2&&(b+="bold "),_&4&&(b+="underline "),_&8&&(b+="strikethrough "),b.length===0&&(b="---"),b}_getTokensAtLine(_){const b=this._getStateBeforeLine(_),E=this._tokenizationSupport.tokenize(this._model.getLineContent(_),!0,b),D=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(_),!0,b);return{startState:b,tokens1:E.tokens,tokens2:D.tokens,endState:E.endState}}_getStateBeforeLine(_){let b=this._tokenizationSupport.getInitialState();for(let E=1;E<_;E++)b=this._tokenizationSupport.tokenize(this._model.getLineContent(E),!0,b).endState;return b}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}C._ID="editor.contrib.inspectTokensWidget",(0,A._K)(f.ID,f,4),(0,A.Qr)(s)},70873:function(vt,be,i){"use strict";i.r(be),i.d(be,{GotoLineAction:function(){return _e},StandaloneCommandsQuickAccessProvider:function(){return Se}});var c=i(94814),F=i(27599),g=i(7631),A=i(76356),S=i(87683),$=i(16842),N=i(67770),x=i(15779);function O(he,le){return le&&(he.stack||he.stacktrace)?x.NC("stackTrace.format","{0}: {1}",a(he),p(he.stack)||p(he.stacktrace)):a(he)}function p(he){return Array.isArray(he)?he.join(`
`):he}function a(he){return typeof he.code=="string"&&typeof he.errno=="number"&&typeof he.syscall=="string"?x.NC("nodeExceptionMessage","A system error occurred ({0})",he.message):he.message||x.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function d(he=null,le=!1){if(!he)return x.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(he)){const se=$.kX(he),Re=d(se[0],le);return se.length>1?x.NC("error.moreErrors","{0} ({1} errors in total)",Re,se.length):Re}if(N.HD(he))return he;if(he.detail){const se=he.detail;if(se.error)return O(se.error,le);if(se.exception)return O(se.exception,le)}return he.stack?O(he,le):he.message?he.message:x.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var f=i(50505),s=i(61842),r=i(52357),m=i(15463),C=i(21760),u=i(64464),_=i(12676),b=i(64700),E=i(22437),D=i(39460),w=i(19713),I=function(he,le,se,Re){function $e(je){return je instanceof se?je:new se(function(Ce){Ce(je)})}return new(se||(se=Promise))(function(je,Ce){function J(xe){try{ae(Re.next(xe))}catch(Ke){Ce(Ke)}}function ne(xe){try{ae(Re.throw(xe))}catch(Ke){Ce(Ke)}}function ae(xe){xe.done?je(xe.value):$e(xe.value).then(J,ne)}ae((Re=Re.apply(he,le||[])).next())})},M;(function(he){he[he.NO_ACTION=0]="NO_ACTION",he[he.CLOSE_PICKER=1]="CLOSE_PICKER",he[he.REFRESH_PICKER=2]="REFRESH_PICKER",he[he.REMOVE_ITEM=3]="REMOVE_ITEM"})(M||(M={}));function K(he){const le=he;return Array.isArray(le.items)}function z(he){const le=he;return!!le.picks&&le.additionalPicks instanceof Promise}class Q extends r.JT{constructor(le,se){super(),this.prefix=le,this.options=se}provide(le,se,Re){var $e;const je=new r.SL;le.canAcceptInBackground=!!(!(($e=this.options)===null||$e===void 0)&&$e.canAcceptInBackground),le.matchOnLabel=le.matchOnDescription=le.matchOnDetail=le.sortByLabel=!1;let Ce;const J=je.add(new r.XK),ne=()=>I(this,void 0,void 0,function*(){const ae=J.value=new r.SL;Ce==null||Ce.dispose(!0),le.busy=!1,Ce=new w.A(se);const xe=Ce.token,Ke=le.value.substr(this.prefix.length).trim(),ct=this._getPicks(Ke,ae,xe,Re),ot=(dt,et)=>{var Fe;let Le,Te;if(K(dt)?(Le=dt.items,Te=dt.active):Le=dt,Le.length===0){if(et)return!1;Ke.length>0&&(!((Fe=this.options)===null||Fe===void 0)&&Fe.noResultsPick)&&(Le=[this.options.noResultsPick])}return le.items=Le,Te&&(le.activeItems=[Te]),!0};if(ct!==null)if(z(ct)){let dt=!1,et=!1;yield Promise.all([(()=>I(this,void 0,void 0,function*(){yield(0,D.Vs)(Q.FAST_PICKS_RACE_DELAY),!xe.isCancellationRequested&&(et||(dt=ot(ct.picks,!0)))}))(),(()=>I(this,void 0,void 0,function*(){le.busy=!0;try{const Fe=yield ct.additionalPicks;if(xe.isCancellationRequested)return;let Le,Te;K(ct.picks)?(Le=ct.picks.items,Te=ct.picks.active):Le=ct.picks;let ge,ve;if(K(Fe)?(ge=Fe.items,ve=Fe.active):ge=Fe,ge.length>0||!dt){let we;if(!Te&&!ve){const Oe=le.activeItems[0];Oe&&Le.indexOf(Oe)!==-1&&(we=Oe)}ot({items:[...Le,...ge],active:Te||ve||we})}}finally{xe.isCancellationRequested||(le.busy=!1),et=!0}}))()])}else if(!(ct instanceof Promise))ot(ct);else{le.busy=!0;try{const dt=yield ct;if(xe.isCancellationRequested)return;ot(dt)}finally{xe.isCancellationRequested||(le.busy=!1)}}});return je.add(le.onDidChangeValue(()=>ne())),ne(),je.add(le.onDidAccept(ae=>{const[xe]=le.selectedItems;typeof(xe==null?void 0:xe.accept)=="function"&&(ae.inBackground||le.hide(),xe.accept(le.keyMods,ae))})),je.add(le.onDidTriggerItemButton(({button:ae,item:xe})=>I(this,void 0,void 0,function*(){var Ke,ct;if(typeof xe.trigger=="function"){const ot=(ct=(Ke=xe.buttons)===null||Ke===void 0?void 0:Ke.indexOf(ae))!==null&&ct!==void 0?ct:-1;if(ot>=0){const dt=xe.trigger(ot,le.keyMods),et=typeof dt=="number"?dt:yield dt;if(se.isCancellationRequested)return;switch(et){case M.NO_ACTION:break;case M.CLOSE_PICKER:le.hide();break;case M.REFRESH_PICKER:ne();break;case M.REMOVE_ITEM:{const Fe=le.items.indexOf(xe);if(Fe!==-1){const Le=le.items.slice(),Te=Le.splice(Fe,1),ge=le.activeItems.filter(we=>we!==Te[0]),ve=le.keepScrollPosition;le.keepScrollPosition=!0,le.items=Le,ge&&(le.activeItems=ge),le.keepScrollPosition=ve}break}}}}}))),je}}Q.FAST_PICKS_RACE_DELAY=200;var Y=i(47955),H=i(43257),P=function(he,le,se,Re){var $e=arguments.length,je=$e<3?le:Re===null?Re=Object.getOwnPropertyDescriptor(le,se):Re,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(he,le,se,Re);else for(var J=he.length-1;J>=0;J--)(Ce=he[J])&&(je=($e<3?Ce(je):$e>3?Ce(le,se,je):Ce(le,se))||je);return $e>3&&je&&Object.defineProperty(le,se,je),je},X=function(he,le){return function(se,Re){le(se,Re,he)}},q=function(he,le,se,Re){function $e(je){return je instanceof se?je:new se(function(Ce){Ce(je)})}return new(se||(se=Promise))(function(je,Ce){function J(xe){try{ae(Re.next(xe))}catch(Ke){Ce(Ke)}}function ne(xe){try{ae(Re.throw(xe))}catch(Ke){Ce(Ke)}}function ae(xe){xe.done?je(xe.value):$e(xe.value).then(J,ne)}ae((Re=Re.apply(he,le||[])).next())})};let U=class ol extends Q{constructor(le,se,Re,$e,je,Ce){super(ol.PREFIX,le),this.instantiationService=se,this.keybindingService=Re,this.commandService=$e,this.telemetryService=je,this.dialogService=Ce,this.commandsHistory=this._register(this.instantiationService.createInstance(L)),this.options=le}_getPicks(le,se,Re,$e){var je,Ce;return q(this,void 0,void 0,function*(){const J=yield this.getCommandPicks(Re);if(Re.isCancellationRequested)return[];const ne=[];for(const ot of J){const dt=(0,N.f6)(ol.WORD_FILTER(le,ot.label)),et=ot.commandAlias?(0,N.f6)(ol.WORD_FILTER(le,ot.commandAlias)):void 0;dt||et?(ot.highlights={label:dt,detail:this.options.showAlias?et:void 0},ne.push(ot)):le===ot.commandId&&ne.push(ot)}const ae=new Map;for(const ot of ne){const dt=ae.get(ot.label);dt?(ot.description=ot.commandId,dt.description=dt.commandId):ae.set(ot.label,ot)}ne.sort((ot,dt)=>{const et=this.commandsHistory.peek(ot.commandId),Fe=this.commandsHistory.peek(dt.commandId);if(et&&Fe)return et>Fe?-1:1;if(et)return-1;if(Fe)return 1;if(this.options.suggestedCommandIds){const Le=this.options.suggestedCommandIds.has(ot.commandId),Te=this.options.suggestedCommandIds.has(dt.commandId);if(Le&&Te)return 0;if(Le)return-1;if(Te)return 1}return ot.label.localeCompare(dt.label)});const xe=[];let Ke=!1,ct=!!this.options.suggestedCommandIds;for(let ot=0;ot<ne.length;ot++){const dt=ne[ot],et=this.keybindingService.lookupKeybinding(dt.commandId),Fe=et?(0,x.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",dt.label,et.getAriaLabel()):dt.label;ot===0&&this.commandsHistory.peek(dt.commandId)&&(xe.push({type:"separator",label:(0,x.NC)("recentlyUsed","recently used")}),Ke=!0),ct&&!this.commandsHistory.peek(dt.commandId)&&(!((je=this.options.suggestedCommandIds)===null||je===void 0)&&je.has(dt.commandId))&&(xe.push({type:"separator",label:(0,x.NC)("commonlyUsed","commonly used")}),Ke=!0,ct=!1),Ke&&!this.commandsHistory.peek(dt.commandId)&&!(!((Ce=this.options.suggestedCommandIds)===null||Ce===void 0)&&Ce.has(dt.commandId))&&(xe.push({type:"separator",label:(0,x.NC)("morecCommands","other commands")}),Ke=!1),xe.push(Object.assign(Object.assign({},dt),{ariaLabel:Fe,detail:this.options.showAlias&&dt.commandAlias!==dt.label?dt.commandAlias:void 0,keybinding:et,accept:()=>q(this,void 0,void 0,function*(){var Le;this.commandsHistory.push(dt.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:dt.commandId,from:(Le=$e==null?void 0:$e.from)!==null&&Le!==void 0?Le:"quick open"});try{yield this.commandService.executeCommand(dt.commandId)}catch(Te){(0,f.n2)(Te)||this.dialogService.error((0,x.NC)("canNotRun","Command '{0}' resulted in an error",dt.label),d(Te))}})}))}return xe})}};U.PREFIX=">",U.WORD_FILTER=(0,s.or)(s.Ji,s.KZ,s.ir),U=P([X(1,b.TG),X(2,E.d),X(3,C.H),X(4,H.b),X(5,_.S)],U);let L=class ls extends r.JT{constructor(le,se){super(),this.storageService=le,this.configurationService=se,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(le=>this.updateConfiguration(le)))}updateConfiguration(le){le&&!le.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=ls.getConfiguredCommandHistoryLength(this.configurationService),ls.cache&&ls.cache.limit!==this.configuredCommandsHistoryLength&&(ls.cache.limit=this.configuredCommandsHistoryLength,ls.saveState(this.storageService)))}load(){const le=this.storageService.get(ls.PREF_KEY_CACHE,0);let se;if(le)try{se=JSON.parse(le)}catch($e){}const Re=ls.cache=new m.z6(this.configuredCommandsHistoryLength,1);if(se){let $e;se.usesLRU?$e=se.entries:$e=se.entries.sort((je,Ce)=>je.value-Ce.value),$e.forEach(je=>Re.set(je.key,je.value))}ls.counter=this.storageService.getNumber(ls.PREF_KEY_COUNTER,0,ls.counter)}push(le){ls.cache&&(ls.cache.set(le,ls.counter++),ls.saveState(this.storageService))}peek(le){var se;return(se=ls.cache)===null||se===void 0?void 0:se.peek(le)}static saveState(le){if(!ls.cache)return;const se={usesLRU:!0,entries:[]};ls.cache.forEach((Re,$e)=>se.entries.push({key:$e,value:Re})),le.store(ls.PREF_KEY_CACHE,JSON.stringify(se),0,0),le.store(ls.PREF_KEY_COUNTER,ls.counter,0,0)}static getConfiguredCommandHistoryLength(le){var se,Re;const je=(Re=(se=le.getValue().workbench)===null||se===void 0?void 0:se.commandPalette)===null||Re===void 0?void 0:Re.history;return typeof je=="number"?je:ls.DEFAULT_COMMANDS_HISTORY_LENGTH}};L.DEFAULT_COMMANDS_HISTORY_LENGTH=50,L.PREF_KEY_CACHE="commandPalette.mru.cache",L.PREF_KEY_COUNTER="commandPalette.mru.counter",L.counter=1,L=P([X(0,Y.Uy),X(1,u.Ui)],L);class B extends U{constructor(le,se,Re,$e,je,Ce){super(le,se,Re,$e,je,Ce)}getCodeEditorCommandPicks(){const le=this.activeTextEditorControl;if(!le)return[];const se=[];for(const Re of le.getSupportedActions())se.push({commandId:Re.id,commandAlias:Re.alias,label:(0,S.x$)(Re.label)||Re.id});return se}}var j=i(98981),G=i(73805),y=i(93611),pe=function(he,le,se,Re){var $e=arguments.length,je=$e<3?le:Re===null?Re=Object.getOwnPropertyDescriptor(le,se):Re,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(he,le,se,Re);else for(var J=he.length-1;J>=0;J--)(Ce=he[J])&&(je=($e<3?Ce(je):$e>3?Ce(le,se,je):Ce(le,se))||je);return $e>3&&je&&Object.defineProperty(le,se,je),je},ye=function(he,le){return function(se,Re){le(se,Re,he)}},me=function(he,le,se,Re){function $e(je){return je instanceof se?je:new se(function(Ce){Ce(je)})}return new(se||(se=Promise))(function(je,Ce){function J(xe){try{ae(Re.next(xe))}catch(Ke){Ce(Ke)}}function ne(xe){try{ae(Re.throw(xe))}catch(Ke){Ce(Ke)}}function ae(xe){xe.done?je(xe.value):$e(xe.value).then(J,ne)}ae((Re=Re.apply(he,le||[])).next())})};let Se=class extends B{get activeTextEditorControl(){return(0,N.f6)(this.codeEditorService.getFocusedCodeEditor())}constructor(le,se,Re,$e,je,Ce){super({showAlias:!1},le,Re,$e,je,Ce),this.codeEditorService=se}getCommandPicks(){return me(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};Se=pe([ye(0,b.TG),ye(1,A.$),ye(2,E.d),ye(3,C.H),ye(4,H.b),ye(5,_.S)],Se);class _e extends j.R6{constructor(){super({id:_e.ID,label:g.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:G.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(le){le.get(y.eJ).quickAccess.show(Se.PREFIX)}}_e.ID="editor.action.quickCommand",(0,j.Qr)(_e),c.B.as(F.IP.Quickaccess).registerQuickAccessProvider({ctor:Se,prefix:Se.PREFIX,helpEntries:[{description:g.UX.quickCommandHelp,commandId:_e.ID}]})},11350:function(vt,be,i){"use strict";i.r(be),i.d(be,{GotoLineAction:function(){return u},StandaloneGotoLineQuickAccessProvider:function(){return C}});var c=i(52357),F=i(60920),g=i(53874),A=i(15779);class S extends g.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(b){const E=(0,A.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return b.items=[{label:E}],b.ariaLabel=E,c.JT.None}provideWithTextEditor(b,E,D){const w=b.editor,I=new c.SL;I.add(E.onDidAccept(z=>{const[Q]=E.selectedItems;if(Q){if(!this.isValidLineNumber(w,Q.lineNumber))return;this.gotoLocation(b,{range:this.toRange(Q.lineNumber,Q.column),keyMods:E.keyMods,preserveFocus:z.inBackground}),z.inBackground||E.hide()}}));const M=()=>{const z=this.parsePosition(w,E.value.trim().substr(S.PREFIX.length)),Q=this.getPickLabel(w,z.lineNumber,z.column);if(E.items=[{lineNumber:z.lineNumber,column:z.column,label:Q}],E.ariaLabel=Q,!this.isValidLineNumber(w,z.lineNumber)){this.clearDecorations(w);return}const Y=this.toRange(z.lineNumber,z.column);w.revealRangeInCenter(Y,0),this.addDecorations(w,Y)};M(),I.add(E.onDidChangeValue(()=>M()));const K=(0,F.Pi)(w);return K&&K.getOptions().get(64).renderType===2&&(K.updateOptions({lineNumbers:"on"}),I.add((0,c.OF)(()=>K.updateOptions({lineNumbers:"relative"})))),I}toRange(b=1,E=1){return{startLineNumber:b,startColumn:E,endLineNumber:b,endColumn:E}}parsePosition(b,E){const D=E.split(/,|:|#/).map(I=>parseInt(I,10)).filter(I=>!isNaN(I)),w=this.lineCount(b)+1;return{lineNumber:D[0]>0?D[0]:w+D[0],column:D[1]}}getPickLabel(b,E,D){if(this.isValidLineNumber(b,E))return this.isValidColumn(b,E,D)?(0,A.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",E,D):(0,A.NC)("gotoLineLabel","Go to line {0}.",E);const w=b.getPosition()||{lineNumber:1,column:1},I=this.lineCount(b);return I>1?(0,A.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",w.lineNumber,w.column,I):(0,A.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",w.lineNumber,w.column)}isValidLineNumber(b,E){return!E||typeof E!="number"?!1:E>0&&E<=this.lineCount(b)}isValidColumn(b,E,D){if(!D||typeof D!="number")return!1;const w=this.getModel(b);if(!w)return!1;const I={lineNumber:E,column:D};return w.validatePosition(I).equals(I)}lineCount(b){var E,D;return(D=(E=this.getModel(b))===null||E===void 0?void 0:E.getLineCount())!==null&&D!==void 0?D:0}}S.PREFIX=":";var $=i(94814),N=i(27599),x=i(76356),O=i(67770),p=i(7631),a=i(94162),d=i(98981),f=i(73805),s=i(93611),r=function(_,b,E,D){var w=arguments.length,I=w<3?b:D===null?D=Object.getOwnPropertyDescriptor(b,E):D,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(_,b,E,D);else for(var K=_.length-1;K>=0;K--)(M=_[K])&&(I=(w<3?M(I):w>3?M(b,E,I):M(b,E))||I);return w>3&&I&&Object.defineProperty(b,E,I),I},m=function(_,b){return function(E,D){b(E,D,_)}};let C=class extends S{constructor(b){super(),this.editorService=b,this.onDidActiveTextEditorControlChange=a.ju.None}get activeTextEditorControl(){return(0,O.f6)(this.editorService.getFocusedCodeEditor())}};C=r([m(0,x.$)],C);class u extends d.R6{constructor(){super({id:u.ID,label:p.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(b){b.get(s.eJ).quickAccess.show(C.PREFIX)}}u.ID="editor.action.gotoLine",(0,d.Qr)(u),$.B.as(N.IP.Quickaccess).registerQuickAccessProvider({ctor:C,prefix:C.PREFIX,helpEntries:[{description:p.qq.gotoLineActionLabel,commandId:u.ID}]})},43475:function(vt,be,i){"use strict";i.r(be),i.d(be,{GotoSymbolAction:function(){return $e},StandaloneGotoSymbolQuickAccessProvider:function(){return Re}});var c=i(42409),F=i(96584),g=i(39460),A=i(19713),S=i(54195),$=i(81189),N=i(61842),x=i(33392),O=i(41420),p=i(30613);const a=[void 0,[]];function d(je,Ce,J=0,ne=0){const ae=Ce;return ae.values&&ae.values.length>1?f(je,ae.values,J,ne):s(je,Ce,J,ne)}function f(je,Ce,J,ne){let ae=0;const xe=[];for(const Ke of Ce){const[ct,ot]=s(je,Ke,J,ne);if(typeof ct!="number")return a;ae+=ct,xe.push(...ot)}return[ae,m(xe)]}function s(je,Ce,J,ne){const ae=(0,N.EW)(Ce.original,Ce.originalLowercase,J,je,je.toLowerCase(),ne,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ae?[ae[0],(0,N.mB)(ae)]:a}const r=Object.freeze({score:0});function m(je){const Ce=je.sort((ae,xe)=>ae.start-xe.start),J=[];let ne;for(const ae of Ce)!ne||!C(ne,ae)?(ne=ae,J.push(ae)):(ne.start=Math.min(ne.start,ae.start),ne.end=Math.max(ne.end,ae.end));return J}function C(je,Ce){return!(je.end<Ce.start||Ce.end<je.start)}function u(je){return je.startsWith('"')&&je.endsWith('"')}const _=" ";function b(je){typeof je!="string"&&(je="");const Ce=je.toLowerCase(),{pathNormalized:J,normalized:ne,normalizedLowercase:ae}=E(je),xe=J.indexOf(x.ir)>=0,Ke=u(je);let ct;const ot=je.split(_);if(ot.length>1)for(const dt of ot){const et=u(dt),{pathNormalized:Fe,normalized:Le,normalizedLowercase:Te}=E(dt);Le&&(ct||(ct=[]),ct.push({original:dt,originalLowercase:dt.toLowerCase(),pathNormalized:Fe,normalized:Le,normalizedLowercase:Te,expectContiguousMatch:et}))}return{original:je,originalLowercase:Ce,pathNormalized:J,normalized:ne,normalizedLowercase:ae,values:ct,containsPathSeparator:xe,expectContiguousMatch:Ke}}function E(je){let Ce;O.ED?Ce=je.replace(/\//g,x.ir):Ce=je.replace(/\\/g,x.ir);const J=(0,p.R1)(Ce).replace(/\s|"/g,"");return{pathNormalized:Ce,normalized:J,normalizedLowercase:J.toLowerCase()}}function D(je){return Array.isArray(je)?b(je.map(Ce=>Ce.original).join(_)):b(je.original)}var w=i(52357),I=i(22445),M=i(33686),K=i(72355),z=i(53874),Q=i(15779),Y=i(26340),H=i(16842),P=function(je,Ce,J,ne){var ae=arguments.length,xe=ae<3?Ce:ne===null?ne=Object.getOwnPropertyDescriptor(Ce,J):ne,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(je,Ce,J,ne);else for(var ct=je.length-1;ct>=0;ct--)(Ke=je[ct])&&(xe=(ae<3?Ke(xe):ae>3?Ke(Ce,J,xe):Ke(Ce,J))||xe);return ae>3&&xe&&Object.defineProperty(Ce,J,xe),xe},X=function(je,Ce){return function(J,ne){Ce(J,ne,je)}},q=function(je,Ce,J,ne){function ae(xe){return xe instanceof J?xe:new J(function(Ke){Ke(xe)})}return new(J||(J=Promise))(function(xe,Ke){function ct(et){try{dt(ne.next(et))}catch(Fe){Ke(Fe)}}function ot(et){try{dt(ne.throw(et))}catch(Fe){Ke(Fe)}}function dt(et){et.done?xe(et.value):ae(et.value).then(ct,ot)}dt((ne=ne.apply(je,Ce||[])).next())})};let U=class Rd extends z.X{constructor(Ce,J,ne=Object.create(null)){super(ne),this._languageFeaturesService=Ce,this._outlineModelService=J,this.options=ne,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(Ce){return this.provideLabelPick(Ce,(0,Q.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),w.JT.None}provideWithTextEditor(Ce,J,ne){const ae=Ce.editor,xe=this.getModel(ae);return xe?this._languageFeaturesService.documentSymbolProvider.has(xe)?this.doProvideWithEditorSymbols(Ce,xe,J,ne):this.doProvideWithoutEditorSymbols(Ce,xe,J,ne):w.JT.None}doProvideWithoutEditorSymbols(Ce,J,ne,ae){const xe=new w.SL;return this.provideLabelPick(ne,(0,Q.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),q(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(J,xe))||ae.isCancellationRequested||xe.add(this.doProvideWithEditorSymbols(Ce,J,ne,ae))}),xe}provideLabelPick(Ce,J){Ce.items=[{label:J,index:0,kind:14}],Ce.ariaLabel=J}waitForLanguageSymbolRegistry(Ce,J){return q(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(Ce))return!0;const ne=new g.CR,ae=J.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(Ce)&&(ae.dispose(),ne.complete(!0))}));return J.add((0,w.OF)(()=>ne.complete(!1))),ne.p})}doProvideWithEditorSymbols(Ce,J,ne,ae){var xe;const Ke=Ce.editor,ct=new w.SL;ct.add(ne.onDidAccept(Fe=>{const[Le]=ne.selectedItems;Le&&Le.range&&(this.gotoLocation(Ce,{range:Le.range.selection,keyMods:ne.keyMods,preserveFocus:Fe.inBackground}),Fe.inBackground||ne.hide())})),ct.add(ne.onDidTriggerItemButton(({item:Fe})=>{Fe&&Fe.range&&(this.gotoLocation(Ce,{range:Fe.range.selection,keyMods:ne.keyMods,forceSideBySide:!0}),ne.hide())}));const ot=this.getDocumentSymbols(J,ae);let dt;const et=Fe=>q(this,void 0,void 0,function*(){dt==null||dt.dispose(!0),ne.busy=!1,dt=new A.A(ae),ne.busy=!0;try{const Le=b(ne.value.substr(Rd.PREFIX.length).trim()),Te=yield this.doGetSymbolPicks(ot,Le,void 0,dt.token);if(ae.isCancellationRequested)return;if(Te.length>0){if(ne.items=Te,Fe&&Le.original.length===0){const ge=(0,H.dF)(Te,ve=>Boolean(ve.type!=="separator"&&ve.range&&I.e.containsPosition(ve.range.decoration,Fe)));ge&&(ne.activeItems=[ge])}}else Le.original.length>0?this.provideLabelPick(ne,(0,Q.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(ne,(0,Q.NC)("noSymbolResults","No editor symbols"))}finally{ae.isCancellationRequested||(ne.busy=!1)}});return ct.add(ne.onDidChangeValue(()=>et(void 0))),et((xe=Ke.getSelection())===null||xe===void 0?void 0:xe.getPosition()),ct.add(ne.onDidChangeActive(()=>{const[Fe]=ne.activeItems;Fe&&Fe.range&&(Ke.revealRangeInCenter(Fe.range.selection,0),this.addDecorations(Ke,Fe.range.decoration))})),ct}doGetSymbolPicks(Ce,J,ne,ae){var xe,Ke;return q(this,void 0,void 0,function*(){const ct=yield Ce;if(ae.isCancellationRequested)return[];const ot=J.original.indexOf(Rd.SCOPE_PREFIX)===0,dt=ot?1:0;let et,Fe;J.values&&J.values.length>1?(et=D(J.values[0]),Fe=D(J.values.slice(1))):et=J;let Le;const Te=(Ke=(xe=this.options)===null||xe===void 0?void 0:xe.openSideBySideDirection)===null||Ke===void 0?void 0:Ke.call(xe);Te&&(Le=[{iconClass:Te==="right"?$.k.asClassName(S.l.splitHorizontal):$.k.asClassName(S.l.splitVertical),tooltip:Te==="right"?(0,Q.NC)("openToSide","Open to the Side"):(0,Q.NC)("openToBottom","Open to the Bottom")}]);const ge=[];for(let Oe=0;Oe<ct.length;Oe++){const He=ct[Oe],mt=(0,p.fy)(He.name),bt=`$(${M.uZ.toIcon(He.kind).id}) ${mt}`,kt=bt.length-mt.length;let Ut=He.containerName;ne!=null&&ne.extraContainerLabel&&(Ut?Ut=`${ne.extraContainerLabel} \u2022 ${Ut}`:Ut=ne.extraContainerLabel);let ut,Dt,ft,Ft;if(J.original.length>dt){let Ze=!1;if(et!==J&&([ut,Dt]=d(bt,Object.assign(Object.assign({},J),{values:void 0}),dt,kt),typeof ut=="number"&&(Ze=!0)),typeof ut!="number"&&([ut,Dt]=d(bt,et,dt,kt),typeof ut!="number"))continue;if(!Ze&&Fe){if(Ut&&Fe.original.length>0&&([ft,Ft]=d(Ut,Fe)),typeof ft!="number")continue;typeof ut=="number"&&(ut+=ft)}}const Et=He.tags&&He.tags.indexOf(1)>=0;ge.push({index:Oe,kind:He.kind,score:ut,label:bt,ariaLabel:mt,description:Ut,highlights:Et?void 0:{label:Dt,description:Ft},range:{selection:I.e.collapseToStart(He.selectionRange),decoration:He.range},strikethrough:Et,buttons:Le})}const ve=ge.sort((Oe,He)=>ot?this.compareByKindAndScore(Oe,He):this.compareByScore(Oe,He));let we=[];if(ot){let bt=function(){He&&typeof Oe=="number"&&mt>0&&(He.label=(0,p.WU)(B[Oe]||L,mt))},Oe,He,mt=0;for(const kt of ve)Oe!==kt.kind?(bt(),Oe=kt.kind,mt=1,He={type:"separator"},we.push(He)):mt++,we.push(kt);bt()}else ve.length>0&&(we=[{label:(0,Q.NC)("symbols","symbols ({0})",ge.length),type:"separator"},...ve]);return we})}compareByScore(Ce,J){if(typeof Ce.score!="number"&&typeof J.score=="number")return 1;if(typeof Ce.score=="number"&&typeof J.score!="number")return-1;if(typeof Ce.score=="number"&&typeof J.score=="number"){if(Ce.score>J.score)return-1;if(Ce.score<J.score)return 1}return Ce.index<J.index?-1:Ce.index>J.index?1:0}compareByKindAndScore(Ce,J){const ne=B[Ce.kind]||L,ae=B[J.kind]||L,xe=ne.localeCompare(ae);return xe===0?this.compareByScore(Ce,J):xe}getDocumentSymbols(Ce,J){return q(this,void 0,void 0,function*(){const ne=yield this._outlineModelService.getOrCreate(Ce,J);return J.isCancellationRequested?[]:ne.asListOfDocumentSymbols()})}};U.PREFIX="@",U.SCOPE_PREFIX=":",U.PREFIX_BY_CATEGORY=`${U.PREFIX}${U.SCOPE_PREFIX}`,U=P([X(0,Y.p),X(1,K.Je)],U);const L=(0,Q.NC)("property","properties ({0})"),B={[5]:(0,Q.NC)("method","methods ({0})"),[11]:(0,Q.NC)("function","functions ({0})"),[8]:(0,Q.NC)("_constructor","constructors ({0})"),[12]:(0,Q.NC)("variable","variables ({0})"),[4]:(0,Q.NC)("class","classes ({0})"),[22]:(0,Q.NC)("struct","structs ({0})"),[23]:(0,Q.NC)("event","events ({0})"),[24]:(0,Q.NC)("operator","operators ({0})"),[10]:(0,Q.NC)("interface","interfaces ({0})"),[2]:(0,Q.NC)("namespace","namespaces ({0})"),[3]:(0,Q.NC)("package","packages ({0})"),[25]:(0,Q.NC)("typeParameter","type parameters ({0})"),[1]:(0,Q.NC)("modules","modules ({0})"),[6]:(0,Q.NC)("property","properties ({0})"),[9]:(0,Q.NC)("enum","enumerations ({0})"),[21]:(0,Q.NC)("enumMember","enumeration members ({0})"),[14]:(0,Q.NC)("string","strings ({0})"),[0]:(0,Q.NC)("file","files ({0})"),[17]:(0,Q.NC)("array","arrays ({0})"),[15]:(0,Q.NC)("number","numbers ({0})"),[16]:(0,Q.NC)("boolean","booleans ({0})"),[18]:(0,Q.NC)("object","objects ({0})"),[19]:(0,Q.NC)("key","keys ({0})"),[7]:(0,Q.NC)("field","fields ({0})"),[13]:(0,Q.NC)("constant","constants ({0})")};var j=i(94814),G=i(27599),y=i(76356),pe=i(67770),ye=i(7631),me=i(94162),Se=i(98981),_e=i(73805),he=i(93611),le=function(je,Ce,J,ne){var ae=arguments.length,xe=ae<3?Ce:ne===null?ne=Object.getOwnPropertyDescriptor(Ce,J):ne,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(je,Ce,J,ne);else for(var ct=je.length-1;ct>=0;ct--)(Ke=je[ct])&&(xe=(ae<3?Ke(xe):ae>3?Ke(Ce,J,xe):Ke(Ce,J))||xe);return ae>3&&xe&&Object.defineProperty(Ce,J,xe),xe},se=function(je,Ce){return function(J,ne){Ce(J,ne,je)}};let Re=class extends U{constructor(Ce,J,ne){super(J,ne),this.editorService=Ce,this.onDidActiveTextEditorControlChange=me.ju.None}get activeTextEditorControl(){return(0,pe.f6)(this.editorService.getFocusedCodeEditor())}};Re=le([se(0,y.$),se(1,Y.p),se(2,K.Je)],Re);class $e extends Se.R6{constructor(){super({id:$e.ID,label:ye.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:_e.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:_e.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Ce){Ce.get(he.eJ).quickAccess.show(U.PREFIX,{itemActivation:he.jG.NONE})}}$e.ID="editor.action.quickOutline",(0,Se.Qr)($e),j.B.as(G.IP.Quickaccess).registerQuickAccessProvider({ctor:Re,prefix:U.PREFIX,helpEntries:[{description:ye.aq.quickOutlineActionLabel,prefix:U.PREFIX,commandId:$e.ID},{description:ye.aq.quickOutlineByCategoryActionLabel,prefix:U.PREFIX_BY_CATEGORY}]})},30348:function(vt,be,i){"use strict";i.r(be);var c=i(94814),F=i(27599),g=i(7631),A=i(15779),S=i(52357),$=i(22437),N=i(93611),x=function(a,d,f,s){var r=arguments.length,m=r<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,f):s,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(a,d,f,s);else for(var u=a.length-1;u>=0;u--)(C=a[u])&&(m=(r<3?C(m):r>3?C(d,f,m):C(d,f))||m);return r>3&&m&&Object.defineProperty(d,f,m),m},O=function(a,d){return function(f,s){d(f,s,a)}};let p=class rl{constructor(d,f){this.quickInputService=d,this.keybindingService=f,this.registry=c.B.as(F.IP.Quickaccess)}provide(d){const f=new S.SL;return f.add(d.onDidAccept(()=>{const[s]=d.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),f.add(d.onDidChangeValue(s=>{const r=this.registry.getQuickAccessProvider(s.substr(rl.PREFIX.length));r&&r.prefix&&r.prefix!==rl.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),d.items=this.getQuickAccessProviders().filter(s=>s.prefix!==rl.PREFIX),f}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((f,s)=>f.prefix.localeCompare(s.prefix)).flatMap(f=>this.createPicks(f))}createPicks(d){return d.helpEntries.map(f=>{const s=f.prefix||d.prefix,r=s||"\u2026";return{prefix:s,label:r,keybinding:f.commandId?this.keybindingService.lookupKeybinding(f.commandId):void 0,ariaLabel:(0,A.NC)("helpPickAriaLabel","{0}, {1}",r,f.description),description:f.description}})}};p.PREFIX="?",p=x([O(0,N.eJ),O(1,$.d)],p),c.B.as(F.IP.Quickaccess).registerQuickAccessProvider({ctor:p,prefix:"",helpEntries:[{description:g.ld.helpQuickAccessActionLabel}]})},46413:function(vt,be,i){"use strict";i.r(be),i.d(be,{StandaloneReferencesController:function(){return a}});var c=i(98981),F=i(76356),g=i(7815),A=i(64464),S=i(23286),$=i(64700),N=i(28382),x=i(47955),O=function(d,f,s,r){var m=arguments.length,C=m<3?f:r===null?r=Object.getOwnPropertyDescriptor(f,s):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,f,s,r);else for(var _=d.length-1;_>=0;_--)(u=d[_])&&(C=(m<3?u(C):m>3?u(f,s,C):u(f,s))||C);return m>3&&C&&Object.defineProperty(f,s,C),C},p=function(d,f){return function(s,r){f(s,r,d)}};let a=class extends g.J{constructor(f,s,r,m,C,u,_){super(!0,f,s,r,m,C,u,_)}};a=O([p(1,S.i6),p(2,F.$),p(3,N.lT),p(4,$.TG),p(5,x.Uy),p(6,A.Ui)],a),(0,c._K)(g.J.ID,a,4)},29321:function(vt,be,i){"use strict";i.d(be,{kR:function(){return L},MU:function(){return B},nI:function(){return Se},rW:function(){return U},TG:function(){return q}});var c=i(16563),F=i(26766),g=i(87799),A=i(94162),S=i(33686),$=i(58848);class N{constructor(he,le,se,Re,$e){this._parsedThemeRuleBrand=void 0,this.token=he,this.index=le,this.fontStyle=se,this.foreground=Re,this.background=$e}}function x(_e){if(!_e||!Array.isArray(_e))return[];const he=[];let le=0;for(let se=0,Re=_e.length;se<Re;se++){const $e=_e[se];let je=-1;if(typeof $e.fontStyle=="string"){je=0;const ne=$e.fontStyle.split(" ");for(let ae=0,xe=ne.length;ae<xe;ae++)switch(ne[ae]){case"italic":je=je|1;break;case"bold":je=je|2;break;case"underline":je=je|4;break;case"strikethrough":je=je|8;break}}let Ce=null;typeof $e.foreground=="string"&&(Ce=$e.foreground);let J=null;typeof $e.background=="string"&&(J=$e.background),he[le++]=new N($e.token||"",se,je,Ce,J)}return he}function O(_e,he){_e.sort((ae,xe)=>{const Ke=r(ae.token,xe.token);return Ke!==0?Ke:ae.index-xe.index});let le=0,se="000000",Re="ffffff";for(;_e.length>=1&&_e[0].token==="";){const ae=_e.shift();ae.fontStyle!==-1&&(le=ae.fontStyle),ae.foreground!==null&&(se=ae.foreground),ae.background!==null&&(Re=ae.background)}const $e=new a;for(const ae of he)$e.getId(ae);const je=$e.getId(se),Ce=$e.getId(Re),J=new m(le,je,Ce),ne=new C(J);for(let ae=0,xe=_e.length;ae<xe;ae++){const Ke=_e[ae];ne.insert(Ke.token,Ke.fontStyle,$e.getId(Ke.foreground),$e.getId(Ke.background))}return new d($e,ne)}const p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class a{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(he){if(he===null)return 0;const le=he.match(p);if(!le)throw new Error("Illegal value for token color: "+he);he=le[1].toUpperCase();let se=this._color2id.get(he);return se||(se=++this._lastColorId,this._color2id.set(he,se),this._id2color[se]=g.Il.fromHex("#"+he),se)}getColorMap(){return this._id2color.slice(0)}}class d{static createFromRawTokenTheme(he,le){return this.createFromParsedTokenTheme(x(he),le)}static createFromParsedTokenTheme(he,le){return O(he,le)}constructor(he,le){this._colorMap=he,this._root=le,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(he){return this._root.match(he)}match(he,le){let se=this._cache.get(le);if(typeof se=="undefined"){const Re=this._match(le),$e=s(le);se=(Re.metadata|$e<<8)>>>0,this._cache.set(le,se)}return(se|he<<0)>>>0}}const f=/\b(comment|string|regex|regexp)\b/;function s(_e){const he=_e.match(f);if(!he)return 0;switch(he[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function r(_e,he){return _e<he?-1:_e>he?1:0}class m{constructor(he,le,se){this._themeTrieElementRuleBrand=void 0,this._fontStyle=he,this._foreground=le,this._background=se,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new m(this._fontStyle,this._foreground,this._background)}acceptOverwrite(he,le,se){he!==-1&&(this._fontStyle=he),le!==0&&(this._foreground=le),se!==0&&(this._background=se),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class C{constructor(he){this._themeTrieElementBrand=void 0,this._mainRule=he,this._children=new Map}match(he){if(he==="")return this._mainRule;const le=he.indexOf(".");let se,Re;le===-1?(se=he,Re=""):(se=he.substring(0,le),Re=he.substring(le+1));const $e=this._children.get(se);return typeof $e!="undefined"?$e.match(Re):this._mainRule}insert(he,le,se,Re){if(he===""){this._mainRule.acceptOverwrite(le,se,Re);return}const $e=he.indexOf(".");let je,Ce;$e===-1?(je=he,Ce=""):(je=he.substring(0,$e),Ce=he.substring($e+1));let J=this._children.get(je);typeof J=="undefined"&&(J=new C(this._mainRule.clone()),this._children.set(je,J)),J.insert(Ce,le,se,Re)}}function u(_e){const he=[];for(let le=1,se=_e.length;le<se;le++){const Re=_e[le];he[le]=`.mtk${le} { color: ${Re}; }`}return he.push(".mtki { font-style: italic; }"),he.push(".mtkb { font-weight: bold; }"),he.push(".mtku { text-decoration: underline; text-underline-position: under; }"),he.push(".mtks { text-decoration: line-through; }"),he.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),he.join(`
`)}var _=i(34467),b=i(78382);const E={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[b.cvW]:"#FFFFFE",[b.NOs]:"#000000",[b.ES4]:"#E5EBF1",[_.tR]:"#D3D3D3",[_.Ym]:"#939393",[b.Rzx]:"#ADD6FF4D"}},D={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[b.cvW]:"#1E1E1E",[b.NOs]:"#D4D4D4",[b.ES4]:"#3A3D41",[_.tR]:"#404040",[_.Ym]:"#707070",[b.Rzx]:"#ADD6FF26"}},w={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[b.cvW]:"#000000",[b.NOs]:"#FFFFFF",[_.tR]:"#FFFFFF",[_.Ym]:"#FFFFFF"}},I={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[b.cvW]:"#FFFFFF",[b.NOs]:"#292929",[_.tR]:"#292929",[_.Ym]:"#292929"}};var M=i(94814),K=i(901),z=i(52357),Q=i(33479),Y=i(81189),H=i(88159);function P(_e){const he=new A.Q5,le=(0,H.Ks)();return le.onDidChange(()=>he.fire()),_e==null||_e.onDidProductIconThemeChange(()=>he.fire()),{onDidChange:he.event,getCSS(){const se=_e?_e.getProductIconTheme():new X,Re={},$e=Ce=>{const J=se.getIcon(Ce);if(!J)return;const ne=J.font;return ne?(Re[ne.id]=ne.definition,`.codicon-${Ce.id}:before { content: '${J.fontCharacter}'; font-family: ${(0,c._h)(ne.id)}; }`):`.codicon-${Ce.id}:before { content: '${J.fontCharacter}'; }`},je=[];for(const Ce of le.getIcons()){const J=$e(Ce);J&&je.push(J)}for(const Ce in Re){const J=Re[Ce],ne=J.weight?`font-weight: ${J.weight};`:"",ae=J.style?`font-style: ${J.style};`:"",xe=J.src.map(Ke=>`${(0,c.wY)(Ke.location)} format('${Ke.format}')`).join(", ");je.push(`@font-face { src: ${xe}; font-family: ${(0,c._h)(Ce)};${ne}${ae} font-display: block; }`)}return je.join(`
`)}}}class X{getIcon(he){const le=(0,H.Ks)();let se=he.defaults;for(;Y.k.isThemeIcon(se);){const Re=le.getIcon(se.id);if(!Re)return;se=Re.defaults}return se}}const q="vs",U="vs-dark",L="hc-black",B="hc-light",j=M.B.as(b.IPX.ColorContribution),G=M.B.as(K.IP.ThemingContribution);class y{constructor(he,le){this.semanticHighlighting=!1,this.themeData=le;const se=le.base;he.length>0?(pe(he)?this.id=he:this.id=se+" "+he,this.themeName=he):(this.id=se,this.themeName=se),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const he=new Map;for(const le in this.themeData.colors)he.set(le,g.Il.fromHex(this.themeData.colors[le]));if(this.themeData.inherit){const le=ye(this.themeData.base);for(const se in le.colors)he.has(se)||he.set(se,g.Il.fromHex(le.colors[se]))}this.colors=he}return this.colors}getColor(he,le){const se=this.getColors().get(he);if(se)return se;if(le!==!1)return this.getDefault(he)}getDefault(he){let le=this.defaultColors[he];return le||(le=j.resolveDefaultColor(he,this),this.defaultColors[he]=le,le)}defines(he){return this.getColors().has(he)}get type(){switch(this.base){case q:return Q.eL.LIGHT;case L:return Q.eL.HIGH_CONTRAST_DARK;case B:return Q.eL.HIGH_CONTRAST_LIGHT;default:return Q.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let he=[],le=[];if(this.themeData.inherit){const $e=ye(this.themeData.base);he=$e.rules,$e.encodedTokensColors&&(le=$e.encodedTokensColors)}const se=this.themeData.colors["editor.foreground"],Re=this.themeData.colors["editor.background"];if(se||Re){const $e={token:""};se&&($e.foreground=se),Re&&($e.background=Re),he.push($e)}he=he.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(le=this.themeData.encodedTokensColors),this._tokenTheme=d.createFromRawTokenTheme(he,le)}return this._tokenTheme}getTokenStyleMetadata(he,le,se){const $e=this.tokenTheme._match([he].concat(le).join(".")).metadata,je=$.N.getForeground($e),Ce=$.N.getFontStyle($e);return{foreground:je,italic:Boolean(Ce&1),bold:Boolean(Ce&2),underline:Boolean(Ce&4),strikethrough:Boolean(Ce&8)}}}function pe(_e){return _e===q||_e===U||_e===L||_e===B}function ye(_e){switch(_e){case q:return E;case U:return D;case L:return w;case B:return I}}function me(_e){const he=ye(_e);return new y(_e,he)}class Se extends z.JT{constructor(){super(),this._onColorThemeChange=this._register(new A.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new A.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new X,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(q,me(q)),this._knownThemes.set(U,me(U)),this._knownThemes.set(L,me(L)),this._knownThemes.set(B,me(B));const he=P(this);this._codiconCSS=he.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(q),this._onOSSchemeChanged(),he.onDidChange(()=>{this._codiconCSS=he.getCSS(),this._updateCSS()}),(0,F.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(he){return c.OO(he)?this._registerShadowDomContainer(he):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=c.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),z.JT.None}_registerShadowDomContainer(he){const le=c.dS(he);return le.className="monaco-colors",le.textContent=this._allCSS,this._styleElements.push(le),{dispose:()=>{for(let se=0;se<this._styleElements.length;se++)if(this._styleElements[se]===le){this._styleElements.splice(se,1);return}}}}defineTheme(he,le){if(!/^[a-z0-9\-]+$/i.test(he))throw new Error("Illegal theme name!");if(!pe(le.base)&&!pe(he))throw new Error("Illegal theme base!");this._knownThemes.set(he,new y(he,le)),pe(he)&&this._knownThemes.forEach(se=>{se.base===he&&se.notifyBaseUpdated()}),this._theme.themeName===he&&this.setTheme(he)}getColorTheme(){return this._theme}setColorMapOverride(he){this._colorMapOverride=he,this._updateThemeOrColorMap()}setTheme(he){let le;this._knownThemes.has(he)?le=this._knownThemes.get(he):le=this._knownThemes.get(q),this._updateActualTheme(le)}_updateActualTheme(he){!he||this._theme===he||(this._theme=he,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const he=window.matchMedia("(forced-colors: active)").matches;if(he!==(0,Q.c3)(this._theme.type)){let le;(0,Q._T)(this._theme.type)?le=he?L:U:le=he?B:q,this._updateActualTheme(this._knownThemes.get(le))}}}setAutoDetectHighContrast(he){this._autoDetectHighContrast=he,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const he=[],le={},se={addRule:je=>{le[je]||(he.push(je),le[je]=!0)}};G.getThemingParticipants().forEach(je=>je(this._theme,se,this._environment));const Re=[];for(const je of j.getColors()){const Ce=this._theme.getColor(je.id,!0);Ce&&Re.push(`${(0,b.QO2)(je.id)}: ${Ce.toString()};`)}se.addRule(`.monaco-editor { ${Re.join(`
`)} }`);const $e=this._colorMapOverride||this._theme.tokenTheme.getColorMap();se.addRule(u($e)),this._themeCSS=he.join(`
`),this._updateCSS(),S.RW.setColorMap($e),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(he=>he.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},57086:function(vt,be,i){"use strict";i.r(be);var c=i(98981),F=i(38665),g=i(7631),A=i(33479),S=i(29321);class $ extends c.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:g.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(x,O){const p=x.get(F.Z),a=p.getColorTheme();(0,A.c3)(a.type)?(p.setTheme(this._originalThemeName||((0,A._T)(a.type)?S.rW:S.TG)),this._originalThemeName=null):(p.setTheme((0,A._T)(a.type)?S.kR:S.MU),this._originalThemeName=a.themeName)}}(0,c.Qr)($)},38665:function(vt,be,i){"use strict";i.d(be,{Z:function(){return F}});var c=i(64700);const F=(0,c.yh)("themeService")},46616:function(vt,be,i){"use strict";i.r(be),i.d(be,{cssDefaults:function(){return d},lessDefaults:function(){return s},scssDefaults:function(){return f}});var c=i(97e3);var F=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,$=(m,C,u,_)=>{if(C&&typeof C=="object"||typeof C=="function")for(let b of A(C))!S.call(m,b)&&b!==u&&F(m,b,{get:()=>C[b],enumerable:!(_=g(C,b))||_.enumerable});return m},N=(m,C,u)=>($(m,C,"default"),u&&$(u,C,"default")),x={};N(x,c);var O=class{constructor(m,C,u){Qn(this,"_onDidChange",new x.Emitter);Qn(this,"_options");Qn(this,"_modeConfiguration");Qn(this,"_languageId");this._languageId=m,this.setOptions(C),this.setModeConfiguration(u)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(m){this._options=m||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(m){this.setOptions(m)}setModeConfiguration(m){this._modeConfiguration=m||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},a={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},d=new O("css",p,a),f=new O("scss",p,a),s=new O("less",p,a);x.languages.css={cssDefaults:d,lessDefaults:s,scssDefaults:f};function r(){return i.e(9128).then(i.bind(i,29128))}x.languages.onLanguage("less",()=>{r().then(m=>m.setupMode(s))}),x.languages.onLanguage("scss",()=>{r().then(m=>m.setupMode(f))}),x.languages.onLanguage("css",()=>{r().then(m=>m.setupMode(d))})},89663:function(vt,be,i){"use strict";i.r(be),i.d(be,{handlebarDefaults:function(){return _},handlebarLanguageService:function(){return u},htmlDefaults:function(){return C},htmlLanguageService:function(){return m},razorDefaults:function(){return E},razorLanguageService:function(){return b},registerHTMLLanguageService:function(){return w}});var c=i(97e3);var F=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,$=(I,M,K,z)=>{if(M&&typeof M=="object"||typeof M=="function")for(let Q of A(M))!S.call(I,Q)&&Q!==K&&F(I,Q,{get:()=>M[Q],enumerable:!(z=g(M,Q))||z.enumerable});return I},N=(I,M,K)=>($(I,M,"default"),K&&$(K,M,"default")),x={};N(x,c);var O=class{constructor(I,M,K){Qn(this,"_onDidChange",new x.Emitter);Qn(this,"_options");Qn(this,"_modeConfiguration");Qn(this,"_languageId");this._languageId=I,this.setOptions(M),this.setModeConfiguration(K)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(I){this._options=I||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(I){this._modeConfiguration=I||Object.create(null),this._onDidChange.fire(this)}},p={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},a={format:p,suggest:{},data:{useDefaultDataProvider:!0}};function d(I){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:I===f,documentFormattingEdits:I===f,documentRangeFormattingEdits:I===f}}var f="html",s="handlebars",r="razor",m=w(f,a,d(f)),C=m.defaults,u=w(s,a,d(s)),_=u.defaults,b=w(r,a,d(r)),E=b.defaults;x.languages.html={htmlDefaults:C,razorDefaults:E,handlebarDefaults:_,htmlLanguageService:m,handlebarLanguageService:u,razorLanguageService:b,registerHTMLLanguageService:w};function D(){return i.e(9870).then(i.bind(i,89870))}function w(I,M=a,K=d(I)){const z=new O(I,M,K);let Q;const Y=x.languages.onLanguage(I,()=>ua(this,null,function*(){Q=(yield D()).setupMode(z)}));return{defaults:z,dispose(){Y.dispose(),Q==null||Q.dispose(),Q=void 0}}}},21292:function(vt,be,i){"use strict";i.r(be),i.d(be,{jsonDefaults:function(){return d}});var c=i(97e3);var F=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,$=(s,r,m,C)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of A(r))!S.call(s,u)&&u!==m&&F(s,u,{get:()=>r[u],enumerable:!(C=g(r,u))||C.enumerable});return s},N=(s,r,m)=>($(s,r,"default"),m&&$(m,r,"default")),x={};N(x,c);var O=class{constructor(s,r,m){Qn(this,"_onDidChange",new x.Emitter);Qn(this,"_diagnosticsOptions");Qn(this,"_modeConfiguration");Qn(this,"_languageId");this._languageId=s,this.setDiagnosticsOptions(r),this.setModeConfiguration(m)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},a={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new O("json",p,a);x.languages.json={jsonDefaults:d};function f(){return i.e(823).then(i.bind(i,10823))}x.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),x.languages.onLanguage("json",()=>{f().then(s=>s.setupMode(d))})},60877:function(vt,be,i){"use strict";i.r(be),i.d(be,{JsxEmit:function(){return a},ModuleKind:function(){return p},ModuleResolutionKind:function(){return s},NewLineKind:function(){return d},ScriptTarget:function(){return f},getJavaScriptWorker:function(){return E},getTypeScriptWorker:function(){return b},javascriptDefaults:function(){return _},typescriptDefaults:function(){return u},typescriptVersion:function(){return m}});var c=i(97e3);var F=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,$=(w,I,M,K)=>{if(I&&typeof I=="object"||typeof I=="function")for(let z of A(I))!S.call(w,z)&&z!==M&&F(w,z,{get:()=>I[z],enumerable:!(K=g(I,z))||K.enumerable});return w},N=(w,I,M)=>($(w,I,"default"),M&&$(M,I,"default")),x="4.5.5",O={};N(O,c);var p=(w=>(w[w.None=0]="None",w[w.CommonJS=1]="CommonJS",w[w.AMD=2]="AMD",w[w.UMD=3]="UMD",w[w.System=4]="System",w[w.ES2015=5]="ES2015",w[w.ESNext=99]="ESNext",w))(p||{}),a=(w=>(w[w.None=0]="None",w[w.Preserve=1]="Preserve",w[w.React=2]="React",w[w.ReactNative=3]="ReactNative",w[w.ReactJSX=4]="ReactJSX",w[w.ReactJSXDev=5]="ReactJSXDev",w))(a||{}),d=(w=>(w[w.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",w[w.LineFeed=1]="LineFeed",w))(d||{}),f=(w=>(w[w.ES3=0]="ES3",w[w.ES5=1]="ES5",w[w.ES2015=2]="ES2015",w[w.ES2016=3]="ES2016",w[w.ES2017=4]="ES2017",w[w.ES2018=5]="ES2018",w[w.ES2019=6]="ES2019",w[w.ES2020=7]="ES2020",w[w.ESNext=99]="ESNext",w[w.JSON=100]="JSON",w[w.Latest=99]="Latest",w))(f||{}),s=(w=>(w[w.Classic=1]="Classic",w[w.NodeJs=2]="NodeJs",w))(s||{}),r=class{constructor(w,I,M,K,z){Qn(this,"_onDidChange",new O.Emitter);Qn(this,"_onDidExtraLibsChange",new O.Emitter);Qn(this,"_extraLibs");Qn(this,"_removedExtraLibs");Qn(this,"_eagerModelSync");Qn(this,"_compilerOptions");Qn(this,"_diagnosticsOptions");Qn(this,"_workerOptions");Qn(this,"_onDidExtraLibsChangeTimeout");Qn(this,"_inlayHintsOptions");Qn(this,"_modeConfiguration");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(w),this.setDiagnosticsOptions(I),this.setWorkerOptions(M),this.setInlayHintsOptions(K),this.setModeConfiguration(z),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(w,I){let M;if(typeof I=="undefined"?M=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:M=I,this._extraLibs[M]&&this._extraLibs[M].content===w)return{dispose:()=>{}};let K=1;return this._removedExtraLibs[M]&&(K=this._removedExtraLibs[M]+1),this._extraLibs[M]&&(K=this._extraLibs[M].version+1),this._extraLibs[M]={content:w,version:K},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let z=this._extraLibs[M];z&&z.version===K&&(delete this._extraLibs[M],this._removedExtraLibs[M]=K,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(w){for(const I in this._extraLibs)this._removedExtraLibs[I]=this._extraLibs[I].version;if(this._extraLibs=Object.create(null),w&&w.length>0)for(const I of w){const M=I.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,K=I.content;let z=1;this._removedExtraLibs[M]&&(z=this._removedExtraLibs[M]+1),this._extraLibs[M]={content:K,version:z}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(w){this._compilerOptions=w||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(w){this._diagnosticsOptions=w||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(w){this._workerOptions=w||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(w){this._inlayHintsOptions=w||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(w){}setEagerModelSync(w){this._eagerModelSync=w}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(w){this._modeConfiguration=w||Object.create(null),this._onDidChange.fire(void 0)}},m=x,C={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},u=new r({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},C),_=new r({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},C),b=()=>D().then(w=>w.getTypeScriptWorker()),E=()=>D().then(w=>w.getJavaScriptWorker());O.languages.typescript={ModuleKind:p,JsxEmit:a,NewLineKind:d,ScriptTarget:f,ModuleResolutionKind:s,typescriptVersion:m,typescriptDefaults:u,javascriptDefaults:_,getTypeScriptWorker:b,getJavaScriptWorker:E};function D(){return i.e(6273).then(i.bind(i,76273))}O.languages.onLanguage("typescript",()=>D().then(w=>w.setupTypeScript(u))),O.languages.onLanguage("javascript",()=>D().then(w=>w.setupJavaScript(_)))},15779:function(vt,be,i){"use strict";i.d(be,{NC:function(){return O},aj:function(){return p}});var c=function(s,r,m,C){function u(_){return _ instanceof m?_:new m(function(b){b(_)})}return new(m||(m=Promise))(function(_,b){function E(I){try{w(C.next(I))}catch(M){b(M)}}function D(I){try{w(C.throw(I))}catch(M){b(M)}}function w(I){I.done?_(I.value):u(I.value).then(E,D)}w((C=C.apply(s,r||[])).next())})};let F=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const g="i-default";function A(s,r){let m;return r.length===0?m=s:m=s.replace(/\{(\d+)\}/g,(C,u)=>{const _=u[0],b=r[_];let E=C;return typeof b=="string"?E=b:(typeof b=="number"||typeof b=="boolean"||b===void 0||b===null)&&(E=String(b)),E}),F&&(m="\uFF3B"+m.replace(/[aouei]/g,"$&$&")+"\uFF3D"),m}function S(s,r){let m=s[r];return m||(m=s["*"],m)?m:null}function $(s){return s.charAt(s.length-1)==="/"?s:s+"/"}function N(s,r,m){return c(this,void 0,void 0,function*(){const C=$(s)+$(r)+"vscode/"+$(m),u=yield fetch(C);if(u.ok)return yield u.json();throw new Error(`${u.status} - ${u.statusText}`)})}function x(s){return function(r,m){const C=Array.prototype.slice.call(arguments,2);return A(s[r],C)}}function O(s,r,...m){return A(r,m)}function p(s){}function a(s){F=s}function d(s,r){var m;return{localize:x(r[s]),getConfiguredDefaultLocale:(m=r.getConfiguredDefaultLocale)!==null&&m!==void 0?m:C=>{}}}function f(s,r,m,C){var u;const _=(u=C["vs/nls"])!==null&&u!==void 0?u:{};if(!s||s.length===0)return m({localize:O,getConfiguredDefaultLocale:()=>{var I;return(I=_.availableLanguages)===null||I===void 0?void 0:I["*"]}});const b=_.availableLanguages?S(_.availableLanguages,s):null,E=b===null||b===g;let D=".nls";E||(D=D+"."+b);const w=I=>{Array.isArray(I)?I.localize=x(I):I.localize=x(I[s]),I.getConfiguredDefaultLocale=()=>{var M;return(M=_.availableLanguages)===null||M===void 0?void 0:M["*"]},m(I)};typeof _.loadBundle=="function"?_.loadBundle(s,b,(I,M)=>{I?r([s+".nls"],w):w(M)}):_.translationServiceUrl&&!E?c(this,void 0,void 0,function*(){var I;try{const M=yield N(_.translationServiceUrl,b,s);return w(M)}catch(M){if(!b.includes("-"))return console.error(M),r([s+".nls"],w);try{const K=b.split("-")[0],z=yield N(_.translationServiceUrl,K,s);return(I=_.availableLanguages)!==null&&I!==void 0||(_.availableLanguages={}),_.availableLanguages["*"]=K,w(z)}catch(K){return console.error(K),r([s+".nls"],w)}}}):r([s+D],w,I=>{if(D===".nls"){console.error("Failed trying to load default language strings",I);return}console.error(`Failed to load message bundle for language ${b}. Falling back to the default language:`,I),r([s+".nls"],w)})}},75845:function(vt,be,i){"use strict";i.d(be,{F:function(){return g},U:function(){return A}});var c=i(23286),F=i(64700);const g=(0,F.yh)("accessibilityService"),A=new c.uy("accessibilityModeEnabled",!1)},925:function(vt,be,i){"use strict";i.d(be,{Mm:function(){return H},Id:function(){return U},vr:function(){return Q},LJ:function(){return z}});var c=i(16563),F=i(87415),g=i(1794),A=i(13396),S=i(50453),$=i(88566),N=i(52357),x=i(41420),O=i(15779),p=i(49597);function a(L){return L?L.condition!==void 0:!1}var d=i(23286),f=i(81477),s=i(64700),r=i(22437),m=i(28382),C=i(47955),u=i(901),_=i(81189),b=i(33479),E=i(67770),D=i(78382),w=i(74964),I=function(L,B,j,G){var y=arguments.length,pe=y<3?B:G===null?G=Object.getOwnPropertyDescriptor(B,j):G,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(L,B,j,G);else for(var me=L.length-1;me>=0;me--)(ye=L[me])&&(pe=(y<3?ye(pe):y>3?ye(B,j,pe):ye(B,j))||pe);return y>3&&pe&&Object.defineProperty(B,j,pe),pe},M=function(L,B){return function(j,G){B(j,G,L)}},K=function(L,B,j,G){function y(pe){return pe instanceof j?pe:new j(function(ye){ye(pe)})}return new(j||(j=Promise))(function(pe,ye){function me(he){try{_e(G.next(he))}catch(le){ye(le)}}function Se(he){try{_e(G.throw(he))}catch(le){ye(le)}}function _e(he){he.done?pe(he.value):y(he.value).then(me,Se)}_e((G=G.apply(L,B||[])).next())})};function z(L,B,j,G){const y=L.getActions(B),pe=c._q.getInstance(),ye=pe.keyStatus.altKey||(x.ED||x.IJ)&&pe.keyStatus.shiftKey;Y(y,j,ye,G?me=>me===G:me=>me==="navigation")}function Q(L,B,j,G,y,pe){const ye=L.getActions(B);Y(ye,j,!1,typeof G=="string"?Se=>Se===G:G,y,pe)}function Y(L,B,j,G=ye=>ye==="navigation",y=()=>!1,pe=!1){let ye,me;Array.isArray(B)?(ye=B,me=B):(ye=B.primary,me=B.secondary);const Se=new Set;for(const[_e,he]of L){let le;G(_e)?(le=ye,le.length>0&&pe&&le.push(new S.Z0)):(le=me,le.length>0&&le.push(new S.Z0));for(let se of he){j&&(se=se instanceof p.U8&&se.alt?se.alt:se);const Re=le.push(se);se instanceof S.wY&&Se.add({group:_e,action:se,index:Re-1})}}for(const{group:_e,action:he,index:le}of Se){const se=G(_e)?ye:me,Re=he.actions;Re.length<=1&&y(he,_e,se.length)&&se.splice(le,1,...Re)}}let H=class extends g.gU{constructor(B,j,G,y,pe,ye,me){super(void 0,B,{icon:!!(B.class||B.item.icon),label:!B.class&&!B.item.icon,draggable:j==null?void 0:j.draggable,keybinding:j==null?void 0:j.keybinding,hoverDelegate:j==null?void 0:j.hoverDelegate}),this._keybindingService=G,this._notificationService=y,this._contextKeyService=pe,this._themeService=ye,this._contextMenuService=me,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new N.XK),this._altKey=c._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(B){return K(this,void 0,void 0,function*(){B.preventDefault(),B.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(j){this._notificationService.error(j)}})}render(B){super.render(B),B.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let j=!1,G=this._altKey.keyStatus.altKey||(x.ED||x.IJ)&&this._altKey.keyStatus.shiftKey;const y=()=>{var pe;const ye=j&&G&&!!(!((pe=this._commandAction.alt)===null||pe===void 0)&&pe.enabled);ye!==this._wantsAltCommand&&(this._wantsAltCommand=ye,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(pe=>{G=pe.altKey||(x.ED||x.IJ)&&pe.shiftKey,y()})),this._register((0,c.nm)(B,"mouseleave",pe=>{j=!1,y()})),this._register((0,c.nm)(B,"mouseenter",pe=>{j=!0,y()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var B;const j=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),G=j&&j.getLabel(),y=this._commandAction.tooltip||this._commandAction.label;let pe=G?(0,O.NC)("titleAndKb","{0} ({1})",y,G):y;if(!this._wantsAltCommand&&(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)){const ye=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,me=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Se=me&&me.getLabel(),_e=Se?(0,O.NC)("titleAndKb","{0} ({1})",ye,Se):ye;pe=(0,O.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,pe,$.xo.modifierLabels[x.OS].altKey,_e)}return pe}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(B){this._itemClassDispose.value=void 0;const{element:j,label:G}=this;if(!j||!G)return;const y=this._commandAction.checked&&a(B.toggled)&&B.toggled.icon?B.toggled.icon:B.icon;if(y)if(_.k.isThemeIcon(y)){const pe=_.k.asClassNameArray(y);G.classList.add(...pe),this._itemClassDispose.value=(0,N.OF)(()=>{G.classList.remove(...pe)})}else G.style.backgroundImage=(0,b._T)(this._themeService.getColorTheme().type)?(0,c.wY)(y.dark):(0,c.wY)(y.light),G.classList.add("icon"),this._itemClassDispose.value=(0,N.F8)((0,N.OF)(()=>{G.style.backgroundImage="",G.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};H=I([M(2,r.d),M(3,m.lT),M(4,d.i6),M(5,u.XE),M(6,f.i)],H);let P=class extends A.C{constructor(B,j,G,y){var pe,ye;const me=Object.assign({},j!=null?j:Object.create(null),{menuAsChild:(pe=j==null?void 0:j.menuAsChild)!==null&&pe!==void 0?pe:!1,classNames:(ye=j==null?void 0:j.classNames)!==null&&ye!==void 0?ye:_.k.isThemeIcon(B.item.icon)?_.k.asClassName(B.item.icon):void 0});super(B,{getActions:()=>B.actions},G,me),this._contextMenuService=G,this._themeService=y}render(B){super.render(B),(0,E.p_)(this.element),B.classList.add("menu-entry");const j=this._action,{icon:G}=j.item;if(G&&!_.k.isThemeIcon(G)){this.element.classList.add("icon");const y=()=>{this.element&&(this.element.style.backgroundImage=(0,b._T)(this._themeService.getColorTheme().type)?(0,c.wY)(G.dark):(0,c.wY)(G.light))};y(),this._register(this._themeService.onDidColorThemeChange(()=>{y()}))}}};P=I([M(2,f.i),M(3,u.XE)],P);let X=class extends g.YH{constructor(B,j,G,y,pe,ye,me,Se){var _e,he,le;super(null,B),this._keybindingService=G,this._notificationService=y,this._contextMenuService=pe,this._menuService=ye,this._instaService=me,this._storageService=Se,this._container=null,this._options=j,this._storageKey=`${B.item.submenu.id}_lastActionId`;let se;const Re=Se.get(this._storageKey,1);Re&&(se=B.actions.find(je=>Re===je.id)),se||(se=B.actions[0]),this._defaultAction=this._instaService.createInstance(H,se,{keybinding:this._getDefaultActionKeybindingLabel(se)});const $e=Object.assign({},j!=null?j:Object.create(null),{menuAsChild:(_e=j==null?void 0:j.menuAsChild)!==null&&_e!==void 0?_e:!0,classNames:(he=j==null?void 0:j.classNames)!==null&&he!==void 0?he:["codicon","codicon-chevron-down"],actionRunner:(le=j==null?void 0:j.actionRunner)!==null&&le!==void 0?le:new S.Wi});this._dropdown=new A.C(B,B.actions,this._contextMenuService,$e),this._dropdown.actionRunner.onDidRun(je=>{je.action instanceof p.U8&&this.update(je.action)})}update(B){this._storageService.store(this._storageKey,B.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(H,B,{keybinding:this._getDefaultActionKeybindingLabel(B)}),this._defaultAction.actionRunner=new class extends S.Wi{runAction(j,G){return K(this,void 0,void 0,function*(){yield j.run(void 0)})}},this._container&&this._defaultAction.render((0,c.Ce)(this._container,(0,c.$)(".action-container")))}_getDefaultActionKeybindingLabel(B){var j;let G;if(!((j=this._options)===null||j===void 0)&&j.renderKeybindingWithDefaultActionLabel){const y=this._keybindingService.lookupKeybinding(B.id);y&&(G=`(${y.getLabel()})`)}return G}setActionContext(B){super.setActionContext(B),this._defaultAction.setActionContext(B),this._dropdown.setActionContext(B)}render(B){this._container=B,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const j=(0,c.$)(".action-container");this._defaultAction.render((0,c.R3)(this._container,j)),this._register((0,c.nm)(j,c.tw.KEY_DOWN,y=>{const pe=new F.y(y);pe.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),pe.stopPropagation())}));const G=(0,c.$)(".dropdown-action-container");this._dropdown.render((0,c.R3)(this._container,G)),this._register((0,c.nm)(G,c.tw.KEY_DOWN,y=>{var pe;const ye=new F.y(y);ye.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(pe=this._defaultAction.element)===null||pe===void 0||pe.focus(),ye.stopPropagation())}))}focus(B){B?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(B){B?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};X=I([M(2,r.d),M(3,m.lT),M(4,f.i),M(5,p.co),M(6,s.TG),M(7,C.Uy)],X);let q=class extends g.Lc{constructor(B,j){super(null,B,B.actions.map(G=>({text:G.id===S.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":G.label,isDisabled:!G.enabled})),0,j,w.BM,{ariaLabel:B.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,B.actions.findIndex(G=>G.checked)))}render(B){super.render(B),B.style.borderColor=(0,D.n_1)(D.a9O)}runAction(B,j){const G=this.action.actions[j];G&&this.actionRunner.run(G)}};q=I([M(1,f.u)],q);function U(L,B,j){return B instanceof p.U8?L.createInstance(H,B,j):B instanceof p.NZ?B.item.isSelection?L.createInstance(q,B):B.item.rememberDefaultAction?L.createInstance(X,B,j):L.createInstance(P,B,j):void 0}},49597:function(vt,be,i){"use strict";i.d(be,{BH:function(){return u},Ke:function(){return E},NZ:function(){return _},U8:function(){return b},co:function(){return m},eH:function(){return r},f6:function(){return s},r1:function(){return D},vr:function(){return f}});var c=i(50453),F=i(81189),g=i(94162),A=i(52357),S=i(23345),$=i(21760),N=i(23286),x=i(64700),O=i(59477),p=function(w,I,M,K){var z=arguments.length,Q=z<3?I:K===null?K=Object.getOwnPropertyDescriptor(I,M):K,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(w,I,M,K);else for(var H=w.length-1;H>=0;H--)(Y=w[H])&&(Q=(z<3?Y(Q):z>3?Y(I,M,Q):Y(I,M))||Q);return z>3&&Q&&Object.defineProperty(I,M,Q),Q},a=function(w,I){return function(M,K){I(M,K,w)}},d=function(w,I){var M={};for(var K in w)Object.prototype.hasOwnProperty.call(w,K)&&I.indexOf(K)<0&&(M[K]=w[K]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,K=Object.getOwnPropertySymbols(w);z<K.length;z++)I.indexOf(K[z])<0&&Object.prototype.propertyIsEnumerable.call(w,K[z])&&(M[K[z]]=w[K[z]]);return M};function f(w){return w.command!==void 0}function s(w){return w.submenu!==void 0}class r{constructor(I){if(r._instances.has(I))throw new TypeError(`MenuId with identifier '${I}' already exists. Use MenuId.for(ident) or a unique identifier`);r._instances.set(I,this),this.id=I}}r._instances=new Map,r.CommandPalette=new r("CommandPalette"),r.DebugBreakpointsContext=new r("DebugBreakpointsContext"),r.DebugCallStackContext=new r("DebugCallStackContext"),r.DebugConsoleContext=new r("DebugConsoleContext"),r.DebugVariablesContext=new r("DebugVariablesContext"),r.DebugWatchContext=new r("DebugWatchContext"),r.DebugToolBar=new r("DebugToolBar"),r.DebugToolBarStop=new r("DebugToolBarStop"),r.EditorContext=new r("EditorContext"),r.SimpleEditorContext=new r("SimpleEditorContext"),r.EditorContent=new r("EditorContent"),r.EditorContextCopy=new r("EditorContextCopy"),r.EditorContextPeek=new r("EditorContextPeek"),r.EditorContextShare=new r("EditorContextShare"),r.EditorTitle=new r("EditorTitle"),r.EditorTitleRun=new r("EditorTitleRun"),r.EditorTitleContext=new r("EditorTitleContext"),r.EmptyEditorGroup=new r("EmptyEditorGroup"),r.EmptyEditorGroupContext=new r("EmptyEditorGroupContext"),r.ExplorerContext=new r("ExplorerContext"),r.ExtensionContext=new r("ExtensionContext"),r.GlobalActivity=new r("GlobalActivity"),r.CommandCenter=new r("CommandCenter"),r.LayoutControlMenuSubmenu=new r("LayoutControlMenuSubmenu"),r.LayoutControlMenu=new r("LayoutControlMenu"),r.MenubarMainMenu=new r("MenubarMainMenu"),r.MenubarAppearanceMenu=new r("MenubarAppearanceMenu"),r.MenubarDebugMenu=new r("MenubarDebugMenu"),r.MenubarEditMenu=new r("MenubarEditMenu"),r.MenubarCopy=new r("MenubarCopy"),r.MenubarFileMenu=new r("MenubarFileMenu"),r.MenubarGoMenu=new r("MenubarGoMenu"),r.MenubarHelpMenu=new r("MenubarHelpMenu"),r.MenubarLayoutMenu=new r("MenubarLayoutMenu"),r.MenubarNewBreakpointMenu=new r("MenubarNewBreakpointMenu"),r.PanelAlignmentMenu=new r("PanelAlignmentMenu"),r.PanelPositionMenu=new r("PanelPositionMenu"),r.MenubarPreferencesMenu=new r("MenubarPreferencesMenu"),r.MenubarRecentMenu=new r("MenubarRecentMenu"),r.MenubarSelectionMenu=new r("MenubarSelectionMenu"),r.MenubarShare=new r("MenubarShare"),r.MenubarSwitchEditorMenu=new r("MenubarSwitchEditorMenu"),r.MenubarSwitchGroupMenu=new r("MenubarSwitchGroupMenu"),r.MenubarTerminalMenu=new r("MenubarTerminalMenu"),r.MenubarViewMenu=new r("MenubarViewMenu"),r.MenubarHomeMenu=new r("MenubarHomeMenu"),r.OpenEditorsContext=new r("OpenEditorsContext"),r.ProblemsPanelContext=new r("ProblemsPanelContext"),r.SCMChangeContext=new r("SCMChangeContext"),r.SCMResourceContext=new r("SCMResourceContext"),r.SCMResourceFolderContext=new r("SCMResourceFolderContext"),r.SCMResourceGroupContext=new r("SCMResourceGroupContext"),r.SCMSourceControl=new r("SCMSourceControl"),r.SCMTitle=new r("SCMTitle"),r.SearchContext=new r("SearchContext"),r.SearchActionMenu=new r("SearchActionContext"),r.StatusBarWindowIndicatorMenu=new r("StatusBarWindowIndicatorMenu"),r.StatusBarRemoteIndicatorMenu=new r("StatusBarRemoteIndicatorMenu"),r.StickyScrollContext=new r("StickyScrollContext"),r.TestItem=new r("TestItem"),r.TestItemGutter=new r("TestItemGutter"),r.TestPeekElement=new r("TestPeekElement"),r.TestPeekTitle=new r("TestPeekTitle"),r.TouchBarContext=new r("TouchBarContext"),r.TitleBarContext=new r("TitleBarContext"),r.TitleBarTitleContext=new r("TitleBarTitleContext"),r.TunnelContext=new r("TunnelContext"),r.TunnelPrivacy=new r("TunnelPrivacy"),r.TunnelProtocol=new r("TunnelProtocol"),r.TunnelPortInline=new r("TunnelInline"),r.TunnelTitle=new r("TunnelTitle"),r.TunnelLocalAddressInline=new r("TunnelLocalAddressInline"),r.TunnelOriginInline=new r("TunnelOriginInline"),r.ViewItemContext=new r("ViewItemContext"),r.ViewContainerTitle=new r("ViewContainerTitle"),r.ViewContainerTitleContext=new r("ViewContainerTitleContext"),r.ViewTitle=new r("ViewTitle"),r.ViewTitleContext=new r("ViewTitleContext"),r.CommentEditorActions=new r("CommentEditorActions"),r.CommentThreadTitle=new r("CommentThreadTitle"),r.CommentThreadActions=new r("CommentThreadActions"),r.CommentThreadAdditionalActions=new r("CommentThreadAdditionalActions"),r.CommentThreadTitleContext=new r("CommentThreadTitleContext"),r.CommentThreadCommentContext=new r("CommentThreadCommentContext"),r.CommentTitle=new r("CommentTitle"),r.CommentActions=new r("CommentActions"),r.InteractiveToolbar=new r("InteractiveToolbar"),r.InteractiveCellTitle=new r("InteractiveCellTitle"),r.InteractiveCellDelete=new r("InteractiveCellDelete"),r.InteractiveCellExecute=new r("InteractiveCellExecute"),r.InteractiveInputExecute=new r("InteractiveInputExecute"),r.NotebookToolbar=new r("NotebookToolbar"),r.NotebookCellTitle=new r("NotebookCellTitle"),r.NotebookCellDelete=new r("NotebookCellDelete"),r.NotebookCellInsert=new r("NotebookCellInsert"),r.NotebookCellBetween=new r("NotebookCellBetween"),r.NotebookCellListTop=new r("NotebookCellTop"),r.NotebookCellExecute=new r("NotebookCellExecute"),r.NotebookCellExecutePrimary=new r("NotebookCellExecutePrimary"),r.NotebookDiffCellInputTitle=new r("NotebookDiffCellInputTitle"),r.NotebookDiffCellMetadataTitle=new r("NotebookDiffCellMetadataTitle"),r.NotebookDiffCellOutputsTitle=new r("NotebookDiffCellOutputsTitle"),r.NotebookOutputToolbar=new r("NotebookOutputToolbar"),r.NotebookEditorLayoutConfigure=new r("NotebookEditorLayoutConfigure"),r.NotebookKernelSource=new r("NotebookKernelSource"),r.BulkEditTitle=new r("BulkEditTitle"),r.BulkEditContext=new r("BulkEditContext"),r.TimelineItemContext=new r("TimelineItemContext"),r.TimelineTitle=new r("TimelineTitle"),r.TimelineTitleContext=new r("TimelineTitleContext"),r.TimelineFilterSubMenu=new r("TimelineFilterSubMenu"),r.AccountsContext=new r("AccountsContext"),r.PanelTitle=new r("PanelTitle"),r.AuxiliaryBarTitle=new r("AuxiliaryBarTitle"),r.TerminalInstanceContext=new r("TerminalInstanceContext"),r.TerminalEditorInstanceContext=new r("TerminalEditorInstanceContext"),r.TerminalNewDropdownContext=new r("TerminalNewDropdownContext"),r.TerminalTabContext=new r("TerminalTabContext"),r.TerminalTabEmptyAreaContext=new r("TerminalTabEmptyAreaContext"),r.TerminalInlineTabContext=new r("TerminalInlineTabContext"),r.WebviewContext=new r("WebviewContext"),r.InlineCompletionsActions=new r("InlineCompletionsActions"),r.NewFile=new r("NewFile"),r.MergeInput1Toolbar=new r("MergeToolbar1Toolbar"),r.MergeInput2Toolbar=new r("MergeToolbar2Toolbar"),r.MergeBaseToolbar=new r("MergeBaseToolbar"),r.MergeInputResultToolbar=new r("MergeToolbarResultToolbar"),r.InlineSuggestionToolbar=new r("InlineSuggestionToolbar");const m=(0,x.yh)("menuService");class C{static for(I){let M=this._all.get(I);return M||(M=new C(I),this._all.set(I,M)),M}static merge(I){const M=new Set;for(const K of I)K instanceof C&&M.add(K.id);return M}constructor(I){this.id=I,this.has=M=>M===I}}C._all=new Map;const u=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new g.SZ({merge:C.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(w){return this._commands.set(w.id,w),this._onDidChangeMenu.fire(C.for(r.CommandPalette)),(0,A.OF)(()=>{this._commands.delete(w.id)&&this._onDidChangeMenu.fire(C.for(r.CommandPalette))})}getCommand(w){return this._commands.get(w)}getCommands(){const w=new Map;return this._commands.forEach((I,M)=>w.set(M,I)),w}appendMenuItem(w,I){let M=this._menuItems.get(w);M||(M=new S.S,this._menuItems.set(w,M));const K=M.push(I);return this._onDidChangeMenu.fire(C.for(w)),(0,A.OF)(K)}appendMenuItems(w){const I=new A.SL;for(const{id:M,item:K}of w)I.add(this.appendMenuItem(M,K));return I}getMenuItems(w){let I;return this._menuItems.has(w)?I=[...this._menuItems.get(w)]:I=[],w===r.CommandPalette&&this._appendImplicitItems(I),I}_appendImplicitItems(w){const I=new Set;for(const M of w)f(M)&&(I.add(M.command.id),M.alt&&I.add(M.alt.id));this._commands.forEach((M,K)=>{I.has(K)||w.push({command:M})})}};class _ extends c.wY{constructor(I,M,K){super(`submenuitem.${I.submenu.id}`,typeof I.title=="string"?I.title:I.title.value,K,"submenu"),this.item=I,this.hideActions=M}}let b=class Od{static label(I,M){return M!=null&&M.renderShortTitle&&I.shortTitle?typeof I.shortTitle=="string"?I.shortTitle:I.shortTitle.value:typeof I.title=="string"?I.title:I.title.value}constructor(I,M,K,z,Q,Y){var H,P;if(this.hideActions=z,this._commandService=Y,this.id=I.id,this.label=Od.label(I,K),this.tooltip=(P=typeof I.tooltip=="string"?I.tooltip:(H=I.tooltip)===null||H===void 0?void 0:H.value)!==null&&P!==void 0?P:"",this.enabled=!I.precondition||Q.contextMatchesRules(I.precondition),this.checked=void 0,I.toggled){const X=I.toggled.condition?I.toggled:{condition:I.toggled};this.checked=Q.contextMatchesRules(X.condition),this.checked&&X.tooltip&&(this.tooltip=typeof X.tooltip=="string"?X.tooltip:X.tooltip.value),X.title&&(this.label=typeof X.title=="string"?X.title:X.title.value)}this.item=I,this.alt=M?new Od(M,void 0,K,z,Q,Y):void 0,this._options=K,F.k.isThemeIcon(I.icon)&&(this.class=F.k.asClassName(I.icon))}run(...I){var M,K;let z=[];return!((M=this._options)===null||M===void 0)&&M.arg&&(z=[...z,this._options.arg]),!((K=this._options)===null||K===void 0)&&K.shouldForwardArgs&&(z=[...z,...I]),this._commandService.executeCommand(this.id,...z)}};b=p([a(4,N.i6),a(5,$.H)],b);class E{constructor(I){this.desc=I}}function D(w){const I=new A.SL,M=new w,K=M.desc,{f1:z,menu:Q,keybinding:Y,description:H}=K,P=d(K,["f1","menu","keybinding","description"]);if(I.add($.P.registerCommand({id:P.id,handler:(X,...q)=>M.run(X,...q),description:H})),Array.isArray(Q))for(const X of Q)I.add(u.appendMenuItem(X.id,Object.assign({command:Object.assign(Object.assign({},P),{precondition:X.precondition===null?void 0:P.precondition})},X)));else Q&&I.add(u.appendMenuItem(Q.id,Object.assign({command:Object.assign(Object.assign({},P),{precondition:Q.precondition===null?void 0:P.precondition})},Q)));if(z&&(I.add(u.appendMenuItem(r.CommandPalette,{command:P,when:P.precondition})),I.add(u.addCommand(P))),Array.isArray(Y))for(const X of Y)I.add(O.W.registerKeybindingRule(Object.assign(Object.assign({},X),{id:P.id,when:P.precondition?N.Ao.and(P.precondition,X.when):X.when})));else Y&&I.add(O.W.registerKeybindingRule(Object.assign(Object.assign({},Y),{id:P.id,when:P.precondition?N.Ao.and(P.precondition,Y.when):Y.when})));return I}},52167:function(vt,be,i){"use strict";i.d(be,{p:function(){return F}});var c=i(64700);const F=(0,c.yh)("clipboardService")},21760:function(vt,be,i){"use strict";i.d(be,{H:function(){return N},P:function(){return x}});var c=i(94162),F=i(62841),g=i(52357),A=i(23345),S=i(67770),$=i(64700);const N=(0,$.yh)("commandService"),x=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new c.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(O,p){if(!O)throw new Error("invalid command");if(typeof O=="string"){if(!p)throw new Error("invalid command");return this.registerCommand({id:O,handler:p})}if(O.description){const r=[];for(const C of O.description.args)r.push(C.constraint);const m=O.handler;O.handler=function(C,...u){return(0,S.D8)(u,r),m(C,...u)}}const{id:a}=O;let d=this._commands.get(a);d||(d=new A.S,this._commands.set(a,d));const f=d.unshift(O),s=(0,g.OF)(()=>{f();const r=this._commands.get(a);r!=null&&r.isEmpty()&&this._commands.delete(a)});return this._onDidRegisterCommand.fire(a),s}registerCommandAlias(O,p){return x.registerCommand(O,(a,...d)=>a.get(N).executeCommand(p,...d))}getCommand(O){const p=this._commands.get(O);if(!(!p||p.isEmpty()))return F.$.first(p)}getCommands(){const O=new Map;for(const p of this._commands.keys()){const a=this.getCommand(p);a&&O.set(p,a)}return O}};x.registerCommand("noop",()=>{})},64464:function(vt,be,i){"use strict";i.d(be,{KV:function(){return A},Mt:function(){return N},Od:function(){return g},UI:function(){return x},Ui:function(){return F},xL:function(){return S}});var c=i(64700);const F=(0,c.yh)("configurationService");function g(O,p){const a=Object.create(null);for(const d in O)A(a,d,O[d],p);return a}function A(O,p,a,d){const f=p.split("."),s=f.pop();let r=O;for(let m=0;m<f.length;m++){const C=f[m];let u=r[C];switch(typeof u){case"undefined":u=r[C]=Object.create(null);break;case"object":break;default:d(`Ignoring ${p} as ${f.slice(0,m+1).join(".")} is ${JSON.stringify(u)}`);return}r=u}if(typeof r=="object"&&r!==null)try{r[s]=a}catch(m){d(`Ignoring ${p} as ${f.join(".")} is ${JSON.stringify(r)}`)}else d(`Ignoring ${p} as ${f.join(".")} is ${JSON.stringify(r)}`)}function S(O,p){const a=p.split(".");$(O,a)}function $(O,p){const a=p.shift();if(p.length===0){delete O[a];return}if(Object.keys(O).indexOf(a)!==-1){const d=O[a];typeof d=="object"&&!Array.isArray(d)&&($(d,p),Object.keys(d).length===0&&delete O[a])}}function N(O,p,a){function d(r,m){let C=r;for(const u of m){if(typeof C!="object"||C===null)return;C=C[u]}return C}const f=p.split("."),s=d(O,f);return typeof s=="undefined"?a:s}function x(O){return O.replace(/[\[\]]/g,"")}},29628:function(vt,be,i){"use strict";i.d(be,{IP:function(){return x},eU:function(){return E},ny:function(){return D}});var c=i(16842),F=i(94162),g=i(67770),A=i(15779),S=i(64464),$=i(19570),N=i(94814);const x={Configuration:"base.contributions.configuration"},O={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},r="vscode://schemas/settings/resourceLanguage",m=N.B.as($.I.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new F.Q5,this._onDidUpdateConfiguration=new F.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:A.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},m.registerSchema(r,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(z,Q=!0){this.registerConfigurations([z],Q)}registerConfigurations(z,Q=!0){const Y=new Set;this.doRegisterConfigurations(z,Q,Y),m.registerSchema(r,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Y})}registerDefaultConfigurations(z){const Q=new Set;this.doRegisterDefaultConfigurations(z,Q),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Q,defaultsOverrides:!0})}doRegisterDefaultConfigurations(z,Q){var Y;const H=[];for(const{overrides:P,source:X}of z)for(const q in P)if(Q.add(q),E.test(q)){const U=this.configurationDefaultsOverrides.get(q),L=(Y=U==null?void 0:U.valuesSources)!==null&&Y!==void 0?Y:new Map;if(X)for(const y of Object.keys(P[q]))L.set(y,X);const B=Object.assign(Object.assign({},(U==null?void 0:U.value)||{}),P[q]);this.configurationDefaultsOverrides.set(q,{source:X,value:B,valuesSources:L});const j=(0,S.UI)(q),G={type:"object",default:B,description:A.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",j),$ref:r,defaultDefaultValue:B,source:g.HD(X)?void 0:X,defaultValueSource:X};H.push(...D(q)),this.configurationProperties[q]=G,this.defaultLanguageConfigurationOverridesNode.properties[q]=G}else{this.configurationDefaultsOverrides.set(q,{value:P[q],source:X});const U=this.configurationProperties[q];U&&(this.updatePropertyDefaultValue(q,U),this.updateSchema(q,U))}this.doRegisterOverrideIdentifiers(H)}registerOverrideIdentifiers(z){this.doRegisterOverrideIdentifiers(z),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(z){for(const Q of z)this.overrideIdentifiers.add(Q);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(z,Q,Y){z.forEach(H=>{this.validateAndRegisterProperties(H,Q,H.extensionInfo,H.restrictedProperties,void 0,Y),this.configurationContributors.push(H),this.registerJSONConfiguration(H)})}validateAndRegisterProperties(z,Q=!0,Y,H,P=3,X){var q;P=g.Jp(z.scope)?P:z.scope;const U=z.properties;if(U)for(const B in U){const j=U[B];if(Q&&M(B,j)){delete U[B];continue}if(j.source=Y,j.defaultDefaultValue=U[B].default,this.updatePropertyDefaultValue(B,j),E.test(B)?j.scope=void 0:(j.scope=g.Jp(j.scope)?P:j.scope,j.restricted=g.Jp(j.restricted)?!!(H!=null&&H.includes(B)):j.restricted),U[B].hasOwnProperty("included")&&!U[B].included){this.excludedConfigurationProperties[B]=U[B],delete U[B];continue}else this.configurationProperties[B]=U[B],!((q=U[B].policy)===null||q===void 0)&&q.name&&this.policyConfigurations.set(U[B].policy.name,B);!U[B].deprecationMessage&&U[B].markdownDeprecationMessage&&(U[B].deprecationMessage=U[B].markdownDeprecationMessage),X.add(B)}const L=z.allOf;if(L)for(const B of L)this.validateAndRegisterProperties(B,Q,Y,H,P,X)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(z){const Q=Y=>{const H=Y.properties;if(H)for(const X in H)this.updateSchema(X,H[X]);const P=Y.allOf;P==null||P.forEach(Q)};Q(z)}updateSchema(z,Q){switch(O.properties[z]=Q,Q.scope){case 1:p.properties[z]=Q;break;case 2:a.properties[z]=Q;break;case 6:d.properties[z]=Q;break;case 3:f.properties[z]=Q;break;case 4:s.properties[z]=Q;break;case 5:s.properties[z]=Q,this.resourceLanguageSettingsSchema.properties[z]=Q;break}}updateOverridePropertyPatternKey(){for(const z of this.overrideIdentifiers.values()){const Q=`[${z}]`,Y={type:"object",description:A.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:A.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:r};this.updatePropertyDefaultValue(Q,Y),O.properties[Q]=Y,p.properties[Q]=Y,a.properties[Q]=Y,d.properties[Q]=Y,f.properties[Q]=Y,s.properties[Q]=Y}}registerOverridePropertyPatternKey(){const z={type:"object",description:A.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:A.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:r};O.patternProperties[b]=z,p.patternProperties[b]=z,a.patternProperties[b]=z,d.patternProperties[b]=z,f.patternProperties[b]=z,s.patternProperties[b]=z,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(z,Q){const Y=this.configurationDefaultsOverrides.get(z);let H=Y==null?void 0:Y.value,P=Y==null?void 0:Y.source;g.o8(H)&&(H=Q.defaultDefaultValue,P=void 0),g.o8(H)&&(H=w(Q.type)),Q.default=H,Q.defaultValueSource=P}}const u="\\[([^\\]]+)\\]",_=new RegExp(u,"g"),b=`^(${u})+$`,E=new RegExp(b);function D(K){const z=[];if(E.test(K)){let Q=_.exec(K);for(;Q!=null&&Q.length;){const Y=Q[1].trim();Y&&z.push(Y),Q=_.exec(K)}}return(0,c.EB)(z)}function w(K){switch(Array.isArray(K)?K[0]:K){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const I=new C;N.B.add(x.Configuration,I);function M(K,z){var Q,Y,H,P;return K.trim()?E.test(K)?A.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",K):I.getConfigurationProperties()[K]!==void 0?A.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",K):!((Q=z.policy)===null||Q===void 0)&&Q.name&&I.getPolicyConfigurations().get((Y=z.policy)===null||Y===void 0?void 0:Y.name)!==void 0?A.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",K,(H=z.policy)===null||H===void 0?void 0:H.name,I.getPolicyConfigurations().get((P=z.policy)===null||P===void 0?void 0:P.name)):null:A.NC("config.property.empty","Cannot register an empty property")}},23286:function(vt,be,i){"use strict";i.d(be,{Ao:function(){return $},Fb:function(){return N},K8:function(){return P},i6:function(){return Q},uy:function(){return z}});var c=i(41420),F=i(30613),g=i(64700);const A=new Map;A.set("false",!1),A.set("true",!0),A.set("isMac",c.dz),A.set("isLinux",c.IJ),A.set("isWindows",c.ED),A.set("isWeb",c.$L),A.set("isMacNative",c.dz&&!c.$L),A.set("isEdge",c.un),A.set("isFirefox",c.vU),A.set("isChrome",c.i7),A.set("isSafari",c.G6);const S=Object.prototype.hasOwnProperty;class ${static has(L){return a.create(L)}static equals(L,B){return d.create(L,B)}static regex(L,B){return D.create(L,B)}static not(L){return m.create(L)}static and(...L){return M.create(L,null,!0)}static or(...L){return K.create(L,null,!0)}static deserialize(L){if(L)return this._deserializeOrExpression(L)}static _deserializeOrExpression(L){const B=L.split("||");return K.create(B.map(j=>this._deserializeAndExpression(j)),null,!0)}static _deserializeAndExpression(L){const B=L.split("&&");return M.create(B.map(j=>this._deserializeOne(j)),null,!0)}static _deserializeOne(L){if(L=L.trim(),L.indexOf("!=")>=0){const B=L.split("!=");return r.create(B[0].trim(),this._deserializeValue(B[1]))}if(L.indexOf("==")>=0){const B=L.split("==");return d.create(B[0].trim(),this._deserializeValue(B[1]))}if(L.indexOf("=~")>=0){const B=L.split("=~");return D.create(B[0].trim(),this._deserializeRegexValue(B[1]))}if(L.indexOf(" not in ")>=0){const B=L.split(" not in ");return s.create(B[0].trim(),this._deserializeValue(B[1]))}if(L.indexOf(" in ")>=0){const B=L.split(" in ");return f.create(B[0].trim(),this._deserializeValue(B[1]))}if(/^[^<=>]+>=[^<=>]+$/.test(L)){const B=L.split(">=");return _.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(L)){const B=L.split(">");return u.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(L)){const B=L.split("<=");return E.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(L)){const B=L.split("<");return b.create(B[0].trim(),B[1].trim())}return/^\!\s*/.test(L)?m.create(L.substr(1).trim()):a.create(L)}static _deserializeValue(L){if(L=L.trim(),L==="true")return!0;if(L==="false")return!1;const B=/^'([^']*)'$/.exec(L);return B?B[1].trim():L}static _deserializeRegexValue(L){if((0,F.m5)(L))return null;const B=L.indexOf("/"),j=L.lastIndexOf("/");if(B===j||B<0)return null;const G=L.slice(B+1,j),y=L[j+1]==="i"?"i":"";try{return new RegExp(G,y)}catch(pe){return null}}}function N(U,L){const B=U?U.substituteConstants():void 0,j=L?L.substituteConstants():void 0;return!B&&!j?!0:!B||!j?!1:B.equals(j)}function x(U,L){return U.cmp(L)}class O{constructor(){this.type=0}cmp(L){return this.type-L.type}equals(L){return L.type===this.type}substituteConstants(){return this}evaluate(L){return!1}serialize(){return"false"}keys(){return[]}negate(){return p.INSTANCE}}O.INSTANCE=new O;class p{constructor(){this.type=1}cmp(L){return this.type-L.type}equals(L){return L.type===this.type}substituteConstants(){return this}evaluate(L){return!0}serialize(){return"true"}keys(){return[]}negate(){return O.INSTANCE}}p.INSTANCE=new p;class a{static create(L,B=null){const j=A.get(L);return typeof j=="boolean"?j?p.INSTANCE:O.INSTANCE:new a(L,B)}constructor(L,B){this.key=L,this.negated=B,this.type=2}cmp(L){return L.type!==this.type?this.type-L.type:Y(this.key,L.key)}equals(L){return L.type===this.type?this.key===L.key:!1}substituteConstants(){const L=A.get(this.key);return typeof L=="boolean"?L?p.INSTANCE:O.INSTANCE:this}evaluate(L){return!!L.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this)),this.negated}}class d{static create(L,B,j=null){if(typeof B=="boolean")return B?a.create(L,j):m.create(L,j);const G=A.get(L);return typeof G=="boolean"?B===(G?"true":"false")?p.INSTANCE:O.INSTANCE:new d(L,B,j)}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=4}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){const L=A.get(this.key);if(typeof L=="boolean"){const B=L?"true":"false";return this.value===B?p.INSTANCE:O.INSTANCE}return this}evaluate(L){return L.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}class f{static create(L,B){return new f(L,B)}constructor(L,B){this.key=L,this.valueKey=B,this.type=10,this.negated=null}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.valueKey,L.key,L.valueKey)}equals(L){return L.type===this.type?this.key===L.key&&this.valueKey===L.valueKey:!1}substituteConstants(){return this}evaluate(L){const B=L.getValue(this.valueKey),j=L.getValue(this.key);return Array.isArray(B)?B.includes(j):typeof j=="string"&&typeof B=="object"&&B!==null?S.call(B,j):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=s.create(this.key,this.valueKey)),this.negated}}class s{static create(L,B){return new s(L,B)}constructor(L,B){this.key=L,this.valueKey=B,this.type=11,this._negated=f.create(L,B)}cmp(L){return L.type!==this.type?this.type-L.type:this._negated.cmp(L._negated)}equals(L){return L.type===this.type?this._negated.equals(L._negated):!1}substituteConstants(){return this}evaluate(L){return!this._negated.evaluate(L)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class r{static create(L,B,j=null){if(typeof B=="boolean")return B?m.create(L,j):a.create(L,j);const G=A.get(L);return typeof G=="boolean"?B===(G?"true":"false")?O.INSTANCE:p.INSTANCE:new r(L,B,j)}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=5}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){const L=A.get(this.key);if(typeof L=="boolean"){const B=L?"true":"false";return this.value===B?O.INSTANCE:p.INSTANCE}return this}evaluate(L){return L.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}class m{static create(L,B=null){const j=A.get(L);return typeof j=="boolean"?j?O.INSTANCE:p.INSTANCE:new m(L,B)}constructor(L,B){this.key=L,this.negated=B,this.type=3}cmp(L){return L.type!==this.type?this.type-L.type:Y(this.key,L.key)}equals(L){return L.type===this.type?this.key===L.key:!1}substituteConstants(){const L=A.get(this.key);return typeof L=="boolean"?L?O.INSTANCE:p.INSTANCE:this}evaluate(L){return!L.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}function C(U,L){if(typeof U=="string"){const B=parseFloat(U);isNaN(B)||(U=B)}return typeof U=="string"||typeof U=="number"?L(U):O.INSTANCE}class u{static create(L,B,j=null){return C(B,G=>new u(L,G,j))}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=12}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){return this}evaluate(L){return typeof this.value=="string"?!1:parseFloat(L.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class _{static create(L,B,j=null){return C(B,G=>new _(L,G,j))}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=13}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){return this}evaluate(L){return typeof this.value=="string"?!1:parseFloat(L.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class b{static create(L,B,j=null){return C(B,G=>new b(L,G,j))}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=14}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){return this}evaluate(L){return typeof this.value=="string"?!1:parseFloat(L.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this.value,this)),this.negated}}class E{static create(L,B,j=null){return C(B,G=>new E(L,G,j))}constructor(L,B,j){this.key=L,this.value=B,this.negated=j,this.type=15}cmp(L){return L.type!==this.type?this.type-L.type:H(this.key,this.value,L.key,L.value)}equals(L){return L.type===this.type?this.key===L.key&&this.value===L.value:!1}substituteConstants(){return this}evaluate(L){return typeof this.value=="string"?!1:parseFloat(L.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}class D{static create(L,B){return new D(L,B)}constructor(L,B){this.key=L,this.regexp=B,this.type=7,this.negated=null}cmp(L){if(L.type!==this.type)return this.type-L.type;if(this.key<L.key)return-1;if(this.key>L.key)return 1;const B=this.regexp?this.regexp.source:"",j=L.regexp?L.regexp.source:"";return B<j?-1:B>j?1:0}equals(L){if(L.type===this.type){const B=this.regexp?this.regexp.source:"",j=L.regexp?L.regexp.source:"";return this.key===L.key&&B===j}return!1}substituteConstants(){return this}evaluate(L){const B=L.getValue(this.key);return this.regexp?this.regexp.test(B):!1}serialize(){const L=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${L}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this)),this.negated}}class w{static create(L){return new w(L)}constructor(L){this._actual=L,this.type=8}cmp(L){return L.type!==this.type?this.type-L.type:this._actual.cmp(L._actual)}equals(L){return L.type===this.type?this._actual.equals(L._actual):!1}substituteConstants(){return this}evaluate(L){return!this._actual.evaluate(L)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function I(U){let L=null;for(let B=0,j=U.length;B<j;B++){const G=U[B].substituteConstants();if(U[B]!==G&&L===null){L=[];for(let y=0;y<B;y++)L[y]=U[y]}L!==null&&(L[B]=G)}return L===null?U:L}class M{static create(L,B,j){return M._normalizeArr(L,B,j)}constructor(L,B){this.expr=L,this.negated=B,this.type=6}cmp(L){if(L.type!==this.type)return this.type-L.type;if(this.expr.length<L.expr.length)return-1;if(this.expr.length>L.expr.length)return 1;for(let B=0,j=this.expr.length;B<j;B++){const G=x(this.expr[B],L.expr[B]);if(G!==0)return G}return 0}equals(L){if(L.type===this.type){if(this.expr.length!==L.expr.length)return!1;for(let B=0,j=this.expr.length;B<j;B++)if(!this.expr[B].equals(L.expr[B]))return!1;return!0}return!1}substituteConstants(){const L=I(this.expr);return L===this.expr?this:M.create(L,this.negated,!1)}evaluate(L){for(let B=0,j=this.expr.length;B<j;B++)if(!this.expr[B].evaluate(L))return!1;return!0}static _normalizeArr(L,B,j){const G=[];let y=!1;for(const pe of L)if(pe){if(pe.type===1){y=!0;continue}if(pe.type===0)return O.INSTANCE;if(pe.type===6){G.push(...pe.expr);continue}G.push(pe)}if(G.length===0&&y)return p.INSTANCE;if(G.length!==0){if(G.length===1)return G[0];G.sort(x);for(let pe=1;pe<G.length;pe++)G[pe-1].equals(G[pe])&&(G.splice(pe,1),pe--);if(G.length===1)return G[0];for(;G.length>1;){const pe=G[G.length-1];if(pe.type!==9)break;G.pop();const ye=G.pop(),me=G.length===0,Se=K.create(pe.expr.map(_e=>M.create([_e,ye],null,j)),null,me);Se&&(G.push(Se),G.sort(x))}if(G.length===1)return G[0];if(j){for(let pe=0;pe<G.length;pe++)for(let ye=pe+1;ye<G.length;ye++)if(G[pe].negate().equals(G[ye]))return O.INSTANCE;if(G.length===1)return G[0]}return new M(G,B)}}serialize(){return this.expr.map(L=>L.serialize()).join(" && ")}keys(){const L=[];for(const B of this.expr)L.push(...B.keys());return L}negate(){if(!this.negated){const L=[];for(const B of this.expr)L.push(B.negate());this.negated=K.create(L,this,!0)}return this.negated}}class K{static create(L,B,j){return K._normalizeArr(L,B,j)}constructor(L,B){this.expr=L,this.negated=B,this.type=9}cmp(L){if(L.type!==this.type)return this.type-L.type;if(this.expr.length<L.expr.length)return-1;if(this.expr.length>L.expr.length)return 1;for(let B=0,j=this.expr.length;B<j;B++){const G=x(this.expr[B],L.expr[B]);if(G!==0)return G}return 0}equals(L){if(L.type===this.type){if(this.expr.length!==L.expr.length)return!1;for(let B=0,j=this.expr.length;B<j;B++)if(!this.expr[B].equals(L.expr[B]))return!1;return!0}return!1}substituteConstants(){const L=I(this.expr);return L===this.expr?this:K.create(L,this.negated,!1)}evaluate(L){for(let B=0,j=this.expr.length;B<j;B++)if(this.expr[B].evaluate(L))return!0;return!1}static _normalizeArr(L,B,j){let G=[],y=!1;if(L){for(let pe=0,ye=L.length;pe<ye;pe++){const me=L[pe];if(me){if(me.type===0){y=!0;continue}if(me.type===1)return p.INSTANCE;if(me.type===9){G=G.concat(me.expr);continue}G.push(me)}}if(G.length===0&&y)return O.INSTANCE;G.sort(x)}if(G.length!==0){if(G.length===1)return G[0];for(let pe=1;pe<G.length;pe++)G[pe-1].equals(G[pe])&&(G.splice(pe,1),pe--);if(G.length===1)return G[0];if(j){for(let pe=0;pe<G.length;pe++)for(let ye=pe+1;ye<G.length;ye++)if(G[pe].negate().equals(G[ye]))return p.INSTANCE;if(G.length===1)return G[0]}return new K(G,B)}}serialize(){return this.expr.map(L=>L.serialize()).join(" || ")}keys(){const L=[];for(const B of this.expr)L.push(...B.keys());return L}negate(){if(!this.negated){const L=[];for(const B of this.expr)L.push(B.negate());for(;L.length>1;){const B=L.shift(),j=L.shift(),G=[];for(const y of q(B))for(const pe of q(j))G.push(M.create([y,pe],null,!1));L.unshift(K.create(G,null,!1))}this.negated=K.create(L,this,!0)}return this.negated}}class z extends a{static all(){return z._info.values()}constructor(L,B,j){super(L,null),this._defaultValue=B,typeof j=="object"?z._info.push(Object.assign(Object.assign({},j),{key:L})):j!==!0&&z._info.push({key:L,description:j,type:B!=null?typeof B:void 0})}bindTo(L){return L.createKey(this.key,this._defaultValue)}getValue(L){return L.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(L){return d.create(this.key,L)}}z._info=[];const Q=(0,g.yh)("contextKeyService");function Y(U,L){return U<L?-1:U>L?1:0}function H(U,L,B,j){return U<B?-1:U>B?1:L<j?-1:L>j?1:0}function P(U,L){if(U.type===0||L.type===1)return!0;if(U.type===9)return L.type===9?X(U.expr,L.expr):!1;if(L.type===9){for(const B of L.expr)if(P(U,B))return!0;return!1}if(U.type===6){if(L.type===6)return X(L.expr,U.expr);for(const B of U.expr)if(P(B,L))return!0;return!1}return U.equals(L)}function X(U,L){let B=0,j=0;for(;B<U.length&&j<L.length;){const G=U[B].cmp(L[j]);if(G<0)return!1;G===0&&B++,j++}return B===U.length}function q(U){return U.type===9?U.expr:[U]}},58842:function(vt,be,i){"use strict";i.d(be,{cv:function(){return $},d0:function(){return f}});var c=i(41420),F=i(15779),g=i(23286);const A=new g.uy("isMac",c.dz,(0,F.NC)("isMac","Whether the operating system is macOS")),S=new g.uy("isLinux",c.IJ,(0,F.NC)("isLinux","Whether the operating system is Linux")),$=new g.uy("isWindows",c.ED,(0,F.NC)("isWindows","Whether the operating system is Windows")),N=new g.uy("isWeb",c.$L,(0,F.NC)("isWeb","Whether the platform is a web browser")),x=new g.uy("isMacNative",c.dz&&!c.$L,(0,F.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),O=new g.uy("isIOS",c.gn,(0,F.NC)("isIOS","Whether the operating system is iOS")),p=new g.uy("isMobile",c.tq,(0,F.NC)("isMobile","Whether the platform is a mobile web browser")),a=new g.uy("isDevelopment",!1,!0),d=new g.uy("productQualityType","",(0,F.NC)("productQualityType","Quality type of VS Code")),f="inputFocus",s=new g.uy(f,!1,(0,F.NC)("inputFocus","Whether keyboard focus is inside an input box"))},81477:function(vt,be,i){"use strict";i.d(be,{i:function(){return g},u:function(){return F}});var c=i(64700);const F=(0,c.yh)("contextViewService"),g=(0,c.yh)("contextMenuService")},12676:function(vt,be,i){"use strict";i.d(be,{S:function(){return F}});var c=i(64700);const F=(0,c.yh)("dialogService")},44872:function(vt,be,i){"use strict";i.d(be,{Yb:function(){return K},Nq:function(){return z},iX:function(){return _}});var c=i(79402),F=i(16563),g=i(27654),A=i(806),S=i(89021),$=i(54195),N=i(94162),x=i(42553),O=i(15779);const p=O.NC("defaultLabel","input"),a=O.NC("label.preserveCaseToggle","Preserve Case");class d extends g.Z{constructor(Y){super({icon:$.l.preserveCase,title:a+Y.appendTitle,isChecked:Y.isChecked,inputActiveOptionBorder:Y.inputActiveOptionBorder,inputActiveOptionForeground:Y.inputActiveOptionForeground,inputActiveOptionBackground:Y.inputActiveOptionBackground})}}class f extends S.${constructor(Y,H,P,X){super(),this._showOptionButtons=P,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new N.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new N.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new N.Q5),this._onInput=this._register(new N.Q5),this._onKeyUp=this._register(new N.Q5),this._onPreserveCaseKeyDown=this._register(new N.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=H,this.placeholder=X.placeholder||"",this.validation=X.validation,this.label=X.label||p;const q=X.appendPreserveCaseLabel||"",U=X.history||[],L=!!X.flexibleHeight,B=!!X.flexibleWidth,j=X.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new A.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:U,showHistoryHint:X.showHistoryHint,flexibleHeight:L,flexibleWidth:B,flexibleMaxHeight:j,inputBoxStyles:X.inputBoxStyles})),this.preserveCase=this._register(new d(Object.assign({appendTitle:q,isChecked:!1},X.toggleStyles))),this._register(this.preserveCase.onChange(pe=>{this._onDidOptionChange.fire(pe),!pe&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(pe=>{this._onPreserveCaseKeyDown.fire(pe)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const G=[this.preserveCase.domNode];this.onkeydown(this.domNode,pe=>{if(pe.equals(15)||pe.equals(17)||pe.equals(9)){const ye=G.indexOf(document.activeElement);if(ye>=0){let me=-1;pe.equals(17)?me=(ye+1)%G.length:pe.equals(15)&&(ye===0?me=G.length-1:me=ye-1),pe.equals(9)?(G[ye].blur(),this.inputBox.focus()):me>=0&&G[me].focus(),F.zB.stop(pe,!0)}}});const y=document.createElement("div");y.className="controls",y.style.display=this._showOptionButtons?"block":"none",y.appendChild(this.preserveCase.domNode),this.domNode.appendChild(y),Y==null||Y.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,pe=>this._onKeyDown.fire(pe)),this.onkeyup(this.inputBox.inputElement,pe=>this._onKeyUp.fire(pe)),this.oninput(this.inputBox.inputElement,pe=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,pe=>this._onMouseDown.fire(pe))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(Y){Y?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(Y){this.preserveCase.checked=Y}focusOnPreserve(){this.preserveCase.focus()}validate(){var Y;(Y=this.inputBox)===null||Y===void 0||Y.validate()}set width(Y){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=Y+"px"}dispose(){super.dispose()}}var s=i(23286),r=i(59477),m=i(52357),C=function(Q,Y,H,P){var X=arguments.length,q=X<3?Y:P===null?P=Object.getOwnPropertyDescriptor(Y,H):P,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Q,Y,H,P);else for(var L=Q.length-1;L>=0;L--)(U=Q[L])&&(q=(X<3?U(q):X>3?U(Y,H,q):U(Y,H))||q);return X>3&&q&&Object.defineProperty(Y,H,q),q},u=function(Q,Y){return function(H,P){Y(H,P,Q)}};const _=new s.uy("suggestWidgetVisible",!1,(0,O.NC)("suggestWidgetVisible","Whether suggestion are visible")),b="historyNavigationWidgetFocus",E="historyNavigationForwardsEnabled",D="historyNavigationBackwardsEnabled";let w;const I=[];function M(Q,Y){if(I.includes(Y))throw new Error("Cannot register the same widget multiple times");I.push(Y);const H=new m.SL,P=new s.uy(b,!1).bindTo(Q),X=new s.uy(E,!0).bindTo(Q),q=new s.uy(D,!0).bindTo(Q),U=()=>{P.set(!0),w=Y},L=()=>{P.set(!1),w===Y&&(w=void 0)};return Y.element===document.activeElement&&U(),H.add(Y.onDidFocus(()=>U())),H.add(Y.onDidBlur(()=>L())),H.add((0,m.OF)(()=>{I.splice(I.indexOf(Y),1),L()})),{historyNavigationForwardsEnablement:X,historyNavigationBackwardsEnablement:q,dispose(){H.dispose()}}}let K=class extends c.V{constructor(Y,H,P,X){super(Y,H,P);const q=this._register(X.createScoped(this.inputBox.element));this._register(M(q,this.inputBox))}};K=C([u(3,s.i6)],K);let z=class extends f{constructor(Y,H,P,X,q=!1){super(Y,H,q,P);const U=this._register(X.createScoped(this.inputBox.element));this._register(M(U,this.inputBox))}};z=C([u(3,s.i6)],z),r.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:s.Ao.and(s.Ao.has(b),s.Ao.equals(D,!0),_.isEqualTo(!1)),primary:16,secondary:[528],handler:Q=>{w==null||w.showPreviousValue()}}),r.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:s.Ao.and(s.Ao.has(b),s.Ao.equals(E,!0),_.isEqualTo(!1)),primary:18,secondary:[530],handler:Q=>{w==null||w.showNextValue()}})},33321:function(vt,be,i){"use strict";i.d(be,{M:function(){return c}});class c{constructor(g,A=[],S=!1){this.ctor=g,this.staticArguments=A,this.supportsDelayedInstantiation=S}}},70751:function(vt,be,i){"use strict";i.d(be,{d:function(){return A},z:function(){return g}});var c=i(33321);const F=[];function g(S,$,N){$ instanceof c.M||($=new c.M($,[],Boolean(N))),F.push([S,$])}function A(){return F}},64700:function(vt,be,i){"use strict";i.d(be,{I8:function(){return c},TG:function(){return F},yh:function(){return A}});var c;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function $(N){return N[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=$})(c||(c={}));const F=A("instantiationService");function g(S,$,N){$[c.DI_TARGET]===$?$[c.DI_DEPENDENCIES].push({id:S,index:N}):($[c.DI_DEPENDENCIES]=[{id:S,index:N}],$[c.DI_TARGET]=$)}function A(S){if(c.serviceIds.has(S))return c.serviceIds.get(S);const $=function(N,x,O){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");g($,N,O)};return $.toString=()=>S,c.serviceIds.set(S,$),$}},59660:function(vt,be,i){"use strict";i.d(be,{y:function(){return c}});class c{constructor(...g){this._entries=new Map;for(const[A,S]of g)this.set(A,S)}set(g,A){const S=this._entries.get(g);return this._entries.set(g,A),S}get(g){return this._entries.get(g)}}},19570:function(vt,be,i){"use strict";i.d(be,{I:function(){return g}});var c=i(94162),F=i(94814);const g={JSONContribution:"base.contributions.json"};function A(N){return N.length>0&&N.charAt(N.length-1)==="#"?N.substring(0,N.length-1):N}class S{constructor(){this._onDidChangeSchema=new c.Q5,this.schemasById={}}registerSchema(x,O){this.schemasById[A(x)]=O,this._onDidChangeSchema.fire(x)}notifySchemaChanged(x){this._onDidChangeSchema.fire(x)}}const $=new S;F.B.add(g.JSONContribution,$)},22437:function(vt,be,i){"use strict";i.d(be,{d:function(){return F}});var c=i(64700);const F=(0,c.yh)("keybindingService")},59477:function(vt,be,i){"use strict";i.d(be,{W:function(){return x}});var c=i(4526),F=i(41420),g=i(21760),A=i(94814),S=i(52357),$=i(23345);class N{constructor(){this._coreKeybindings=new $.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(d){if(F.OS===1){if(d&&d.win)return d.win}else if(F.OS===2){if(d&&d.mac)return d.mac}else if(d&&d.linux)return d.linux;return d}registerKeybindingRule(d){const f=N.bindToCurrentPlatform(d),s=new S.SL;if(f&&f.primary){const r=(0,c.Z9)(f.primary,F.OS);r&&s.add(this._registerDefaultKeybinding(r,d.id,d.args,d.weight,0,d.when))}if(f&&Array.isArray(f.secondary))for(let r=0,m=f.secondary.length;r<m;r++){const C=f.secondary[r],u=(0,c.Z9)(C,F.OS);u&&s.add(this._registerDefaultKeybinding(u,d.id,d.args,d.weight,-r-1,d.when))}return s}registerCommandAndKeybindingRule(d){return(0,S.F8)(this.registerKeybindingRule(d),g.P.registerCommand(d))}_registerDefaultKeybinding(d,f,s,r,m,C){const u=this._coreKeybindings.push({keybinding:d,command:f,commandArgs:s,when:C,weight1:r,weight2:m,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.OF)(()=>{u(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}const x=new N,O={EditorModes:"platform.keybindingsRegistry"};A.B.add(O.EditorModes,x);function p(a,d){if(a.weight1!==d.weight1)return a.weight1-d.weight1;if(a.command&&d.command){if(a.command<d.command)return-1;if(a.command>d.command)return 1}return a.weight2-d.weight2}},4408:function(vt,be,i){"use strict";i.d(be,{e:function(){return F}});var c=i(64700);const F=(0,c.yh)("labelService")},14023:function(vt,be,i){"use strict";i.d(be,{Lw:function(){return Ni},XN:function(){return yi},ls:function(){return T},ev:function(){return qi},CQ:function(){return Dn},PS:function(){return ie},uJ:function(){return We}});var c=i(16563),F=i(16842),g=i(19713),A=i(94162),S=i(52357),$=i(89027),N=i(2898);class x{get templateId(){return this.renderer.templateId}constructor(V,de){this.renderer=V,this.modelProvider=de}renderTemplate(V){return{data:this.renderer.renderTemplate(V),disposable:S.JT.None}}renderElement(V,de,Ee,Xe){var Pe;if((Pe=Ee.disposable)===null||Pe===void 0||Pe.dispose(),!Ee.data)return;const pt=this.modelProvider();if(pt.isResolved(V))return this.renderer.renderElement(pt.get(V),V,Ee.data,Xe);const It=new g.A,Rt=pt.resolve(V,It.token);Ee.disposable={dispose:()=>It.cancel()},this.renderer.renderPlaceholder(V,Ee.data),Rt.then(ei=>this.renderer.renderElement(ei,V,Ee.data,Xe))}disposeTemplate(V){V.disposable&&(V.disposable.dispose(),V.disposable=void 0),V.data&&(this.renderer.disposeTemplate(V.data),V.data=void 0)}}class O{constructor(V,de){this.modelProvider=V,this.accessibilityProvider=de}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(V){const de=this.modelProvider();return de.isResolved(V)?this.accessibilityProvider.getAriaLabel(de.get(V)):null}}function p(Ye,V){return Object.assign(Object.assign({},V),{accessibilityProvider:V.accessibilityProvider&&new O(Ye,V.accessibilityProvider)})}class a{constructor(V,de,Ee,Xe,Pe={}){const pt=()=>this.model,It=Xe.map(Rt=>new x(Rt,pt));this.list=new N.aV(V,de,Ee,It,p(pt,Pe))}updateOptions(V){this.list.updateOptions(V)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return A.ju.map(this.list.onMouseDblClick,({element:V,index:de,browserEvent:Ee})=>({element:V===void 0?void 0:this._model.get(V),index:de,browserEvent:Ee}))}get onPointer(){return A.ju.map(this.list.onPointer,({element:V,index:de,browserEvent:Ee})=>({element:V===void 0?void 0:this._model.get(V),index:de,browserEvent:Ee}))}get onDidChangeSelection(){return A.ju.map(this.list.onDidChangeSelection,({elements:V,indexes:de,browserEvent:Ee})=>({elements:V.map(Xe=>this._model.get(Xe)),indexes:de,browserEvent:Ee}))}get model(){return this._model}set model(V){this._model=V,this.list.splice(0,this.list.length,(0,F.w6)(V.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(V=>this.model.get(V))}style(V){this.list.style(V)}dispose(){this.list.dispose()}}var d=i(99035);class f{constructor(V,de,Ee){this.columns=V,this.getColumnSize=Ee,this.templateId=f.TemplateId,this.renderedTemplates=new Set;const Xe=new Map(de.map(Pe=>[Pe.templateId,Pe]));this.renderers=[];for(const Pe of V){const pt=Xe.get(Pe.templateId);if(!pt)throw new Error(`Table cell renderer for template id ${Pe.templateId} not found.`);this.renderers.push(pt)}}renderTemplate(V){const de=(0,c.R3)(V,(0,c.$)(".monaco-table-tr")),Ee=[],Xe=[];for(let pt=0;pt<this.columns.length;pt++){const It=this.renderers[pt],Rt=(0,c.R3)(de,(0,c.$)(".monaco-table-td",{"data-col-index":pt}));Rt.style.width=`${this.getColumnSize(pt)}px`,Ee.push(Rt),Xe.push(It.renderTemplate(Rt))}const Pe={container:V,cellContainers:Ee,cellTemplateData:Xe};return this.renderedTemplates.add(Pe),Pe}renderElement(V,de,Ee,Xe){for(let Pe=0;Pe<this.columns.length;Pe++){const It=this.columns[Pe].project(V);this.renderers[Pe].renderElement(It,de,Ee.cellTemplateData[Pe],Xe)}}disposeElement(V,de,Ee,Xe){for(let Pe=0;Pe<this.columns.length;Pe++){const pt=this.renderers[Pe];if(pt.disposeElement){const Rt=this.columns[Pe].project(V);pt.disposeElement(Rt,de,Ee.cellTemplateData[Pe],Xe)}}}disposeTemplate(V){for(let de=0;de<this.columns.length;de++)this.renderers[de].disposeTemplate(V.cellTemplateData[de]);(0,c.PO)(V.container),this.renderedTemplates.delete(V)}layoutColumn(V,de){for(const{cellContainers:Ee}of this.renderedTemplates)Ee[V].style.width=`${de}px`}}f.TemplateId="row";function s(Ye){return{getHeight(V){return Ye.getHeight(V)},getTemplateId(){return f.TemplateId}}}class r{get minimumSize(){var V;return(V=this.column.minimumWidth)!==null&&V!==void 0?V:120}get maximumSize(){var V;return(V=this.column.maximumWidth)!==null&&V!==void 0?V:Number.POSITIVE_INFINITY}get onDidChange(){var V;return(V=this.column.onDidChangeWidthConstraints)!==null&&V!==void 0?V:A.ju.None}constructor(V,de){this.column=V,this.index=de,this._onDidLayout=new A.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,c.$)(".monaco-table-th",{"data-col-index":de,title:V.tooltip},V.label)}layout(V){this._onDidLayout.fire([this.index,V])}}class m{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}constructor(V,de,Ee,Xe,Pe,pt){this.virtualDelegate=Ee,this.domId=`table_id_${++m.InstanceCount}`,this.disposables=new S.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,c.R3)(de,(0,c.$)(`.monaco-table.${this.domId}`));const It=Xe.map((ni,pi)=>new r(ni,pi)),Rt={size:It.reduce((ni,pi)=>ni+pi.column.weight,0),views:It.map(ni=>({size:ni.column.weight,view:ni}))};this.splitview=this.disposables.add(new d.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Rt})),this.splitview.el.style.height=`${Ee.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Ee.headerRowHeight}px`;const ei=new f(Xe,Pe,ni=>this.splitview.getViewSize(ni));this.list=this.disposables.add(new N.aV(V,this.domNode,s(Ee),[ei],pt)),A.ju.any(...It.map(ni=>ni.onDidLayout))(([ni,pi])=>ei.layoutColumn(ni,pi),null,this.disposables),this.splitview.onDidSashReset(ni=>{const pi=Xe.reduce((wi,ci)=>wi+ci.weight,0),mi=Xe[ni].weight/pi*this.cachedWidth;this.splitview.resizeView(ni,mi)},null,this.disposables),this.styleElement=(0,c.dS)(this.domNode),this.style(N.uZ)}updateOptions(V){this.list.updateOptions(V)}splice(V,de,Ee=[]){this.list.splice(V,de,Ee)}getHTMLElement(){return this.domNode}style(V){const de=[];de.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=de.join(`
`),this.list.style(V)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}m.InstanceCount=0;var C=i(25396),u=i(87415),_=i(38224),b=i(79402),E=i(806),D=i(68668),w=i(27654),I;(function(Ye){Ye[Ye.Unknown=0]="Unknown",Ye[Ye.Twistie=1]="Twistie",Ye[Ye.Element=2]="Element",Ye[Ye.Filter=3]="Filter"})(I||(I={}));class M extends Error{constructor(V,de){super(`TreeError [${V}] ${de}`)}}class K{constructor(V){this.fn=V,this._map=new WeakMap}map(V){let de=this._map.get(V);return de||(de=this.fn(V),this._map.set(V,de)),de}}var z=i(39460),Q=i(88925),Y=i(87721),H=i(62841);function P(Ye){return typeof Ye=="object"&&"visibility"in Ye&&"data"in Ye}function X(Ye){switch(Ye){case!0:return 1;case!1:return 0;default:return Ye}}function q(Ye){return typeof Ye.collapsible=="boolean"}class U{constructor(V,de,Ee,Xe={}){this.user=V,this.list=de,this.rootRef=[],this.eventBufferer=new A.E7,this._onDidChangeCollapseState=new A.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new A.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new A.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new z.vp(Q.n),this.collapseByDefault=typeof Xe.collapseByDefault=="undefined"?!1:Xe.collapseByDefault,this.filter=Xe.filter,this.autoExpandSingleChildren=typeof Xe.autoExpandSingleChildren=="undefined"?!1:Xe.autoExpandSingleChildren,this.root={parent:void 0,element:Ee,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(V,de,Ee=H.$.empty(),Xe={}){if(V.length===0)throw new M(this.user,"Invalid tree location");Xe.diffIdentityProvider?this.spliceSmart(Xe.diffIdentityProvider,V,de,Ee,Xe):this.spliceSimple(V,de,Ee,Xe)}spliceSmart(V,de,Ee,Xe,Pe,pt){var It;Xe===void 0&&(Xe=H.$.empty()),pt===void 0&&(pt=(It=Pe.diffDepth)!==null&&It!==void 0?It:0);const{parentNode:Rt}=this.getParentNodeWithListIndex(de);if(!Rt.lastDiffIds)return this.spliceSimple(de,Ee,Xe,Pe);const ei=[...Xe],ni=de[de.length-1],pi=new Y.Hs({getElements:()=>Rt.lastDiffIds},{getElements:()=>[...Rt.children.slice(0,ni),...ei,...Rt.children.slice(ni+Ee)].map(Ti=>V.getId(Ti.element).toString())}).ComputeDiff(!1);if(pi.quitEarly)return Rt.lastDiffIds=void 0,this.spliceSimple(de,Ee,ei,Pe);const mi=de.slice(0,-1),wi=(Ti,Yi,Zn)=>{if(pt>0)for(let wn=0;wn<Zn;wn++)Ti--,Yi--,this.spliceSmart(V,[...mi,Ti,0],Number.MAX_SAFE_INTEGER,ei[Yi].children,Pe,pt-1)};let ci=Math.min(Rt.children.length,ni+Ee),vi=ei.length;for(const Ti of pi.changes.sort((Yi,Zn)=>Zn.originalStart-Yi.originalStart))wi(ci,vi,ci-(Ti.originalStart+Ti.originalLength)),ci=Ti.originalStart,vi=Ti.modifiedStart-ni,this.spliceSimple([...mi,ci],Ti.originalLength,H.$.slice(ei,vi,vi+Ti.modifiedLength),Pe);wi(ci,vi,ci)}spliceSimple(V,de,Ee=H.$.empty(),{onDidCreateNode:Xe,onDidDeleteNode:Pe,diffIdentityProvider:pt}){const{parentNode:It,listIndex:Rt,revealed:ei,visible:ni}=this.getParentNodeWithListIndex(V),pi=[],mi=H.$.map(Ee,xn=>this.createTreeNode(xn,It,It.visible?1:0,ei,pi,Xe)),wi=V[V.length-1],ci=It.children.length>0;let vi=0;for(let xn=wi;xn>=0&&xn<It.children.length;xn--){const Gn=It.children[xn];if(Gn.visible){vi=Gn.visibleChildIndex;break}}const Ti=[];let Yi=0,Zn=0;for(const xn of mi)Ti.push(xn),Zn+=xn.renderNodeCount,xn.visible&&(xn.visibleChildIndex=vi+Yi++);const wn=(0,F.db)(It.children,wi,de,Ti);pt?It.lastDiffIds?(0,F.db)(It.lastDiffIds,wi,de,Ti.map(xn=>pt.getId(xn.element).toString())):It.lastDiffIds=It.children.map(xn=>pt.getId(xn.element).toString()):It.lastDiffIds=void 0;let Cs=0;for(const xn of wn)xn.visible&&Cs++;if(Cs!==0)for(let xn=wi+Ti.length;xn<It.children.length;xn++){const Gn=It.children[xn];Gn.visible&&(Gn.visibleChildIndex-=Cs)}if(It.visibleChildrenCount+=Yi-Cs,ei&&ni){const xn=wn.reduce((Gn,Ss)=>Gn+(Ss.visible?Ss.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(It,Zn-xn),this.list.splice(Rt,xn,pi)}if(wn.length>0&&Pe){const xn=Gn=>{Pe(Gn),Gn.children.forEach(xn)};wn.forEach(xn)}this._onDidSplice.fire({insertedNodes:Ti,deletedNodes:wn});const bs=It.children.length>0;ci!==bs&&this.setCollapsible(V.slice(0,-1),bs);let Ms=It;for(;Ms;){if(Ms.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}Ms=Ms.parent}}rerender(V){if(V.length===0)throw new M(this.user,"Invalid tree location");const{node:de,listIndex:Ee,revealed:Xe}=this.getTreeNodeWithListIndex(V);de.visible&&Xe&&this.list.splice(Ee,1,[de])}has(V){return this.hasTreeNode(V)}getListIndex(V){const{listIndex:de,visible:Ee,revealed:Xe}=this.getTreeNodeWithListIndex(V);return Ee&&Xe?de:-1}getListRenderCount(V){return this.getTreeNode(V).renderNodeCount}isCollapsible(V){return this.getTreeNode(V).collapsible}setCollapsible(V,de){const Ee=this.getTreeNode(V);typeof de=="undefined"&&(de=!Ee.collapsible);const Xe={collapsible:de};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(V,Xe))}isCollapsed(V){return this.getTreeNode(V).collapsed}setCollapsed(V,de,Ee){const Xe=this.getTreeNode(V);typeof de=="undefined"&&(de=!Xe.collapsed);const Pe={collapsed:de,recursive:Ee||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(V,Pe))}_setCollapseState(V,de){const{node:Ee,listIndex:Xe,revealed:Pe}=this.getTreeNodeWithListIndex(V),pt=this._setListNodeCollapseState(Ee,Xe,Pe,de);if(Ee!==this.root&&this.autoExpandSingleChildren&&pt&&!q(de)&&Ee.collapsible&&!Ee.collapsed&&!de.recursive){let It=-1;for(let Rt=0;Rt<Ee.children.length;Rt++)if(Ee.children[Rt].visible)if(It>-1){It=-1;break}else It=Rt;It>-1&&this._setCollapseState([...V,It],de)}return pt}_setListNodeCollapseState(V,de,Ee,Xe){const Pe=this._setNodeCollapseState(V,Xe,!1);if(!Ee||!V.visible||!Pe)return Pe;const pt=V.renderNodeCount,It=this.updateNodeAfterCollapseChange(V),Rt=pt-(de===-1?0:1);return this.list.splice(de+1,Rt,It.slice(1)),Pe}_setNodeCollapseState(V,de,Ee){let Xe;if(V===this.root?Xe=!1:(q(de)?(Xe=V.collapsible!==de.collapsible,V.collapsible=de.collapsible):V.collapsible?(Xe=V.collapsed!==de.collapsed,V.collapsed=de.collapsed):Xe=!1,Xe&&this._onDidChangeCollapseState.fire({node:V,deep:Ee})),!q(de)&&de.recursive)for(const Pe of V.children)Xe=this._setNodeCollapseState(Pe,de,!0)||Xe;return Xe}expandTo(V){this.eventBufferer.bufferEvents(()=>{let de=this.getTreeNode(V);for(;de.parent;)de=de.parent,V=V.slice(0,V.length-1),de.collapsed&&this._setCollapseState(V,{collapsed:!1,recursive:!1})})}refilter(){const V=this.root.renderNodeCount,de=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,V,de),this.refilterDelayer.cancel()}createTreeNode(V,de,Ee,Xe,Pe,pt){const It={parent:de,element:V.element,children:[],depth:de.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof V.collapsible=="boolean"?V.collapsible:typeof V.collapsed!="undefined",collapsed:typeof V.collapsed=="undefined"?this.collapseByDefault:V.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Rt=this._filterNode(It,Ee);It.visibility=Rt,Xe&&Pe.push(It);const ei=V.children||H.$.empty(),ni=Xe&&Rt!==0&&!It.collapsed;let pi=0,mi=1;for(const wi of ei){const ci=this.createTreeNode(wi,It,Rt,ni,Pe,pt);It.children.push(ci),mi+=ci.renderNodeCount,ci.visible&&(ci.visibleChildIndex=pi++)}return It.collapsible=It.collapsible||It.children.length>0,It.visibleChildrenCount=pi,It.visible=Rt===2?pi>0:Rt===1,It.visible?It.collapsed||(It.renderNodeCount=mi):(It.renderNodeCount=0,Xe&&Pe.pop()),pt==null||pt(It),It}updateNodeAfterCollapseChange(V){const de=V.renderNodeCount,Ee=[];return this._updateNodeAfterCollapseChange(V,Ee),this._updateAncestorsRenderNodeCount(V.parent,Ee.length-de),Ee}_updateNodeAfterCollapseChange(V,de){if(V.visible===!1)return 0;if(de.push(V),V.renderNodeCount=1,!V.collapsed)for(const Ee of V.children)V.renderNodeCount+=this._updateNodeAfterCollapseChange(Ee,de);return this._onDidChangeRenderNodeCount.fire(V),V.renderNodeCount}updateNodeAfterFilterChange(V){const de=V.renderNodeCount,Ee=[];return this._updateNodeAfterFilterChange(V,V.visible?1:0,Ee),this._updateAncestorsRenderNodeCount(V.parent,Ee.length-de),Ee}_updateNodeAfterFilterChange(V,de,Ee,Xe=!0){let Pe;if(V!==this.root){if(Pe=this._filterNode(V,de),Pe===0)return V.visible=!1,V.renderNodeCount=0,!1;Xe&&Ee.push(V)}const pt=Ee.length;V.renderNodeCount=V===this.root?0:1;let It=!1;if(!V.collapsed||Pe!==0){let Rt=0;for(const ei of V.children)It=this._updateNodeAfterFilterChange(ei,Pe,Ee,Xe&&!V.collapsed)||It,ei.visible&&(ei.visibleChildIndex=Rt++);V.visibleChildrenCount=Rt}else V.visibleChildrenCount=0;return V!==this.root&&(V.visible=Pe===2?It:Pe===1,V.visibility=Pe),V.visible?V.collapsed||(V.renderNodeCount+=Ee.length-pt):(V.renderNodeCount=0,Xe&&Ee.pop()),this._onDidChangeRenderNodeCount.fire(V),V.visible}_updateAncestorsRenderNodeCount(V,de){if(de!==0)for(;V;)V.renderNodeCount+=de,this._onDidChangeRenderNodeCount.fire(V),V=V.parent}_filterNode(V,de){const Ee=this.filter?this.filter.filter(V.element,de):1;return typeof Ee=="boolean"?(V.filterData=void 0,Ee?1:0):P(Ee)?(V.filterData=Ee.data,X(Ee.visibility)):(V.filterData=void 0,X(Ee))}hasTreeNode(V,de=this.root){if(!V||V.length===0)return!0;const[Ee,...Xe]=V;return Ee<0||Ee>de.children.length?!1:this.hasTreeNode(Xe,de.children[Ee])}getTreeNode(V,de=this.root){if(!V||V.length===0)return de;const[Ee,...Xe]=V;if(Ee<0||Ee>de.children.length)throw new M(this.user,"Invalid tree location");return this.getTreeNode(Xe,de.children[Ee])}getTreeNodeWithListIndex(V){if(V.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:de,listIndex:Ee,revealed:Xe,visible:Pe}=this.getParentNodeWithListIndex(V),pt=V[V.length-1];if(pt<0||pt>de.children.length)throw new M(this.user,"Invalid tree location");const It=de.children[pt];return{node:It,listIndex:Ee,revealed:Xe,visible:Pe&&It.visible}}getParentNodeWithListIndex(V,de=this.root,Ee=0,Xe=!0,Pe=!0){const[pt,...It]=V;if(pt<0||pt>de.children.length)throw new M(this.user,"Invalid tree location");for(let Rt=0;Rt<pt;Rt++)Ee+=de.children[Rt].renderNodeCount;return Xe=Xe&&!de.collapsed,Pe=Pe&&de.visible,It.length===0?{parentNode:de,listIndex:Ee,revealed:Xe,visible:Pe}:this.getParentNodeWithListIndex(It,de.children[pt],Ee+1,Xe,Pe)}getNode(V=[]){return this.getTreeNode(V)}getNodeLocation(V){const de=[];let Ee=V;for(;Ee.parent;)de.push(Ee.parent.children.indexOf(Ee)),Ee=Ee.parent;return de.reverse()}getParentNodeLocation(V){if(V.length!==0)return V.length===1?[]:(0,F.JH)(V)[0]}getFirstElementChild(V){const de=this.getTreeNode(V);if(de.children.length!==0)return de.children[0].element}}var L=i(50453),B=i(54195),j=i(81189);class G{constructor(){this.map=new Map}add(V,de){let Ee=this.map.get(V);Ee||(Ee=new Set,this.map.set(V,Ee)),Ee.add(de)}delete(V,de){const Ee=this.map.get(V);Ee&&(Ee.delete(de),Ee.size===0&&this.map.delete(V))}forEach(V,de){const Ee=this.map.get(V);Ee&&Ee.forEach(de)}}var y=i(61842),pe=i(88523),ye=i(67770),me=i(15779),Se=function(Ye,V,de,Ee){function Xe(Pe){return Pe instanceof de?Pe:new de(function(pt){pt(Pe)})}return new(de||(de=Promise))(function(Pe,pt){function It(ni){try{ei(Ee.next(ni))}catch(pi){pt(pi)}}function Rt(ni){try{ei(Ee.throw(ni))}catch(pi){pt(pi)}}function ei(ni){ni.done?Pe(ni.value):Xe(ni.value).then(It,Rt)}ei((Ee=Ee.apply(Ye,V||[])).next())})};class _e extends D.kX{constructor(V){super(V.elements.map(de=>de.element)),this.data=V}}function he(Ye){return Ye instanceof D.kX?new _e(Ye):Ye}class le{constructor(V,de){this.modelProvider=V,this.dnd=de,this.autoExpandDisposable=S.JT.None}getDragURI(V){return this.dnd.getDragURI(V.element)}getDragLabel(V,de){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V.map(Ee=>Ee.element),de)}onDragStart(V,de){var Ee,Xe;(Xe=(Ee=this.dnd).onDragStart)===null||Xe===void 0||Xe.call(Ee,he(V),de)}onDragOver(V,de,Ee,Xe,Pe=!0){const pt=this.dnd.onDragOver(he(V),de&&de.element,Ee,Xe),It=this.autoExpandNode!==de;if(It&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=de),typeof de=="undefined")return pt;if(It&&typeof pt!="boolean"&&pt.autoExpand&&(this.autoExpandDisposable=(0,z.Vg)(()=>{const mi=this.modelProvider(),wi=mi.getNodeLocation(de);mi.isCollapsed(wi)&&mi.setCollapsed(wi,!1),this.autoExpandNode=void 0},500)),typeof pt=="boolean"||!pt.accept||typeof pt.bubble=="undefined"||pt.feedback){if(!Pe){const mi=typeof pt=="boolean"?pt:pt.accept,wi=typeof pt=="boolean"?void 0:pt.effect;return{accept:mi,effect:wi,feedback:[Ee]}}return pt}if(pt.bubble===1){const mi=this.modelProvider(),wi=mi.getNodeLocation(de),ci=mi.getParentNodeLocation(wi),vi=mi.getNode(ci),Ti=ci&&mi.getListIndex(ci);return this.onDragOver(V,vi,Ti,Xe,!1)}const Rt=this.modelProvider(),ei=Rt.getNodeLocation(de),ni=Rt.getListIndex(ei),pi=Rt.getListRenderCount(ei);return Object.assign(Object.assign({},pt),{feedback:(0,F.w6)(ni,ni+pi)})}drop(V,de,Ee,Xe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(he(V),de&&de.element,Ee,Xe)}onDragEnd(V){var de,Ee;(Ee=(de=this.dnd).onDragEnd)===null||Ee===void 0||Ee.call(de,V)}}function se(Ye,V){return V&&Object.assign(Object.assign({},V),{identityProvider:V.identityProvider&&{getId(de){return V.identityProvider.getId(de.element)}},dnd:V.dnd&&new le(Ye,V.dnd),multipleSelectionController:V.multipleSelectionController&&{isSelectionSingleChangeEvent(de){return V.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},de),{element:de.element}))},isSelectionRangeChangeEvent(de){return V.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},de),{element:de.element}))}},accessibilityProvider:V.accessibilityProvider&&Object.assign(Object.assign({},V.accessibilityProvider),{getSetSize(de){const Ee=Ye(),Xe=Ee.getNodeLocation(de),Pe=Ee.getParentNodeLocation(Xe);return Ee.getNode(Pe).visibleChildrenCount},getPosInSet(de){return de.visibleChildIndex+1},isChecked:V.accessibilityProvider&&V.accessibilityProvider.isChecked?de=>V.accessibilityProvider.isChecked(de.element):void 0,getRole:V.accessibilityProvider&&V.accessibilityProvider.getRole?de=>V.accessibilityProvider.getRole(de.element):()=>"treeitem",getAriaLabel(de){return V.accessibilityProvider.getAriaLabel(de.element)},getWidgetAriaLabel(){return V.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:V.accessibilityProvider&&V.accessibilityProvider.getWidgetRole?()=>V.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:V.accessibilityProvider&&V.accessibilityProvider.getAriaLevel?de=>V.accessibilityProvider.getAriaLevel(de.element):de=>de.depth,getActiveDescendantId:V.accessibilityProvider.getActiveDescendantId&&(de=>V.accessibilityProvider.getActiveDescendantId(de.element))}),keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},V.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(de){return V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(de.element)}})})}class Re{constructor(V){this.delegate=V}getHeight(V){return this.delegate.getHeight(V.element)}getTemplateId(V){return this.delegate.getTemplateId(V.element)}hasDynamicHeight(V){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(V.element)}setDynamicHeight(V,de){var Ee,Xe;(Xe=(Ee=this.delegate).setDynamicHeight)===null||Xe===void 0||Xe.call(Ee,V.element,de)}}var $e;(function(Ye){Ye.None="none",Ye.OnHover="onHover",Ye.Always="always"})($e||($e={}));class je{get elements(){return this._elements}constructor(V,de=[]){this._elements=de,this.disposables=new S.SL,this.onDidChange=A.ju.forEach(V,Ee=>this._elements=Ee,this.disposables)}dispose(){this.disposables.dispose()}}class Ce{constructor(V,de,Ee,Xe,Pe,pt={}){var It;this.renderer=V,this.modelProvider=de,this.activeNodes=Xe,this.renderedIndentGuides=Pe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Ce.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=S.JT.None,this.disposables=new S.SL,this.templateId=V.templateId,this.updateOptions(pt),A.ju.map(Ee,Rt=>Rt.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(It=V.onDidChangeTwistieState)===null||It===void 0||It.call(V,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(V={}){if(typeof V.indent!="undefined"){const de=(0,pe.uZ)(V.indent,0,40);if(de!==this.indent){this.indent=de;for(const[Ee,Xe]of this.renderedNodes)this.renderTreeElement(Ee,Xe)}}if(typeof V.renderIndentGuides!="undefined"){const de=V.renderIndentGuides!==$e.None;if(de!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=de;for(const[Ee,Xe]of this.renderedNodes)this._renderIndentGuides(Ee,Xe);if(this.indentGuidesDisposable.dispose(),de){const Ee=new S.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Ee),this.indentGuidesDisposable=Ee,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof V.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=V.hideTwistiesOfChildlessElements)}renderTemplate(V){const de=(0,c.R3)(V,(0,c.$)(".monaco-tl-row")),Ee=(0,c.R3)(de,(0,c.$)(".monaco-tl-indent")),Xe=(0,c.R3)(de,(0,c.$)(".monaco-tl-twistie")),Pe=(0,c.R3)(de,(0,c.$)(".monaco-tl-contents")),pt=this.renderer.renderTemplate(Pe);return{container:V,indent:Ee,twistie:Xe,indentGuidesDisposable:S.JT.None,templateData:pt}}renderElement(V,de,Ee,Xe){this.renderedNodes.set(V,Ee),this.renderedElements.set(V.element,V),this.renderTreeElement(V,Ee),this.renderer.renderElement(V,de,Ee.templateData,Xe)}disposeElement(V,de,Ee,Xe){var Pe,pt;Ee.indentGuidesDisposable.dispose(),(pt=(Pe=this.renderer).disposeElement)===null||pt===void 0||pt.call(Pe,V,de,Ee.templateData,Xe),typeof Xe=="number"&&(this.renderedNodes.delete(V),this.renderedElements.delete(V.element))}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}onDidChangeTwistieState(V){const de=this.renderedElements.get(V);de&&this.onDidChangeNodeTwistieState(de)}onDidChangeNodeTwistieState(V){const de=this.renderedNodes.get(V);de&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(V,de))}renderTreeElement(V,de){const Ee=Ce.DefaultIndent+(V.depth-1)*this.indent;de.twistie.style.paddingLeft=`${Ee}px`,de.indent.style.width=`${Ee+this.indent-16}px`,V.collapsible?de.container.setAttribute("aria-expanded",String(!V.collapsed)):de.container.removeAttribute("aria-expanded"),de.twistie.classList.remove(...j.k.asClassNameArray(B.l.treeItemExpanded));let Xe=!1;this.renderer.renderTwistie&&(Xe=this.renderer.renderTwistie(V.element,de.twistie)),V.collapsible&&(!this.hideTwistiesOfChildlessElements||V.visibleChildrenCount>0)?(Xe||de.twistie.classList.add(...j.k.asClassNameArray(B.l.treeItemExpanded)),de.twistie.classList.add("collapsible"),de.twistie.classList.toggle("collapsed",V.collapsed)):de.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(V,de)}_renderIndentGuides(V,de){if((0,c.PO)(de.indent),de.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Ee=new S.SL,Xe=this.modelProvider();for(;;){const Pe=Xe.getNodeLocation(V),pt=Xe.getParentNodeLocation(Pe);if(!pt)break;const It=Xe.getNode(pt),Rt=(0,c.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(It)&&Rt.classList.add("active"),de.indent.childElementCount===0?de.indent.appendChild(Rt):de.indent.insertBefore(Rt,de.indent.firstElementChild),this.renderedIndentGuides.add(It,Rt),Ee.add((0,S.OF)(()=>this.renderedIndentGuides.delete(It,Rt))),V=It}de.indentGuidesDisposable=Ee}_onDidChangeActiveNodes(V){if(!this.shouldRenderIndentGuides)return;const de=new Set,Ee=this.modelProvider();V.forEach(Xe=>{const Pe=Ee.getNodeLocation(Xe);try{const pt=Ee.getParentNodeLocation(Pe);Xe.collapsible&&Xe.children.length>0&&!Xe.collapsed?de.add(Xe):pt&&de.add(Ee.getNode(pt))}catch(pt){}}),this.activeIndentNodes.forEach(Xe=>{de.has(Xe)||this.renderedIndentGuides.forEach(Xe,Pe=>Pe.classList.remove("active"))}),de.forEach(Xe=>{this.activeIndentNodes.has(Xe)||this.renderedIndentGuides.forEach(Xe,Pe=>Pe.classList.add("active"))}),this.activeIndentNodes=de}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,S.B9)(this.disposables)}}Ce.DefaultIndent=8;class J{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(V,de,Ee){this.tree=V,this.keyboardNavigationLabelProvider=de,this._filter=Ee,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new S.SL,V.onWillRefilter(this.reset,this,this.disposables)}filter(V,de){let Ee=1;if(this._filter){const pt=this._filter.filter(V,de);if(typeof pt=="boolean"?Ee=pt?1:0:P(pt)?Ee=X(pt.visibility):Ee=pt,Ee===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:y.CL.Default,visibility:Ee};const Xe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V),Pe=Array.isArray(Xe)?Xe:[Xe];for(const pt of Pe){const It=pt&&pt.toString();if(typeof It=="undefined")return{data:y.CL.Default,visibility:Ee};let Rt;if(this.tree.findMatchType===ct.Contiguous){const ei=It.toLowerCase().indexOf(this._lowercasePattern);if(ei>-1){Rt=[Number.MAX_SAFE_INTEGER,0];for(let ni=this._lowercasePattern.length;ni>0;ni--)Rt.push(ei+ni-1)}}else Rt=(0,y.EW)(this._pattern,this._lowercasePattern,0,It,It.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Rt)return this._matchCount++,Pe.length===1?{data:Rt,visibility:Ee}:{data:{label:It,score:Rt},visibility:Ee}}return this.tree.findMode===Ke.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(V):2:{data:y.CL.Default,visibility:Ee}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,S.B9)(this.disposables)}}class ne extends null{constructor(V){var de;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(de=V.isChecked)!==null&&de!==void 0?de:!1,inputActiveOptionBorder:V.inputActiveOptionBorder,inputActiveOptionForeground:V.inputActiveOptionForeground,inputActiveOptionBackground:V.inputActiveOptionBackground})}}class ae extends null{constructor(V){var de;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(de=V.isChecked)!==null&&de!==void 0?de:!1,inputActiveOptionBorder:V.inputActiveOptionBorder,inputActiveOptionForeground:V.inputActiveOptionForeground,inputActiveOptionBackground:V.inputActiveOptionBackground})}}const xe={inputBoxStyles:E.g4,toggleStyles:w.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var Ke;(function(Ye){Ye[Ye.Highlight=0]="Highlight",Ye[Ye.Filter=1]="Filter"})(Ke||(Ke={}));var ct;(function(Ye){Ye[Ye.Fuzzy=0]="Fuzzy",Ye[Ye.Contiguous=1]="Contiguous"})(ct||(ct={}));class ot extends null{set mode(V){this.modeToggle.checked=V===Ke.Filter,this.findInput.inputBox.setPlaceHolder(V===Ke.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(V){this.matchTypeToggle.checked=V===ct.Fuzzy}constructor(V,de,Ee,Xe,Pe,pt){var It;super(),this.tree=de,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,V.appendChild(this.elements.root),this._register(toDisposable(()=>V.removeChild(this.elements.root)));const Rt=(It=pt==null?void 0:pt.styles)!==null&&It!==void 0?It:xe;Rt.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=Rt.listFilterWidgetBackground),Rt.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${Rt.listFilterWidgetShadow}`),this.modeToggle=this._register(new ne(Object.assign(Object.assign({},Rt.toggleStyles),{isChecked:Xe===Ke.Filter}))),this.matchTypeToggle=this._register(new ae(Object.assign(Object.assign({},Rt.toggleStyles),{isChecked:Pe===ct.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?Ke.Filter:Ke.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?ct.Fuzzy:ct.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,Ee,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:Rt.inputBoxStyles,toggleStyles:Rt.toggleStyles,history:pt==null?void 0:pt.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=Xe;const ei=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),ni=this._register(Event.chain(ei.event)).map(ci=>new StandardKeyboardEvent(ci)).event;this._register(ni(ci=>{if(ci.equals(3)){ci.preventDefault(),ci.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(ci.equals(18)){ci.preventDefault(),ci.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(ci.equals(16)){ci.preventDefault(),ci.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const pi=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(pi,{icon:!0,label:!1});const mi=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(mi.event(ci=>{const vi=new DisposableStore,Ti=vi.add(new DomEmitter(window,"mousemove")),Yi=vi.add(new DomEmitter(window,"mouseup")),Zn=this.right,wn=ci.pageX,Cs=this.top,bs=ci.pageY;this.elements.grab.classList.add("grabbing");const Ms=this.elements.root.style.transition;this.elements.root.style.transition="unset";const xn=Gn=>{const Ss=Gn.pageX-wn;this.right=Zn-Ss;const Co=Gn.pageY-bs;this.top=Cs+Co,this.layout()};vi.add(Ti.event(xn)),vi.add(Yi.event(Gn=>{xn(Gn),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Ms,vi.dispose()}))}));const wi=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(ci=>new StandardKeyboardEvent(ci)).event;this._register(wi(ci=>{let vi,Ti;if(ci.keyCode===15?vi=Number.POSITIVE_INFINITY:ci.keyCode===17?vi=0:ci.keyCode===10&&(vi=this.right===0?Number.POSITIVE_INFINITY:0),ci.keyCode===16?Ti=0:ci.keyCode===18&&(Ti=Number.POSITIVE_INFINITY),vi!==void 0&&(ci.preventDefault(),ci.stopPropagation(),this.right=vi,this.layout()),Ti!==void 0){ci.preventDefault(),ci.stopPropagation(),this.top=Ti;const Yi=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Yi},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(V=this.width){this.width=V,this.right=clamp(this.right,0,Math.max(0,V-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(V){this.findInput.showMessage(V)}clearMessage(){this.findInput.clearMessage()}dispose(){const V=Object.create(null,{dispose:{get:()=>super.dispose}});return Se(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),V.dispose.call(this)})}}class dt{get pattern(){return this._pattern}get mode(){return this._mode}set mode(V){V!==this._mode&&(this._mode=V,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(V))}get matchType(){return this._matchType}set matchType(V){V!==this._matchType&&(this._matchType=V,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(V))}constructor(V,de,Ee,Xe,Pe,pt={}){var It,Rt;this.tree=V,this.view=Ee,this.filter=Xe,this.contextViewProvider=Pe,this.options=pt,this._pattern="",this.width=0,this._onDidChangeMode=new A.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new A.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new A.Q5,this._onDidChangeOpenState=new A.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new S.SL,this.disposables=new S.SL,this._mode=(It=V.options.defaultFindMode)!==null&&It!==void 0?It:Ke.Highlight,this._matchType=(Rt=V.options.defaultFindMatchType)!==null&&Rt!==void 0?Rt:ct.Fuzzy,de.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(V={}){V.defaultFindMode!==void 0&&(this.mode=V.defaultFindMode),V.defaultFindMatchType!==void 0&&(this.matchType=V.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var V,de,Ee,Xe;const Pe=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Pe?!((V=this.tree.options.showNotFoundMessage)!==null&&V!==void 0)||V?(de=this.widget)===null||de===void 0||de.showMessage({type:2,content:(0,me.NC)("not found","No elements found.")}):(Ee=this.widget)===null||Ee===void 0||Ee.showMessage({type:2}):(Xe=this.widget)===null||Xe===void 0||Xe.clearMessage()}shouldAllowFocus(V){return!this.widget||!this.pattern||this._mode===Ke.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!y.CL.isDefault(V.filterData)}layout(V){var de;this.width=V,(de=this.widget)===null||de===void 0||de.layout(V)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function et(Ye){let V=I.Unknown;return(0,c.uU)(Ye.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?V=I.Twistie:(0,c.uU)(Ye.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?V=I.Element:(0,c.uU)(Ye.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(V=I.Filter),{browserEvent:Ye.browserEvent,element:Ye.element?Ye.element.element:null,target:V}}function Fe(Ye,V){V(Ye),Ye.children.forEach(de=>Fe(de,V))}class Le{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(V,de){this.getFirstViewElementWithTrait=V,this.identityProvider=de,this.nodes=[],this._onDidChange=new A.Q5,this.onDidChange=this._onDidChange.event}set(V,de){!(de!=null&&de.__forceEvent)&&(0,F.fS)(this.nodes,V)||this._set(V,!1,de)}_set(V,de,Ee){if(this.nodes=[...V],this.elements=void 0,this._nodeSet=void 0,!de){const Xe=this;this._onDidChange.fire({get elements(){return Xe.get()},browserEvent:Ee})}}get(){return this.elements||(this.elements=this.nodes.map(V=>V.element)),[...this.elements]}getNodes(){return this.nodes}has(V){return this.nodeSet.has(V)}onDidModelSplice({insertedNodes:V,deletedNodes:de}){if(!this.identityProvider){const Rt=this.createNodeSet(),ei=ni=>Rt.delete(ni);de.forEach(ni=>Fe(ni,ei)),this.set([...Rt.values()]);return}const Ee=new Set,Xe=Rt=>Ee.add(this.identityProvider.getId(Rt.element).toString());de.forEach(Rt=>Fe(Rt,Xe));const Pe=new Map,pt=Rt=>Pe.set(this.identityProvider.getId(Rt.element).toString(),Rt);V.forEach(Rt=>Fe(Rt,pt));const It=[];for(const Rt of this.nodes){const ei=this.identityProvider.getId(Rt.element).toString();if(!Ee.has(ei))It.push(Rt);else{const pi=Pe.get(ei);pi&&It.push(pi)}}if(this.nodes.length>0&&It.length===0){const Rt=this.getFirstViewElementWithTrait();Rt&&It.push(Rt)}this._set(It,!0)}createNodeSet(){const V=new Set;for(const de of this.nodes)V.add(de);return V}}class Te extends N.sx{constructor(V,de){super(V),this.tree=de}onViewPointer(V){if((0,N.iK)(V.browserEvent.target)||(0,N.cK)(V.browserEvent.target)||(0,N.hD)(V.browserEvent.target))return;const de=V.element;if(!de)return super.onViewPointer(V);if(this.isSelectionRangeChangeEvent(V)||this.isSelectionSingleChangeEvent(V))return super.onViewPointer(V);const Ee=V.browserEvent.target,Xe=Ee.classList.contains("monaco-tl-twistie")||Ee.classList.contains("monaco-icon-label")&&Ee.classList.contains("folder-icon")&&V.browserEvent.offsetX<16;let Pe=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Pe=this.tree.expandOnlyOnTwistieClick(de.element):Pe=!!this.tree.expandOnlyOnTwistieClick,Pe&&!Xe&&V.browserEvent.detail!==2)return super.onViewPointer(V);if(!this.tree.expandOnDoubleClick&&V.browserEvent.detail===2)return super.onViewPointer(V);if(de.collapsible){const pt=this.tree.getNodeLocation(de),It=V.browserEvent.altKey;if(this.tree.setFocus([pt]),this.tree.toggleCollapsed(pt,It),Pe&&Xe)return}super.onViewPointer(V)}onDoubleClick(V){V.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(V)}}class ge extends N.aV{constructor(V,de,Ee,Xe,Pe,pt,It,Rt){super(V,de,Ee,Xe,Rt),this.focusTrait=Pe,this.selectionTrait=pt,this.anchorTrait=It}createMouseController(V){return new Te(this,V.tree)}splice(V,de,Ee=[]){if(super.splice(V,de,Ee),Ee.length===0)return;const Xe=[],Pe=[];let pt;Ee.forEach((It,Rt)=>{this.focusTrait.has(It)&&Xe.push(V+Rt),this.selectionTrait.has(It)&&Pe.push(V+Rt),this.anchorTrait.has(It)&&(pt=V+Rt)}),Xe.length>0&&super.setFocus((0,F.EB)([...super.getFocus(),...Xe])),Pe.length>0&&super.setSelection((0,F.EB)([...super.getSelection(),...Pe])),typeof pt=="number"&&super.setAnchor(pt)}setFocus(V,de,Ee=!1){super.setFocus(V,de),Ee||this.focusTrait.set(V.map(Xe=>this.element(Xe)),de)}setSelection(V,de,Ee=!1){super.setSelection(V,de),Ee||this.selectionTrait.set(V.map(Xe=>this.element(Xe)),de)}setAnchor(V,de=!1){super.setAnchor(V),de||(typeof V=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(V)]))}}class ve{get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return A.ju.filter(A.ju.map(this.view.onMouseDblClick,et),V=>V.target!==I.Filter)}get onPointer(){return A.ju.map(this.view.onPointer,et)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return A.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var V,de;return(de=(V=this.findController)===null||V===void 0?void 0:V.mode)!==null&&de!==void 0?de:Ke.Highlight}set findMode(V){this.findController&&(this.findController.mode=V)}get findMatchType(){var V,de;return(de=(V=this.findController)===null||V===void 0?void 0:V.matchType)!==null&&de!==void 0?de:ct.Fuzzy}set findMatchType(V){this.findController&&(this.findController.matchType=V)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(V,de,Ee,Xe,Pe={}){var pt;this._user=V,this._options=Pe,this.eventBufferer=new A.E7,this.onDidChangeFindOpenState=A.ju.None,this.disposables=new S.SL,this._onWillRefilter=new A.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new A.Q5;const It=new Re(Ee),Rt=new A.ZD,ei=new A.ZD,ni=this.disposables.add(new je(ei.event)),pi=new G;this.renderers=Xe.map(ci=>new Ce(ci,()=>this.model,Rt.event,ni,pi,Pe));for(const ci of this.renderers)this.disposables.add(ci);let mi;Pe.keyboardNavigationLabelProvider&&(mi=new J(this,Pe.keyboardNavigationLabelProvider,Pe.filter),Pe=Object.assign(Object.assign({},Pe),{filter:mi}),this.disposables.add(mi)),this.focus=new Le(()=>this.view.getFocusedElements()[0],Pe.identityProvider),this.selection=new Le(()=>this.view.getSelectedElements()[0],Pe.identityProvider),this.anchor=new Le(()=>this.view.getAnchorElement(),Pe.identityProvider),this.view=new ge(V,de,It,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},se(()=>this.model,Pe)),{tree:this})),this.model=this.createModel(V,this.view,Pe),Rt.input=this.model.onDidChangeCollapseState;const wi=A.ju.forEach(this.model.onDidSplice,ci=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ci),this.selection.onDidModelSplice(ci)})},this.disposables);if(wi(()=>null,null,this.disposables),ei.input=A.ju.chain(A.ju.any(wi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ci=new Set;for(const vi of this.focus.getNodes())ci.add(vi);for(const vi of this.selection.getNodes())ci.add(vi);return[...ci.values()]}).event,Pe.keyboardSupport!==!1){const ci=A.ju.chain(this.view.onKeyDown).filter(vi=>!(0,N.cK)(vi.target)).map(vi=>new u.y(vi));ci.filter(vi=>vi.keyCode===15).on(this.onLeftArrow,this,this.disposables),ci.filter(vi=>vi.keyCode===17).on(this.onRightArrow,this,this.disposables),ci.filter(vi=>vi.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((pt=Pe.findWidgetEnabled)!==null&&pt!==void 0)||pt)&&Pe.keyboardNavigationLabelProvider&&Pe.contextViewProvider){const ci=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new dt(this,this.model,this.view,mi,Pe.contextViewProvider,ci),this.focusNavigationFilter=vi=>this.findController.shouldAllowFocus(vi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=A.ju.None,this.onDidChangeFindMatchType=A.ju.None;this.styleElement=(0,c.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===$e.Always)}updateOptions(V={}){var de;this._options=Object.assign(Object.assign({},this._options),V);for(const Ee of this.renderers)Ee.updateOptions(V);this.view.updateOptions(this._options),(de=this.findController)===null||de===void 0||de.updateOptions(V),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===$e.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(V){this.view.scrollTop=V}domFocus(){this.view.domFocus()}layout(V,de){var Ee;this.view.layout(V,de),(0,ye.hj)(de)&&((Ee=this.findController)===null||Ee===void 0||Ee.layout(de))}style(V){const de=`.${this.view.domId}`,Ee=[];V.treeIndentGuidesStroke&&(Ee.push(`.monaco-list${de}:hover .monaco-tl-indent > .indent-guide, .monaco-list${de}.always .monaco-tl-indent > .indent-guide  { border-color: ${V.treeInactiveIndentGuidesStroke}; }`),Ee.push(`.monaco-list${de} .monaco-tl-indent > .indent-guide.active { border-color: ${V.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Ee.join(`
`),this.view.style(V)}getParentElement(V){const de=this.model.getParentNodeLocation(V);return this.model.getNode(de).element}getFirstElementChild(V){return this.model.getFirstElementChild(V)}getNode(V){return this.model.getNode(V)}getNodeLocation(V){return this.model.getNodeLocation(V)}collapse(V,de=!1){return this.model.setCollapsed(V,!0,de)}expand(V,de=!1){return this.model.setCollapsed(V,!1,de)}toggleCollapsed(V,de=!1){return this.model.setCollapsed(V,void 0,de)}isCollapsible(V){return this.model.isCollapsible(V)}setCollapsible(V,de){return this.model.setCollapsible(V,de)}isCollapsed(V){return this.model.isCollapsed(V)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(V,de){const Ee=V.map(Pe=>this.model.getNode(Pe));this.selection.set(Ee,de);const Xe=V.map(Pe=>this.model.getListIndex(Pe)).filter(Pe=>Pe>-1);this.view.setSelection(Xe,de,!0)}getSelection(){return this.selection.get()}setFocus(V,de){const Ee=V.map(Pe=>this.model.getNode(Pe));this.focus.set(Ee,de);const Xe=V.map(Pe=>this.model.getListIndex(Pe)).filter(Pe=>Pe>-1);this.view.setFocus(Xe,de,!0)}getFocus(){return this.focus.get()}reveal(V,de){this.model.expandTo(V);const Ee=this.model.getListIndex(V);Ee!==-1&&this.view.reveal(Ee,de)}onLeftArrow(V){V.preventDefault(),V.stopPropagation();const de=this.view.getFocusedElements();if(de.length===0)return;const Ee=de[0],Xe=this.model.getNodeLocation(Ee);if(!this.model.setCollapsed(Xe,!0)){const pt=this.model.getParentNodeLocation(Xe);if(!pt)return;const It=this.model.getListIndex(pt);this.view.reveal(It),this.view.setFocus([It])}}onRightArrow(V){V.preventDefault(),V.stopPropagation();const de=this.view.getFocusedElements();if(de.length===0)return;const Ee=de[0],Xe=this.model.getNodeLocation(Ee);if(!this.model.setCollapsed(Xe,!1)){if(!Ee.children.some(Rt=>Rt.visible))return;const[pt]=this.view.getFocus(),It=pt+1;this.view.reveal(It),this.view.setFocus([It])}}onSpace(V){V.preventDefault(),V.stopPropagation();const de=this.view.getFocusedElements();if(de.length===0)return;const Ee=de[0],Xe=this.model.getNodeLocation(Ee),Pe=V.browserEvent.altKey;this.model.setCollapsed(Xe,void 0,Pe)}dispose(){(0,S.B9)(this.disposables),this.view.dispose()}}class we{constructor(V,de,Ee={}){this.user=V,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new U(V,de,null,Ee),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Ee.sorter&&(this.sorter={compare(Xe,Pe){return Ee.sorter.compare(Xe.element,Pe.element)}}),this.identityProvider=Ee.identityProvider}setChildren(V,de=H.$.empty(),Ee={}){const Xe=this.getElementLocation(V);this._setChildren(Xe,this.preserveCollapseState(de),Ee)}_setChildren(V,de=H.$.empty(),Ee){const Xe=new Set,Pe=new Set,pt=Rt=>{var ei;if(Rt.element===null)return;const ni=Rt;if(Xe.add(ni.element),this.nodes.set(ni.element,ni),this.identityProvider){const pi=this.identityProvider.getId(ni.element).toString();Pe.add(pi),this.nodesByIdentity.set(pi,ni)}(ei=Ee.onDidCreateNode)===null||ei===void 0||ei.call(Ee,ni)},It=Rt=>{var ei;if(Rt.element===null)return;const ni=Rt;if(Xe.has(ni.element)||this.nodes.delete(ni.element),this.identityProvider){const pi=this.identityProvider.getId(ni.element).toString();Pe.has(pi)||this.nodesByIdentity.delete(pi)}(ei=Ee.onDidDeleteNode)===null||ei===void 0||ei.call(Ee,ni)};this.model.splice([...V,0],Number.MAX_VALUE,de,Object.assign(Object.assign({},Ee),{onDidCreateNode:pt,onDidDeleteNode:It}))}preserveCollapseState(V=H.$.empty()){return this.sorter&&(V=[...V].sort(this.sorter.compare.bind(this.sorter))),H.$.map(V,de=>{let Ee=this.nodes.get(de.element);if(!Ee&&this.identityProvider){const pt=this.identityProvider.getId(de.element).toString();Ee=this.nodesByIdentity.get(pt)}if(!Ee)return Object.assign(Object.assign({},de),{children:this.preserveCollapseState(de.children)});const Xe=typeof de.collapsible=="boolean"?de.collapsible:Ee.collapsible,Pe=typeof de.collapsed!="undefined"?de.collapsed:Ee.collapsed;return Object.assign(Object.assign({},de),{collapsible:Xe,collapsed:Pe,children:this.preserveCollapseState(de.children)})})}rerender(V){const de=this.getElementLocation(V);this.model.rerender(de)}getFirstElementChild(V=null){const de=this.getElementLocation(V);return this.model.getFirstElementChild(de)}has(V){return this.nodes.has(V)}getListIndex(V){const de=this.getElementLocation(V);return this.model.getListIndex(de)}getListRenderCount(V){const de=this.getElementLocation(V);return this.model.getListRenderCount(de)}isCollapsible(V){const de=this.getElementLocation(V);return this.model.isCollapsible(de)}setCollapsible(V,de){const Ee=this.getElementLocation(V);return this.model.setCollapsible(Ee,de)}isCollapsed(V){const de=this.getElementLocation(V);return this.model.isCollapsed(de)}setCollapsed(V,de,Ee){const Xe=this.getElementLocation(V);return this.model.setCollapsed(Xe,de,Ee)}expandTo(V){const de=this.getElementLocation(V);this.model.expandTo(de)}refilter(){this.model.refilter()}getNode(V=null){if(V===null)return this.model.getNode(this.model.rootRef);const de=this.nodes.get(V);if(!de)throw new M(this.user,`Tree element not found: ${V}`);return de}getNodeLocation(V){return V.element}getParentNodeLocation(V){if(V===null)throw new M(this.user,"Invalid getParentNodeLocation call");const de=this.nodes.get(V);if(!de)throw new M(this.user,`Tree element not found: ${V}`);const Ee=this.model.getNodeLocation(de),Xe=this.model.getParentNodeLocation(Ee);return this.model.getNode(Xe).element}getElementLocation(V){if(V===null)return[];const de=this.nodes.get(V);if(!de)throw new M(this.user,`Tree element not found: ${V}`);return this.model.getNodeLocation(de)}}function Oe(Ye){const V=[Ye.element],de=Ye.incompressible||!1;return{element:{elements:V,incompressible:de},children:H.$.map(H.$.from(Ye.children),Oe),collapsible:Ye.collapsible,collapsed:Ye.collapsed}}function He(Ye){const V=[Ye.element],de=Ye.incompressible||!1;let Ee,Xe;for(;[Xe,Ee]=H.$.consume(H.$.from(Ye.children),2),!(Xe.length!==1||Xe[0].incompressible);)Ye=Xe[0],V.push(Ye.element);return{element:{elements:V,incompressible:de},children:H.$.map(H.$.concat(Xe,Ee),He),collapsible:Ye.collapsible,collapsed:Ye.collapsed}}function mt(Ye,V=0){let de;return V<Ye.element.elements.length-1?de=[mt(Ye,V+1)]:de=H.$.map(H.$.from(Ye.children),Ee=>mt(Ee,0)),V===0&&Ye.element.incompressible?{element:Ye.element.elements[V],children:de,incompressible:!0,collapsible:Ye.collapsible,collapsed:Ye.collapsed}:{element:Ye.element.elements[V],children:de,collapsible:Ye.collapsible,collapsed:Ye.collapsed}}function bt(Ye){return mt(Ye,0)}function kt(Ye,V,de){return Ye.element===V?Object.assign(Object.assign({},Ye),{children:de}):Object.assign(Object.assign({},Ye),{children:H.$.map(H.$.from(Ye.children),Ee=>kt(Ee,V,de))})}const Ut=Ye=>({getId(V){return V.elements.map(de=>Ye.getId(de).toString()).join("\0")}});class ut{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(V,de,Ee={}){this.user=V,this.rootRef=null,this.nodes=new Map,this.model=new we(V,de,Ee),this.enabled=typeof Ee.compressionEnabled=="undefined"?!0:Ee.compressionEnabled,this.identityProvider=Ee.identityProvider}setChildren(V,de=H.$.empty(),Ee){const Xe=Ee.diffIdentityProvider&&Ut(Ee.diffIdentityProvider);if(V===null){const wi=H.$.map(de,this.enabled?He:Oe);this._setChildren(null,wi,{diffIdentityProvider:Xe,diffDepth:1/0});return}const Pe=this.nodes.get(V);if(!Pe)throw new M(this.user,"Unknown compressed tree node");const pt=this.model.getNode(Pe),It=this.model.getParentNodeLocation(Pe),Rt=this.model.getNode(It),ei=bt(pt),ni=kt(ei,V,de),pi=(this.enabled?He:Oe)(ni),mi=Rt.children.map(wi=>wi===pt?pi:wi);this._setChildren(Rt.element,mi,{diffIdentityProvider:Xe,diffDepth:pt.depth-Rt.depth})}setCompressionEnabled(V){if(V===this.enabled)return;this.enabled=V;const Ee=this.model.getNode().children,Xe=H.$.map(Ee,bt),Pe=H.$.map(Xe,V?He:Oe);this._setChildren(null,Pe,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(V,de,Ee){const Xe=new Set,Pe=It=>{for(const Rt of It.element.elements)Xe.add(Rt),this.nodes.set(Rt,It.element)},pt=It=>{for(const Rt of It.element.elements)Xe.has(Rt)||this.nodes.delete(Rt)};this.model.setChildren(V,de,Object.assign(Object.assign({},Ee),{onDidCreateNode:Pe,onDidDeleteNode:pt}))}has(V){return this.nodes.has(V)}getListIndex(V){const de=this.getCompressedNode(V);return this.model.getListIndex(de)}getListRenderCount(V){const de=this.getCompressedNode(V);return this.model.getListRenderCount(de)}getNode(V){if(typeof V=="undefined")return this.model.getNode();const de=this.getCompressedNode(V);return this.model.getNode(de)}getNodeLocation(V){const de=this.model.getNodeLocation(V);return de===null?null:de.elements[de.elements.length-1]}getParentNodeLocation(V){const de=this.getCompressedNode(V),Ee=this.model.getParentNodeLocation(de);return Ee===null?null:Ee.elements[Ee.elements.length-1]}getFirstElementChild(V){const de=this.getCompressedNode(V);return this.model.getFirstElementChild(de)}isCollapsible(V){const de=this.getCompressedNode(V);return this.model.isCollapsible(de)}setCollapsible(V,de){const Ee=this.getCompressedNode(V);return this.model.setCollapsible(Ee,de)}isCollapsed(V){const de=this.getCompressedNode(V);return this.model.isCollapsed(de)}setCollapsed(V,de,Ee){const Xe=this.getCompressedNode(V);return this.model.setCollapsed(Xe,de,Ee)}expandTo(V){const de=this.getCompressedNode(V);this.model.expandTo(de)}rerender(V){const de=this.getCompressedNode(V);this.model.rerender(de)}refilter(){this.model.refilter()}getCompressedNode(V){if(V===null)return null;const de=this.nodes.get(V);if(!de)throw new M(this.user,`Tree element not found: ${V}`);return de}}const Dt=Ye=>Ye[Ye.length-1];class ft{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(V=>new ft(this.unwrapper,V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(V,de){this.unwrapper=V,this.node=de}}function Ft(Ye,V){return{splice(de,Ee,Xe){V.splice(de,Ee,Xe.map(Pe=>Ye.map(Pe)))},updateElementHeight(de,Ee){V.updateElementHeight(de,Ee)}}}function Et(Ye,V){return Object.assign(Object.assign({},V),{identityProvider:V.identityProvider&&{getId(de){return V.identityProvider.getId(Ye(de))}},sorter:V.sorter&&{compare(de,Ee){return V.sorter.compare(de.elements[0],Ee.elements[0])}},filter:V.filter&&{filter(de,Ee){return V.filter.filter(Ye(de),Ee)}}})}class Ze{get onDidSplice(){return A.ju.map(this.model.onDidSplice,({insertedNodes:V,deletedNodes:de})=>({insertedNodes:V.map(Ee=>this.nodeMapper.map(Ee)),deletedNodes:de.map(Ee=>this.nodeMapper.map(Ee))}))}get onDidChangeCollapseState(){return A.ju.map(this.model.onDidChangeCollapseState,({node:V,deep:de})=>({node:this.nodeMapper.map(V),deep:de}))}get onDidChangeRenderNodeCount(){return A.ju.map(this.model.onDidChangeRenderNodeCount,V=>this.nodeMapper.map(V))}constructor(V,de,Ee={}){this.rootRef=null,this.elementMapper=Ee.elementMapper||Dt;const Xe=Pe=>this.elementMapper(Pe.elements);this.nodeMapper=new K(Pe=>new ft(Xe,Pe)),this.model=new ut(V,Ft(this.nodeMapper,de),Et(Xe,Ee))}setChildren(V,de=H.$.empty(),Ee={}){this.model.setChildren(V,de,Ee)}setCompressionEnabled(V){this.model.setCompressionEnabled(V)}has(V){return this.model.has(V)}getListIndex(V){return this.model.getListIndex(V)}getListRenderCount(V){return this.model.getListRenderCount(V)}getNode(V){return this.nodeMapper.map(this.model.getNode(V))}getNodeLocation(V){return V.element}getParentNodeLocation(V){return this.model.getParentNodeLocation(V)}getFirstElementChild(V){const de=this.model.getFirstElementChild(V);return de===null||typeof de=="undefined"?de:this.elementMapper(de.elements)}isCollapsible(V){return this.model.isCollapsible(V)}setCollapsible(V,de){return this.model.setCollapsible(V,de)}isCollapsed(V){return this.model.isCollapsed(V)}setCollapsed(V,de,Ee){return this.model.setCollapsed(V,de,Ee)}expandTo(V){return this.model.expandTo(V)}rerender(V){return this.model.rerender(V)}refilter(){return this.model.refilter()}getCompressedTreeNode(V=null){return this.model.getNode(V)}}var St=i(69398),jt=function(Ye,V,de,Ee){var Xe=arguments.length,Pe=Xe<3?V:Ee===null?Ee=Object.getOwnPropertyDescriptor(V,de):Ee,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(Ye,V,de,Ee);else for(var It=Ye.length-1;It>=0;It--)(pt=Ye[It])&&(Pe=(Xe<3?pt(Pe):Xe>3?pt(V,de,Pe):pt(V,de))||Pe);return Xe>3&&Pe&&Object.defineProperty(V,de,Pe),Pe};class Ct extends ve{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(V,de,Ee,Xe,Pe={}){super(V,de,Ee,Xe,Pe),this.user=V}setChildren(V,de=H.$.empty(),Ee){this.model.setChildren(V,de,Ee)}rerender(V){if(V===void 0){this.view.rerender();return}this.model.rerender(V)}hasElement(V){return this.model.has(V)}createModel(V,de,Ee){return new we(V,de,Ee)}}class _t{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(V,de){this._compressedTreeNodeProvider=V,this.renderer=de,this.templateId=de.templateId,de.onDidChangeTwistieState&&(this.onDidChangeTwistieState=de.onDidChangeTwistieState)}renderTemplate(V){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(V)}}renderElement(V,de,Ee,Xe){const Pe=this.compressedTreeNodeProvider.getCompressedTreeNode(V.element);Pe.element.elements.length===1?(Ee.compressedTreeNode=void 0,this.renderer.renderElement(V,de,Ee.data,Xe)):(Ee.compressedTreeNode=Pe,this.renderer.renderCompressedElements(Pe,de,Ee.data,Xe))}disposeElement(V,de,Ee,Xe){var Pe,pt,It,Rt;Ee.compressedTreeNode?(pt=(Pe=this.renderer).disposeCompressedElements)===null||pt===void 0||pt.call(Pe,Ee.compressedTreeNode,de,Ee.data,Xe):(Rt=(It=this.renderer).disposeElement)===null||Rt===void 0||Rt.call(It,V,de,Ee.data,Xe)}disposeTemplate(V){this.renderer.disposeTemplate(V.data)}renderTwistie(V,de){return this.renderer.renderTwistie?this.renderer.renderTwistie(V,de):!1}}jt([St.H],_t.prototype,"compressedTreeNodeProvider",null);function Kt(Ye,V){return V&&Object.assign(Object.assign({},V),{keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(de){let Ee;try{Ee=Ye().getCompressedTreeNode(de)}catch(Xe){return V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(de)}return Ee.element.elements.length===1?V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(de):V.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ee.element.elements)}}})}class Zt extends Ct{constructor(V,de,Ee,Xe,Pe={}){const pt=()=>this,It=Xe.map(Rt=>new _t(pt,Rt));super(V,de,Ee,It,Kt(pt,Pe))}setChildren(V,de=H.$.empty(),Ee){this.model.setChildren(V,de,Ee)}createModel(V,de,Ee){return new Ze(V,de,Ee)}updateOptions(V={}){super.updateOptions(V),typeof V.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(V.compressionEnabled)}getCompressedTreeNode(V=null){return this.model.getCompressedTreeNode(V)}}var li=i(50505),ri=function(Ye,V,de,Ee){function Xe(Pe){return Pe instanceof de?Pe:new de(function(pt){pt(Pe)})}return new(de||(de=Promise))(function(Pe,pt){function It(ni){try{ei(Ee.next(ni))}catch(pi){pt(pi)}}function Rt(ni){try{ei(Ee.throw(ni))}catch(pi){pt(pi)}}function ei(ni){ni.done?Pe(ni.value):Xe(ni.value).then(It,Rt)}ei((Ee=Ee.apply(Ye,V||[])).next())})};function Ui(Ye){return Object.assign(Object.assign({},Ye),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function on(Ye,V){return V.parent?V.parent===Ye?!0:on(Ye,V.parent):!1}function Qi(Ye,V){return Ye===V||on(Ye,V)||on(V,Ye)}class un{get element(){return this.node.element.element}get children(){return this.node.children.map(V=>new un(V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(V){this.node=V}}class Sn{constructor(V,de,Ee){this.renderer=V,this.nodeMapper=de,this.onDidChangeTwistieState=Ee,this.renderedNodes=new Map,this.templateId=V.templateId}renderTemplate(V){return{templateData:this.renderer.renderTemplate(V)}}renderElement(V,de,Ee,Xe){this.renderer.renderElement(this.nodeMapper.map(V),de,Ee.templateData,Xe)}renderTwistie(V,de){return V.slow?(de.classList.add(...j.k.asClassNameArray(B.l.treeItemLoading)),!0):(de.classList.remove(...j.k.asClassNameArray(B.l.treeItemLoading)),!1)}disposeElement(V,de,Ee,Xe){var Pe,pt;(pt=(Pe=this.renderer).disposeElement)===null||pt===void 0||pt.call(Pe,this.nodeMapper.map(V),de,Ee.templateData,Xe)}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}dispose(){this.renderedNodes.clear()}}function bn(Ye){return{browserEvent:Ye.browserEvent,elements:Ye.elements.map(V=>V.element)}}function Cn(Ye){return{browserEvent:Ye.browserEvent,element:Ye.element&&Ye.element.element,target:Ye.target}}class Fi extends D.kX{constructor(V){super(V.elements.map(de=>de.element)),this.data=V}}function On(Ye){return Ye instanceof D.kX?new Fi(Ye):Ye}class rn{constructor(V){this.dnd=V}getDragURI(V){return this.dnd.getDragURI(V.element)}getDragLabel(V,de){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V.map(Ee=>Ee.element),de)}onDragStart(V,de){var Ee,Xe;(Xe=(Ee=this.dnd).onDragStart)===null||Xe===void 0||Xe.call(Ee,On(V),de)}onDragOver(V,de,Ee,Xe,Pe=!0){return this.dnd.onDragOver(On(V),de&&de.element,Ee,Xe)}drop(V,de,Ee,Xe){this.dnd.drop(On(V),de&&de.element,Ee,Xe)}onDragEnd(V){var de,Ee;(Ee=(de=this.dnd).onDragEnd)===null||Ee===void 0||Ee.call(de,V)}}function pn(Ye){return Ye&&Object.assign(Object.assign({},Ye),{collapseByDefault:!0,identityProvider:Ye.identityProvider&&{getId(V){return Ye.identityProvider.getId(V.element)}},dnd:Ye.dnd&&new rn(Ye.dnd),multipleSelectionController:Ye.multipleSelectionController&&{isSelectionSingleChangeEvent(V){return Ye.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))},isSelectionRangeChangeEvent(V){return Ye.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},V),{element:V.element}))}},accessibilityProvider:Ye.accessibilityProvider&&Object.assign(Object.assign({},Ye.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Ye.accessibilityProvider.getRole?V=>Ye.accessibilityProvider.getRole(V.element):()=>"treeitem",isChecked:Ye.accessibilityProvider.isChecked?V=>{var de;return!!(!((de=Ye.accessibilityProvider)===null||de===void 0)&&de.isChecked(V.element))}:void 0,getAriaLabel(V){return Ye.accessibilityProvider.getAriaLabel(V.element)},getWidgetAriaLabel(){return Ye.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Ye.accessibilityProvider.getWidgetRole?()=>Ye.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Ye.accessibilityProvider.getAriaLevel&&(V=>Ye.accessibilityProvider.getAriaLevel(V.element)),getActiveDescendantId:Ye.accessibilityProvider.getActiveDescendantId&&(V=>Ye.accessibilityProvider.getActiveDescendantId(V.element))}),filter:Ye.filter&&{filter(V,de){return Ye.filter.filter(V.element,de)}},keyboardNavigationLabelProvider:Ye.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Ye.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(V){return Ye.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Ye.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Ye.expandOnlyOnTwistieClick!="function"?Ye.expandOnlyOnTwistieClick:V=>Ye.expandOnlyOnTwistieClick(V.element),defaultFindVisibility:V=>V.hasChildren&&V.stale?1:typeof Ye.defaultFindVisibility=="number"?Ye.defaultFindVisibility:typeof Ye.defaultFindVisibility=="undefined"?2:Ye.defaultFindVisibility(V.element)})}function ui(Ye,V){V(Ye),Ye.children.forEach(de=>ui(de,V))}class Mt{get onDidChangeFocus(){return A.ju.map(this.tree.onDidChangeFocus,bn)}get onDidChangeSelection(){return A.ju.map(this.tree.onDidChangeSelection,bn)}get onMouseDblClick(){return A.ju.map(this.tree.onMouseDblClick,Cn)}get onPointer(){return A.ju.map(this.tree.onPointer,Cn)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(V,de,Ee,Xe,Pe,pt={}){this.user=V,this.dataSource=Pe,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new A.Q5,this._onDidChangeNodeSlowState=new A.Q5,this.nodeMapper=new K(It=>new un(It)),this.disposables=new S.SL,this.identityProvider=pt.identityProvider,this.autoExpandSingleChildren=typeof pt.autoExpandSingleChildren=="undefined"?!1:pt.autoExpandSingleChildren,this.sorter=pt.sorter,this.collapseByDefault=pt.collapseByDefault,this.tree=this.createTree(V,de,Ee,Xe,pt),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Ui({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(V,de,Ee,Xe,Pe){const pt=new Re(Ee),It=Xe.map(ei=>new Sn(ei,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Rt=pn(Pe)||{};return new Ct(V,de,pt,It,Rt)}updateOptions(V={}){this.tree.updateOptions(V)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(V){this.tree.scrollTop=V}domFocus(){this.tree.domFocus()}layout(V,de){this.tree.layout(V,de)}style(V){this.tree.style(V)}getInput(){return this.root.element}setInput(V,de){return ri(this,void 0,void 0,function*(){this.refreshPromises.forEach(Xe=>Xe.cancel()),this.refreshPromises.clear(),this.root.element=V;const Ee=de&&{viewState:de,focus:[],selection:[]};yield this._updateChildren(V,!0,!1,Ee),Ee&&(this.tree.setFocus(Ee.focus),this.tree.setSelection(Ee.selection)),de&&typeof de.scrollTop=="number"&&(this.scrollTop=de.scrollTop)})}_updateChildren(V=this.root.element,de=!0,Ee=!1,Xe,Pe){return ri(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield A.ju.toPromise(this._onDidRender.event));const pt=this.getDataNode(V);if(yield this.refreshAndRenderNode(pt,de,Xe,Pe),Ee)try{this.tree.rerender(pt)}catch(It){}})}rerender(V){if(V===void 0||V===this.root.element){this.tree.rerender();return}const de=this.getDataNode(V);this.tree.rerender(de)}getNode(V=this.root.element){const de=this.getDataNode(V),Ee=this.tree.getNode(de===this.root?null:de);return this.nodeMapper.map(Ee)}collapse(V,de=!1){const Ee=this.getDataNode(V);return this.tree.collapse(Ee===this.root?null:Ee,de)}expand(V,de=!1){return ri(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield A.ju.toPromise(this._onDidRender.event));const Ee=this.getDataNode(V);if(this.tree.hasElement(Ee)&&!this.tree.isCollapsible(Ee)||(Ee.refreshPromise&&(yield this.root.refreshPromise,yield A.ju.toPromise(this._onDidRender.event)),Ee!==this.root&&!Ee.refreshPromise&&!this.tree.isCollapsed(Ee)))return!1;const Xe=this.tree.expand(Ee===this.root?null:Ee,de);return Ee.refreshPromise&&(yield this.root.refreshPromise,yield A.ju.toPromise(this._onDidRender.event)),Xe})}setSelection(V,de){const Ee=V.map(Xe=>this.getDataNode(Xe));this.tree.setSelection(Ee,de)}getSelection(){return this.tree.getSelection().map(de=>de.element)}setFocus(V,de){const Ee=V.map(Xe=>this.getDataNode(Xe));this.tree.setFocus(Ee,de)}getFocus(){return this.tree.getFocus().map(de=>de.element)}reveal(V,de){this.tree.reveal(this.getDataNode(V),de)}getParentElement(V){const de=this.tree.getParentElement(this.getDataNode(V));return de&&de.element}getFirstElementChild(V=this.root.element){const de=this.getDataNode(V),Ee=this.tree.getFirstElementChild(de===this.root?null:de);return Ee&&Ee.element}getDataNode(V){const de=this.nodes.get(V===this.root.element?null:V);if(!de)throw new M(this.user,`Data tree node not found: ${V}`);return de}refreshAndRenderNode(V,de,Ee,Xe){return ri(this,void 0,void 0,function*(){yield this.refreshNode(V,de,Ee),this.render(V,Ee,Xe)})}refreshNode(V,de,Ee){return ri(this,void 0,void 0,function*(){let Xe;if(this.subTreeRefreshPromises.forEach((Pe,pt)=>{!Xe&&Qi(pt,V)&&(Xe=Pe.then(()=>this.refreshNode(V,de,Ee)))}),Xe)return Xe;if(V!==this.root&&this.tree.getNode(V).collapsed){V.hasChildren=!!this.dataSource.hasChildren(V.element),V.stale=!0;return}return this.doRefreshSubTree(V,de,Ee)})}doRefreshSubTree(V,de,Ee){return ri(this,void 0,void 0,function*(){let Xe;V.refreshPromise=new Promise(Pe=>Xe=Pe),this.subTreeRefreshPromises.set(V,V.refreshPromise),V.refreshPromise.finally(()=>{V.refreshPromise=void 0,this.subTreeRefreshPromises.delete(V)});try{const Pe=yield this.doRefreshNode(V,de,Ee);V.stale=!1,yield z.jT.settled(Pe.map(pt=>this.doRefreshSubTree(pt,de,Ee)))}finally{Xe()}})}doRefreshNode(V,de,Ee){return ri(this,void 0,void 0,function*(){V.hasChildren=!!this.dataSource.hasChildren(V.element);let Xe;if(!V.hasChildren)Xe=Promise.resolve(H.$.empty());else{const Pe=this.doGetChildren(V);if((0,ye.TW)(Pe))Xe=Promise.resolve(Pe);else{const pt=(0,z.Vs)(800);pt.then(()=>{V.slow=!0,this._onDidChangeNodeSlowState.fire(V)},It=>null),Xe=Pe.finally(()=>pt.cancel())}}try{const Pe=yield Xe;return this.setChildren(V,Pe,de,Ee)}catch(Pe){if(V!==this.root&&this.tree.hasElement(V)&&this.tree.collapse(V),(0,li.n2)(Pe))return[];throw Pe}finally{V.slow&&(V.slow=!1,this._onDidChangeNodeSlowState.fire(V))}})}doGetChildren(V){let de=this.refreshPromises.get(V);if(de)return de;const Ee=this.dataSource.getChildren(V.element);return(0,ye.TW)(Ee)?this.processChildren(Ee):(de=(0,z.PG)(()=>ri(this,void 0,void 0,function*(){return this.processChildren(yield Ee)})),this.refreshPromises.set(V,de),de.finally(()=>{this.refreshPromises.delete(V)}))}_onDidChangeCollapseState({node:V,deep:de}){V.element!==null&&!V.collapsed&&V.element.stale&&(de?this.collapse(V.element.element):this.refreshAndRenderNode(V.element,!1).catch(li.dL))}setChildren(V,de,Ee,Xe){const Pe=[...de];if(V.children.length===0&&Pe.length===0)return[];const pt=new Map,It=new Map;for(const ni of V.children)if(pt.set(ni.element,ni),this.identityProvider){const pi=this.tree.isCollapsed(ni);It.set(ni.id,{node:ni,collapsed:pi})}const Rt=[],ei=Pe.map(ni=>{const pi=!!this.dataSource.hasChildren(ni);if(!this.identityProvider){const vi=Ui({element:ni,parent:V,hasChildren:pi});return pi&&this.collapseByDefault&&!this.collapseByDefault(ni)&&(vi.collapsedByDefault=!1,Rt.push(vi)),vi}const mi=this.identityProvider.getId(ni).toString(),wi=It.get(mi);if(wi){const vi=wi.node;return pt.delete(vi.element),this.nodes.delete(vi.element),this.nodes.set(ni,vi),vi.element=ni,vi.hasChildren=pi,Ee?wi.collapsed?(vi.children.forEach(Ti=>ui(Ti,Yi=>this.nodes.delete(Yi.element))),vi.children.splice(0,vi.children.length),vi.stale=!0):Rt.push(vi):pi&&this.collapseByDefault&&!this.collapseByDefault(ni)&&(vi.collapsedByDefault=!1,Rt.push(vi)),vi}const ci=Ui({element:ni,parent:V,id:mi,hasChildren:pi});return Xe&&Xe.viewState.focus&&Xe.viewState.focus.indexOf(mi)>-1&&Xe.focus.push(ci),Xe&&Xe.viewState.selection&&Xe.viewState.selection.indexOf(mi)>-1&&Xe.selection.push(ci),Xe&&Xe.viewState.expanded&&Xe.viewState.expanded.indexOf(mi)>-1?Rt.push(ci):pi&&this.collapseByDefault&&!this.collapseByDefault(ni)&&(ci.collapsedByDefault=!1,Rt.push(ci)),ci});for(const ni of pt.values())ui(ni,pi=>this.nodes.delete(pi.element));for(const ni of ei)this.nodes.set(ni.element,ni);return V.children.splice(0,V.children.length,...ei),V!==this.root&&this.autoExpandSingleChildren&&ei.length===1&&Rt.length===0&&(ei[0].collapsedByDefault=!1,Rt.push(ei[0])),Rt}render(V,de,Ee){const Xe=V.children.map(pt=>this.asTreeElement(pt,de)),Pe=Ee&&Object.assign(Object.assign({},Ee),{diffIdentityProvider:Ee.diffIdentityProvider&&{getId(pt){return Ee.diffIdentityProvider.getId(pt.element)}}});this.tree.setChildren(V===this.root?null:V,Xe,Pe),V!==this.root&&this.tree.setCollapsible(V,V.hasChildren),this._onDidRender.fire()}asTreeElement(V,de){if(V.stale)return{element:V,collapsible:V.hasChildren,collapsed:!0};let Ee;return de&&de.viewState.expanded&&V.id&&de.viewState.expanded.indexOf(V.id)>-1?Ee=!1:Ee=V.collapsedByDefault,V.collapsedByDefault=void 0,{element:V,children:V.hasChildren?H.$.map(V.children,Xe=>this.asTreeElement(Xe,de)):[],collapsible:V.hasChildren,collapsed:Ee}}processChildren(V){return this.sorter&&(V=[...V].sort(this.sorter.compare.bind(this.sorter))),V}dispose(){this.disposables.dispose()}}class At{get element(){return{elements:this.node.element.elements.map(V=>V.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(V=>new At(V))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(V){this.node=V}}class Wt{constructor(V,de,Ee,Xe){this.renderer=V,this.nodeMapper=de,this.compressibleNodeMapperProvider=Ee,this.onDidChangeTwistieState=Xe,this.renderedNodes=new Map,this.disposables=[],this.templateId=V.templateId}renderTemplate(V){return{templateData:this.renderer.renderTemplate(V)}}renderElement(V,de,Ee,Xe){this.renderer.renderElement(this.nodeMapper.map(V),de,Ee.templateData,Xe)}renderCompressedElements(V,de,Ee,Xe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(V),de,Ee.templateData,Xe)}renderTwistie(V,de){return V.slow?(de.classList.add(...j.k.asClassNameArray(B.l.treeItemLoading)),!0):(de.classList.remove(...j.k.asClassNameArray(B.l.treeItemLoading)),!1)}disposeElement(V,de,Ee,Xe){var Pe,pt;(pt=(Pe=this.renderer).disposeElement)===null||pt===void 0||pt.call(Pe,this.nodeMapper.map(V),de,Ee.templateData,Xe)}disposeCompressedElements(V,de,Ee,Xe){var Pe,pt;(pt=(Pe=this.renderer).disposeCompressedElements)===null||pt===void 0||pt.call(Pe,this.compressibleNodeMapperProvider().map(V),de,Ee.templateData,Xe)}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,S.B9)(this.disposables)}}function qt(Ye){const V=Ye&&pn(Ye);return V&&Object.assign(Object.assign({},V),{keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},V.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(de){return Ye.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(de.map(Ee=>Ee.element))}})})}class at extends Mt{constructor(V,de,Ee,Xe,Pe,pt,It={}){super(V,de,Ee,Pe,pt,It),this.compressionDelegate=Xe,this.compressibleNodeMapper=new K(Rt=>new At(Rt)),this.filter=It.filter}createTree(V,de,Ee,Xe,Pe){const pt=new Re(Ee),It=Xe.map(ei=>new Wt(ei,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Rt=qt(Pe)||{};return new Zt(V,de,pt,It,Rt)}asTreeElement(V,de){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(V.element)},super.asTreeElement(V,de))}updateOptions(V={}){this.tree.updateOptions(V)}render(V,de){if(!this.identityProvider)return super.render(V,de);const Ee=mi=>this.identityProvider.getId(mi).toString(),Xe=mi=>{const wi=new Set;for(const ci of mi){const vi=this.tree.getCompressedTreeNode(ci===this.root?null:ci);if(vi.element)for(const Ti of vi.element.elements)wi.add(Ee(Ti.element))}return wi},Pe=Xe(this.tree.getSelection()),pt=Xe(this.tree.getFocus());super.render(V,de);const It=this.getSelection();let Rt=!1;const ei=this.getFocus();let ni=!1;const pi=mi=>{const wi=mi.element;if(wi)for(let ci=0;ci<wi.elements.length;ci++){const vi=Ee(wi.elements[ci].element),Ti=wi.elements[wi.elements.length-1].element;Pe.has(vi)&&It.indexOf(Ti)===-1&&(It.push(Ti),Rt=!0),pt.has(vi)&&ei.indexOf(Ti)===-1&&(ei.push(Ti),ni=!0)}mi.children.forEach(pi)};pi(this.tree.getCompressedTreeNode(V===this.root?null:V)),Rt&&this.setSelection(It),ni&&this.setFocus(ei)}processChildren(V){return this.filter&&(V=H.$.filter(V,de=>{const Ee=this.filter.filter(de,1),Xe=Ve(Ee);if(Xe===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Xe===1})),super.processChildren(V)}}function Ve(Ye){return typeof Ye=="boolean"?Ye?1:0:P(Ye)?X(Ye.visibility):X(Ye)}class ze extends ve{constructor(V,de,Ee,Xe,Pe,pt={}){super(V,de,Ee,Xe,pt),this.user=V,this.dataSource=Pe,this.identityProvider=pt.identityProvider}createModel(V,de,Ee){return new we(V,de,Ee)}}var Ae=i(64464),Ge=i(29628),st=i(23286),rt=i(58842),xt=i(81477),Vt=i(64700),Gt=i(22437),ai=i(94814),Si=i(74964),hi=function(Ye,V,de,Ee){var Xe=arguments.length,Pe=Xe<3?V:Ee===null?Ee=Object.getOwnPropertyDescriptor(V,de):Ee,pt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(Ye,V,de,Ee);else for(var It=Ye.length-1;It>=0;It--)(pt=Ye[It])&&(Pe=(Xe<3?pt(Pe):Xe>3?pt(V,de,Pe):pt(V,de))||Pe);return Xe>3&&Pe&&Object.defineProperty(V,de,Pe),Pe},Di=function(Ye,V){return function(de,Ee){V(de,Ee,Ye)}};const Ni=(0,Vt.yh)("listService");class yi{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new S.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(V){var de,Ee;V!==this._lastFocusedWidget&&((de=this._lastFocusedWidget)===null||de===void 0||de.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=V,(Ee=this._lastFocusedWidget)===null||Ee===void 0||Ee.getHTMLElement().classList.add("last-focused"))}register(V,de){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new N.wD((0,c.dS)(),"").style(Si.O2)),this.lists.some(Xe=>Xe.widget===V))throw new Error("Cannot register the same widget multiple times");const Ee={widget:V,extraContextKeys:de};return this.lists.push(Ee),V.getHTMLElement()===document.activeElement&&this.setLastFocusedList(V),(0,S.F8)(V.onDidFocus(()=>this.setLastFocusedList(V)),(0,S.OF)(()=>this.lists.splice(this.lists.indexOf(Ee),1)),V.onDidDispose(()=>{this.lists=this.lists.filter(Xe=>Xe!==Ee),this._lastFocusedWidget===V&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Zi=new st.uy("listFocus",!0),Ri=new st.uy("listSupportsMultiselect",!0),Dn=st.Ao.and(Zi,st.Ao.not(rt.d0)),Bi=new st.uy("listHasSelectionOrFocus",!1),ln=new st.uy("listDoubleSelection",!1),Ht=new st.uy("listMultiSelection",!1),fe=new st.uy("listSelectionNavigation",!1),De=new st.uy("listSupportsFind",!0),ie=new st.uy("treeElementCanCollapse",!1),Ie=new st.uy("treeElementHasParent",!1),We=new st.uy("treeElementCanExpand",!1),nt=new st.uy("treeElementHasChild",!1),lt=new st.uy("treeFindOpen",!1),Pt="listTypeNavigationMode",$t="listAutomaticKeyboardNavigation";function ti(Ye,V){const de=Ye.createScoped(V.getHTMLElement());return Zi.bindTo(de),de}const Qt="workbench.list.multiSelectModifier",Jt="workbench.list.openMode",di="workbench.list.horizontalScrolling",Ci="workbench.list.defaultFindMode",gi="workbench.list.typeNavigationMode",Ei="workbench.list.keyboardNavigation",Pi="workbench.list.scrollByPage",tn="workbench.list.defaultFindMatchType",an="workbench.tree.indent",nn="workbench.tree.renderIndentGuides",cn="workbench.list.smoothScrolling",En="workbench.list.mouseWheelScrollSensitivity",Rn="workbench.list.fastScrollSensitivity",ps="workbench.tree.expandMode";function mn(Ye){return Ye.getValue(Qt)==="alt"}class Xn extends S.JT{constructor(V){super(),this.configurationService=V,this.useAltAsMultipleSelectionModifier=mn(V),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration(Qt)&&(this.useAltAsMultipleSelectionModifier=mn(this.configurationService))}))}isSelectionSingleChangeEvent(V){return this.useAltAsMultipleSelectionModifier?V.browserEvent.altKey:(0,N.Zo)(V)}isSelectionRangeChangeEvent(V){return(0,N.wn)(V)}}function us(Ye,V){var de;const Ee=Ye.get(Ae.Ui),Xe=Ye.get(Gt.d),Pe=new S.SL;return[Object.assign(Object.assign({},V),{keyboardNavigationDelegate:{mightProducePrintableCharacter(It){return Xe.mightProducePrintableCharacter(It)}},smoothScrolling:Boolean(Ee.getValue(cn)),mouseWheelScrollSensitivity:Ee.getValue(En),fastScrollSensitivity:Ee.getValue(Rn),multipleSelectionController:(de=V.multipleSelectionController)!==null&&de!==void 0?de:Pe.add(new Xn(Ee)),keyboardNavigationEventFilter:Hn(Xe),scrollByPage:Boolean(Ee.getValue(Pi))}),Pe]}let qi=class extends N.aV{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei){const ni=typeof Pe.horizontalScrolling!="undefined"?Pe.horizontalScrolling:Boolean(Rt.getValue(di)),[pi,mi]=ei.invokeFunction(us,Pe);super(V,de,Ee,Xe,Object.assign(Object.assign({keyboardSupport:!1},pi),{horizontalScrolling:ni})),this.disposables.add(mi),this.contextKeyService=ti(pt,this),this.listSupportsMultiSelect=Ri.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Pe.multipleSelectionSupport!==!1),fe.bindTo(this.contextKeyService).set(Boolean(Pe.selectionNavigation)),this.listHasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.listDoubleSelection=ln.bindTo(this.contextKeyService),this.listMultiSelection=Ht.bindTo(this.contextKeyService),this.horizontalScrolling=Pe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mn(Rt),this.disposables.add(this.contextKeyService),this.disposables.add(It.register(this)),this.updateStyles(Pe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ci=this.getSelection(),vi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ci.length>0||vi.length>0),this.listMultiSelection.set(ci.length>1),this.listDoubleSelection.set(ci.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ci=this.getSelection(),vi=this.getFocus();this.listHasSelectionOrFocus.set(ci.length>0||vi.length>0)})),this.disposables.add(Rt.onDidChangeConfiguration(ci=>{ci.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=mn(Rt));let vi={};if(ci.affectsConfiguration(di)&&this.horizontalScrolling===void 0){const Ti=Boolean(Rt.getValue(di));vi=Object.assign(Object.assign({},vi),{horizontalScrolling:Ti})}if(ci.affectsConfiguration(Pi)){const Ti=Boolean(Rt.getValue(Pi));vi=Object.assign(Object.assign({},vi),{scrollByPage:Ti})}if(ci.affectsConfiguration(cn)){const Ti=Boolean(Rt.getValue(cn));vi=Object.assign(Object.assign({},vi),{smoothScrolling:Ti})}if(ci.affectsConfiguration(En)){const Ti=Rt.getValue(En);vi=Object.assign(Object.assign({},vi),{mouseWheelScrollSensitivity:Ti})}if(ci.affectsConfiguration(Rn)){const Ti=Rt.getValue(Rn);vi=Object.assign(Object.assign({},vi),{fastScrollSensitivity:Ti})}Object.keys(vi).length>0&&this.updateOptions(vi)})),this.navigator=new yn(this,Object.assign({configurationService:Rt},Pe)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles!==void 0&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){this.style(V?(0,Si.TU)(V):Si.O2)}};qi=hi([Di(5,st.i6),Di(6,Ni),Di(7,Ae.Ui),Di(8,Vt.TG)],qi);let ii=class extends a{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei){const ni=typeof Pe.horizontalScrolling!="undefined"?Pe.horizontalScrolling:Boolean(Rt.getValue(di)),[pi,mi]=ei.invokeFunction(us,Pe);super(V,de,Ee,Xe,Object.assign(Object.assign({keyboardSupport:!1},pi),{horizontalScrolling:ni})),this.disposables=new S.SL,this.disposables.add(mi),this.contextKeyService=ti(pt,this),this.horizontalScrolling=Pe.horizontalScrolling,this.listSupportsMultiSelect=Ri.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Pe.multipleSelectionSupport!==!1),fe.bindTo(this.contextKeyService).set(Boolean(Pe.selectionNavigation)),this._useAltAsMultipleSelectionModifier=mn(Rt),this.disposables.add(this.contextKeyService),this.disposables.add(It.register(this)),this.updateStyles(Pe.overrideStyles),this.disposables.add(Rt.onDidChangeConfiguration(ci=>{ci.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=mn(Rt));let vi={};if(ci.affectsConfiguration(di)&&this.horizontalScrolling===void 0){const Ti=Boolean(Rt.getValue(di));vi=Object.assign(Object.assign({},vi),{horizontalScrolling:Ti})}if(ci.affectsConfiguration(Pi)){const Ti=Boolean(Rt.getValue(Pi));vi=Object.assign(Object.assign({},vi),{scrollByPage:Ti})}if(ci.affectsConfiguration(cn)){const Ti=Boolean(Rt.getValue(cn));vi=Object.assign(Object.assign({},vi),{smoothScrolling:Ti})}if(ci.affectsConfiguration(En)){const Ti=Rt.getValue(En);vi=Object.assign(Object.assign({},vi),{mouseWheelScrollSensitivity:Ti})}if(ci.affectsConfiguration(Rn)){const Ti=Rt.getValue(Rn);vi=Object.assign(Object.assign({},vi),{fastScrollSensitivity:Ti})}Object.keys(vi).length>0&&this.updateOptions(vi)})),this.navigator=new yn(this,Object.assign({configurationService:Rt},Pe)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles!==void 0&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){this.style(V?(0,Si.TU)(V):Si.O2)}dispose(){this.disposables.dispose(),super.dispose()}};ii=hi([Di(5,st.i6),Di(6,Ni),Di(7,Ae.Ui),Di(8,Vt.TG)],ii);let Oi=class extends m{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei,ni){const pi=typeof pt.horizontalScrolling!="undefined"?pt.horizontalScrolling:Boolean(ei.getValue(di)),[mi,wi]=ni.invokeFunction(us,pt);super(V,de,Ee,Xe,Pe,Object.assign(Object.assign({keyboardSupport:!1},mi),{horizontalScrolling:pi})),this.disposables.add(wi),this.contextKeyService=ti(It,this),this.listSupportsMultiSelect=Ri.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(pt.multipleSelectionSupport!==!1),fe.bindTo(this.contextKeyService).set(Boolean(pt.selectionNavigation)),this.listHasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.listDoubleSelection=ln.bindTo(this.contextKeyService),this.listMultiSelection=Ht.bindTo(this.contextKeyService),this.horizontalScrolling=pt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mn(ei),this.disposables.add(this.contextKeyService),this.disposables.add(Rt.register(this)),this.updateStyles(pt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const vi=this.getSelection(),Ti=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(vi.length>0||Ti.length>0),this.listMultiSelection.set(vi.length>1),this.listDoubleSelection.set(vi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const vi=this.getSelection(),Ti=this.getFocus();this.listHasSelectionOrFocus.set(vi.length>0||Ti.length>0)})),this.disposables.add(ei.onDidChangeConfiguration(vi=>{vi.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=mn(ei));let Ti={};if(vi.affectsConfiguration(di)&&this.horizontalScrolling===void 0){const Yi=Boolean(ei.getValue(di));Ti=Object.assign(Object.assign({},Ti),{horizontalScrolling:Yi})}if(vi.affectsConfiguration(Pi)){const Yi=Boolean(ei.getValue(Pi));Ti=Object.assign(Object.assign({},Ti),{scrollByPage:Yi})}if(vi.affectsConfiguration(cn)){const Yi=Boolean(ei.getValue(cn));Ti=Object.assign(Object.assign({},Ti),{smoothScrolling:Yi})}if(vi.affectsConfiguration(En)){const Yi=ei.getValue(En);Ti=Object.assign(Object.assign({},Ti),{mouseWheelScrollSensitivity:Yi})}if(vi.affectsConfiguration(Rn)){const Yi=ei.getValue(Rn);Ti=Object.assign(Object.assign({},Ti),{fastScrollSensitivity:Yi})}Object.keys(Ti).length>0&&this.updateOptions(Ti)})),this.navigator=new An(this,Object.assign({configurationService:ei},pt)),this.disposables.add(this.navigator)}updateOptions(V){super.updateOptions(V),V.overrideStyles!==void 0&&this.updateStyles(V.overrideStyles),V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyles(V){this.style(V?(0,Si.TU)(V):Si.O2)}dispose(){this.disposables.dispose(),super.dispose()}};Oi=hi([Di(6,st.i6),Di(7,Ni),Di(8,Ae.Ui),Di(9,Vt.TG)],Oi);class Vi extends S.JT{constructor(V,de){var Ee;super(),this.widget=V,this._onDidOpen=this._register(new A.Q5),this.onDidOpen=this._onDidOpen.event,this._register(A.ju.filter(this.widget.onDidChangeSelection,Xe=>Xe.browserEvent instanceof KeyboardEvent)(Xe=>this.onSelectionFromKeyboard(Xe))),this._register(this.widget.onPointer(Xe=>this.onPointer(Xe.element,Xe.browserEvent))),this._register(this.widget.onMouseDblClick(Xe=>this.onMouseDblClick(Xe.element,Xe.browserEvent))),typeof(de==null?void 0:de.openOnSingleClick)!="boolean"&&(de!=null&&de.configurationService)?(this.openOnSingleClick=(de==null?void 0:de.configurationService.getValue(Jt))!=="doubleClick",this._register(de==null?void 0:de.configurationService.onDidChangeConfiguration(Xe=>{Xe.affectsConfiguration(Jt)&&(this.openOnSingleClick=(de==null?void 0:de.configurationService.getValue(Jt))!=="doubleClick")}))):this.openOnSingleClick=(Ee=de==null?void 0:de.openOnSingleClick)!==null&&Ee!==void 0?Ee:!0}onSelectionFromKeyboard(V){if(V.elements.length!==1)return;const de=V.browserEvent,Ee=typeof de.preserveFocus=="boolean"?de.preserveFocus:!0,Xe=typeof de.pinned=="boolean"?de.pinned:!Ee,Pe=!1;this._open(this.getSelectedElement(),Ee,Xe,Pe,V.browserEvent)}onPointer(V,de){if(!this.openOnSingleClick||de.detail===2)return;const Xe=de.button===1,Pe=!0,pt=Xe,It=de.ctrlKey||de.metaKey||de.altKey;this._open(V,Pe,pt,It,de)}onMouseDblClick(V,de){if(!de)return;const Ee=de.target;if(Ee.classList.contains("monaco-tl-twistie")||Ee.classList.contains("monaco-icon-label")&&Ee.classList.contains("folder-icon")&&de.offsetX<16)return;const Pe=!1,pt=!0,It=de.ctrlKey||de.metaKey||de.altKey;this._open(V,Pe,pt,It,de)}_open(V,de,Ee,Xe,Pe){V&&this._onDidOpen.fire({editorOptions:{preserveFocus:de,pinned:Ee,revealIfVisible:!0},sideBySide:Xe,element:V,browserEvent:Pe})}}class yn extends Vi{constructor(V,de){super(V,de),this.widget=V}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class An extends Vi{constructor(V,de){super(V,de)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Kn extends Vi{constructor(V,de){super(V,de)}getSelectedElement(){var V;return(V=this.widget.getSelection()[0])!==null&&V!==void 0?V:void 0}}function Hn(Ye){let V=!1;return de=>{if(de.toKeyCodeChord().isModifierKey())return!1;if(V)return V=!1,!1;const Ee=Ye.softDispatch(de,de.target);return Ee!=null&&Ee.enterMultiChord?(V=!0,!1):(V=!1,!Ee)}}let $n=class extends Ct{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei){const{options:ni,getTypeNavigationMode:pi,disposable:mi}=pt.invokeFunction(Ue,Pe);super(V,de,Ee,Xe,ni),this.disposables.add(mi),this.internals=new tt(this,Pe,pi,Pe.overrideStyles,It,Rt,ei),this.disposables.add(this.internals)}updateOptions(V){super.updateOptions(V),this.internals.updateOptions(V)}};$n=hi([Di(5,Vt.TG),Di(6,st.i6),Di(7,Ni),Di(8,Ae.Ui)],$n);let ss=class extends Zt{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei){const{options:ni,getTypeNavigationMode:pi,disposable:mi}=pt.invokeFunction(Ue,Pe);super(V,de,Ee,Xe,ni),this.disposables.add(mi),this.internals=new tt(this,Pe,pi,Pe.overrideStyles,It,Rt,ei),this.disposables.add(this.internals)}updateOptions(V={}){super.updateOptions(V),V.overrideStyles&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};ss=hi([Di(5,Vt.TG),Di(6,st.i6),Di(7,Ni),Di(8,Ae.Ui)],ss);let Lt=class extends ze{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei,ni){const{options:pi,getTypeNavigationMode:mi,disposable:wi}=It.invokeFunction(Ue,pt);super(V,de,Ee,Xe,Pe,pi),this.disposables.add(wi),this.internals=new tt(this,pt,mi,pt.overrideStyles,Rt,ei,ni),this.disposables.add(this.internals)}updateOptions(V={}){super.updateOptions(V),V.overrideStyles!==void 0&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};Lt=hi([Di(6,Vt.TG),Di(7,st.i6),Di(8,Ni),Di(9,Ae.Ui)],Lt);let T=class extends Mt{get onDidOpen(){return this.internals.onDidOpen}constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei,ni){const{options:pi,getTypeNavigationMode:mi,disposable:wi}=It.invokeFunction(Ue,pt);super(V,de,Ee,Xe,Pe,pi),this.disposables.add(wi),this.internals=new tt(this,pt,mi,pt.overrideStyles,Rt,ei,ni),this.disposables.add(this.internals)}updateOptions(V={}){super.updateOptions(V),V.overrideStyles&&this.internals.updateStyleOverrides(V.overrideStyles),this.internals.updateOptions(V)}};T=hi([Di(6,Vt.TG),Di(7,st.i6),Di(8,Ni),Di(9,Ae.Ui)],T);let ee=class extends at{constructor(V,de,Ee,Xe,Pe,pt,It,Rt,ei,ni,pi){const{options:mi,getTypeNavigationMode:wi,disposable:ci}=Rt.invokeFunction(Ue,It);super(V,de,Ee,Xe,Pe,pt,mi),this.disposables.add(ci),this.internals=new tt(this,It,wi,It.overrideStyles,ei,ni,pi),this.disposables.add(this.internals)}updateOptions(V){super.updateOptions(V),this.internals.updateOptions(V)}};ee=hi([Di(7,Vt.TG),Di(8,st.i6),Di(9,Ni),Di(10,Ae.Ui)],ee);function re(Ye){const V=Ye.getValue(Ci);if(V==="highlight")return Ke.Highlight;if(V==="filter")return Ke.Filter;const de=Ye.getValue(Ei);if(de==="simple"||de==="highlight")return Ke.Highlight;if(de==="filter")return Ke.Filter}function Me(Ye){const V=Ye.getValue(tn);if(V==="fuzzy")return ct.Fuzzy;if(V==="contiguous")return ct.Contiguous}function Ue(Ye,V){var de;const Ee=Ye.get(Ae.Ui),Xe=Ye.get(xt.u),Pe=Ye.get(st.i6),pt=Ye.get(Vt.TG),It=()=>{const wi=Pe.getContextKeyValue(Pt);if(wi==="automatic")return N.AA.Automatic;if(wi==="trigger"||Pe.getContextKeyValue($t)===!1)return N.AA.Trigger;const vi=Ee.getValue(gi);if(vi==="automatic")return N.AA.Automatic;if(vi==="trigger")return N.AA.Trigger},Rt=V.horizontalScrolling!==void 0?V.horizontalScrolling:Boolean(Ee.getValue(di)),[ei,ni]=pt.invokeFunction(us,V),pi=V.additionalScrollHeight,mi=V.renderIndentGuides!==void 0?V.renderIndentGuides:Ee.getValue(nn);return{getTypeNavigationMode:It,disposable:ni,options:Object.assign(Object.assign({keyboardSupport:!1},ei),{indent:typeof Ee.getValue(an)=="number"?Ee.getValue(an):void 0,renderIndentGuides:mi,smoothScrolling:Boolean(Ee.getValue(cn)),defaultFindMode:re(Ee),defaultFindMatchType:Me(Ee),horizontalScrolling:Rt,scrollByPage:Boolean(Ee.getValue(Pi)),additionalScrollHeight:pi,hideTwistiesOfChildlessElements:V.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(de=V.expandOnlyOnTwistieClick)!==null&&de!==void 0?de:Ee.getValue(ps)==="doubleClick",contextViewProvider:Xe,findWidgetStyles:Si.uX})}}let tt=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(V,de,Ee,Xe,Pe,pt,It){var Rt;this.tree=V,this.disposables=[],this.contextKeyService=ti(Pe,V),this.listSupportsMultiSelect=Ri.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),fe.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listSupportFindWidget=De.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Rt=de.findWidgetEnabled)!==null&&Rt!==void 0?Rt:!0),this.hasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.hasDoubleSelection=ln.bindTo(this.contextKeyService),this.hasMultiSelection=Ht.bindTo(this.contextKeyService),this.treeElementCanCollapse=ie.bindTo(this.contextKeyService),this.treeElementHasParent=Ie.bindTo(this.contextKeyService),this.treeElementCanExpand=We.bindTo(this.contextKeyService),this.treeElementHasChild=nt.bindTo(this.contextKeyService),this.treeFindOpen=lt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=mn(It),this.updateStyleOverrides(Xe);const ni=()=>{const mi=V.getFocus()[0];if(!mi)return;const wi=V.getNode(mi);this.treeElementCanCollapse.set(wi.collapsible&&!wi.collapsed),this.treeElementHasParent.set(!!V.getParentElement(mi)),this.treeElementCanExpand.set(wi.collapsible&&wi.collapsed),this.treeElementHasChild.set(!!V.getFirstElementChild(mi))},pi=new Set;pi.add(Pt),pi.add($t),this.disposables.push(this.contextKeyService,pt.register(V),V.onDidChangeSelection(()=>{const mi=V.getSelection(),wi=V.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(mi.length>0||wi.length>0),this.hasMultiSelection.set(mi.length>1),this.hasDoubleSelection.set(mi.length===2)})}),V.onDidChangeFocus(()=>{const mi=V.getSelection(),wi=V.getFocus();this.hasSelectionOrFocus.set(mi.length>0||wi.length>0),ni()}),V.onDidChangeCollapseState(ni),V.onDidChangeModel(ni),V.onDidChangeFindOpenState(mi=>this.treeFindOpen.set(mi)),It.onDidChangeConfiguration(mi=>{let wi={};if(mi.affectsConfiguration(Qt)&&(this._useAltAsMultipleSelectionModifier=mn(It)),mi.affectsConfiguration(an)){const ci=It.getValue(an);wi=Object.assign(Object.assign({},wi),{indent:ci})}if(mi.affectsConfiguration(nn)&&de.renderIndentGuides===void 0){const ci=It.getValue(nn);wi=Object.assign(Object.assign({},wi),{renderIndentGuides:ci})}if(mi.affectsConfiguration(cn)){const ci=Boolean(It.getValue(cn));wi=Object.assign(Object.assign({},wi),{smoothScrolling:ci})}if(mi.affectsConfiguration(Ci)||mi.affectsConfiguration(Ei)){const ci=re(It);wi=Object.assign(Object.assign({},wi),{defaultFindMode:ci})}if(mi.affectsConfiguration(gi)||mi.affectsConfiguration(Ei)){const ci=Ee();wi=Object.assign(Object.assign({},wi),{typeNavigationMode:ci})}if(mi.affectsConfiguration(tn)){const ci=Me(It);wi=Object.assign(Object.assign({},wi),{defaultFindMatchType:ci})}if(mi.affectsConfiguration(di)&&de.horizontalScrolling===void 0){const ci=Boolean(It.getValue(di));wi=Object.assign(Object.assign({},wi),{horizontalScrolling:ci})}if(mi.affectsConfiguration(Pi)){const ci=Boolean(It.getValue(Pi));wi=Object.assign(Object.assign({},wi),{scrollByPage:ci})}if(mi.affectsConfiguration(ps)&&de.expandOnlyOnTwistieClick===void 0&&(wi=Object.assign(Object.assign({},wi),{expandOnlyOnTwistieClick:It.getValue(ps)==="doubleClick"})),mi.affectsConfiguration(En)){const ci=It.getValue(En);wi=Object.assign(Object.assign({},wi),{mouseWheelScrollSensitivity:ci})}if(mi.affectsConfiguration(Rn)){const ci=It.getValue(Rn);wi=Object.assign(Object.assign({},wi),{fastScrollSensitivity:ci})}Object.keys(wi).length>0&&V.updateOptions(wi)}),this.contextKeyService.onDidChangeContext(mi=>{mi.affectsSome(pi)&&V.updateOptions({typeNavigationMode:Ee()})})),this.navigator=new Kn(V,Object.assign({configurationService:It},de)),this.disposables.push(this.navigator)}updateOptions(V){V.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!V.multipleSelectionSupport)}updateStyleOverrides(V){this.tree.style(V?(0,Si.TU)(V):Si.O2)}dispose(){this.disposables=(0,S.B9)(this.disposables)}};tt=hi([Di(4,st.i6),Di(5,Ni),Di(6,Ae.Ui)],tt),ai.B.as(Ge.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,me.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Qt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,me.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,me.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,me.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Jt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,me.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[di]:{type:"boolean",default:!1,description:(0,me.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Pi]:{type:"boolean",default:!1,description:(0,me.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[an]:{type:"number",default:8,minimum:4,maximum:40,description:(0,me.NC)("tree indent setting","Controls tree indentation in pixels.")},[nn]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,me.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[cn]:{type:"boolean",default:!1,description:(0,me.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[En]:{type:"number",default:1,markdownDescription:(0,me.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Rn]:{type:"number",default:5,markdownDescription:(0,me.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Ci]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,me.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,me.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,me.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ei]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,me.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,me.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,me.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,me.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,me.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[tn]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,me.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,me.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,me.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[ps]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,me.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[gi]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,me.NC)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}}})},18166:function(vt,be,i){"use strict";i.d(be,{VZ:function(){return A},in:function(){return S},kw:function(){return x},qA:function(){return O}});var c=i(94162),F=i(52357),g=i(64700);const A=(0,g.yh)("logService");var S;(function(p){p[p.Off=0]="Off",p[p.Trace=1]="Trace",p[p.Debug=2]="Debug",p[p.Info=3]="Info",p[p.Warning=4]="Warning",p[p.Error=5]="Error"})(S||(S={}));const $=S.Info;class N extends F.JT{constructor(){super(...arguments),this.level=$,this._onDidChangeLogLevel=this._register(new c.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(a){this.level!==a&&(this.level=a,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(a){return this.level!==S.Off&&this.level<=a}}class x extends N{constructor(a=$){super(),this.setLevel(a)}trace(a,...d){this.checkLogLevel(S.Trace)&&console.log("%cTRACE","color: #888",a,...d)}debug(a,...d){this.checkLogLevel(S.Debug)&&console.log("%cDEBUG","background: #eee; color: #888",a,...d)}info(a,...d){this.checkLogLevel(S.Info)&&console.log("%c INFO","color: #33f",a,...d)}error(a,...d){this.checkLogLevel(S.Error)&&console.log("%c  ERR","color: #f33",a,...d)}dispose(){}}class O extends N{constructor(a){super(),this.loggers=a,a.length&&this.setLevel(a[0].getLevel())}setLevel(a){for(const d of this.loggers)d.setLevel(a);super.setLevel(a)}trace(a,...d){for(const f of this.loggers)f.trace(a,...d)}debug(a,...d){for(const f of this.loggers)f.debug(a,...d)}info(a,...d){for(const f of this.loggers)f.info(a,...d)}error(a,...d){for(const f of this.loggers)f.error(a,...d)}dispose(){for(const a of this.loggers)a.dispose()}}},85901:function(vt,be,i){"use strict";i.d(be,{H0:function(){return S},ZL:function(){return A},lT:function(){return $}});var c=i(82787),F=i(15779),g=i(64700),A;(function(N){N[N.Hint=1]="Hint",N[N.Info=2]="Info",N[N.Warning=4]="Warning",N[N.Error=8]="Error"})(A||(A={})),function(N){function x(f,s){return s-f}N.compare=x;const O=Object.create(null);O[N.Error]=(0,F.NC)("sev.error","Error"),O[N.Warning]=(0,F.NC)("sev.warning","Warning"),O[N.Info]=(0,F.NC)("sev.info","Info");function p(f){return O[f]||""}N.toString=p;function a(f){switch(f){case c.Z.Error:return N.Error;case c.Z.Warning:return N.Warning;case c.Z.Info:return N.Info;case c.Z.Ignore:return N.Hint}}N.fromSeverity=a;function d(f){switch(f){case N.Error:return c.Z.Error;case N.Warning:return c.Z.Warning;case N.Info:return c.Z.Info;case N.Hint:return c.Z.Ignore}}N.toSeverity=d}(A||(A={}));var S;(function(N){const x="";function O(a){return p(a,!0)}N.makeKey=O;function p(a,d){const f=[x];return a.source?f.push(a.source.replace("\xA6","\\\xA6")):f.push(x),a.code?typeof a.code=="string"?f.push(a.code.replace("\xA6","\\\xA6")):f.push(a.code.value.replace("\xA6","\\\xA6")):f.push(x),a.severity!==void 0&&a.severity!==null?f.push(A.toString(a.severity)):f.push(x),a.message&&d?f.push(a.message.replace("\xA6","\\\xA6")):f.push(x),a.startLineNumber!==void 0&&a.startLineNumber!==null?f.push(a.startLineNumber.toString()):f.push(x),a.startColumn!==void 0&&a.startColumn!==null?f.push(a.startColumn.toString()):f.push(x),a.endLineNumber!==void 0&&a.endLineNumber!==null?f.push(a.endLineNumber.toString()):f.push(x),a.endColumn!==void 0&&a.endColumn!==null?f.push(a.endColumn.toString()):f.push(x),f.push(x),f.join("\xA6")}N.makeKeyOptionalMessage=p})(S||(S={}));const $=(0,g.yh)("markerService")},28382:function(vt,be,i){"use strict";i.d(be,{EO:function(){return S},lT:function(){return A},zb:function(){return g}});var c=i(82787),F=i(64700),g=c.Z;const A=(0,F.yh)("notificationService");class S{}},20009:function(vt,be,i){"use strict";i.d(be,{Gs:function(){return $},v4:function(){return A},xI:function(){return N},xn:function(){return S}});var c=i(30613),F=i(39508),g=i(64700);const A=(0,g.yh)("openerService");function S(x,O){return F.o.isUri(x)?(0,c.qq)(x.scheme,O):(0,c.ok)(x,O+":")}function $(x,...O){return O.some(p=>S(x,p))}function N(x){let O;const p=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(x.fragment);return p&&(O={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1,endLineNumber:p[4]?parseInt(p[4]):void 0,endColumn:p[4]?p[5]?parseInt(p[5]):1:void 0},x=x.with({fragment:""})),{selection:O,uri:x}}},26348:function(vt,be,i){"use strict";i.d(be,{Ex:function(){return A},R9:function(){return F},ek:function(){return S}});var c=i(64700);const F=(0,c.yh)("progressService"),g=Object.freeze({total(){},worked(){},done(){}});class A{constructor(N){this.callback=N}report(N){this._value=N,this.callback(this._value)}}A.None=Object.freeze({report(){}});const S=(0,c.yh)("editorProgressService")},27599:function(vt,be,i){"use strict";i.d(be,{IP:function(){return S},Ry:function(){return A}});var c=i(16842),F=i(52357),g=i(94814),A;(function(N){N[N.PRESERVE=0]="PRESERVE",N[N.LAST=1]="LAST"})(A||(A={}));const S={Quickaccess:"workbench.contributions.quickaccess"};class ${constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(x){return x.prefix.length===0?this.defaultProvider=x:this.providers.push(x),this.providers.sort((O,p)=>p.prefix.length-O.prefix.length),(0,F.OF)(()=>{this.providers.splice(this.providers.indexOf(x),1),this.defaultProvider===x&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,c.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(x){return x&&this.providers.find(p=>x.startsWith(p.prefix))||void 0||this.defaultProvider}}g.B.add(S.Quickaccess,new $)},93611:function(vt,be,i){"use strict";i.d(be,{Jq:function(){return g},X5:function(){return F},eJ:function(){return N},jG:function(){return A}});var c=i(64700);const F={ctrlCmd:!1,alt:!1};var g;(function(x){x[x.Blur=1]="Blur",x[x.Gesture=2]="Gesture",x[x.Other=3]="Other"})(g||(g={}));var A;(function(x){x[x.NONE=0]="NONE",x[x.FIRST=1]="FIRST",x[x.SECOND=2]="SECOND",x[x.LAST=3]="LAST"})(A||(A={}));class S{constructor(O){this.options=O}}const $=new S,N=(0,c.yh)("quickInputService")},94814:function(vt,be,i){"use strict";i.d(be,{B:function(){return A}});var c=i(44516),F=i(67770);class g{constructor(){this.data=new Map}add($,N){c.ok(F.HD($)),c.ok(F.Kn(N)),c.ok(!this.data.has($),"There is already an extension with this id"),this.data.set($,N)}as($){return this.data.get($)||null}}const A=new g},47955:function(vt,be,i){"use strict";i.d(be,{Uy:function(){return d},vm:function(){return m},fk:function(){return f}});var c=i(94162),F=i(52357),g=i(67770),A=i(39460),S=function(C,u,_,b){function E(D){return D instanceof _?D:new _(function(w){w(D)})}return new(_||(_=Promise))(function(D,w){function I(z){try{K(b.next(z))}catch(Q){w(Q)}}function M(z){try{K(b.throw(z))}catch(Q){w(Q)}}function K(z){z.done?D(z.value):E(z.value).then(I,M)}K((b=b.apply(C,u||[])).next())})},$;(function(C){C[C.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",C[C.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})($||($={}));var N;(function(C){C[C.None=0]="None",C[C.Initialized=1]="Initialized",C[C.Closed=2]="Closed"})(N||(N={}));class x extends F.JT{constructor(u,_=Object.create(null)){super(),this.database=u,this.options=_,this._onDidChangeStorage=this._register(new c.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=N.None,this.cache=new Map,this.flushDelayer=new A.rH(x.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(u=>this.onDidChangeItemsExternal(u)))}onDidChangeItemsExternal(u){var _,b;(_=u.changed)===null||_===void 0||_.forEach((E,D)=>this.accept(D,E)),(b=u.deleted)===null||b===void 0||b.forEach(E=>this.accept(E,void 0))}accept(u,_){if(this.state===N.Closed)return;let b=!1;(0,g.Jp)(_)?b=this.cache.delete(u):this.cache.get(u)!==_&&(this.cache.set(u,_),b=!0),b&&this._onDidChangeStorage.fire(u)}get(u,_){const b=this.cache.get(u);return(0,g.Jp)(b)?_:b}getBoolean(u,_){const b=this.get(u);return(0,g.Jp)(b)?_:b==="true"}getNumber(u,_){const b=this.get(u);return(0,g.Jp)(b)?_:parseInt(b,10)}set(u,_){return S(this,void 0,void 0,function*(){if(this.state===N.Closed)return;if((0,g.Jp)(_))return this.delete(u);const b=String(_);if(this.cache.get(u)!==b)return this.cache.set(u,b),this.pendingInserts.set(u,b),this.pendingDeletes.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}delete(u){return S(this,void 0,void 0,function*(){if(!(this.state===N.Closed||!this.cache.delete(u)))return this.pendingDeletes.has(u)||this.pendingDeletes.add(u),this.pendingInserts.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return S(this,void 0,void 0,function*(){if(!this.hasPending)return;const u={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(u).finally(()=>{var _;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(_=this.whenFlushedCallbacks.pop())===null||_===void 0||_()})})}doFlush(u){return S(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),u)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}x.DEFAULT_FLUSH_DELAY=100;class O{constructor(){this.onDidChangeItemsExternal=c.ju.None,this.items=new Map}updateItems(u){var _,b;return S(this,void 0,void 0,function*(){(_=u.insert)===null||_===void 0||_.forEach((E,D)=>this.items.set(D,E)),(b=u.delete)===null||b===void 0||b.forEach(E=>this.items.delete(E))})}}var p=i(64700);const a="__$__targetStorageMarker",d=(0,p.yh)("storageService");var f;(function(C){C[C.NONE=0]="NONE",C[C.SHUTDOWN=1]="SHUTDOWN"})(f||(f={}));function s(C){const u=C.get(a);if(u)try{return JSON.parse(u)}catch(_){}return Object.create(null)}class r extends F.JT{constructor(u={flushInterval:r.DEFAULT_FLUSH_INTERVAL}){super(),this.options=u,this._onDidChangeValue=this._register(new c.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new c.K3),this._onWillSaveState=this._register(new c.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(u,_){if(_===a){switch(u){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:u})}else this._onDidChangeValue.fire({scope:u,key:_,target:this.getKeyTargets(u)[_]})}get(u,_,b){var E;return(E=this.getStorage(_))===null||E===void 0?void 0:E.get(u,b)}getBoolean(u,_,b){var E;return(E=this.getStorage(_))===null||E===void 0?void 0:E.getBoolean(u,b)}getNumber(u,_,b){var E;return(E=this.getStorage(_))===null||E===void 0?void 0:E.getNumber(u,b)}store(u,_,b,E){if((0,g.Jp)(_)){this.remove(u,b);return}this.withPausedEmitters(()=>{var D;this.updateKeyTarget(u,b,E),(D=this.getStorage(b))===null||D===void 0||D.set(u,_)})}remove(u,_){this.withPausedEmitters(()=>{var b;this.updateKeyTarget(u,_,void 0),(b=this.getStorage(_))===null||b===void 0||b.delete(u)})}withPausedEmitters(u){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{u()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(u,_,b){var E,D;const w=this.getKeyTargets(_);typeof b=="number"?w[u]!==b&&(w[u]=b,(E=this.getStorage(_))===null||E===void 0||E.set(a,JSON.stringify(w))):typeof w[u]=="number"&&(delete w[u],(D=this.getStorage(_))===null||D===void 0||D.set(a,JSON.stringify(w)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(u){switch(u){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(u){const _=this.getStorage(u);return _?s(_):Object.create(null)}}r.DEFAULT_FLUSH_INTERVAL=60*1e3;class m extends r{constructor(){super(),this.applicationStorage=this._register(new x(new O,{hint:$.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new x(new O,{hint:$.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new x(new O,{hint:$.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(u=>this.emitDidChangeValue(1,u))),this._register(this.profileStorage.onDidChangeStorage(u=>this.emitDidChangeValue(0,u))),this._register(this.applicationStorage.onDidChangeStorage(u=>this.emitDidChangeValue(-1,u)))}getStorage(u){switch(u){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},43257:function(vt,be,i){"use strict";i.d(be,{b:function(){return F}});var c=i(64700);const F=(0,c.yh)("telemetryService")},74964:function(vt,be,i){"use strict";i.d(be,{BM:function(){return m},Hc:function(){return p},O2:function(){return s},TU:function(){return r},ZR:function(){return C},b5:function(){return $},eO:function(){return A},ku:function(){return d},pl:function(){return N},uX:function(){return a},wG:function(){return S}});var c=i(78382),F=i(87799);function g(u,_){const b=Object.assign({},_);for(const E in u){const D=u[E];b[E]=D!==void 0?(0,c.n_1)(D):void 0}return b}const A={keybindingLabelBackground:(0,c.n_1)(c.oQ$),keybindingLabelForeground:(0,c.n_1)(c.lWp),keybindingLabelBorder:(0,c.n_1)(c.AWI),keybindingLabelBottomBorder:(0,c.n_1)(c.K19),keybindingLabelShadow:(0,c.n_1)(c.rh)},S={buttonForeground:(0,c.n_1)(c.j5u),buttonSeparator:(0,c.n_1)(c.iFQ),buttonBackground:(0,c.n_1)(c.b7$),buttonHoverBackground:(0,c.n_1)(c.GO4),buttonSecondaryForeground:(0,c.n_1)(c.qBU),buttonSecondaryBackground:(0,c.n_1)(c.ESD),buttonSecondaryHoverBackground:(0,c.n_1)(c.xEn),buttonBorder:(0,c.n_1)(c.GYc)},$={progressBarBackground:(0,c.n_1)(c.zRJ)},N={inputActiveOptionBorder:(0,c.n_1)(c.PRb),inputActiveOptionForeground:(0,c.n_1)(c.Pvw),inputActiveOptionBackground:(0,c.n_1)(c.XEs)},x={checkboxBackground:(0,c.n_1)(c.SUp),checkboxBorder:(0,c.n_1)(c.nd),checkboxForeground:(0,c.n_1)(c.BQ0)},O={dialogBackground:(0,c.n_1)(c.D0T),dialogForeground:(0,c.n_1)(c.Hfx),dialogShadow:(0,c.n_1)(c.rh),dialogBorder:(0,c.n_1)(c.lRK),errorIconForeground:(0,c.n_1)(c.JpG),warningIconForeground:(0,c.n_1)(c.BOY),infoIconForeground:(0,c.n_1)(c.OLZ),textLinkForeground:(0,c.n_1)(c.url)},p={inputBackground:(0,c.n_1)(c.sEe),inputForeground:(0,c.n_1)(c.zJb),inputBorder:(0,c.n_1)(c.dt_),inputValidationInfoBorder:(0,c.n_1)(c.EPQ),inputValidationInfoBackground:(0,c.n_1)(c._lC),inputValidationInfoForeground:(0,c.n_1)(c.YI3),inputValidationWarningBorder:(0,c.n_1)(c.C3g),inputValidationWarningBackground:(0,c.n_1)(c.RV_),inputValidationWarningForeground:(0,c.n_1)(c.SUG),inputValidationErrorBorder:(0,c.n_1)(c.OZR),inputValidationErrorBackground:(0,c.n_1)(c.paE),inputValidationErrorForeground:(0,c.n_1)(c._t9)},a={listFilterWidgetBackground:(0,c.n_1)(c.vGG),listFilterWidgetOutline:(0,c.n_1)(c.oSI),listFilterWidgetNoMatchesOutline:(0,c.n_1)(c.Saq),listFilterWidgetShadow:(0,c.n_1)(c.y65),inputBoxStyles:p,toggleStyles:N},d={badgeBackground:(0,c.n_1)(c.g8u),badgeForeground:(0,c.n_1)(c.qeD),badgeBorder:(0,c.n_1)(c.lRK)},f={breadcrumbsBackground:(0,c.n_1)(c.ixd),breadcrumbsForeground:(0,c.n_1)(c.l80),breadcrumbsHoverForeground:(0,c.n_1)(c.H6q),breadcrumbsFocusForeground:(0,c.n_1)(c.H6q),breadcrumbsFocusAndSelectionForeground:(0,c.n_1)(c.fSI)},s={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,c.n_1)(c._bK),listFocusForeground:(0,c.n_1)(c._2n),listFocusOutline:(0,c.n_1)(c.Oop),listActiveSelectionBackground:(0,c.n_1)(c.dCr),listActiveSelectionForeground:(0,c.n_1)(c.M6C),listActiveSelectionIconForeground:(0,c.n_1)(c.Tnx),listFocusAndSelectionOutline:(0,c.n_1)(c.Bqu),listFocusAndSelectionBackground:(0,c.n_1)(c.dCr),listFocusAndSelectionForeground:(0,c.n_1)(c.M6C),listInactiveSelectionBackground:(0,c.n_1)(c.rg2),listInactiveSelectionIconForeground:(0,c.n_1)(c.kvU),listInactiveSelectionForeground:(0,c.n_1)(c.ytC),listInactiveFocusBackground:(0,c.n_1)(c.s$),listInactiveFocusOutline:(0,c.n_1)(c.F3d),listHoverBackground:(0,c.n_1)(c.mV1),listHoverForeground:(0,c.n_1)(c.$d5),listDropBackground:(0,c.n_1)(c.AS1),listSelectionOutline:(0,c.n_1)(c.xL1),listHoverOutline:(0,c.n_1)(c.xL1),treeIndentGuidesStroke:(0,c.n_1)(c.UnT),treeInactiveIndentGuidesStroke:(0,c.n_1)(c.KjV),tableColumnsBorder:(0,c.n_1)(c.uxu),tableOddRowsBackgroundColor:(0,c.n_1)(c.EQn)};function r(u){return g(u,s)}const m={selectBackground:(0,c.n_1)(c.XV0),selectListBackground:(0,c.n_1)(c.Fgs),selectForeground:(0,c.n_1)(c._g0),decoratorRightForeground:(0,c.n_1)(c.kJk),selectBorder:(0,c.n_1)(c.a9O),focusBorder:(0,c.n_1)(c.R80),listFocusBackground:(0,c.n_1)(c.Vqd),listInactiveSelectionIconForeground:(0,c.n_1)(c.cbQ),listFocusForeground:(0,c.n_1)(c.NPS),listFocusOutline:(0,c.BtC)(c.xL1,F.Il.transparent.toString()),listHoverBackground:(0,c.n_1)(c.mV1),listHoverForeground:(0,c.n_1)(c.$d5),listHoverOutline:(0,c.n_1)(c.xL1),selectListBorder:(0,c.n_1)(c.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},C={shadowColor:(0,c.n_1)(c.rh),borderColor:(0,c.n_1)(c.Cdg),foregroundColor:(0,c.n_1)(c.DEr),backgroundColor:(0,c.n_1)(c.Hz8),selectionForegroundColor:(0,c.n_1)(c.jbW),selectionBackgroundColor:(0,c.n_1)(c.$DX),selectionBorderColor:(0,c.n_1)(c.E3h),separatorColor:(0,c.n_1)(c.ZGJ),scrollbarShadow:(0,c.n_1)(c._wn),scrollbarSliderBackground:(0,c.n_1)(c.etL),scrollbarSliderHoverBackground:(0,c.n_1)(c.ABB),scrollbarSliderActiveBackground:(0,c.n_1)(c.ynu)}},78382:function(vt,be,i){"use strict";i.d(be,{$DX:function(){return ci},$d5:function(){return ii},A42:function(){return q},ABB:function(){return Oe},AS1:function(){return Oi},AWI:function(){return pn},BOY:function(){return Do},BQ0:function(){return Ee},Bqu:function(){return an},BtC:function(){return p},C3g:function(){return se},CNo:function(){return hi},Cdg:function(){return ni},CzK:function(){return De},D0T:function(){return ri},D1_:function(){return on},DEr:function(){return pi},Dut:function(){return St},E3h:function(){return vi},EPQ:function(){return _e},EQn:function(){return yt},ES4:function(){return Wt},ESD:function(){return Fe},EiJ:function(){return st},F3d:function(){return us},F9q:function(){return Qt},Fgs:function(){return J},Fm_:function(){return Zs},GO4:function(){return ot},GYc:function(){return dt},Gj_:function(){return Bn},Gwp:function(){return Vi},H6q:function(){return Co},HCL:function(){return Bi},Hfx:function(){return Ui},Hz8:function(){return mi},IPX:function(){return a},IYc:function(){return Ws},Ido:function(){return u},Itd:function(){return qs},Ivo:function(){return ns},JpG:function(){return Wo},K19:function(){return ui},KjV:function(){return Ue},L_t:function(){return gi},M6C:function(){return cn},MUv:function(){return ze},NOs:function(){return Kt},NPS:function(){return It},Ng6:function(){return Qi},OLZ:function(){return So},OZR:function(){return je},Oop:function(){return tn},P4M:function(){return We},P6G:function(){return r},P6Y:function(){return ti},PRb:function(){return j},PX0:function(){return yn},PpC:function(){return Zi},Pvw:function(){return pe},QO2:function(){return x},R80:function(){return E},RV_:function(){return he},Rzx:function(){return qt},SPM:function(){return vs},SUG:function(){return le},SUY:function(){return ro},SUp:function(){return V},Saq:function(){return Lt},T83:function(){return Ze},Tnx:function(){return En},UnT:function(){return Me},VVv:function(){return yi},Vqd:function(){return ei},XEs:function(){return y},XV0:function(){return Ce},XZx:function(){return b},YI3:function(){return Se},ZGJ:function(){return Ti},ZnX:function(){return $i},_2n:function(){return Pi},_Yy:function(){return Ni},_bK:function(){return Ei},_g0:function(){return ne},_lC:function(){return me},_t9:function(){return $e},_wn:function(){return ve},a9O:function(){return ae},b6y:function(){return Ut},b7$:function(){return ct},bKB:function(){return Dn},c63:function(){return Et},cbQ:function(){return Rt},cvW:function(){return _t},dCr:function(){return nn},dRz:function(){return m},dt_:function(){return B},etL:function(){return we},fSI:function(){return Ar},g8u:function(){return Te},gkn:function(){return rt},hEj:function(){return Mt},hX8:function(){return Ri},iFQ:function(){return Ke},ixd:function(){return Ss},j5u:function(){return xe},jUe:function(){return Ae},jbW:function(){return wi},kJk:function(){return Cn},kVY:function(){return wo},keg:function(){return ie},kvU:function(){return mn},kwl:function(){return Ys},l80:function(){return Gn},lRK:function(){return D},lUq:function(){return Yi},lWp:function(){return rn},lXJ:function(){return kt},loF:function(){return bn},mV1:function(){return qi},n_1:function(){return O},nd:function(){return Xe},nyM:function(){return Ve},oQ$:function(){return On},oSI:function(){return ss},opG:function(){return Fi},ov3:function(){return yo},pW3:function(){return ft},paE:function(){return Re},phM:function(){return ln},pnM:function(){return Ge},qBU:function(){return et},qeD:function(){return ge},rg2:function(){return Rn},rh:function(){return X},s$:function(){return Xn},sEe:function(){return U},tZ6:function(){return Sn},uoC:function(){return Dt},url:function(){return K},uxu:function(){return tt},vGG:function(){return $n},xEn:function(){return Le},xL1:function(){return w},y65:function(){return T},yJx:function(){return ai},yb5:function(){return At},ynu:function(){return He},ypS:function(){return Ie},ytC:function(){return ps},zJb:function(){return L},zKr:function(){return un},zRJ:function(){return mt}});var c=i(39460),F=i(87799),g=i(94162),A=i(44516),S=i(15779),$=i(19570),N=i(94814);function x(sn){return`--vscode-${sn.replace(/\./g,"-")}`}function O(sn){return`var(${x(sn)})`}function p(sn,Tn){return`var(${x(sn)}, ${Tn})`}const a={ColorContribution:"base.contributions.colors"};class d{constructor(){this._onDidChangeSchema=new g.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Tn,Yn,In,ds=!1,Us){const fs={id:Tn,description:In,defaults:Yn,needsTransparency:ds,deprecationMessage:Us};this.colorsById[Tn]=fs;const zs={type:"string",description:In,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Us&&(zs.deprecationMessage=Us),this.colorSchema.properties[Tn]=zs,this.colorReferenceSchema.enum.push(Tn),this.colorReferenceSchema.enumDescriptions.push(In),this._onDidChangeSchema.fire(),Tn}getColors(){return Object.keys(this.colorsById).map(Tn=>this.colorsById[Tn])}resolveDefaultColor(Tn,Yn){const In=this.colorsById[Tn];if(In&&In.defaults){const ds=In.defaults[Yn.type];return Es(ds,Yn)}}getColorSchema(){return this.colorSchema}toString(){const Tn=(Yn,In)=>{const ds=Yn.indexOf(".")===-1?0:1,Us=In.indexOf(".")===-1?0:1;return ds!==Us?ds-Us:Yn.localeCompare(In)};return Object.keys(this.colorsById).sort(Tn).map(Yn=>`- \`${Yn}\`: ${this.colorsById[Yn].description}`).join(`
`)}}const f=new d;N.B.add(a.ColorContribution,f);function s(sn){return sn===null||typeof sn.hcLight=="undefined"&&(sn.hcDark===null||typeof sn.hcDark=="string"?sn.hcLight=sn.hcDark:sn.hcLight=sn.light),sn}function r(sn,Tn,Yn,In,ds){return f.registerColor(sn,s(Tn),Yn,In,ds)}const m=r("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),C=r("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),u=r("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),_=r("descriptionForeground",{light:"#717171",dark:$i(m,.7),hcDark:$i(m,.7),hcLight:$i(m,.7)},S.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),b=r("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.NC("iconForeground","The default color for icons in the workbench.")),E=r("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),D=r("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),w=r("contrastActiveBorder",{light:null,dark:null,hcDark:E,hcLight:E},S.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),I=r("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),M=r("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:F.Il.black,hcLight:"#292929"},S.NC("textSeparatorForeground","Color for text separators.")),K=r("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.NC("textLinkForeground","Foreground color for links in text.")),z=r("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},S.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),Q=r("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},S.NC("textPreformatForeground","Foreground color for preformatted text segments.")),Y=r("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},S.NC("textBlockQuoteBackground","Background color for block quotes in text.")),H=r("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:F.Il.white,hcLight:"#292929"},S.NC("textBlockQuoteBorder","Border color for block quotes in text.")),P=r("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:F.Il.black,hcLight:"#F2F2F2"},S.NC("textCodeBlockBackground","Background color for code blocks in text.")),X=r("widget.shadow",{dark:$i(F.Il.black,.36),light:$i(F.Il.black,.16),hcDark:null,hcLight:null},S.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),q=r("widget.border",{dark:null,light:null,hcDark:D,hcLight:D},S.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),U=r("input.background",{dark:"#3C3C3C",light:F.Il.white,hcDark:F.Il.black,hcLight:F.Il.white},S.NC("inputBoxBackground","Input box background.")),L=r("input.foreground",{dark:m,light:m,hcDark:m,hcLight:m},S.NC("inputBoxForeground","Input box foreground.")),B=r("input.border",{dark:null,light:null,hcDark:D,hcLight:D},S.NC("inputBoxBorder","Input box border.")),j=r("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:D,hcLight:D},S.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),G=r("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),y=r("inputOption.activeBackground",{dark:$i(E,.4),light:$i(E,.2),hcDark:F.Il.transparent,hcLight:F.Il.transparent},S.NC("inputOption.activeBackground","Background hover color of options in input fields.")),pe=r("inputOption.activeForeground",{dark:F.Il.white,light:F.Il.black,hcDark:m,hcLight:m},S.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),ye=r("input.placeholderForeground",{light:$i(m,.5),dark:$i(m,.5),hcDark:$i(m,.7),hcLight:$i(m,.7)},S.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),me=r("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:F.Il.black,hcLight:F.Il.white},S.NC("inputValidationInfoBackground","Input validation background color for information severity.")),Se=r("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:m},S.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),_e=r("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:D,hcLight:D},S.NC("inputValidationInfoBorder","Input validation border color for information severity.")),he=r("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:F.Il.black,hcLight:F.Il.white},S.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),le=r("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:m},S.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),se=r("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:D,hcLight:D},S.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),Re=r("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:F.Il.black,hcLight:F.Il.white},S.NC("inputValidationErrorBackground","Input validation background color for error severity.")),$e=r("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:m},S.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),je=r("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:D,hcLight:D},S.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Ce=r("dropdown.background",{dark:"#3C3C3C",light:F.Il.white,hcDark:F.Il.black,hcLight:F.Il.white},S.NC("dropdownBackground","Dropdown background.")),J=r("dropdown.listBackground",{dark:null,light:null,hcDark:F.Il.black,hcLight:F.Il.white},S.NC("dropdownListBackground","Dropdown list background.")),ne=r("dropdown.foreground",{dark:"#F0F0F0",light:m,hcDark:F.Il.white,hcLight:m},S.NC("dropdownForeground","Dropdown foreground.")),ae=r("dropdown.border",{dark:Ce,light:"#CECECE",hcDark:D,hcLight:D},S.NC("dropdownBorder","Dropdown border.")),xe=r("button.foreground",{dark:F.Il.white,light:F.Il.white,hcDark:F.Il.white,hcLight:F.Il.white},S.NC("buttonForeground","Button foreground color.")),Ke=r("button.separator",{dark:$i(xe,.4),light:$i(xe,.4),hcDark:$i(xe,.4),hcLight:$i(xe,.4)},S.NC("buttonSeparator","Button separator color.")),ct=r("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.NC("buttonBackground","Button background color.")),ot=r("button.hoverBackground",{dark:Rs(ct,.2),light:Hs(ct,.2),hcDark:ct,hcLight:ct},S.NC("buttonHoverBackground","Button background color when hovering.")),dt=r("button.border",{dark:D,light:D,hcDark:D,hcLight:D},S.NC("buttonBorder","Button border color.")),et=r("button.secondaryForeground",{dark:F.Il.white,light:F.Il.white,hcDark:F.Il.white,hcLight:m},S.NC("buttonSecondaryForeground","Secondary button foreground color.")),Fe=r("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:F.Il.white},S.NC("buttonSecondaryBackground","Secondary button background color.")),Le=r("button.secondaryHoverBackground",{dark:Rs(Fe,.2),light:Hs(Fe,.2),hcDark:null,hcLight:null},S.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Te=r("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:F.Il.black,hcLight:"#0F4A85"},S.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ge=r("badge.foreground",{dark:F.Il.white,light:"#333",hcDark:F.Il.white,hcLight:F.Il.white},S.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ve=r("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),we=r("scrollbarSlider.background",{dark:F.Il.fromHex("#797979").transparent(.4),light:F.Il.fromHex("#646464").transparent(.4),hcDark:$i(D,.6),hcLight:$i(D,.4)},S.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Oe=r("scrollbarSlider.hoverBackground",{dark:F.Il.fromHex("#646464").transparent(.7),light:F.Il.fromHex("#646464").transparent(.7),hcDark:$i(D,.8),hcLight:$i(D,.8)},S.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),He=r("scrollbarSlider.activeBackground",{dark:F.Il.fromHex("#BFBFBF").transparent(.4),light:F.Il.fromHex("#000000").transparent(.6),hcDark:D,hcLight:D},S.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),mt=r("progressBar.background",{dark:F.Il.fromHex("#0E70C0"),light:F.Il.fromHex("#0E70C0"),hcDark:D,hcLight:D},S.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),bt=r("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),kt=r("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),Ut=r("editorError.border",{dark:null,light:null,hcDark:F.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.NC("errorBorder","Border color of error boxes in the editor.")),ut=r("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Dt=r("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},S.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ft=r("editorWarning.border",{dark:null,light:null,hcDark:F.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},S.NC("warningBorder","Border color of warning boxes in the editor.")),Ft=r("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Et=r("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ze=r("editorInfo.border",{dark:null,light:null,hcDark:F.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.NC("infoBorder","Border color of info boxes in the editor.")),St=r("editorHint.foreground",{dark:F.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),jt=r("editorHint.border",{dark:null,light:null,hcDark:F.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.NC("hintBorder","Border color of hint boxes in the editor.")),Ct=r("sash.hoverBorder",{dark:E,light:E,hcDark:E,hcLight:E},S.NC("sashActiveBorder","Border color of active sashes.")),_t=r("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:F.Il.black,hcLight:F.Il.white},S.NC("editorBackground","Editor background color.")),Kt=r("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:F.Il.white,hcLight:m},S.NC("editorForeground","Editor default foreground color.")),Zt=r("editorStickyScroll.background",{light:_t,dark:_t,hcDark:_t,hcLight:_t},S.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),li=r("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:F.Il.fromHex("#0F4A85").transparent(.1)},S.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),ri=r("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:F.Il.white},S.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ui=r("editorWidget.foreground",{dark:m,light:m,hcDark:m,hcLight:m},S.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),on=r("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:D,hcLight:D},S.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Qi=r("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),un=r("quickInput.background",{dark:ri,light:ri,hcDark:ri,hcLight:ri},S.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Sn=r("quickInput.foreground",{dark:Ui,light:Ui,hcDark:Ui,hcLight:Ui},S.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),bn=r("quickInputTitle.background",{dark:new F.Il(new F.VS(255,255,255,.105)),light:new F.Il(new F.VS(0,0,0,.06)),hcDark:"#000000",hcLight:F.Il.white},S.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Cn=r("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:F.Il.white,hcLight:"#0F4A85"},S.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Fi=r("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:F.Il.white,hcLight:"#0F4A85"},S.NC("pickerGroupBorder","Quick picker color for grouping borders.")),On=r("keybindingLabel.background",{dark:new F.Il(new F.VS(128,128,128,.17)),light:new F.Il(new F.VS(221,221,221,.4)),hcDark:F.Il.transparent,hcLight:F.Il.transparent},S.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),rn=r("keybindingLabel.foreground",{dark:F.Il.fromHex("#CCCCCC"),light:F.Il.fromHex("#555555"),hcDark:F.Il.white,hcLight:m},S.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),pn=r("keybindingLabel.border",{dark:new F.Il(new F.VS(51,51,51,.6)),light:new F.Il(new F.VS(204,204,204,.4)),hcDark:new F.Il(new F.VS(111,195,223)),hcLight:D},S.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),ui=r("keybindingLabel.bottomBorder",{dark:new F.Il(new F.VS(68,68,68,.6)),light:new F.Il(new F.VS(187,187,187,.4)),hcDark:new F.Il(new F.VS(111,195,223)),hcLight:m},S.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Mt=r("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.NC("editorSelectionBackground","Color of the editor selection.")),At=r("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:F.Il.white},S.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Wt=r("editor.inactiveSelectionBackground",{light:$i(Mt,.5),dark:$i(Mt,.5),hcDark:$i(Mt,.7),hcLight:$i(Mt,.5)},S.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),qt=r("editor.selectionHighlightBackground",{light:Ho(Mt,_t,.3,.6),dark:Ho(Mt,_t,.3,.6),hcDark:null,hcLight:null},S.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),at=r("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},S.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Ve=r("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.NC("editorFindMatch","Color of the current search match.")),ze=r("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=r("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ge=r("editor.findMatchBorder",{light:null,dark:null,hcDark:w,hcLight:w},S.NC("editorFindMatchBorder","Border color of the current search match.")),st=r("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},S.NC("findMatchHighlightBorder","Border color of the other search matches.")),rt=r("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:$i(w,.4),hcLight:$i(w,.4)},S.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xt=r("searchEditor.findMatchBackground",{light:$i(ze,.66),dark:$i(ze,.66),hcDark:ze,hcLight:ze},S.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Vt=r("searchEditor.findMatchBorder",{light:$i(st,.66),dark:$i(st,.66),hcDark:st,hcLight:st},S.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Gt=r("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),ai=r("editorHoverWidget.background",{light:ri,dark:ri,hcDark:ri,hcLight:ri},S.NC("hoverBackground","Background color of the editor hover.")),Si=r("editorHoverWidget.foreground",{light:Ui,dark:Ui,hcDark:Ui,hcLight:Ui},S.NC("hoverForeground","Foreground color of the editor hover.")),hi=r("editorHoverWidget.border",{light:on,dark:on,hcDark:on,hcLight:on},S.NC("hoverBorder","Border color of the editor hover.")),Di=r("editorHoverWidget.statusBarBackground",{dark:Rs(ai,.2),light:Hs(ai,.05),hcDark:ri,hcLight:ri},S.NC("statusBarBackground","Background color of the editor hover status bar.")),Ni=r("editorLink.activeForeground",{dark:"#4E94CE",light:F.Il.blue,hcDark:F.Il.cyan,hcLight:"#292929"},S.NC("activeLinkForeground","Color of active links.")),yi=r("editorInlayHint.foreground",{dark:ge,light:ge,hcDark:F.Il.black,hcLight:ge},S.NC("editorInlayHintForeground","Foreground color of inline hints")),Zi=r("editorInlayHint.background",{dark:$i(Te,.8),light:$i(Te,.6),hcDark:"#f38518",hcLight:Te},S.NC("editorInlayHintBackground","Background color of inline hints")),Ri=r("editorInlayHint.typeForeground",{dark:yi,light:yi,hcDark:yi,hcLight:yi},S.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Dn=r("editorInlayHint.typeBackground",{dark:Zi,light:Zi,hcDark:Zi,hcLight:Zi},S.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Bi=r("editorInlayHint.parameterForeground",{dark:yi,light:yi,hcDark:yi,hcLight:yi},S.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ln=r("editorInlayHint.parameterBackground",{dark:Zi,light:Zi,hcDark:Zi,hcLight:Zi},S.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Ht=r("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),fe=r("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),De=new F.Il(new F.VS(155,185,85,.2)),ie=new F.Il(new F.VS(255,0,0,.2)),Ie=r("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),We=r("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),nt=r("diffEditor.insertedLineBackground",{dark:De,light:De,hcDark:null,hcLight:null},S.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),lt=r("diffEditor.removedLineBackground",{dark:ie,light:ie,hcDark:null,hcLight:null},S.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Pt=r("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),$t=r("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ti=r("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Qt=r("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Jt=r("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),di=r("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Ci=r("diffEditor.border",{dark:null,light:null,hcDark:D,hcLight:D},S.NC("diffEditorBorder","Border color between the two text editors.")),gi=r("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Ei=r("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pi=r("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tn=r("list.focusOutline",{dark:E,light:E,hcDark:w,hcLight:w},S.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),an=r("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),nn=r("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:F.Il.fromHex("#0F4A85").transparent(.1)},S.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cn=r("list.activeSelectionForeground",{dark:F.Il.white,light:F.Il.white,hcDark:null,hcLight:null},S.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=r("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rn=r("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:F.Il.fromHex("#0F4A85").transparent(.1)},S.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ps=r("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mn=r("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xn=r("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),us=r("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),qi=r("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:F.Il.white.transparent(.1),hcLight:F.Il.fromHex("#0F4A85").transparent(.1)},S.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ii=r("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Oi=r("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Vi=r("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:E,hcLight:E},S.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),yn=r("list.focusHighlightForeground",{dark:Vi,light:Eo(nn,Vi,"#BBE7FF"),hcDark:Vi,hcLight:Vi},S.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),An=r("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Kn=r("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.NC("listErrorForeground","Foreground color of list items containing errors.")),Hn=r("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.NC("listWarningForeground","Foreground color of list items containing warnings.")),$n=r("listFilterWidget.background",{light:Hs(ri,0),dark:Rs(ri,0),hcDark:ri,hcLight:ri},S.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),ss=r("listFilterWidget.outline",{dark:F.Il.transparent,light:F.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Lt=r("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:D,hcLight:D},S.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),T=r("listFilterWidget.shadow",{dark:X,light:X,hcDark:X,hcLight:X},S.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),ee=r("list.filterMatchBackground",{dark:ze,light:ze,hcDark:null,hcLight:null},S.NC("listFilterMatchHighlight","Background color of the filtered match.")),re=r("list.filterMatchBorder",{dark:st,light:st,hcDark:D,hcLight:w},S.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Me=r("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ue=r("tree.inactiveIndentGuidesStroke",{dark:$i(Me,.4),light:$i(Me,.4),hcDark:$i(Me,.4),hcLight:$i(Me,.4)},S.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),tt=r("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.NC("tableColumnsBorder","Table border color between columns.")),yt=r("tree.tableOddRowsBackground",{dark:$i(m,.04),light:$i(m,.04),hcDark:null,hcLight:null},S.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ye=r("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),V=r("checkbox.background",{dark:Ce,light:Ce,hcDark:Ce,hcLight:Ce},S.NC("checkbox.background","Background color of checkbox widget.")),de=r("checkbox.selectBackground",{dark:ri,light:ri,hcDark:ri,hcLight:ri},S.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Ee=r("checkbox.foreground",{dark:ne,light:ne,hcDark:ne,hcLight:ne},S.NC("checkbox.foreground","Foreground color of checkbox widget.")),Xe=r("checkbox.border",{dark:ae,light:ae,hcDark:ae,hcLight:ae},S.NC("checkbox.border","Border color of checkbox widget.")),Pe=r("checkbox.selectBorder",{dark:ri,light:ri,hcDark:ri,hcLight:ri},S.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),pt=r("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),It=r("quickInputList.focusForeground",{dark:cn,light:cn,hcDark:cn,hcLight:cn},S.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Rt=r("quickInputList.focusIconForeground",{dark:En,light:En,hcDark:En,hcLight:En},S.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ei=r("quickInputList.focusBackground",{dark:Ys(pt,nn),light:Ys(pt,nn),hcDark:null,hcLight:null},S.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),ni=r("menu.border",{dark:null,light:null,hcDark:D,hcLight:D},S.NC("menuBorder","Border color of menus.")),pi=r("menu.foreground",{dark:ne,light:ne,hcDark:ne,hcLight:ne},S.NC("menuForeground","Foreground color of menu items.")),mi=r("menu.background",{dark:Ce,light:Ce,hcDark:Ce,hcLight:Ce},S.NC("menuBackground","Background color of menu items.")),wi=r("menu.selectionForeground",{dark:cn,light:cn,hcDark:cn,hcLight:cn},S.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ci=r("menu.selectionBackground",{dark:nn,light:nn,hcDark:nn,hcLight:nn},S.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),vi=r("menu.selectionBorder",{dark:null,light:null,hcDark:w,hcLight:w},S.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Ti=r("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:D,hcLight:D},S.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Yi=r("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Zn=r("toolbar.hoverOutline",{dark:null,light:null,hcDark:w,hcLight:w},S.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),wn=r("toolbar.activeBackground",{dark:Rs(Yi,.1),light:Hs(Yi,.1),hcDark:null,hcLight:null},S.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Cs=r("editor.snippetTabstopHighlightBackground",{dark:new F.Il(new F.VS(124,124,124,.3)),light:new F.Il(new F.VS(10,50,100,.2)),hcDark:new F.Il(new F.VS(124,124,124,.3)),hcLight:new F.Il(new F.VS(10,50,100,.2))},S.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),bs=r("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Ms=r("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),xn=r("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new F.Il(new F.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Gn=r("breadcrumb.foreground",{light:$i(m,.8),dark:$i(m,.8),hcDark:$i(m,.8),hcLight:$i(m,.8)},S.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Ss=r("breadcrumb.background",{light:_t,dark:_t,hcDark:_t,hcLight:_t},S.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Co=r("breadcrumb.focusForeground",{light:Hs(m,.2),dark:Rs(m,.1),hcDark:Rs(m,.1),hcLight:Rs(m,.1)},S.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Ar=r("breadcrumb.activeSelectionForeground",{light:Hs(m,.2),dark:Rs(m,.1),hcDark:Rs(m,.1),hcLight:Rs(m,.1)},S.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),va=r("breadcrumbPicker.background",{light:ri,dark:ri,hcDark:ri,hcLight:ri},S.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),or=.5,bo=F.Il.fromHex("#40C8AE").transparent(or),rr=F.Il.fromHex("#40A6FF").transparent(or),ar=F.Il.fromHex("#606060").transparent(.4),ys=.4,Js=1,ho=r("merge.currentHeaderBackground",{dark:bo,light:bo,hcDark:null,hcLight:null},S.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kr=r("merge.currentContentBackground",{dark:$i(ho,ys),light:$i(ho,ys),hcDark:$i(ho,ys),hcLight:$i(ho,ys)},S.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fo=r("merge.incomingHeaderBackground",{dark:rr,light:rr,hcDark:null,hcLight:null},S.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Fn=r("merge.incomingContentBackground",{dark:$i(fo,ys),light:$i(fo,ys),hcDark:$i(fo,ys),hcLight:$i(fo,ys)},S.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),oo=r("merge.commonHeaderBackground",{dark:ar,light:ar,hcDark:null,hcLight:null},S.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Jn=r("merge.commonContentBackground",{dark:$i(oo,ys),light:$i(oo,ys),hcDark:$i(oo,ys),hcLight:$i(oo,ys)},S.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Qs=r("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Ts=r("editorOverviewRuler.currentContentForeground",{dark:$i(ho,Js),light:$i(ho,Js),hcDark:Qs,hcLight:Qs},S.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),lr=r("editorOverviewRuler.incomingContentForeground",{dark:$i(fo,Js),light:$i(fo,Js),hcDark:Qs,hcLight:Qs},S.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Bo=r("editorOverviewRuler.commonContentForeground",{dark:$i(oo,Js),light:$i(oo,Js),hcDark:Qs,hcLight:Qs},S.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Zs=r("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),vs=r("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ro=r("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ws=r("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),yo=r("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Bn=r("minimap.errorHighlight",{dark:new F.Il(new F.VS(255,18,18,.7)),light:new F.Il(new F.VS(255,18,18,.7)),hcDark:new F.Il(new F.VS(255,50,50,1)),hcLight:"#B5200D"},S.NC("minimapError","Minimap marker color for errors.")),ns=r("minimap.warningHighlight",{dark:Dt,light:Dt,hcDark:ft,hcLight:ft},S.NC("overviewRuleWarning","Minimap marker color for warnings.")),wo=r("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.NC("minimapBackground","Minimap background color.")),qs=r("minimap.foregroundOpacity",{dark:F.Il.fromHex("#000f"),light:F.Il.fromHex("#000f"),hcDark:F.Il.fromHex("#000f"),hcLight:F.Il.fromHex("#000f")},S.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),dr=r("minimapSlider.background",{light:$i(we,.5),dark:$i(we,.5),hcDark:$i(we,.5),hcLight:$i(we,.5)},S.NC("minimapSliderBackground","Minimap slider background color.")),Lo=r("minimapSlider.hoverBackground",{light:$i(Oe,.5),dark:$i(Oe,.5),hcDark:$i(Oe,.5),hcLight:$i(Oe,.5)},S.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Fr=r("minimapSlider.activeBackground",{light:$i(He,.5),dark:$i(He,.5),hcDark:$i(He,.5),hcLight:$i(He,.5)},S.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Wo=r("problemsErrorIcon.foreground",{dark:kt,light:kt,hcDark:kt,hcLight:kt},S.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Do=r("problemsWarningIcon.foreground",{dark:Dt,light:Dt,hcDark:Dt,hcLight:Dt},S.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),So=r("problemsInfoIcon.foreground",{dark:Et,light:Et,hcDark:Et,hcLight:Et},S.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Br=r("charts.foreground",{dark:m,light:m,hcDark:m,hcLight:m},S.NC("chartsForeground","The foreground color used in charts.")),ao=r("charts.lines",{dark:$i(m,.5),light:$i(m,.5),hcDark:$i(m,.5),hcLight:$i(m,.5)},S.NC("chartsLines","The color used for horizontal lines in charts.")),Wr=r("charts.red",{dark:kt,light:kt,hcDark:kt,hcLight:kt},S.NC("chartsRed","The red color used in chart visualizations.")),Vr=r("charts.blue",{dark:Et,light:Et,hcDark:Et,hcLight:Et},S.NC("chartsBlue","The blue color used in chart visualizations.")),go=r("charts.yellow",{dark:Dt,light:Dt,hcDark:Dt,hcLight:Dt},S.NC("chartsYellow","The yellow color used in chart visualizations.")),eo=r("charts.orange",{dark:ro,light:ro,hcDark:ro,hcLight:ro},S.NC("chartsOrange","The orange color used in chart visualizations.")),hs=r("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.NC("chartsGreen","The green color used in chart visualizations.")),Vs=r("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.NC("chartsPurple","The purple color used in chart visualizations."));function Vo(sn,Tn){var Yn,In,ds,Us;switch(sn.op){case 0:return(Yn=Es(sn.value,Tn))===null||Yn===void 0?void 0:Yn.darken(sn.factor);case 1:return(In=Es(sn.value,Tn))===null||In===void 0?void 0:In.lighten(sn.factor);case 2:return(ds=Es(sn.value,Tn))===null||ds===void 0?void 0:ds.transparent(sn.factor);case 3:{const fs=Es(sn.background,Tn);return fs?(Us=Es(sn.value,Tn))===null||Us===void 0?void 0:Us.makeOpaque(fs):Es(sn.value,Tn)}case 4:for(const fs of sn.values){const zs=Es(fs,Tn);if(zs)return zs}return;case 6:return Es(Tn.defines(sn.if)?sn.then:sn.else,Tn);case 5:{const fs=Es(sn.value,Tn);if(!fs)return;const zs=Es(sn.background,Tn);return zs?fs.isDarkerThan(zs)?F.Il.getLighterColor(fs,zs,sn.factor).transparent(sn.transparency):F.Il.getDarkerColor(fs,zs,sn.factor).transparent(sn.transparency):fs.transparent(sn.factor*sn.transparency)}default:throw(0,A.vE)(sn)}}function Hs(sn,Tn){return{op:0,value:sn,factor:Tn}}function Rs(sn,Tn){return{op:1,value:sn,factor:Tn}}function $i(sn,Tn){return{op:2,value:sn,factor:Tn}}function Ys(...sn){return{op:4,values:sn}}function Eo(sn,Tn,Yn){return{op:6,if:sn,then:Tn,else:Yn}}function Ho(sn,Tn,Yn,In){return{op:5,value:sn,background:Tn,factor:Yn,transparency:In}}function Es(sn,Tn){if(sn!==null){if(typeof sn=="string")return sn[0]==="#"?F.Il.fromHex(sn):Tn.getColor(sn);if(sn instanceof F.Il)return sn;if(typeof sn=="object")return Vo(sn,Tn)}}const Uo="vscode://schemas/workbench-colors",cr=N.B.as($.I.JSONContribution);cr.registerSchema(Uo,f.getColorSchema());const mo=new c.pY(()=>cr.notifySchemaChanged(Uo),200);f.onDidChangeSchema(()=>{mo.isScheduled()||mo.schedule()})},88159:function(vt,be,i){"use strict";i.d(be,{Ks:function(){return m},q5:function(){return r},s_:function(){return E}});var c=i(39460),F=i(54195),g=i(81189),A=i(94162),S=i(67770),$=i(39508),N=i(15779),x=i(19570),O=i(94814);const p={IconContribution:"base.contributions.icons"};var a;(function(K){function z(Q,Y){let H=Q.defaults;for(;g.k.isThemeIcon(H);){const P=s.getIcon(H.id);if(!P)return;H=P.defaults}return H}K.getDefinition=z})(a||(a={}));var d;(function(K){function z(Y){return{weight:Y.weight,style:Y.style,src:Y.src.map(H=>({format:H.format,location:H.location.toString()}))}}K.toJSONObject=z;function Q(Y){const H=P=>(0,S.HD)(P)?P:void 0;if(Y&&Array.isArray(Y.src)&&Y.src.every(P=>(0,S.HD)(P.format)&&(0,S.HD)(P.location)))return{weight:H(Y.weight),style:H(Y.style),src:Y.src.map(P=>({format:P.format,location:$.o.parse(P.location)}))}}K.fromJSONObject=Q})(d||(d={}));class f{constructor(){this._onDidChange=new A.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,N.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,N.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${g.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(z,Q,Y,H){const P=this.iconsById[z];if(P){if(Y&&!P.description){P.description=Y,this.iconSchema.properties[z].markdownDescription=`${Y} $(${z})`;const U=this.iconReferenceSchema.enum.indexOf(z);U!==-1&&(this.iconReferenceSchema.enumDescriptions[U]=Y),this._onDidChange.fire()}return P}const X={id:z,description:Y,defaults:Q,deprecationMessage:H};this.iconsById[z]=X;const q={$ref:"#/definitions/icons"};return H&&(q.deprecationMessage=H),Y&&(q.markdownDescription=`${Y}: $(${z})`),this.iconSchema.properties[z]=q,this.iconReferenceSchema.enum.push(z),this.iconReferenceSchema.enumDescriptions.push(Y||""),this._onDidChange.fire(),{id:z}}getIcons(){return Object.keys(this.iconsById).map(z=>this.iconsById[z])}getIcon(z){return this.iconsById[z]}getIconSchema(){return this.iconSchema}toString(){const z=(P,X)=>P.id.localeCompare(X.id),Q=P=>{for(;g.k.isThemeIcon(P.defaults);)P=this.iconsById[P.defaults.id];return`codicon codicon-${P?P.id:""}`},Y=[];Y.push("| preview     | identifier                        | default codicon ID                | description"),Y.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const H=Object.keys(this.iconsById).map(P=>this.iconsById[P]);for(const P of H.filter(X=>!!X.description).sort(z))Y.push(`|<i class="${Q(P)}"></i>|${P.id}|${g.k.isThemeIcon(P.defaults)?P.defaults.id:P.id}|${P.description||""}|`);Y.push("| preview     | identifier                        "),Y.push("| ----------- | --------------------------------- |");for(const P of H.filter(X=>!g.k.isThemeIcon(X.defaults)).sort(z))Y.push(`|<i class="${Q(P)}"></i>|${P.id}|`);return Y.join(`
`)}}const s=new f;O.B.add(p.IconContribution,s);function r(K,z,Q,Y){return s.registerIcon(K,z,Q,Y)}function m(){return s}function C(){const K=(0,F.u)();for(const z in K){const Q="\\"+K[z].toString(16);s.registerIcon(z,{fontCharacter:Q})}}C();const u="vscode://schemas/icons",_=O.B.as(x.I.JSONContribution);_.registerSchema(u,s.getIconSchema());const b=new c.pY(()=>_.notifySchemaChanged(u),200);s.onDidChange(()=>{b.isScheduled()||b.schedule()});const E=r("widget-close",F.l.close,(0,N.NC)("widgetClose","Icon for the close action in widgets.")),D=r("goto-previous-location",F.l.arrowUp,(0,N.NC)("previousChangeIcon","Icon for goto previous editor location.")),w=r("goto-next-location",F.l.arrowDown,(0,N.NC)("nextChangeIcon","Icon for goto next editor location.")),I=g.k.modify(F.l.sync,"spin"),M=g.k.modify(F.l.loading,"spin")},33479:function(vt,be,i){"use strict";i.d(be,{_T:function(){return g},c3:function(){return F},eL:function(){return c}});var c;(function(A){A.DARK="dark",A.LIGHT="light",A.HIGH_CONTRAST_DARK="hcDark",A.HIGH_CONTRAST_LIGHT="hcLight"})(c||(c={}));function F(A){return A===c.HIGH_CONTRAST_DARK||A===c.HIGH_CONTRAST_LIGHT}function g(A){return A===c.DARK||A===c.HIGH_CONTRAST_DARK}},901:function(vt,be,i){"use strict";i.d(be,{EN:function(){return N},IP:function(){return O},Ic:function(){return d},XE:function(){return $},bB:function(){return f},m6:function(){return x}});var c=i(94162),F=i(52357),g=i(64700),A=i(94814),S=i(33479);const $=(0,g.yh)("themeService");function N(s){return{id:s}}function x(s){switch(s){case S.eL.DARK:return"vs-dark";case S.eL.HIGH_CONTRAST_DARK:return"hc-black";case S.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const O={ThemingContribution:"base.contributions.theming"};class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new c.Q5}onColorThemeChange(r){return this.themingParticipants.push(r),this.onThemingParticipantAddedEmitter.fire(r),(0,F.OF)(()=>{const m=this.themingParticipants.indexOf(r);this.themingParticipants.splice(m,1)})}getThemingParticipants(){return this.themingParticipants}}const a=new p;A.B.add(O.ThemingContribution,a);function d(s){return a.onColorThemeChange(s)}class f extends F.JT{constructor(r){super(),this.themeService=r,this.theme=r.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(m=>this.onThemeChange(m)))}onThemeChange(r){this.theme=r,this.updateStyles()}updateStyles(){}}},15151:function(vt,be,i){"use strict";i.d(be,{Xt:function(){return A},YO:function(){return g},gJ:function(){return S},tJ:function(){return F}});var c=i(64700);const F=(0,c.yh)("undoRedoService");class g{constructor(N,x){this.resource=N,this.elements=x}}class A{constructor(){this.id=A._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}A._ID=0,A.None=new A;class S{constructor(){this.id=S._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}S._ID=0,S.None=new S},52199:function(vt,be,i){"use strict";i.d(be,{A6:function(){return r},c$:function(){return x},eb:function(){return N},ec:function(){return $},md:function(){return s},uT:function(){return a}});var c=i(15779),F=i(33392),g=i(71818),A=i(39508),S=i(64700);const $=(0,S.yh)("contextService");function N(C){const u=C;return typeof(u==null?void 0:u.id)=="string"&&A.o.isUri(u.uri)}function x(C){const u=C;return typeof(u==null?void 0:u.id)=="string"&&!N(C)&&!d(C)}const O={id:"ext-dev"},p={id:"empty-window"};function a(C,u){if(typeof C=="string"||typeof C=="undefined")return typeof C=="string"?{id:(0,F.EZ)(C)}:u?O:p;const _=C;return _.configuration?{id:_.id,configPath:_.configuration}:_.folders.length===1?{id:_.id,uri:_.folders[0].uri}:{id:_.id}}function d(C){const u=C;return typeof(u==null?void 0:u.id)=="string"&&A.o.isUri(u.configPath)}class f{constructor(u,_,b,E,D){this._id=u,this._transient=b,this._configuration=E,this._ignorePathCasing=D,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=_}get folders(){return this._folders}set folders(u){this._folders=u,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(u){this._configuration=u}getFolder(u){return u&&this._foldersMap.findSubstr(u)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const u of this.folders)this._foldersMap.set(u.uri,u)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class s{constructor(u,_){this.raw=_,this.uri=u.uri,this.index=u.index,this.name=u.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const r="code-workspace",m=[{name:(0,c.NC)("codeWorkspace","Code Workspace"),extensions:[r]}]},6753:function(vt,be,i){"use strict";i.d(be,{Y:function(){return F}});var c=i(64700);const F=(0,c.yh)("workspaceTrustManagementService")},43085:function(vt,be,i){"use strict";i.d(be,{g1:function(){return a},os:function(){return f}});var c=/margin|padding|width|height|max|min|offset/,F={left:!0,top:!0},g={cssFloat:1,styleFloat:1,float:1};function A(s){return s.nodeType===1?s.ownerDocument.defaultView.getComputedStyle(s,null):{}}function S(s,r,m){if(r=r.toLowerCase(),m==="auto"){if(r==="height")return s.offsetHeight;if(r==="width")return s.offsetWidth}return r in F||(F[r]=c.test(r)),F[r]?parseFloat(m)||0:m}function $(s,r){var m=arguments.length,C=A(s);return r=g[r]?"cssFloat"in s.style?"cssFloat":"styleFloat":r,m===1?C:S(s,r,C[r]||s.style[r])}function N(s,r,m){var C=arguments.length;if(r=g[r]?"cssFloat"in s.style?"cssFloat":"styleFloat":r,C===3)return typeof m=="number"&&c.test(r)&&(m="".concat(m,"px")),s.style[r]=m,m;for(var u in r)r.hasOwnProperty(u)&&N(s,u,r[u]);return A(s)}function x(s){return s===document.body?document.documentElement.clientWidth:s.offsetWidth}function O(s){return s===document.body?window.innerHeight||document.documentElement.clientHeight:s.offsetHeight}function p(){var s=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:s,height:r}}function a(){var s=document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return{width:s,height:r}}function d(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function f(s){var r=s.getBoundingClientRect(),m=document.documentElement;return{left:r.left+(window.pageXOffset||m.scrollLeft)-(m.clientLeft||document.body.clientLeft||0),top:r.top+(window.pageYOffset||m.scrollTop)-(m.clientTop||document.body.clientTop||0)}}},68316:function(vt,be,i){"use strict";i.d(be,{ZP:function(){return a}});var c=i(97e3),F=i(57689);function g(d){return/^\d+$/.test(d)?"".concat(d,"px"):d}function A(){}var S=function(){return S=Object.assign||function(d){for(var f,s=1,r=arguments.length;s<r;s++){f=arguments[s];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},S.apply(this,arguments)};function $(d){var f=d.width,s=d.height,r=d.value,m=d.defaultValue,C=d.language,u=d.theme,_=d.options,b=d.overrideServices,E=d.editorWillMount,D=d.editorDidMount,w=d.editorWillUnmount,I=d.onChange,M=d.className,K=d.original,z=(0,F.useRef)(null),Q=(0,F.useRef)(null),Y=(0,F.useRef)(null),H=(0,F.useRef)(null),P=g(f),X=g(s),q=(0,F.useMemo)(function(){return{width:P,height:X}},[P,X]),U=function(){var G=E(c);return G||{}},L=function(){D(Q.current,c);var G=Q.current.getModel().modified;Y.current=G.onDidChangeContent(function(y){H.current||I(G.getValue(),y)})},B=function(){w(Q.current,c)},j=function(){var G=r!=null?r:m,y=c.editor.createModel(K,C),pe=c.editor.createModel(G,C);Q.current.setModel({original:y,modified:pe})};return(0,F.useEffect)(function(){z.current&&(U(),Q.current=c.editor.createDiffEditor(z.current,S(S(S({},M?{extraEditorClassName:M}:{}),_),u?{theme:u}:{}),b),j(),L())},[]),(0,F.useEffect)(function(){Q.current&&Q.current.updateOptions(S(S({},M?{extraEditorClassName:M}:{}),_))},[M,_]),(0,F.useEffect)(function(){Q.current&&Q.current.layout()},[f,s]),(0,F.useEffect)(function(){if(Q.current){var G=Q.current.getModel(),y=G.original,pe=G.modified;c.editor.setModelLanguage(y,C),c.editor.setModelLanguage(pe,C)}},[C]),(0,F.useEffect)(function(){if(Q.current){var G=Q.current.getModel().modified;H.current=!0,Q.current.getModifiedEditor().pushUndoStop(),G.pushEditOperations([],[{range:G.getFullModelRange(),text:r}]),Q.current.getModifiedEditor().pushUndoStop(),H.current=!1}},[r]),(0,F.useEffect)(function(){c.editor.setTheme(u)},[u]),(0,F.useEffect)(function(){if(Q.current){var G=Q.current.getModel().original;K!==G.getValue()&&G.setValue(K)}},[K]),(0,F.useEffect)(function(){return function(){if(Q.current){B(),Q.current.dispose();var G=Q.current.getModel(),y=G.original,pe=G.modified;y&&y.dispose(),pe&&pe.dispose()}Y.current&&Y.current.dispose()}},[]),F.createElement("div",{ref:z,style:q,className:"react-monaco-editor-container"})}$.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:A,editorDidMount:A,editorWillUnmount:A,onChange:A,className:null};var N=null,x=function(){return x=Object.assign||function(d){for(var f,s=1,r=arguments.length;s<r;s++){f=arguments[s];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},x.apply(this,arguments)},O=function(d,f){var s={};for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&f.indexOf(r)<0&&(s[r]=d[r]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,r=Object.getOwnPropertySymbols(d);m<r.length;m++)f.indexOf(r[m])<0&&Object.prototype.propertyIsEnumerable.call(d,r[m])&&(s[r[m]]=d[r[m]]);return s};function p(d){var f=d.width,s=d.height,r=d.value,m=d.defaultValue,C=d.language,u=d.theme,_=d.options,b=d.overrideServices,E=d.editorWillMount,D=d.editorDidMount,w=d.editorWillUnmount,I=d.onChange,M=d.className,K=(0,F.useRef)(null),z=(0,F.useRef)(null),Q=(0,F.useRef)(null),Y=(0,F.useRef)(null),H=g(f),P=g(s),X=(0,F.useMemo)(function(){return{width:H,height:P}},[H,P]),q=function(){var j=E(c);return j||{}},U=function(){D(z.current,c),Q.current=z.current.onDidChangeModelContent(function(j){Y.current||I(z.current.getValue(),j)})},L=function(){w(z.current,c)},B=function(){var j=r!==null?r:m;if(K.current){var G=x(x({},_),q());z.current=c.editor.create(K.current,x(x(x({value:j,language:C},M?{extraEditorClassName:M}:{}),G),u?{theme:u}:{}),b),U()}};return(0,F.useEffect)(B,[]),(0,F.useEffect)(function(){if(z.current){if(r===z.current.getValue())return;var j=z.current.getModel();Y.current=!0,z.current.pushUndoStop(),j.pushEditOperations([],[{range:j.getFullModelRange(),text:r}],void 0),z.current.pushUndoStop(),Y.current=!1}},[r]),(0,F.useEffect)(function(){if(z.current){var j=z.current.getModel();c.editor.setModelLanguage(j,C)}},[C]),(0,F.useEffect)(function(){if(z.current){var j=_.model,G=O(_,["model"]);z.current.updateOptions(x(x({},M?{extraEditorClassName:M}:{}),G))}},[M,_]),(0,F.useEffect)(function(){z.current&&z.current.layout()},[f,s]),(0,F.useEffect)(function(){c.editor.setTheme(u)},[u]),(0,F.useEffect)(function(){return function(){if(z.current){L(),z.current.dispose();var j=z.current.getModel();j&&j.dispose()}Q.current&&Q.current.dispose()}},[]),F.createElement("div",{ref:K,style:X,className:"react-monaco-editor-container"})}p.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:A,editorDidMount:A,editorWillUnmount:A,onChange:A,className:null};var a=p}}]);
